(()=>{"use strict";var t,e={4855:(t,e,n)=>{t.exports=n.p+"b990773c273da73f4014.png"},6013:(t,e,n)=>{t.exports=n.p+"8f44230d3f35bb4fb8ba.png"},7922:(t,e,n)=>{t.exports=n.p+"2e044db88d6fcd9bae96.png"},2798:(t,e,n)=>{t.exports=n.p+"7889a193c4e3735a03ae.png"},2606:(t,e,n)=>{t.exports=n.p+"877d78469b1e3540553d.png"},3049:(t,e,n)=>{t.exports=n.p+"618568549cbb45c76e03.png"},5015:(t,e,n)=>{t.exports=n.p+"8d81a53a49b49ca8af3e.png"},3860:(t,e,n)=>{t.exports=n.p+"1b7c29ce23d0d646f2eb.png"},6627:(t,e,n)=>{t.exports=n.p+"d5bfc5f74b7a1c60f0ba.png"},8163:(t,e,n)=>{t.exports=n.p+"150748ca479ac03a530e.png"},595:(t,e,n)=>{t.exports=n.p+"93c47e74963cd5f1622d.png"},3012:t=>{t.exports="###n###\n#     #\n#     #\n# % m #\n#     #\n#  P  #\n#######"},8945:t=>{t.exports="#######\n### ###\n       \n# # # #\n# #   #\n# # # #\n# # ###\n#     #\n###n###\n#     #\n#     #\n#     #\n#  P  #\n#     #\n#     #\n#######"},6656:(t,e,n)=>{t.exports=n.p+"ec79279b19d6774e308d.wav"},9812:(t,e,n)=>{t.exports=n.p+"8a17c7f531bb669ef5af.wav"},3458:(t,e,n)=>{t.exports=n.p+"6e97d832f72662724b54.wav"},5436:(t,e,n)=>{t.exports=n.p+"d31775442b9d954f5569.wav"},833:(t,e,n)=>{t.exports=n.p+"f16726f62ee2d83fbc92.glb"},34:(t,e,n)=>{t.exports=n.p+"2a7e71e865e3bcb3cd0b.glb"},4316:(t,e,n)=>{t.exports=n.p+"5a338fce7a1f3c514f39.glb"},5965:(t,e,n)=>{t.exports=n.p+"bac1d5bb09ba958de0bd.glb"},111:(t,e,n)=>{t.exports=n.p+"de9941b2e1ad4b58053c.glb"},4770:(t,e,n)=>{t.exports=n.p+"44b259da6c726aed0514.glb"},8244:(t,e,n)=>{t.exports=n.p+"10af00bfb21df68f26c7.glb"},9216:(t,e,n)=>{t.exports=n.p+"4f1e141de41afb7af73a.glb"},7446:(t,e,n)=>{t.exports=n.p+"7576b2b9465999787b3f.glb"},5140:(t,e,n)=>{t.exports=n.p+"7a438c705b6280c743db.glb"},2475:(t,e,n)=>{t.exports=n.p+"488f6b1976fde6272404.glb"},2409:(t,e,n)=>{t.exports=n.p+"3a87d2b6d3515edde78b.glb"},4505:(t,e,n)=>{t.exports=n.p+"8acdf5702fcb35acd623.glb"},7928:(t,e,n)=>{t.exports=n.p+"bf2bcb05f89d9c777a9b.glb"},1177:(t,e,n)=>{t.exports=n.p+"92b770847f0c904691fa.jpg"},7131:(t,e,n)=>{t.exports=n.p+"e743fcc626badb9d4975.jpg"},1645:(t,e,n)=>{t.exports=n.p+"623a98a1f51ab36cd7a1.jpg"},5497:(t,e,n)=>{t.exports=n.p+"1014bf6e239b98dbf9e8.jpg"},3345:(t,e,n)=>{t.exports=n.p+"19ac2d232039c1dca3e2.jpg"},301:(t,e,n)=>{t.exports=n.p+"2852df1d8a81a4f04f55.jpg"},3575:(t,e,n)=>{t.exports=n.p+"f27b2925d3ad018051b2.wav"},5874:(t,e,n)=>{t.exports=n.p+"2542ae01024b300ac6b6.wav"},4416:(t,e,n)=>{t.exports=n.p+"f8359f147782f6227a80.wav"},9660:(t,e,n)=>{t.exports=n.p+"c7c448a45df60a70e395.wav"},2553:(t,e,n)=>{t.exports=n.p+"e6189838f50c83158d1f.wav"},5467:(t,e,n)=>{t.exports=n.p+"29dc1b85b5736a0e41a1.wav"},5499:(t,e,n)=>{t.exports=n.p+"281a0364b94c6c04eb39.wav"},8754:(t,e,n)=>{t.exports=n.p+"970974eef614d6596be3.wav"},4517:(t,e,n)=>{t.exports=n.p+"ce917a9d45860969fe6a.wav"},8652:(t,e,n)=>{t.exports=n.p+"dd6c44d077c37a911be3.wav"},8983:(t,e,n)=>{t.exports=n.p+"83096fecd44b5b000aa6.wav"},9545:(t,e,n)=>{t.exports=n.p+"cfc2ee70b2ae26911a5e.wav"},1304:(t,e,n)=>{t.exports=n.p+"612a2b1d88aa92153d6d.jpg"},9165:(t,e,n)=>{t.exports=n.p+"c04beafb9f3a9bd689bc.jpg"},8863:(t,e,n)=>{t.exports=n.p+"d66f714181e2bac9610e.jpg"},2374:(t,e,n)=>{t.exports=n.p+"a738c8143e3961740b6f.png"},1960:(t,e,n)=>{t.exports=n.p+"546f52320481d9beaa01.png"},7319:(t,e,n)=>{t.exports=n.p+"cc0d7f28e126866fd971.png"},5396:(t,e,n)=>{var i,r,o,a=n(6329),s=n(107),l=n.n(s),u=n(7531),h=n(7802),c=n(685),f=n(1019),y=n(3210),d=n(2070),v=n(8708),p=n(5943);function m(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return g(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}!function(t){t[t.Empty=0]="Empty",t[t.Wall=1]="Wall",t[t.Rock=2]="Rock",t[t.Energy=3]="Energy",t[t.RedDoor=4]="RedDoor",t[t.YellowDoor=5]="YellowDoor",t[t.GreenDoor=6]="GreenDoor",t[t.BlueDoor=7]="BlueDoor",t[t.RedKey=8]="RedKey",t[t.YellowKey=9]="YellowKey",t[t.GreenKey=10]="GreenKey",t[t.BlueKey=11]="BlueKey",t[t.Battery=12]="Battery",t[t.Lever=13]="Lever",t[t.ToggleDoor=14]="ToggleDoor",t[t.InverseToggleDoor=15]="InverseToggleDoor",t[t.ADoor=16]="ADoor",t[t.BDoor=17]="BDoor",t[t.CDoor=18]="CDoor",t[t.ABox=19]="ABox",t[t.BBox=20]="BBox",t[t.CBox=21]="CBox",t[t.Drone=22]="Drone",t[t.BigDoor=23]="BigDoor",t[t.Portal=24]="Portal",t[t.Map=25]="Map",t[t.Gun=26]="Gun"}(o||(o={}));var k=[o.RedDoor,o.YellowDoor,o.GreenDoor,o.BlueDoor,o.ToggleDoor,o.ADoor,o.BDoor,o.CDoor],Z=(i={},(0,p.Z)(i,o.RedDoor,{oneTimeItem:o.RedKey}),(0,p.Z)(i,o.YellowDoor,{oneTimeItem:o.YellowKey}),(0,p.Z)(i,o.GreenDoor,{oneTimeItem:o.GreenKey}),(0,p.Z)(i,o.BlueDoor,{oneTimeItem:o.BlueKey}),(0,p.Z)(i,o.ToggleDoor,{reuseItem:o.Lever}),(0,p.Z)(i,o.ADoor,{oneTimeItem:o.Battery,reuseItem:o.ABox}),(0,p.Z)(i,o.BDoor,{oneTimeItem:o.Battery,reuseItem:o.BBox}),(0,p.Z)(i,o.CDoor,{oneTimeItem:o.Battery,reuseItem:o.CBox}),i),b=(r={},(0,p.Z)(r," ",o.Empty),(0,p.Z)(r,"#",o.Wall),(0,p.Z)(r,"@",o.Rock),(0,p.Z)(r,"*",o.Energy),(0,p.Z)(r,"R",o.RedDoor),(0,p.Z)(r,"Y",o.YellowDoor),(0,p.Z)(r,"G",o.GreenDoor),(0,p.Z)(r,"L",o.BlueDoor),(0,p.Z)(r,"r",o.RedKey),(0,p.Z)(r,"y",o.YellowKey),(0,p.Z)(r,"g",o.GreenKey),(0,p.Z)(r,"l",o.BlueKey),(0,p.Z)(r,":",o.Battery),(0,p.Z)(r,"/",o.Lever),(0,p.Z)(r,"t",o.ToggleDoor),(0,p.Z)(r,"T",o.InverseToggleDoor),(0,p.Z)(r,"A",o.ADoor),(0,p.Z)(r,"B",o.BDoor),(0,p.Z)(r,"C",o.CDoor),(0,p.Z)(r,"a",o.ABox),(0,p.Z)(r,"b",o.BBox),(0,p.Z)(r,"c",o.CBox),(0,p.Z)(r,"d",o.Drone),(0,p.Z)(r,"n",o.BigDoor),(0,p.Z)(r,"P",o.Portal),(0,p.Z)(r,"m",o.Map),(0,p.Z)(r,"%",o.Gun),r);function w(t){var e,n=t.split(/\r?\n/),i=0,r=m(n);try{for(r.s();!(e=r.n()).done;){var a=e.value;i=Math.max(i,a.length)}}catch(t){r.e(t)}finally{r.f()}var s,l=[],u=m(n);try{for(u.s();!(s=u.n()).done;){var h,c=s.value,f=[],y=m(c);try{for(y.s();!(h=y.n()).done;){var d=h.value,v=b[d];void 0===v?f.push(o.Empty):f.push(v)}}catch(t){y.e(t)}finally{y.f()}for(;f.length<i;)f.push(o.Empty);l.push(f)}}catch(t){u.e(t)}finally{u.f()}return l}var A=n(6709),S=function(){function t(e){(0,h.Z)(this,t),(0,p.Z)(this,"maze",void 0),this.maze=e}return(0,c.Z)(t,[{key:"mazeWidth",get:function(){return this.maze[0].length}},{key:"mazeHeight",get:function(){return this.maze.length}},{key:"tileLocationToPosition",value:function(t,e){var n=5*t-5*Math.floor(this.mazeHeight/2),i=5*Math.floor(this.mazeWidth/2)-5*e;return new A.Pa4(n,0,i)}},{key:"positionToTileLocation",value:function(t){return[Math.round(t.x/5)+Math.floor(this.mazeHeight/2),Math.floor(this.mazeWidth/2)-Math.round(t.z/5)]}}]),t}(),D=n(5567);function x(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return T(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function T(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var M=new A.nls({color:16777215}),C=new A.Uk6(new A.cJO(1,2)),B=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),R=new A.a$l([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3),E=(new A.u9r).setIndex(new A.TlE(B,1)).setAttribute("position",R),j=function(){function t(e){(0,h.Z)(this,t),(0,p.Z)(this,"box",void 0),(0,p.Z)(this,"_showMask",!1),(0,p.Z)(this,"helper",null),this.box=new A.ZzF,e instanceof A.ZzF?this.box.copy(e):e instanceof A.Tme&&this.update(e)}return(0,c.Z)(t,[{key:"showMask",get:function(){return this._showMask},set:function(t){this._showMask=t,!1===t&&null!==this.helper&&(this.helper.parent.remove(this.helper),this.helper=null)}},{key:"isCollidingWith",value:function(t){return t.intersectsBox(this.box)}},{key:"intersectsBox",value:function(t){return this.box.intersectsBox(t)}},{key:"intersectsSphere",value:function(t){return this.box.intersectsSphere(t)}},{key:"intersectRay",value:function(t){return t.intersectBox(this.box,new A.Pa4)}},{key:"containsPoint",value:function(t){return this.box.containsPoint(t)}},{key:"update",value:function(t){this.box.setFromObject(t)}},{key:"_drawMask",value:function(t){this.showMask?(null===this.helper&&(this.helper=new A.ejS(E,M),t.add(this.helper)),this.box.getCenter(this.helper.position),this.box.getSize(this.helper.scale),this.helper.scale.multiplyScalar(.5)):null!==this.helper&&(t.remove(this.helper),this.helper=null)}}]),t}(),P=function(){function t(e){(0,h.Z)(this,t),(0,p.Z)(this,"sphere",void 0),(0,p.Z)(this,"_showMask",!1),(0,p.Z)(this,"helper",null),this.sphere=new A.aLr,e instanceof A.aLr?this.sphere.copy(e):e instanceof A.Tme&&this.update(e)}return(0,c.Z)(t,[{key:"showMask",get:function(){return this._showMask},set:function(t){this._showMask=t,!1===t&&null!==this.helper&&(this.helper.parent.remove(this.helper),this.helper=null)}},{key:"isCollidingWith",value:function(t){return t.intersectsSphere(this.sphere)}},{key:"intersectsBox",value:function(t){return this.sphere.intersectsBox(t)}},{key:"intersectsSphere",value:function(t){return this.sphere.intersectsSphere(t)}},{key:"intersectRay",value:function(t){return t.intersectSphere(this.sphere,new A.Pa4)}},{key:"containsPoint",value:function(t){return this.sphere.containsPoint(t)}},{key:"update",value:function(t){var e=(new A.ZzF).setFromObject(t).getBoundingSphere(new A.aLr);this.sphere.set(e.center,e.radius)}},{key:"expandByObject",value:function(t){t.updateWorldMatrix(!1,!1);var e=t.geometry;if(void 0!==e){null===e.boundingSphere&&e.computeBoundingSphere();var n=e.boundingSphere.clone();n.applyMatrix4(t.matrixWorld),this.sphere.union(n)}var i,r=x(t.children);try{for(r.s();!(i=r.n()).done;){var o=i.value;this.expandByObject(o)}}catch(t){r.e(t)}finally{r.f()}}},{key:"_drawMask",value:function(t){this.showMask?(null===this.helper&&(this.helper=new A.ejS(C,M),t.add(this.helper)),this.helper.position.copy(this.sphere.center),this.helper.scale.set(this.sphere.radius,this.sphere.radius,this.sphere.radius)):null!==this.helper&&(t.remove(this.helper),this.helper=null)}}]),t}(),I=function(){function t(){(0,h.Z)(this,t),(0,p.Z)(this,"masks",void 0),(0,p.Z)(this,"_showMask",!1);for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];this.masks=(0,D.Z)(n.flat(1))}return(0,c.Z)(t,[{key:"showMask",get:function(){return this._showMask},set:function(t){this._showMask=t;var e,n=x(this.masks);try{for(n.s();!(e=n.n()).done;)e.value.showMask=t}catch(t){n.e(t)}finally{n.f()}}},{key:"addMask",value:function(){for(var t,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];(t=this.masks).push.apply(t,(0,D.Z)(n.flat(1)))}},{key:"isCollidingWith",value:function(t){return this.masks.some((function(e){return e.isCollidingWith(t)}))}},{key:"intersectsBox",value:function(t){return this.masks.some((function(e){return e.intersectsBox(t)}))}},{key:"intersectsSphere",value:function(t){return this.masks.some((function(e){return e.intersectsSphere(t)}))}},{key:"intersectRay",value:function(t){var e,n=null,i=x(this.masks);try{for(i.s();!(e=i.n()).done;){var r=e.value.intersectRay(t);null!==r&&(null===n||r.distanceTo(t.origin)<n.distanceTo(t.origin))&&(n=r)}}catch(t){i.e(t)}finally{i.f()}return n}},{key:"containsPoint",value:function(t){return this.masks.some((function(e){return e.containsPoint(t)}))}},{key:"update",value:function(t){var e,n=x(this.masks);try{for(n.s();!(e=n.n()).done;)e.value.update(t)}catch(t){n.e(t)}finally{n.f()}}},{key:"_drawMask",value:function(t){if(this.showMask){var e,n=x(this.masks);try{for(n.s();!(e=n.n()).done;)e.value._drawMask(t)}catch(t){n.e(t)}finally{n.f()}}}}]),t}(),L=function(){function t(){(0,h.Z)(this,t),(0,p.Z)(this,"showMask",void 0)}return(0,c.Z)(t,[{key:"isCollidingWith",value:function(t){return!1}},{key:"intersectsBox",value:function(t){return!1}},{key:"intersectsSphere",value:function(t){return!1}},{key:"intersectRay",value:function(t){return null}},{key:"containsPoint",value:function(t){return!1}},{key:"update",value:function(t){}},{key:"_drawMask",value:function(t){}}]),t}(),F=new A.DvJ(1,1,1),O=new A.Wid,W=new A.ZzF(new A.Pa4(-.5,-.5,-.5),new A.Pa4(.5,.5,.5)),G=function(){function t(e,n){(0,h.Z)(this,t),(0,p.Z)(this,"tags",["wall"]),(0,p.Z)(this,"entity",void 0),(0,p.Z)(this,"walls",void 0),(0,p.Z)(this,"mask",void 0),(0,p.Z)(this,"currentWall",0),this.mask=new I,O.map=t.buildWallTexture("BrickColor",n),O.normalMap=t.buildWallTexture("BrickNormal",n),O.aoMap=t.buildWallTexture("BrickOcclusion",n),O.side=A.Wl3,this.walls=new A.SPe(F,O,e),this.walls.castShadow=!0,this.walls.receiveShadow=!1}return(0,c.Z)(t,[{key:"addWall",value:function(t,e,n){if(!(this.currentWall>=this.walls.count)){var i=n.tileLocationToPosition(t,e),r=new A.yGw;r.makeTranslation(i.x,9,i.z),r.scale(new A.Pa4(5,20,5)),this.walls.setMatrixAt(this.currentWall,r);var o=W.clone();o.applyMatrix4(r),this.mask.addMask(new j(o)),this.currentWall+=1}}},{key:"onCreate",value:function(t){this.entity=t,this.walls.instanceMatrix.needsUpdate=!0,this.entity.object=this.walls,this.entity.mask=this.mask}},{key:"onDestroy",value:function(){}},{key:"onStep",value:function(){}},{key:"onTimer",value:function(t){}},{key:"onDraw",value:function(t){}}],[{key:"buildWallTexture",value:function(t,e){var n=e.game.assets.getTexture(t);return n.wrapS=A.rpg,n.wrapT=A.rpg,n.repeat.set(1,4),n}}]),t}(),N=Math.PI/4,H=Math.PI/64,z=function(){function t(){(0,h.Z)(this,t),(0,p.Z)(this,"tags",["light"]),(0,p.Z)(this,"entity",void 0),(0,p.Z)(this,"light",void 0),(0,p.Z)(this,"lightAngle",5*Math.PI/12),(0,p.Z)(this,"reverse",!1),(0,p.Z)(this,"lightDistance",void 0)}return(0,c.Z)(t,[{key:"onCreate",value:function(t){this.entity=t,this.light=new A.Ox3(16777215,1),this.calculateLight(),this.entity.object=this.light}},{key:"onDestroy",value:function(){}},{key:"calculateLight",value:function(){var t=this.entity.area.state,e=5*t.mazeWidth,n=5*t.mazeHeight;this.light.castShadow=!0,this.light.shadow.camera.top=n/2,this.light.shadow.camera.bottom=-n/2,this.light.shadow.camera.left=-e/2,this.light.shadow.camera.right=e/2,this.lightDistance=e/Math.cos(Math.PI/4),this.updateLightAngle(),this.entity.setTimer(0,1e3,!0)}},{key:"onTimer",value:function(t){0===t&&(this.lightAngle+=this.reverse?-H:H,this.updateLightAngle(),this.lightAngle<N?this.reverse=!1:this.lightAngle>Math.PI-N&&(this.reverse=!0))}},{key:"updateLightAngle",value:function(){this.light.position.x=0,this.light.position.y=this.lightDistance*Math.sin(this.lightAngle),this.light.position.z=-this.lightDistance*Math.cos(this.lightAngle)}},{key:"onStep",value:function(){}},{key:"onDraw",value:function(t){}}]),t}(),K=new A._12,_=new A.Wid,Y=function(){function t(e,n){(0,h.Z)(this,t),(0,p.Z)(this,"tags",["wall"]),(0,p.Z)(this,"width",void 0),(0,p.Z)(this,"height",void 0),(0,p.Z)(this,"entity",void 0),this.width=e,this.height=n}return(0,c.Z)(t,[{key:"onCreate",value:function(t){this.entity=t,_.map=this.buildTexture("GrassColor"),_.normalMap=this.buildTexture("GrassNormal"),_.aoMap=this.buildTexture("GrassOcclusion"),this.entity.object=new A.Kj0(K,_),this.entity.object.rotation.x=3*Math.PI/2,this.entity.object.scale.set(5*this.height+2,5*this.width+2,1),this.entity.object.castShadow=!0,this.entity.object.receiveShadow=!0}},{key:"buildTexture",value:function(t){var e=this.entity.area.game.assets.getTexture(t);return e.wrapS=A.rpg,e.wrapT=A.rpg,e.repeat.set(5*this.width/2,5*this.height/2),e.offset.set(.5,.5),e.rotation=Math.PI/6,e}},{key:"onDestroy",value:function(){}},{key:"onStep",value:function(){}},{key:"onTimer",value:function(t){}},{key:"onDraw",value:function(t){}}]),t}();function U(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return X(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?X(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function X(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var V=function(){function t(e,n,i){(0,h.Z)(this,t),(0,p.Z)(this,"entity",void 0),(0,p.Z)(this,"row",void 0),(0,p.Z)(this,"column",void 0),(0,p.Z)(this,"_open",!1),(0,p.Z)(this,"doorObject",void 0),(0,p.Z)(this,"leftDoor",void 0),(0,p.Z)(this,"leftDoorMask",void 0),(0,p.Z)(this,"rightDoor",void 0),(0,p.Z)(this,"rightDoorMask",void 0),(0,p.Z)(this,"mixer",void 0),(0,p.Z)(this,"leftDoorAction",void 0),(0,p.Z)(this,"rightDoorAction",void 0),(0,p.Z)(this,"keyHoleAction",void 0),this.row=e,this.column=n,this.doorObject=i}return(0,c.Z)(t,[{key:"open",get:function(){return this._open}},{key:"onCreate",value:function(e){this.entity=e;var n=e.area.game.assets.getObject(this.doorObject).clone();n.scale.y=2.5,n.scale.z=2.5,n.position.copy(e.area.state.tileLocationToPosition(this.row,this.column)),this.row%2!=0&&(n.rotation.y=Math.PI/2);var i,r=U(n.children);try{for(r.s();!(i=r.n()).done;)i.value.castShadow=!0}catch(t){r.e(t)}finally{r.f()}var o,a=U(n.children[0].children);try{for(a.s();!(o=a.n()).done;)o.value.castShadow=!0}catch(t){a.e(t)}finally{a.f()}this.entity.object=n,this.leftDoor=this.entity.object.children[2],this.leftDoorMask=new j(this.leftDoor),this.rightDoor=this.entity.object.children[1],this.rightDoorMask=new j(this.rightDoor),this.entity.mask=new I(this.leftDoorMask,this.rightDoorMask),this.mixer=new A.Xcj(n),this.leftDoorAction=this.mixer.clipAction(e.area.game.assets.getAnimation("LeftDoorAction")),this.rightDoorAction=this.mixer.clipAction(e.area.game.assets.getAnimation("RightDoorAction")),this.keyHoleAction=this.mixer.clipAction(e.area.game.assets.getAnimation("KeyHoleAction")),t.configureAnimation(this.leftDoorAction),t.configureAnimation(this.rightDoorAction),t.configureAnimation(this.keyHoleAction),this.onCreateDoor()}},{key:"onStep",value:function(){this.mixer.update(.01),!this._open&&this.isAnimationPlaying()?(this.leftDoorMask.update(this.entity.object),this.rightDoorMask.update(this.entity.object)):(this.leftDoorMask.update(this.leftDoor),this.rightDoorMask.update(this.rightDoor)),this.onStepDoor()}},{key:"openDoor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this._open=!0,t.playAction(this.leftDoorAction,e),t.playAction(this.rightDoorAction,e),t.playAction(this.keyHoleAction,e)}},{key:"closeDoor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this._open=!1,t.playActionInverse(this.leftDoorAction,e),t.playActionInverse(this.rightDoorAction,e),t.playActionInverse(this.keyHoleAction,e)}},{key:"isAnimationPlaying",value:function(){return this.leftDoorAction.isRunning()||this.rightDoorAction.isRunning()||this.keyHoleAction.isRunning()}}],[{key:"configureAnimation",value:function(t){t.loop=A.jAl,t.clampWhenFinished=!0}},{key:"playAction",value:function(t,e){t.timeScale=Math.abs(e),t.paused=!1,t.play()}},{key:"playActionInverse",value:function(t,e){t.timeScale=-Math.abs(e),t.paused=!1,t.play()}}]),t}();var $,q,Q,J,tt,et,nt=function(t){(0,y.Z)(r,t);var e,n,i=(e=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=(0,v.Z)(e);if(n){var r=(0,v.Z)(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return(0,d.Z)(this,t)});function r(t,e){var n;return(0,h.Z)(this,r),n=i.call(this,t,e,"Door"),(0,p.Z)((0,f.Z)(n),"tags",["wall"]),(0,p.Z)((0,f.Z)(n),"showMessage",!1),n}return(0,c.Z)(r,[{key:"onCreateDoor",value:function(){this.entity.object.scale.y=20/3,this.entity.object.scale.x=10,this.entity.object.children[0].visible=!1,this.openDoor(1/6)}},{key:"onDestroy",value:function(){}},{key:"onStepDoor",value:function(){}},{key:"onTimer",value:function(t){}},{key:"onDraw",value:function(t){}}]),r}(V);function it(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}!function(t){t[t.Up=0]="Up",t[t.Down=1]="Down",t[t.Left=2]="Left",t[t.Right=3]="Right",t[t.Control=4]="Control",t[t.Alt=5]="Alt",t[t.Delete=6]="Delete",t[t.Backspace=7]="Backspace",t[t.CapsLock=8]="CapsLock",t[t.Enter=9]="Enter",t[t.Escape=10]="Escape",t[t.End=11]="End",t[t.Shift=12]="Shift",t[t.PageUp=13]="PageUp",t[t.PageDown=14]="PageDown",t[t.Pause=15]="Pause",t[t.Cancel=16]="Cancel",t[t.ScrollLock=17]="ScrollLock",t[t.A=18]="A",t[t.B=19]="B",t[t.C=20]="C",t[t.D=21]="D",t[t.E=22]="E",t[t.F=23]="F",t[t.G=24]="G",t[t.H=25]="H",t[t.I=26]="I",t[t.J=27]="J",t[t.K=28]="K",t[t.L=29]="L",t[t.M=30]="M",t[t.N=31]="N",t[t.O=32]="O",t[t.P=33]="P",t[t.Q=34]="Q",t[t.R=35]="R",t[t.S=36]="S",t[t.T=37]="T",t[t.U=38]="U",t[t.V=39]="V",t[t.W=40]="W",t[t.X=41]="X",t[t.Y=42]="Y",t[t.Z=43]="Z",t[t.F1=44]="F1",t[t.F2=45]="F2",t[t.F3=46]="F3",t[t.F4=47]="F4",t[t.F5=48]="F5",t[t.F6=49]="F6",t[t.F7=50]="F7",t[t.F8=51]="F8",t[t.F9=52]="F9",t[t.F10=53]="F10",t[t.F11=54]="F11",t[t.F12=55]="F12",t[t.Num1=56]="Num1",t[t.Num2=57]="Num2",t[t.Num3=58]="Num3",t[t.Num4=59]="Num4",t[t.Num5=60]="Num5",t[t.Num6=61]="Num6",t[t.Num7=62]="Num7",t[t.Num8=63]="Num8",t[t.Num9=64]="Num9",t[t.Num0=65]="Num0",t[t.Amperstand=66]="Amperstand",t[t.Asterisk=67]="Asterisk",t[t.At=68]="At",t[t.BackSlash=69]="BackSlash",t[t.BraceLeft=70]="BraceLeft",t[t.BraceRight=71]="BraceRight",t[t.Caret=72]="Caret",t[t.CloseBracket=73]="CloseBracket",t[t.Colon=74]="Colon",t[t.Comma=75]="Comma",t[t.Dollar=76]="Dollar",t[t.EqualSign=77]="EqualSign",t[t.ExclamationPoint=78]="ExclamationPoint",t[t.GreaterThan=79]="GreaterThan",t[t.LeftParen=80]="LeftParen",t[t.LessThan=81]="LessThan",t[t.Minus=82]="Minus",t[t.Hashtag=83]="Hashtag",t[t.OpenBracket=84]="OpenBracket",t[t.Period=85]="Period",t[t.QuestionMark=86]="QuestionMark",t[t.SingleQuote=87]="SingleQuote",t[t.DoubleQuote=88]="DoubleQuote",t[t.RightParen=89]="RightParen",t[t.Semicolon=90]="Semicolon",t[t.ForwardSlash=91]="ForwardSlash",t[t.Underscore=92]="Underscore",t[t.Space=93]="Space",t[t.Tick=94]="Tick",t[t.Tilda=95]="Tilda"}(Q||(Q={})),function(t){t[t.Up=12]="Up",t[t.Down=13]="Down",t[t.Left=14]="Left",t[t.Right=15]="Right",t[t.ACross=0]="ACross",t[t.BCircle=1]="BCircle",t[t.XSquare=2]="XSquare",t[t.YTriangle=3]="YTriangle",t[t.Select=8]="Select",t[t.Start=9]="Start",t[t.Center=16]="Center",t[t.LeftBumper=4]="LeftBumper",t[t.RightBumper=5]="RightBumper",t[t.LeftStickCenter=10]="LeftStickCenter",t[t.RightStickCenter=11]="RightStickCenter"}(J||(J={})),function(t){t[t.LeftStickX=0]="LeftStickX",t[t.LeftStickY=1]="LeftStickY",t[t.RightStickX=2]="RightStickX",t[t.RightStickY=3]="RightStickY",t[t.LeftTrigger=4]="LeftTrigger",t[t.RightTrigger=5]="RightTrigger"}(tt||(tt={})),function(t){t[t.Left=0]="Left",t[t.Middle=1]="Middle",t[t.Right=2]="Right"}(et||(et={}));var rt=($={},(0,p.Z)($,"ArrowUp",Q.Up),(0,p.Z)($,"ArrowDown",Q.Down),(0,p.Z)($,"ArrowLeft",Q.Left),(0,p.Z)($,"ArrowRight",Q.Right),(0,p.Z)($,"Control",Q.Control),(0,p.Z)($,"Alt",Q.Alt),(0,p.Z)($,"Delete",Q.Delete),(0,p.Z)($,"Backspace",Q.Backspace),(0,p.Z)($,"CapsLock",Q.CapsLock),(0,p.Z)($,"Enter",Q.Enter),(0,p.Z)($,"Escape",Q.Escape),(0,p.Z)($,"End",Q.End),(0,p.Z)($,"Shift",Q.Shift),(0,p.Z)($,"PageUp",Q.PageUp),(0,p.Z)($,"PageDown",Q.PageDown),(0,p.Z)($,"Pause",Q.Pause),(0,p.Z)($,"Cancel",Q.Cancel),(0,p.Z)($,"ScrollLock",Q.ScrollLock),(0,p.Z)($,"a",Q.A),(0,p.Z)($,"b",Q.B),(0,p.Z)($,"c",Q.C),(0,p.Z)($,"d",Q.D),(0,p.Z)($,"e",Q.E),(0,p.Z)($,"f",Q.F),(0,p.Z)($,"g",Q.G),(0,p.Z)($,"h",Q.H),(0,p.Z)($,"i",Q.I),(0,p.Z)($,"j",Q.J),(0,p.Z)($,"k",Q.K),(0,p.Z)($,"l",Q.L),(0,p.Z)($,"m",Q.M),(0,p.Z)($,"n",Q.N),(0,p.Z)($,"o",Q.O),(0,p.Z)($,"p",Q.P),(0,p.Z)($,"q",Q.Q),(0,p.Z)($,"r",Q.R),(0,p.Z)($,"s",Q.S),(0,p.Z)($,"t",Q.T),(0,p.Z)($,"u",Q.U),(0,p.Z)($,"v",Q.V),(0,p.Z)($,"w",Q.W),(0,p.Z)($,"x",Q.X),(0,p.Z)($,"y",Q.Y),(0,p.Z)($,"z",Q.Z),(0,p.Z)($,"A",Q.A),(0,p.Z)($,"B",Q.B),(0,p.Z)($,"C",Q.C),(0,p.Z)($,"D",Q.D),(0,p.Z)($,"E",Q.E),(0,p.Z)($,"F",Q.F),(0,p.Z)($,"G",Q.G),(0,p.Z)($,"H",Q.H),(0,p.Z)($,"I",Q.I),(0,p.Z)($,"J",Q.J),(0,p.Z)($,"K",Q.K),(0,p.Z)($,"L",Q.L),(0,p.Z)($,"M",Q.M),(0,p.Z)($,"N",Q.N),(0,p.Z)($,"O",Q.O),(0,p.Z)($,"P",Q.P),(0,p.Z)($,"Q",Q.Q),(0,p.Z)($,"R",Q.R),(0,p.Z)($,"S",Q.S),(0,p.Z)($,"T",Q.T),(0,p.Z)($,"U",Q.U),(0,p.Z)($,"V",Q.V),(0,p.Z)($,"W",Q.W),(0,p.Z)($,"X",Q.X),(0,p.Z)($,"Y",Q.Y),(0,p.Z)($,"Z",Q.Z),(0,p.Z)($,"F1",Q.F1),(0,p.Z)($,"F2",Q.F2),(0,p.Z)($,"F3",Q.F3),(0,p.Z)($,"F4",Q.F4),(0,p.Z)($,"F5",Q.F5),(0,p.Z)($,"F6",Q.F6),(0,p.Z)($,"F7",Q.F7),(0,p.Z)($,"F8",Q.F8),(0,p.Z)($,"F9",Q.F9),(0,p.Z)($,"F10",Q.F10),(0,p.Z)($,"F11",Q.F11),(0,p.Z)($,"F12",Q.F12),(0,p.Z)($,"1",Q.Num1),(0,p.Z)($,"2",Q.Num2),(0,p.Z)($,"3",Q.Num3),(0,p.Z)($,"4",Q.Num4),(0,p.Z)($,"5",Q.Num5),(0,p.Z)($,"6",Q.Num6),(0,p.Z)($,"7",Q.Num7),(0,p.Z)($,"8",Q.Num8),(0,p.Z)($,"9",Q.Num9),(0,p.Z)($,"0",Q.Num0),(0,p.Z)($,"&",Q.Amperstand),(0,p.Z)($,"*",Q.Asterisk),(0,p.Z)($,"@",Q.At),(0,p.Z)($,"\\",Q.BackSlash),(0,p.Z)($,"{",Q.BraceLeft),(0,p.Z)($,"}",Q.BraceRight),(0,p.Z)($,"^",Q.Caret),(0,p.Z)($,"]",Q.CloseBracket),(0,p.Z)($,":",Q.Colon),(0,p.Z)($,",",Q.Comma),(0,p.Z)($,"$",Q.Dollar),(0,p.Z)($,"=",Q.EqualSign),(0,p.Z)($,"!",Q.ExclamationPoint),(0,p.Z)($,">",Q.GreaterThan),(0,p.Z)($,"(",Q.LeftParen),(0,p.Z)($,"<",Q.LessThan),(0,p.Z)($,"-",Q.Minus),(0,p.Z)($,"#",Q.Hashtag),(0,p.Z)($,"[",Q.OpenBracket),(0,p.Z)($,".",Q.Period),(0,p.Z)($,"?",Q.QuestionMark),(0,p.Z)($,"'",Q.SingleQuote),(0,p.Z)($,'"',Q.DoubleQuote),(0,p.Z)($,")",Q.RightParen),(0,p.Z)($,";",Q.Semicolon),(0,p.Z)($,"/",Q.ForwardSlash),(0,p.Z)($,"_",Q.Underscore),(0,p.Z)($," ",Q.Space),(0,p.Z)($,"`",Q.Tick),(0,p.Z)($,"~",Q.Tilda),$),ot=(q={},(0,p.Z)(q,0,et.Left),(0,p.Z)(q,1,et.Middle),(0,p.Z)(q,2,et.Right),q),at=function(){function t(){(0,h.Z)(this,t),(0,p.Z)(this,"buttonsStart",void 0),(0,p.Z)(this,"buttonsDown",void 0),(0,p.Z)(this,"buttonsReleased",void 0),(0,p.Z)(this,"axes",void 0)}return(0,c.Z)(t,null,[{key:"fromGamepad",value:function(t){return{buttonsStart:new Set,buttonsDown:new Set,buttonsReleased:new Set,axes:[].concat((0,D.Z)(t.axes),[t.buttons[6].value,t.buttons[7].value])}}}]),t}(),st=function(){function t(e){(0,h.Z)(this,t),(0,p.Z)(this,"canvas",void 0),(0,p.Z)(this,"keysStart",new Set),(0,p.Z)(this,"keysDown",new Set),(0,p.Z)(this,"keysReleased",new Set),(0,p.Z)(this,"gamepadState",{}),(0,p.Z)(this,"mouseCoords",[0,0]),(0,p.Z)(this,"mouseMovement",[0,0]),(0,p.Z)(this,"mouseStart",new Set),(0,p.Z)(this,"mouseDown",new Set),(0,p.Z)(this,"mouseReleased",new Set),(0,p.Z)(this,"_pointerLockEnabled",!1),this.canvas=e,e.addEventListener("keydown",this.onKeyDown.bind(this)),e.addEventListener("keyup",this.onKeyRelease.bind(this)),window.addEventListener("gamepadconnected",this.onGamepadConnected.bind(this)),window.addEventListener("gamepaddisconnected",this.onGamepadDisconnected.bind(this)),e.addEventListener("mousemove",this.onMouseMove.bind(this)),e.addEventListener("mousedown",this.onMouseDown.bind(this)),e.addEventListener("mouseup",this.onMouseUp.bind(this)),e.addEventListener("click",this.onPointerLockClick.bind(this)),document.addEventListener("pointerlockchange",this.onPointerLockChange.bind(this)),document.addEventListener("pointerlockerror",this.onPointerLockError.bind(this))}return(0,c.Z)(t,[{key:"onKeyDown",value:function(t){var e=rt[t.key];void 0!==e&&(this.keysDown.add(e),t.repeat||this.keysStart.add(e))}},{key:"onKeyRelease",value:function(t){var e=rt[t.key];void 0!==e&&(this.keysDown.delete(e),this.keysReleased.add(e))}},{key:"_clearKeyTick",value:function(){this.keysStart.clear(),this.keysReleased.clear()}},{key:"isKeyStarted",value:function(t){return this.keysStart.has(t)}},{key:"isKeyDown",value:function(t){return this.keysDown.has(t)}},{key:"isKeyReleased",value:function(t){return this.keysReleased.has(t)}},{key:"onGamepadConnected",value:function(t){var e=t.gamepad;"standard"===e.mapping&&(this.gamepadState[e.index]=at.fromGamepad(e))}},{key:"onGamepadDisconnected",value:function(t){var e=t.gamepad;delete this.gamepadState[e.index]}},{key:"_updateGamepad",value:function(){if(void 0!==navigator.getGamepads){var t,e=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return it(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?it(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(navigator.getGamepads());try{for(e.s();!(t=e.n()).done;){var n=t.value;if(null!==n){var i=this.gamepadState[n.index]||at.fromGamepad(n),r=new Set,o=new Set,a=new Set;for(var s in J)if(!isNaN(Number(s))){var l=Number(s);n.buttons[l].pressed?(o.add(l),i.buttonsDown.has(l)||r.add(l)):i.buttonsDown.has(l)&&a.add(l)}var u=[].concat((0,D.Z)(n.axes),[n.buttons[6].value,n.buttons[7].value]);Object.assign(this.gamepadState[n.index],{buttonsStart:r,buttonsDown:o,buttonsReleased:a,axes:u})}}}catch(t){e.e(t)}finally{e.f()}}}},{key:"isGamepadButtonStarted",value:function(t,e){var n=this.gamepadState[t];return void 0!==n&&n.buttonsStart.has(e)}},{key:"isGamepadButtonDown",value:function(t,e){var n=this.gamepadState[t];return void 0!==n&&n.buttonsDown.has(e)}},{key:"isGamepadButtonReleased",value:function(t,e){var n=this.gamepadState[t];return void 0!==n&&n.buttonsReleased.has(e)}},{key:"getGamepadAxis",value:function(t,e){var n=this.gamepadState[t];return void 0===n?0:n.axes[e]}},{key:"pointerLockEnabled",get:function(){return this._pointerLockEnabled},set:function(t){this._pointerLockEnabled=t,t||document.exitPointerLock()}},{key:"onMouseMove",value:function(t){this.mouseCoords=[t.clientX*this.canvas.width/this.canvas.clientWidth,t.clientY*this.canvas.height/this.canvas.clientHeight],document.pointerLockElement===this.canvas?this.mouseMovement=[t.movementX,t.movementY]:this.mouseMovement=[0,0]}},{key:"onMouseDown",value:function(t){var e=ot[t.button];void 0!==e&&(this.mouseDown.add(e),this.mouseStart.add(e))}},{key:"onMouseUp",value:function(t){var e=ot[t.button];void 0!==e&&(this.mouseDown.delete(e),this.mouseReleased.delete(e))}},{key:"onPointerLockClick",value:function(){this._pointerLockEnabled&&this.canvas.requestPointerLock()}},{key:"onPointerLockChange",value:function(t){document.pointerLockElement!==this.canvas&&(this.mouseMovement=[0,0])}},{key:"onPointerLockError",value:function(t){}},{key:"_clearMouseTick",value:function(){this.mouseStart.clear(),this.mouseReleased.clear(),this.mouseMovement=[0,0]}},{key:"isMouseButtonStarted",value:function(t){return this.mouseStart.has(t)}},{key:"isMouseButtonDown",value:function(t){return this.mouseDown.has(t)}},{key:"isMouseButtonReleased",value:function(t){return this.mouseReleased.has(t)}},{key:"getMouseX",value:function(){return this.mouseCoords[0]}},{key:"getMouseY",value:function(){return this.mouseCoords[1]}},{key:"getMouseMovementX",value:function(){return this.mouseMovement[0]}},{key:"getMouseMovementY",value:function(){return this.mouseMovement[1]}}]),t}();function lt(t,e){return Math.floor(Math.random()*(e-t+1)+t)}function ut(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t}function ht(t){return t[ut(0,t.length-1)]}function ct(t,e,n){return Math.min(Math.max(t,e),n)}function ft(t,e,n){return t>=e&&t<=n}function yt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return ft(t,Math.round(t)-e,Math.round(t)+e)}function dt(t){return Math.atan2(Math.sin(t),Math.cos(t))}var vt=function(){function t(e){(0,h.Z)(this,t),(0,p.Z)(this,"x",0),(0,p.Z)(this,"y",0),(0,p.Z)(this,"width",10),(0,p.Z)(this,"height",10),(0,p.Z)(this,"text",void 0),(0,p.Z)(this,"font","12pt sans-serif"),(0,p.Z)(this,"textColor",new A.Ilk("white")),(0,p.Z)(this,"backgroundColor",new A.Ilk("black")),(0,p.Z)(this,"borderColor",new A.Ilk("white")),(0,p.Z)(this,"entity",void 0),(0,p.Z)(this,"hoveringOver",!1),this.text=e}return(0,c.Z)(t,[{key:"onCreate",value:function(t){this.entity=t,this.onCreateButton()}},{key:"onStep",value:function(){var t=this.entity.area.game.input;this.hoveringOver=ft(t.getMouseX(),this.x,this.x+this.width)&&ft(t.getMouseY(),this.y,this.y+this.height),this.hoveringOver&&t.isMouseButtonStarted(et.Left)&&this.onClick(),this.onStepButton()}},{key:"onDraw",value:function(t){t.globalAlpha=this.hoveringOver?1:.5,t.fillStyle="#".concat(this.backgroundColor.getHexString()),t.fillRect(this.x,this.y,this.width,this.height),t.font=this.font,t.textAlign="center",t.textBaseline="middle",t.fillStyle="#".concat(this.textColor.getHexString()),t.fillText(this.text,this.x+this.width/2,this.y+this.height/2),t.beginPath(),t.rect(this.x,this.y,this.width,this.height),t.lineWidth=1,t.strokeStyle="#".concat(this.borderColor.getHexString()),t.stroke(),t.globalAlpha=1}}]),t}();var pt=function(t){(0,y.Z)(r,t);var e,n,i=(e=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=(0,v.Z)(e);if(n){var r=(0,v.Z)(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return(0,d.Z)(this,t)});function r(){var t;return(0,h.Z)(this,r),t=i.call(this,"Start Game"),(0,p.Z)((0,f.Z)(t),"tags",["start-button"]),t}return(0,c.Z)(r,[{key:"onCreateButton",value:function(){this.x=this.entity.area.overlayWidth/2-100,this.y=this.entity.area.overlayHeight-70,this.width=200,this.height=30}},{key:"onDestroy",value:function(){}},{key:"onClick",value:function(){this.entity.area.state.startGame()}},{key:"onStepButton",value:function(){}},{key:"onTimer",value:function(t){}}]),r}(vt),mt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;(0,h.Z)(this,t),(0,p.Z)(this,"tags",[]),(0,p.Z)(this,"entity",void 0),(0,p.Z)(this,"ticks",void 0),(0,p.Z)(this,"fade",void 0),(0,p.Z)(this,"alpha",1),this.ticks=Math.abs(e),this.fade=Math.abs(n)}return(0,c.Z)(t,[{key:"onCreate",value:function(t){this.entity=t,this.entity.setTimer(1,this.ticks,!0)}},{key:"onDestroy",value:function(){}},{key:"onStep",value:function(){}},{key:"onTimer",value:function(t){1===t&&(this.onTick(this.alpha),this.fadeIn())}},{key:"onTick",value:function(t){}},{key:"fadeIn",value:function(){this.alpha=ct(this.alpha-this.fade,0,1),this.alpha<=0&&(this.entity.clearTimer(1),this.onFinish())}},{key:"onFinish",value:function(){}},{key:"onDraw",value:function(t){t.globalAlpha=this.alpha,t.fillStyle="black",t.fillRect(0,0,this.entity.area.overlayWidth,this.entity.area.overlayHeight),t.globalAlpha=1}}]),t}();var gt=function(t){(0,y.Z)(r,t);var e,n,i=(e=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=(0,v.Z)(e);if(n){var r=(0,v.Z)(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return(0,d.Z)(this,t)});function r(){var t;return(0,h.Z)(this,r),t=i.call(this,"Restart"),(0,p.Z)((0,f.Z)(t),"tags",["restart-button"]),t}return(0,c.Z)(r,[{key:"onCreateButton",value:function(){this.x=this.entity.area.overlayWidth/2-100,this.y=this.entity.area.overlayHeight-70,this.width=200,this.height=30}},{key:"onDestroy",value:function(){}},{key:"onClick",value:function(){this.entity.area.game.setArea(new gn)}},{key:"onStepButton",value:function(){var t=this.entity.area.game.input;(t.isKeyStarted(Q.Enter)||t.isKeyStarted(Q.Space)||t.isGamepadButtonStarted(0,J.ACross)||t.isGamepadButtonStarted(0,J.XSquare)||t.isGamepadButtonStarted(0,J.YTriangle)||t.isGamepadButtonStarted(0,J.Start)||t.getGamepadAxis(0,tt.RightTrigger)>.5)&&this.onClick()}},{key:"onTimer",value:function(t){}}]),r}(vt),kt=function(){function t(){(0,h.Z)(this,t),(0,p.Z)(this,"area",void 0)}return(0,c.Z)(t,[{key:"onCreate",value:function(t){this.area=t,this.area.createEntity(new gt),this.area.game.input.pointerLockEnabled=!1}},{key:"onTimer",value:function(t){}},{key:"onStep",value:function(){}},{key:"onDraw",value:function(t){t.font="48pt sans-serif",t.textAlign="center",t.textBaseline="top",t.fillStyle="red",t.fillText("Game Over",this.area.overlayWidth/2,40)}}]),t}(),Zt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;(0,h.Z)(this,t),(0,p.Z)(this,"tags",[]),(0,p.Z)(this,"entity",void 0),(0,p.Z)(this,"ticks",void 0),(0,p.Z)(this,"fade",void 0),(0,p.Z)(this,"alpha",0),this.ticks=Math.abs(e),this.fade=Math.abs(n)}return(0,c.Z)(t,[{key:"onCreate",value:function(t){this.entity=t,this.entity.setTimer(1,this.ticks,!0)}},{key:"onDestroy",value:function(){}},{key:"onStep",value:function(){}},{key:"onTimer",value:function(t){1===t&&(this.onTick(this.alpha),this.fadeOut())}},{key:"onTick",value:function(t){}},{key:"fadeOut",value:function(){this.alpha=ct(this.alpha+this.fade,0,1),this.alpha>=1&&(this.entity.clearTimer(1),this.onFinish())}},{key:"onFinish",value:function(){}},{key:"onDraw",value:function(t){t.globalAlpha=this.alpha,t.fillStyle="black",t.fillRect(0,0,this.entity.area.overlayWidth,this.entity.area.overlayHeight),t.globalAlpha=1}}]),t}();var bt=function(t){(0,y.Z)(r,t);var e,n,i=(e=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=(0,v.Z)(e);if(n){var r=(0,v.Z)(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return(0,d.Z)(this,t)});function r(){return(0,h.Z)(this,r),i.apply(this,arguments)}return(0,c.Z)(r,[{key:"onTick",value:function(t){this.entity.area.state.forestAmbience.volume=1-t}},{key:"onFinish",value:function(){this.entity.area.state.forestAmbience.stop(),this.entity.area.game.setArea(new kt)}}]),r}(Zt),wt=new A.Kj0(new A.fHI,new A.vBJ({color:16776960}));wt.scale.set(.1,2,.1);var At=function(){function t(e,n){(0,h.Z)(this,t),(0,p.Z)(this,"tags",["player-bullet"]),(0,p.Z)(this,"entity",void 0),(0,p.Z)(this,"position",void 0),(0,p.Z)(this,"rotation",void 0),this.position=e.getWorldPosition(new A.Pa4),this.rotation=n}return(0,c.Z)(t,[{key:"onCreate",value:function(t){this.entity=t;var e=wt.clone();e.position.copy(this.position),e.rotation.setFromVector3(this.rotation),e.updateMatrix(),e.rotateZ(Math.PI/2),e.translateY(-.8),this.entity.object=e,this.entity.mask=new P(this.entity.object),this.entity.setTimer(0,250)}},{key:"onDestroy",value:function(){}},{key:"onStep",value:function(){this.entity.object.translateY(-.8),this.entity.mask.update(this.entity.object),this.entity.mask.sphere.radius/=6,this.testForWallCollision()}},{key:"testForWallCollision",value:function(){this.isCollidingWithWalls()&&this.entity.destroy()}},{key:"isCollidingWithWalls",value:function(){var t=this;return this.entity.area.findEntities("wall").some((function(e){return t.entity.isCollidingWith(e)}))}},{key:"onTimer",value:function(t){this.entity.destroy()}},{key:"onDraw",value:function(t){}}]),t}();function St(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var Dt,xt,Tt=.1,Mt=Math.PI/2*.75,Ct=.5,Bt=new A.ZzF(new A.Pa4(-.5,0,-.5),new A.Pa4(.5,3,.5)),Rt=function(){function t(e,n){(0,h.Z)(this,t),(0,p.Z)(this,"tags",["player"]),(0,p.Z)(this,"entity",void 0),(0,p.Z)(this,"mask",void 0),(0,p.Z)(this,"camera",void 0),(0,p.Z)(this,"gun",void 0),(0,p.Z)(this,"gunCollected",!1),(0,p.Z)(this,"startRow",void 0),(0,p.Z)(this,"startCol",void 0),(0,p.Z)(this,"horDir",Math.PI/2),(0,p.Z)(this,"vertDir",0),(0,p.Z)(this,"rightTriggerPressed",!1),this.startRow=e,this.startCol=n}return(0,c.Z)(t,[{key:"getFacingAngle",value:function(){return function(t,e,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=n-e;return t===n&&i?t:((t-e)%r+r)%r+e}(this.horDir,0,2*Math.PI,!1)}},{key:"onCreate",value:function(t){this.entity=t,this.entity.area.game.input.pointerLockEnabled=!0,this.camera=new A.cPb(50,t.area.game.canvasWidth/t.area.game.canvasHeight,.001,1e3),this.entity.area.camera=this.camera,this.entity.object=this.camera;var e=t.area.game.assets.getObject("Gun").clone();e.scale.set(.1,.1,.1),e.position.set(.15,-.04,.05),e.rotation.y=Math.atan2(1/0,1.8),e.visible=!1,this.camera.add(e),this.gun=e;var n=this.entity.area.state.tileLocationToPosition(this.startRow,this.startCol);this.camera.position.copy(n),this.camera.position.y=2,this.mask=new j(Bt),this.entity.mask=this.mask,this.mask.box.translate(n)}},{key:"onDestroy",value:function(){}},{key:"onStep",value:function(){this.camera.aspect=this.entity.area.game.canvasWidth/this.entity.area.game.canvasHeight,this.camera.updateProjectionMatrix(),this.testForGunCollected(),this.handleInput(),this.testForDeath()}},{key:"testForGunCollected",value:function(){this.gunCollected||this.entity.area.game.resources.getResource("inventory").hasCollectedGun()&&(this.gunCollected=!0,this.gun.visible=!0)}},{key:"handleInput",value:function(){var t=this.entity.area.game.input,e=t.getMouseMovementX();Math.abs(e)>2&&(this.horDir+=.002*-e);var n=t.getMouseMovementY();Math.abs(n)>2&&(this.vertDir+=.002*-n,this.vertDir=ct(this.vertDir,-Mt,Mt));var i=t.getGamepadAxis(0,tt.LeftTrigger)>Ct,r=i?.01:.02;this.camera.fov=i?45:50;var o=t.getGamepadAxis(0,tt.RightStickX);Math.abs(o)>Ct&&(this.horDir+=1.5*-o*r);var a=t.getGamepadAxis(0,tt.RightStickY);Math.abs(a)>Ct&&(this.vertDir+=-a*r,this.vertDir=ct(this.vertDir,-Mt,Mt)),this.updateCameraRotation();var s=0,l=0;t.isKeyDown(Q.W)&&(s+=Tt),t.isKeyDown(Q.S)&&(s-=Tt),t.isKeyDown(Q.A)&&(l+=Tt),t.isKeyDown(Q.D)&&(l-=Tt);var u=t.getGamepadAxis(0,tt.LeftStickX),h=-t.getGamepadAxis(0,tt.LeftStickY);if(u<-.5||u>Ct||h<-.5||h>Ct){var c=Math.atan2(h,u);s=Tt*Math.sin(c),l=-.1*Math.cos(c)}this.updatePosition(s,l);var f=t.getGamepadAxis(0,tt.RightTrigger)>Ct,y=!this.rightTriggerPressed&&f;this.rightTriggerPressed=f,(t.isMouseButtonStarted(et.Left)||t.isGamepadButtonStarted(0,J.ACross)||y)&&this.shoot()}},{key:"updateCameraRotation",value:function(){var t=new A.USm(this.vertDir,this.horDir,0,"YXZ");this.camera.quaternion.setFromEuler(t)}},{key:"updatePosition",value:function(t,e){var n=new A.Pa4(-e,0,-t);n.applyAxisAngle(new A.Pa4(0,1,0),this.horDir);var i=new A.Pa4(n.x,0,0),r=new A.Pa4(0,0,n.z);this.mask.box.translate(i),this.isCollidingWithWalls()?this.mask.box.translate(i.negate()):this.camera.position.add(i),this.mask.box.translate(r),this.isCollidingWithWalls()?this.mask.box.translate(r.negate()):this.camera.position.add(r)}},{key:"isCollidingWithWalls",value:function(){var t=this;return this.entity.area.findEntities("wall").some((function(e){return t.entity.isCollidingWith(e)}))||this.entity.area.findEntities("rock").some((function(e){return t.entity.isCollidingWith(e)}))}},{key:"shoot",value:function(){if(this.gunCollected){var t=new A.USm(0,this.horDir+Math.PI/2,this.vertDir,"YXZ");this.entity.area.createEntity(new At(this.gun,t.toVector3()));var e=this.entity.area.state;e.playerShoot.volume=.125,e.playerShoot.play()}}},{key:"testForDeath",value:function(){if(!this.entity.area.game.resources.getResource("health").hasHealthLeft()){this.entity.destroy();var t,e=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return St(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?St(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(this.entity.area.findEntities("hud"));try{for(e.s();!(t=e.n()).done;)t.value.destroy()}catch(t){e.e(t)}finally{e.f()}this.entity.area.createEntity(new bt)}}},{key:"onTimer",value:function(t){}},{key:"onDraw",value:function(t){}}]),t}();!function(t){t[t.Red=0]="Red",t[t.Yellow=1]="Yellow",t[t.Green=2]="Green",t[t.Blue=3]="Blue"}(Dt||(Dt={}));var Et,jt=(xt={},(0,p.Z)(xt,Dt.Red,new A.Wid({color:16711680,emissive:16711680,emissiveIntensity:1})),(0,p.Z)(xt,Dt.Yellow,new A.Wid({color:16776960,emissive:16776960,emissiveIntensity:1})),(0,p.Z)(xt,Dt.Green,new A.Wid({color:65280,emissive:65280,emissiveIntensity:1})),(0,p.Z)(xt,Dt.Blue,new A.Wid({color:255,emissive:255,emissiveIntensity:1})),xt),Pt=function(t){(0,y.Z)(r,t);var e,n,i=(e=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=(0,v.Z)(e);if(n){var r=(0,v.Z)(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return(0,d.Z)(this,t)});function r(t,e,n){var o;return(0,h.Z)(this,r),o=i.call(this,t,e,"Door"),(0,p.Z)((0,f.Z)(o),"tags",["wall"]),(0,p.Z)((0,f.Z)(o),"doorColor",void 0),(0,p.Z)((0,f.Z)(o),"interactMask",void 0),o.doorColor=n,o}return(0,c.Z)(r,[{key:"onCreateDoor",value:function(){this.configureMaterialColor(this.entity.object.children[0].children[1]),this.interactMask=new P(this.entity.object)}},{key:"configureMaterialColor",value:function(t){var e=jt[this.doorColor];void 0!==e&&(t.material=e)}},{key:"onDestroy",value:function(){}},{key:"onStepDoor",value:function(){this.testForPlayerInteraction()}},{key:"testForPlayerInteraction",value:function(){if(!this.open){var t=this.entity.area.findFirstEntity("player");if(null!==t&&this.interactMask.isCollidingWith(t.mask)){var e=this.entity.area.findFirstEntity("hud"),n=this.entity.area.game.resources.getResource("inventory"),i=n.hasKeyAvailable(this.doorColor);if(null!==e){if(e.state.message.length>0)return;var r=Dt[this.doorColor].toLowerCase();e.state.message=i?"Action: Use ".concat(r," key"):"Needs a ".concat(r," key")}var o=this.entity.area.game.input;(o.isKeyStarted(Q.E)||o.isGamepadButtonStarted(0,J.XSquare))&&i&&(n.useKey(this.doorColor),this.openDoor(),this.entity.area.game.resources.getResource("door-state").setColoredDoorOpened(this.row,this.column),this.entity.area.state.openDoor.play())}}}},{key:"onTimer",value:function(t){}},{key:"onDraw",value:function(t){}}]),r}(V),It=(Et={},(0,p.Z)(Et,Dt.Red,new A.Wid({color:16711680,emissive:16711680,emissiveIntensity:.25})),(0,p.Z)(Et,Dt.Yellow,new A.Wid({color:16776960,emissive:16776960,emissiveIntensity:.25})),(0,p.Z)(Et,Dt.Green,new A.Wid({color:65280,emissive:65280,emissiveIntensity:.25})),(0,p.Z)(Et,Dt.Blue,new A.Wid({color:255,emissive:255,emissiveIntensity:.25})),Et),Lt=function(){function t(e,n,i){(0,h.Z)(this,t),(0,p.Z)(this,"tags",["key"]),(0,p.Z)(this,"color",void 0),(0,p.Z)(this,"entity",void 0),(0,p.Z)(this,"row",void 0),(0,p.Z)(this,"column",void 0),this.row=e,this.column=n,this.color=i}return(0,c.Z)(t,[{key:"onCreate",value:function(t){this.entity=t;var e=t.area.game.assets.getObject("Key").clone();e.position.copy(t.area.state.tileLocationToPosition(this.row,this.column)),e.position.y=2,e.rotation.y=lt(0,2*Math.PI),e.scale.set(.5,.25,.25),e.castShadow=!0,this.entity.object=e;var n=It[this.color];void 0!==n&&(e.material=n),this.entity.mask=new P(this.entity.object)}},{key:"onDestroy",value:function(){var t=this.entity.area.state;t.maze[this.row][this.column]=o.Empty,this.entity.area.game.resources.getResource("inventory").collectKey(this.color),t.collectItem.play()}},{key:"onStep",value:function(){this.entity.object.rotateY(Math.PI/256);var t=this.entity.area.findFirstEntity("player");null!==t&&this.entity.isCollidingWith(t)&&this.entity.destroy()}},{key:"onTimer",value:function(t){}},{key:"onDraw",value:function(t){}}]),t}(),Ft=function(){function t(){(0,h.Z)(this,t),(0,p.Z)(this,"tags",["hit-animation"]),(0,p.Z)(this,"entity",void 0)}return(0,c.Z)(t,[{key:"onCreate",value:function(t){this.entity=t,this.entity.setTimer(1,5,!1);var e=this.entity.area.state;e.oofSound.volume=.5,e.oofSound.isPlaying||e.oofSound.play()}},{key:"onDestroy",value:function(){}},{key:"onStep",value:function(){}},{key:"onTimer",value:function(t){this.entity.destroy()}},{key:"onDraw",value:function(t){t.globalAlpha=.5,t.strokeStyle="red",t.lineWidth=20,t.beginPath(),t.rect(0,0,this.entity.area.overlayWidth,this.entity.area.overlayHeight),t.stroke()}}]),t}();function Ot(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var Wt=new A.Kj0(new A.xo$,new A.vBJ({color:16755200}));Wt.scale.set(.15,.15,.15);var Gt,Nt=function(){function t(e){(0,h.Z)(this,t),(0,p.Z)(this,"tags",["bullet"]),(0,p.Z)(this,"entity",void 0),(0,p.Z)(this,"position",void 0),(0,p.Z)(this,"rotation",void 0),this.position=e.object.position.clone(),this.rotation=e.object.rotation.clone()}return(0,c.Z)(t,[{key:"onCreate",value:function(t){this.entity=t;var e=Wt.clone();e.position.copy(this.position),e.rotation.copy(this.rotation),e.updateMatrix(),this.entity.object=e,this.entity.mask=new P(this.entity.object),this.entity.setTimer(0,250)}},{key:"onDestroy",value:function(){}},{key:"onStep",value:function(){this.entity.object.translateX(.5),this.entity.mask.update(this.entity.object),this.entity.mask.sphere.radius/=3,this.testForPlayerCollision(),this.testForWallCollision()}},{key:"testForPlayerCollision",value:function(){var t=this.entity.area.findFirstEntity("player");null!==t&&this.entity.isCollidingWith(t)&&(this.entity.area.game.resources.getResource("health").hit(1),this.entity.area.createEntity(new Ft),this.entity.destroy())}},{key:"testForWallCollision",value:function(){var t,e=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Ot(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ot(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(this.entity.area.findEntities("wall"));try{for(e.s();!(t=e.n()).done;){var n=t.value;if(this.entity.isCollidingWith(n))return void this.entity.destroy()}}catch(t){e.e(t)}finally{e.f()}}},{key:"onTimer",value:function(t){this.entity.destroy()}},{key:"onDraw",value:function(t){}}]),t}(),Ht=function(){function t(e,n){(0,h.Z)(this,t),(0,p.Z)(this,"tags",["explosion"]),(0,p.Z)(this,"entity",void 0),(0,p.Z)(this,"position",void 0),(0,p.Z)(this,"scale",void 0),(0,p.Z)(this,"scaleAnimation",Math.PI/2),this.position=e,this.scale=n}return(0,c.Z)(t,[{key:"onCreate",value:function(t){this.entity=t;var e=this.entity.area.game.assets.getObject("Explosion").clone();e.position.copy(this.position),e.scale.set(this.scale,this.scale,this.scale),this.entity.object=e;var n=this.entity.area.state;n.explosion.audio.playbackRate=2,n.explosion.play()}},{key:"onDestroy",value:function(){}},{key:"onStep",value:function(){var t=this.scale*Math.sin(this.scaleAnimation);this.entity.object.scale.set(t,t,t),this.scaleAnimation+=Math.PI/24,this.scaleAnimation>Math.PI&&this.entity.destroy()}},{key:"onTimer",value:function(t){}},{key:"onDraw",value:function(t){}}]),t}();function zt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var Kt,_t,Yt=Math.PI/64,Ut=1e-4,Xt=1e-4,Vt=new Set([o.Wall,o.BigDoor]);!function(t){t[t.Moving=0]="Moving",t[t.Turning=1]="Turning"}(Kt||(Kt={})),function(t){t[t.Up=0]="Up",t[t.Down=1]="Down",t[t.Left=2]="Left",t[t.Right=3]="Right"}(_t||(_t={}));var $t,qt,Qt,Jt=(Gt={},(0,p.Z)(Gt,_t.Up,{opposite:_t.Down,angle:Math.PI,reverse:_t.Right}),(0,p.Z)(Gt,_t.Down,{opposite:_t.Up,angle:0,reverse:_t.Left}),(0,p.Z)(Gt,_t.Left,{opposite:_t.Right,angle:3*Math.PI/2,reverse:_t.Up}),(0,p.Z)(Gt,_t.Right,{opposite:_t.Left,angle:Math.PI/2,reverse:_t.Down}),Gt),te=function(){function t(e,n){(0,h.Z)(this,t),(0,p.Z)(this,"tags",["drone"]),(0,p.Z)(this,"entity",void 0),(0,p.Z)(this,"row",void 0),(0,p.Z)(this,"column",void 0),(0,p.Z)(this,"state",Kt.Turning),(0,p.Z)(this,"dir",_t.Down),(0,p.Z)(this,"rotDir",Yt),(0,p.Z)(this,"angle",0),(0,p.Z)(this,"health",30),this.row=e,this.column=n}return(0,c.Z)(t,[{key:"onCreate",value:function(t){this.entity=t;var e=t.area.game.assets.getObject("Drone").clone();e.position.copy(t.area.state.tileLocationToPosition(this.row,this.column)),e.position.y=10,e.children[0].castShadow=!0,this.entity.object=e,this.entity.mask=new j(e.children[4]),this.entity.setTimer(0,10,!0),this.pickNewDirection()}},{key:"onDestroy",value:function(){}},{key:"onStep",value:function(){this.entity.mask.update(this.entity.object.children[4]),this.updateMazePosition(),this.canSeePlayer()&&this.inCenterOfTile()?this.pointTowardsPlayer():this.moveDrone(),this.checkForBulletCollision(),this.checkHealth()}},{key:"updateMazePosition",value:function(){var t=this.entity.area.state.positionToTileLocation(this.entity.object.position),e=(0,u.Z)(t,2);this.row=e[0],this.column=e[1]}},{key:"canSeePlayer",value:function(){var t=this,e=this.entity.area.findFirstEntity("player");if(null!==e){var n=e.object.position.clone();n.sub(this.entity.object.position);var i=n.length();if(i>=40)return!1;var r=new A.iMs(this.entity.object.position,n.normalize(),0,i);return this.entity.area.findEntities("wall").every((function(e){var n=e.mask.intersectRay(r.ray);return null===n||n.distanceTo(t.entity.object.position)>=i}))}}},{key:"inCenterOfTile",value:function(){return yt(this.entity.object.position.x/5,Ut)&&yt(this.entity.object.position.z/5,Ut)}},{key:"pointTowardsPlayer",value:function(){var t=this.entity.area.findFirstEntity("player");if(null!==t){var e=this.entity.object.position.clone();e.sub(t.object.position);var n=Math.atan2(-e.z,e.x)+Math.PI,i=Math.sqrt(e.z*e.z+e.x*e.x),r=-Math.atan2(e.y,i),o=new A.USm(0,n,r,"YXZ");this.entity.object.quaternion.setFromEuler(o)}}},{key:"moveDrone",value:function(){switch(this.entity.object.rotation.set(0,this.angle,0),this.state){case Kt.Moving:if(this.entity.object.translateX(.1),this.inCenterOfTile()){var t=this.entity.area.state.tileLocationToPosition(this.row,this.column);this.entity.object.position.x=t.x,this.entity.object.position.z=t.z,this.pickNewDirection(),this.state=Kt.Turning}break;case Kt.Turning:var e=Jt[this.dir].angle;n=this.angle,o=dt((r=e+Xt)-(i=e-Xt)),Math.abs(dt(i-n))<o&&Math.abs(dt(r-n))<o?(this.angle=e,this.state=Kt.Moving):this.angle+=this.rotDir}var n,i,r,o}},{key:"pickNewDirection",value:function(){var t=this.entity.area.state,e=[];if(Vt.has(t.maze[this.row-1][this.column])||e.push(_t.Up),Vt.has(t.maze[this.row+1][this.column])||e.push(_t.Down),Vt.has(t.maze[this.row][this.column-1])||e.push(_t.Left),Vt.has(t.maze[this.row][this.column+1])||e.push(_t.Right),e.length<=1)this.dir=e[0]||Jt[this.dir].opposite;else{var n=this.dir,i=Jt[this.dir].opposite,r=ht(e.filter((function(t){return t!==i})));this.rotDir=Jt[n].reverse===r?-Yt:Yt,this.dir=r}}},{key:"checkForBulletCollision",value:function(){var t,e=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return zt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zt(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(this.entity.area.findEntities("player-bullet"));try{for(e.s();!(t=e.n()).done;){var n=t.value;if(this.entity.isCollidingWith(n)){n.destroy(),this.health-=1;var i=this.entity.area.state;i.hitObject.volume=.125,i.hitObject.play()}}}catch(t){e.e(t)}finally{e.f()}}},{key:"checkHealth",value:function(){this.health<=0&&(this.entity.destroy(),this.entity.area.createEntity(new Ht(this.entity.object.position,2)))}},{key:"onTimer",value:function(t){if(0===t&&this.canSeePlayer()&&this.inCenterOfTile()){this.entity.area.createEntity(new Nt(this.entity));var e=this.entity.area.state;e.droneShoot.volume=.125,e.droneShoot.play()}}},{key:"onDraw",value:function(t){}}]),t}();function ee(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}!function(t){t[t.A=0]="A",t[t.B=1]="B",t[t.C=2]="C"}($t||($t={}));var ne=16,ie="#a0a914",re=(qt={},(0,p.Z)(qt,o.Wall,(function(t,e,n){t.fillStyle="#6b6764",t.fillRect(e,n,ne,ne)})),(0,p.Z)(qt,o.Energy,le("Energy")),(0,p.Z)(qt,o.RedDoor,ue("red",he)),(0,p.Z)(qt,o.YellowDoor,ue("yellow",he)),(0,p.Z)(qt,o.GreenDoor,ue("green",he)),(0,p.Z)(qt,o.BlueDoor,ue("blue",he)),(0,p.Z)(qt,o.RedKey,le("RedKey")),(0,p.Z)(qt,o.YellowKey,le("YellowKey")),(0,p.Z)(qt,o.GreenKey,le("GreenKey")),(0,p.Z)(qt,o.BlueKey,le("BlueKey")),(0,p.Z)(qt,o.Battery,le("Battery")),(0,p.Z)(qt,o.Lever,(function(t,e,n,i,r,o){le(o.area.game.resources.getResource("door-state").getToggleState()?"LeverReverse":"Lever")(t,e,n,i,r,o)})),(0,p.Z)(qt,o.ToggleDoor,ue("orange",ce())),(0,p.Z)(qt,o.InverseToggleDoor,ue("orange",ce(!0))),(0,p.Z)(qt,o.ADoor,ue("grey",fe($t.A))),(0,p.Z)(qt,o.BDoor,ue("grey",fe($t.B))),(0,p.Z)(qt,o.CDoor,ue("grey",fe($t.C))),(0,p.Z)(qt,o.ABox,le("ElectricBox")),(0,p.Z)(qt,o.BBox,le("ElectricBox")),(0,p.Z)(qt,o.CBox,le("ElectricBox")),(0,p.Z)(qt,o.BigDoor,ue("#654321",(function(t){return t.area.game.resources.getResource("door-state").isBigDoorOpened()}))),(0,p.Z)(qt,o.Portal,(function(t,e,n,i,r,o){var a=o.area.state;if(0===a.energyLeft?t.fillStyle="#5B00E7":t.fillStyle="#511f1f",t.fillRect(e-32/3,n+4,112/3,8),0===a.energyLeft){var s=o.area.game.assets.getImage("Energy");t.drawImage(s,e+4,n+4,8,8)}})),(0,p.Z)(qt,o.Gun,le("Gun")),(0,p.Z)(qt,o.Map,le("Map")),qt),oe=(Qt={},(0,p.Z)(Qt,Dt.Red,"RedKey"),(0,p.Z)(Qt,Dt.Yellow,"YellowKey"),(0,p.Z)(Qt,Dt.Green,"GreenKey"),(0,p.Z)(Qt,Dt.Blue,"BlueKey"),Qt),ae=function(){function t(){(0,h.Z)(this,t),(0,p.Z)(this,"tags",["hud"]),(0,p.Z)(this,"entity",void 0),(0,p.Z)(this,"mapCanvas",void 0),(0,p.Z)(this,"mapVisited",void 0),(0,p.Z)(this,"shouldDrawMap",!1),(0,p.Z)(this,"message",""),this.mapCanvas=document.createElement("canvas")}return(0,c.Z)(t,[{key:"onCreate",value:function(t){this.entity=t;var e=t.area.state;this.mapVisited=Array(e.mazeHeight).fill(null).map((function(){return Array(e.mazeWidth).fill(null).map((function(){return!1}))})),this.entity.setTimer(0,24,!0),this.redrawMap()}},{key:"onDestroy",value:function(){}},{key:"onStep",value:function(){this.updateVisited();var t=this.entity.area.game.input;this.shouldDrawMap=t.isKeyDown(Q.Space)||t.isGamepadButtonDown(0,J.LeftBumper)||t.isGamepadButtonDown(0,J.YTriangle)}},{key:"updateVisited",value:function(){for(var t=this.entity.area.state,e=t.getPlayerTileLocation(),n=(0,u.Z)(e,2),i=n[0],r=n[1],o=-3;o<=3;o+=1)for(var a=-3;a<=3;a+=1)this.mapVisited[ct(i+o,0,t.mazeHeight-1)][ct(r+a,0,t.mazeWidth-1)]=!0}},{key:"redrawMap",value:function(){var t=this.entity.area.state,e=this.mapCanvas.getContext("2d"),n=t.mazeWidth*ne+8,i=t.mazeHeight*ne+8;this.mapCanvas.width=n,this.mapCanvas.height=i,e.fillStyle="#a0d914",e.fillRect(0,0,n,i);for(var r=0;r<t.mazeHeight;r+=1)for(var o=0;o<t.mazeWidth;o+=1){var a=4+o*ne,s=4+r*ne;if(this.mapVisited[r][o]){var l=re[t.maze[r][o]];void 0!==l&&l(e,a,s,r,o,this.entity)}else e.fillStyle="#3b3b3b",e.fillRect(a,s,ne,ne)}var h,c=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return ee(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ee(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(this.entity.area.findEntities("drone"));try{for(c.s();!(h=c.n()).done;){var f=h.value,y=t.positionToTileLocation(f.object.position),d=(0,u.Z)(y,2),v=d[0],p=d[1];if(this.mapVisited[v][p]){var m=4+p*ne,g=4+v*ne;e.fillStyle="lightgrey",e.beginPath(),e.arc(m+8,g+8,ne/3,0,2*Math.PI),e.fill(),e.strokeStyle="black",e.lineWidth=1,e.stroke()}}}catch(t){c.e(t)}finally{c.f()}}},{key:"onTimer",value:function(t){0===t&&this.redrawMap()}},{key:"onDraw",value:function(t){this.shouldDrawMap?this.drawFullMap(t):this.drawHUD(t),this.message=""}},{key:"drawHUD",value:function(t){var e=this.entity.area.game.resources.getResource("inventory");e.hasCollectedMap()&&(this.drawHealthBar(t),this.drawMapSubset(t)),e.hasCollectedMap()&&e.hasCollectedGun()&&(this.drawInventory(t),this.drawMessage(t)),e.hasCollectedGun()&&this.drawTarget(t)}},{key:"drawHealthBar",value:function(t){t.textAlign="left",t.textBaseline="top",t.font="30px sans-serif",t.fillStyle="#ffffff",t.fillText("Health:",10,10),function(t,e,n,i,r,o,a,s){e=ct(e,0,1);var l=new A.Ilk;l.lerpColors(s,a,e),t.fillStyle="#"+l.getHexString(),t.fillRect(n,10,100*e,25),t.beginPath(),t.strokeStyle="black",t.rect(n,10,100,25),t.stroke()}(t,this.entity.area.game.resources.getResource("health").getHealthPercentLeft(),10+t.measureText("Health:").width+10,0,0,0,new A.Ilk(0,1,0),new A.Ilk(1,0,0))}},{key:"drawMapSubset",value:function(t){var e=this.entity.area.state,n=e.getPlayerTileLocation(),i=(0,u.Z)(n,2),r=i[0],o=i[1]-Math.floor(4.5),a=r-Math.floor(4.5),s=o*ne,l=a*ne,h=152,c=this.entity.area.overlayWidth-162;t.fillStyle=ie,t.fillRect(c,10,h,h),t.drawImage(this.mapCanvas,s,l,h,h,c,10,h,h),t.beginPath(),t.rect(c,10,h,h),t.strokeStyle="brown",t.lineWidth=4,t.stroke(),t.fillStyle="red",t.font="10pt sans-serif",t.textAlign="center",t.textBaseline="middle",t.fillText("N",c+76,25),t.fillStyle="white",t.fillText("S",c+76,147),t.fillText("W",c+15,86),t.fillText("E",c+h-15,86),t.strokeStyle="red",t.lineWidth=2,se(t,c+76,86,e.getPlayerAngle(),ne)}},{key:"drawInventory",value:function(t){var e=this.entity.area.state,n=this.entity.area.game.resources.getResource("inventory"),i=this.entity.area.game.assets,r=32;t.drawImage(i.getImage("Energy"),10,40,r,r),t.font="10pt sans-serif",t.fillStyle="white",t.textAlign="center",t.textBaseline="top",t.fillText("".concat(e.totalEnergy-e.energyLeft," / ").concat(e.totalEnergy),26,72);for(var o=50,a=0,s=[Dt.Red,Dt.Yellow,Dt.Green,Dt.Blue];a<s.length;a++){var l=s[a];if(n.hasKeyAvailable(l)){var u=i.getImage(oe[l]);t.drawImage(u,o,40,r,r),t.fillText("x".concat(n.getKeyCount(l)),o+16,72),o+=40}}if(n.hasCollectedBattery()){var h=i.getImage("Battery");t.drawImage(h,o,40,r,r),t.fillText("x".concat(n.getBatteryCount()),o+16,72),o+=40}}},{key:"drawMessage",value:function(t){if(!(this.message.length<=0)){t.font="24pt sans-serif",t.textAlign="center",t.textBaseline="bottom";var e=t.measureText(this.message),n=e.width+10,i=e.actualBoundingBoxAscent-e.fontBoundingBoxDescent+10,r=this.entity.area.overlayWidth/2,o=this.entity.area.overlayHeight-20;t.fillStyle="black",t.fillRect(r-n/2,o-i,n,i),t.lineWidth=2,t.strokeStyle="orange",t.beginPath(),t.rect(r-n/2,o-i,n,i),t.stroke(),t.fillStyle="white",t.fillText(this.message,r,o)}}},{key:"drawTarget",value:function(t){var e=this.entity.area.overlayWidth/2,n=this.entity.area.overlayHeight/2;t.lineWidth=1,t.strokeStyle="white",t.beginPath(),t.moveTo(e-5,n),t.lineTo(e+5,n),t.moveTo(e,n-5),t.lineTo(e,n+5),t.stroke()}},{key:"drawFullMap",value:function(t){if(this.entity.area.game.resources.getResource("inventory").hasCollectedMap()){var e=this.entity.area.state,n=e.getPlayerTileLocation(),i=(0,u.Z)(n,2),r=i[0],o=i[1],a=this.entity.area.overlayWidth-30,s=this.entity.area.overlayHeight-30,l=Math.min(a,this.mapCanvas.width),h=Math.min(s,this.mapCanvas.height),c=o*ne+8+4,f=r*ne+8+4,y=this.entity.area.overlayWidth/2-l/2,d=this.entity.area.overlayHeight/2-h/2;t.fillStyle=ie,t.fillRect(y,d,l,h),t.drawImage(this.mapCanvas,c-l/2,f-h/2,l,h,y,d,l,h),t.beginPath(),t.rect(y,d,l,h),t.strokeStyle="brown",t.lineWidth=4,t.stroke(),t.fillStyle="red",t.font="24pt sans-serif",t.textAlign="center",t.textBaseline="middle",t.fillText("N",y+l/2,d+25),t.fillStyle="white",t.fillText("S",y+l/2,d+h-25),t.fillText("W",y+25,d+h/2),t.fillText("E",y+l-25,d+h/2),t.strokeStyle="red",t.lineWidth=2,se(t,y+l/2,d+h/2,e.getPlayerAngle(),ne)}}}]),t}();function se(t,e,n,i,r){var o=e+r/2*Math.cos(i),a=n-r/2*Math.sin(i),s=e-r/2*Math.cos(i),l=n+r/2*Math.sin(i),u=Math.PI/6;t.beginPath(),t.moveTo(s,l),t.lineTo(o,a),t.lineTo(o-6*Math.cos(i-u),a+6*Math.sin(i-u)),t.moveTo(o,a),t.lineTo(o-6*Math.cos(i+u),a+6*Math.sin(i+u)),t.stroke()}function le(t){return function(e,n,i,r,o,a){var s=a.area.game.assets.getImage(t);e.drawImage(s,n,i,ne,ne)}}function ue(t,e){return function(n,i,r,o,a,s){e(s,o,a)?function(t){return function(e,n,i,r){e.fillStyle=t,r%2==1?(e.fillRect(n+4,i,8,2),e.fillRect(n+4,i+ne-2,8,2)):(e.fillRect(n,i+4,2,8),e.fillRect(n+ne-2,i+4,2,8))}}(t)(n,i,r,o,a,s):function(t){return function(e,n,i,r){e.fillStyle=t,r%2==1?e.fillRect(n+4,i,8,ne):e.fillRect(n,i+4,ne,8)}}(t)(n,i,r,o,a,s)}}function he(t,e,n){return t.area.game.resources.getResource("door-state").isColoredDoorOpened(e,n)}function ce(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(e){return e.area.game.resources.getResource("door-state").getToggleState()!==t}}function fe(t){return function(e){return e.area.game.resources.getResource("door-state").isDoorPowered(t)}}var ye=function(){function t(){(0,h.Z)(this,t),(0,p.Z)(this,"health",100)}return(0,c.Z)(t,[{key:"getHealthPercentLeft",value:function(){return this.health/100}},{key:"heal",value:function(t){this.health=Math.min(this.health+t,100)}},{key:"hit",value:function(t){this.health=Math.max(this.health-t,0)}},{key:"hasHealthLeft",value:function(){return this.health>0}}]),t}(),de=function(){function t(){var e;(0,h.Z)(this,t),(0,p.Z)(this,"mapCollected",!1),(0,p.Z)(this,"gunCollected",!1),(0,p.Z)(this,"keysCollected",(e={},(0,p.Z)(e,Dt.Red,0),(0,p.Z)(e,Dt.Yellow,0),(0,p.Z)(e,Dt.Green,0),(0,p.Z)(e,Dt.Blue,0),e)),(0,p.Z)(this,"batteryCollected",0)}return(0,c.Z)(t,[{key:"collectMap",value:function(){this.mapCollected=!0}},{key:"hasCollectedMap",value:function(){return this.mapCollected}},{key:"collectGun",value:function(){this.gunCollected=!0}},{key:"hasCollectedGun",value:function(){return this.gunCollected}},{key:"collectKey",value:function(t){this.keysCollected[t]+=1}},{key:"getKeyCount",value:function(t){return this.keysCollected[t]}},{key:"hasKeyAvailable",value:function(t){return this.getKeyCount(t)>0}},{key:"useKey",value:function(t){return this.keysCollected[t]>0&&(this.keysCollected[t]-=1,!0)}},{key:"collectBattery",value:function(){this.batteryCollected+=1}},{key:"getBatteryCount",value:function(){return this.batteryCollected}},{key:"hasCollectedBattery",value:function(){return this.batteryCollected>0}},{key:"useBattery",value:function(){return this.batteryCollected>0&&(this.batteryCollected-=1,!0)}}]),t}(),ve=new A.cJO(1,3),pe=new A.Wid({color:16744448,emissive:16711680}),me=Math.PI/24,ge=function(){function t(e,n){(0,h.Z)(this,t),(0,p.Z)(this,"tags",["energy"]),(0,p.Z)(this,"entity",void 0),(0,p.Z)(this,"row",void 0),(0,p.Z)(this,"column",void 0),(0,p.Z)(this,"scale",0),this.row=e,this.column=n}return(0,c.Z)(t,[{key:"onCreate",value:function(t){this.entity=t;var e=new A.Kj0(ve,pe);e.position.copy(t.area.state.tileLocationToPosition(this.row,this.column)),e.position.y=2.5,e.castShadow=!0,this.entity.object=e,this.entity.mask=new j(e)}},{key:"onDestroy",value:function(){var t=this.entity.area.state;t.maze[this.row][this.column]=o.Empty,0===t.energyLeft?(t.activatePortal.volume=.5,t.activatePortal.play()):t.collectItem.play()}},{key:"onStep",value:function(){this.playScaleAnimation(),this.checkForPlayerCollision()}},{key:"playScaleAnimation",value:function(){var t=1+.1*Math.sin(this.scale);this.scale+=me,this.entity.object.scale.set(t,t,t),this.entity.mask.update(this.entity.object)}},{key:"checkForPlayerCollision",value:function(){var t=this.entity.area.findFirstEntity("player");null!==t&&this.entity.isCollidingWith(t)&&this.entity.destroy()}},{key:"onTimer",value:function(t){}},{key:"onDraw",value:function(t){}}]),t}(),ke=function(){function t(e,n){(0,h.Z)(this,t),(0,p.Z)(this,"tags",["lever"]),(0,p.Z)(this,"entity",void 0),(0,p.Z)(this,"row",void 0),(0,p.Z)(this,"column",void 0),(0,p.Z)(this,"mixer",void 0),(0,p.Z)(this,"leverAction",void 0),(0,p.Z)(this,"open",!1),this.row=e,this.column=n}return(0,c.Z)(t,[{key:"onCreate",value:function(t){this.entity=t;var e=this.entity.area.game.assets.getObject("Lever").clone();e.position.copy(t.area.state.tileLocationToPosition(this.row,this.column)),e.scale.set(1.5,1.5,1.5),e.castShadow=!0,e.children[0].castShadow=!0,this.entity.object=e,this.entity.mask=new P(e),this.mixer=new A.Xcj(e),this.leverAction=this.mixer.clipAction(t.area.game.assets.getAnimation("LeverAction")),this.leverAction.loop=A.jAl,this.leverAction.repetitions=1,this.leverAction.clampWhenFinished=!0}},{key:"onDestroy",value:function(){}},{key:"onStep",value:function(){this.mixer.update(.02),this.testForPlayerInteraction()}},{key:"testForPlayerInteraction",value:function(){var t=this.entity.area.findFirstEntity("player");if(null!==t&&this.entity.isCollidingWith(t)){var e=this.entity.area.findFirstEntity("hud");if(null!==e){if(e.state.message.length>0||this.leverAction.isRunning())return;e.state.message="Action: Pull Lever"}this.leverAction.isRunning()||this.checkInteractionInput()}}},{key:"checkInteractionInput",value:function(){var t=this.entity.area.game.input;if(t.isKeyStarted(Q.E)||t.isGamepadButtonStarted(0,J.XSquare)){this.open?this.closeLever():this.openLever(),this.entity.area.game.resources.getResource("door-state").toggleDoors();var e=this.entity.area.state;e.toggleLever.play(),e.openDoor.play()}}},{key:"openLever",value:function(){this.open=!0,this.leverAction.timeScale=1,this.leverAction.paused=!1,this.leverAction.play()}},{key:"closeLever",value:function(){this.open=!1,this.leverAction.timeScale=-1,this.leverAction.time=this.leverAction.getClip().duration,this.leverAction.paused=!1,this.leverAction.play()}},{key:"onTimer",value:function(t){}},{key:"onDraw",value:function(t){}}]),t}();function Ze(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var be=function(){function t(e,n){(0,h.Z)(this,t),(0,p.Z)(this,"tags",["rock"]),(0,p.Z)(this,"entity",void 0),(0,p.Z)(this,"row",void 0),(0,p.Z)(this,"column",void 0),(0,p.Z)(this,"health",10),this.row=e,this.column=n}return(0,c.Z)(t,[{key:"onCreate",value:function(t){this.entity=t;var e=t.area.game.assets.getObject("Rock").clone();e.scale.set(2.5,2.5,2.5),e.position.copy(t.area.state.tileLocationToPosition(this.row,this.column)),e.castShadow=!0,this.entity.object=e,this.entity.mask=new j(e)}},{key:"onDestroy",value:function(){this.entity.area.state.maze[this.row][this.column]=o.Empty}},{key:"onStep",value:function(){this.checkForBulletCollision(),this.checkHealth()}},{key:"checkForBulletCollision",value:function(){var t,e=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Ze(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ze(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(this.entity.area.findEntities("player-bullet"));try{for(e.s();!(t=e.n()).done;){var n=t.value;if(this.entity.isCollidingWith(n)){var i=this.entity.area.state;i.hitObject.volume=.125,i.hitObject.play(),n.destroy(),this.health-=1}}}catch(t){e.e(t)}finally{e.f()}}},{key:"checkHealth",value:function(){if(this.health<=0){this.entity.destroy();var t=this.entity.object.position.clone();t.y+=5/4,this.entity.area.createEntity(new Ht(t,2.5))}}},{key:"onTimer",value:function(t){}},{key:"onDraw",value:function(t){}}]),t}(),we=function(){function t(e,n){(0,h.Z)(this,t),(0,p.Z)(this,"tags",["battery"]),(0,p.Z)(this,"entity",void 0),(0,p.Z)(this,"row",void 0),(0,p.Z)(this,"column",void 0),this.row=e,this.column=n}return(0,c.Z)(t,[{key:"onCreate",value:function(t){this.entity=t;var e=this.entity.area.game.assets.getObject("Battery").clone();e.position.copy(t.area.state.tileLocationToPosition(this.row,this.column)),e.position.y=2,e.scale.set(2,2,2),e.children[2].castShadow=!0,this.entity.object=e,this.entity.mask=new j(e)}},{key:"onDestroy",value:function(){var t=this.entity.area.state;t.maze[this.row][this.column]=o.Empty,this.entity.area.game.resources.getResource("inventory").collectBattery(),t.collectItem.play()}},{key:"onStep",value:function(){var t=this.entity.area.findFirstEntity("player");null!==t&&this.entity.isCollidingWith(t)&&this.entity.destroy()}},{key:"onTimer",value:function(t){}},{key:"onDraw",value:function(t){}}]),t}(),Ae=function(){function t(e,n,i){(0,h.Z)(this,t),(0,p.Z)(this,"tags",["electric-box","wall"]),(0,p.Z)(this,"entity",void 0),(0,p.Z)(this,"row",void 0),(0,p.Z)(this,"column",void 0),(0,p.Z)(this,"type",void 0),(0,p.Z)(this,"hasBattery",!1),(0,p.Z)(this,"interactMask",void 0),(0,p.Z)(this,"mixer",void 0),(0,p.Z)(this,"insertBattery",void 0),(0,p.Z)(this,"spinWheel",void 0),(0,p.Z)(this,"batteryObject",void 0),this.row=e,this.column=n,this.type=i}return(0,c.Z)(t,[{key:"onCreate",value:function(t){this.entity=t;var e=this.entity.area.game.assets.getObject("ElectricBox").clone();e.position.copy(t.area.state.tileLocationToPosition(this.row,this.column)),e.children[0].castShadow=!0,e.children[3].castShadow=!0,this.batteryObject=e.children[2],this.batteryObject.visible=!1,this.entity.object=e,this.entity.mask=new j(e),this.interactMask=new P(e),this.interactMask.sphere.radius*=1.5,this.mixer=new A.Xcj(e),this.insertBattery=this.mixer.clipAction(t.area.game.assets.getAnimation("BatteryAction")),this.insertBattery.loop=A.jAl,this.insertBattery.clampWhenFinished=!0,this.spinWheel=this.mixer.clipAction(t.area.game.assets.getAnimation("WheelAction")),this.spinWheel.loop=A.YKA,this.spinWheel.repetitions=1/0,this.spinWheel.paused=!0,this.spinWheel.play()}},{key:"onDestroy",value:function(){}},{key:"onStep",value:function(){if(this.mixer.update(.01),this.testForPlayerInteraction(),this.hasBattery&&!this.insertBattery.isRunning()&&!this.spinWheel.isRunning()){this.spinWheel.paused=!1,this.entity.area.game.resources.getResource("door-state").setDoorPowered(this.type,!0);var t=this.entity.area.state;t.electricBox.volume=.25,t.electricBox.play()}this.hasBattery||this.insertBattery.isRunning()||!this.batteryObject.visible||(this.batteryObject.visible=!1,this.entity.area.game.resources.getResource("inventory").collectBattery())}},{key:"testForPlayerInteraction",value:function(){var t=this.entity.area.findFirstEntity("player");if(null!==t&&this.interactMask.isCollidingWith(t.mask)){var e=this.entity.area.findFirstEntity("hud");if(null!==e){var n=this.entity.area.game.resources.getResource("inventory");if(e.state.message.length>0||this.insertBattery.isRunning())return;this.hasBattery?e.state.message="Action: Take Battery":e.state.message=n.hasCollectedBattery()?"Action: Insert Battery":"Needs a battery for power"}this.insertBattery.isRunning()||this.checkInteractionInput()}}},{key:"checkInteractionInput",value:function(){var t=this.entity.area.game.input;if(t.isKeyStarted(Q.E)||t.isGamepadButtonStarted(0,J.XSquare)){var e=this.entity.area.game.resources.getResource("inventory");if(this.hasBattery){this.spinWheel.paused=!0,this.insertBattery.timeScale=-1,this.insertBattery.paused=!1,this.insertBattery.play(),this.entity.area.game.resources.getResource("door-state").setDoorPowered(this.type,!1),this.hasBattery=!1;var n=this.entity.area.state;n.toggleLever.play(),n.openDoor.play()}else e.hasCollectedBattery()&&(this.insertBattery.timeScale=1,this.batteryObject.visible=!0,this.insertBattery.paused=!1,this.insertBattery.play(),e.useBattery(),this.hasBattery=!0)}}},{key:"onTimer",value:function(t){}},{key:"onDraw",value:function(t){}}]),t}(),Se=function(){function t(){var e;(0,h.Z)(this,t),(0,p.Z)(this,"bigDoorOpened",!1),(0,p.Z)(this,"coloredDoors",new Set),(0,p.Z)(this,"toggle",!1),(0,p.Z)(this,"powered",(e={},(0,p.Z)(e,$t.A,!1),(0,p.Z)(e,$t.B,!1),(0,p.Z)(e,$t.C,!1),e))}return(0,c.Z)(t,[{key:"isBigDoorOpened",value:function(){return this.bigDoorOpened}},{key:"openBigDoor",value:function(){this.bigDoorOpened=!0}},{key:"isColoredDoorOpened",value:function(t,e){return this.coloredDoors.has("".concat(t,"-").concat(e))}},{key:"setColoredDoorOpened",value:function(t,e){this.coloredDoors.add("".concat(t,"-").concat(e))}},{key:"getToggleState",value:function(){return this.toggle}},{key:"toggleDoors",value:function(){this.toggle=!this.toggle}},{key:"isDoorPowered",value:function(t){return this.powered[t]}},{key:"setDoorPowered",value:function(t,e){this.powered[t]=e}}]),t}();var De=function(t){(0,y.Z)(r,t);var e,n,i=(e=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=(0,v.Z)(e);if(n){var r=(0,v.Z)(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return(0,d.Z)(this,t)});function r(t,e){var n,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,h.Z)(this,r),n=i.call(this,t,e,"ToggleDoor"),(0,p.Z)((0,f.Z)(n),"tags",["wall"]),(0,p.Z)((0,f.Z)(n),"reverse",void 0),(0,p.Z)((0,f.Z)(n),"interactMask",void 0),n.reverse=o,n}return(0,c.Z)(r,[{key:"onCreateDoor",value:function(){this.interactMask=new P(this.entity.object)}},{key:"onDestroy",value:function(){}},{key:"onStepDoor",value:function(){this.syncWithState(),this.testForPlayerInteraction()}},{key:"syncWithState",value:function(){var t=this.entity.area.game.resources.getResource("door-state"),e=this.reverse?!t.getToggleState():t.getToggleState();this.open!==e&&(this.open?this.closeDoor():this.openDoor())}},{key:"testForPlayerInteraction",value:function(){if(!this.open){var t=this.entity.area.findFirstEntity("player");if(null!==t&&this.interactMask.isCollidingWith(t.mask)){var e=this.entity.area.findFirstEntity("hud");null!==e&&0===e.state.message.length&&(e.state.message="Flip lever to toggle door")}}}},{key:"onTimer",value:function(t){}},{key:"onDraw",value:function(t){}}]),r}(V);var xe=function(t){(0,y.Z)(r,t);var e,n,i=(e=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=(0,v.Z)(e);if(n){var r=(0,v.Z)(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return(0,d.Z)(this,t)});function r(t,e,n){var o;return(0,h.Z)(this,r),o=i.call(this,t,e,"ElectricDoor"),(0,p.Z)((0,f.Z)(o),"tags",["wall"]),(0,p.Z)((0,f.Z)(o),"type",void 0),(0,p.Z)((0,f.Z)(o),"interactMask",void 0),o.type=n,o}return(0,c.Z)(r,[{key:"onCreateDoor",value:function(){this.interactMask=new P(this.entity.object)}},{key:"onDestroy",value:function(){}},{key:"onStepDoor",value:function(){this.syncWithState(),this.testForPlayerInteraction()}},{key:"syncWithState",value:function(){var t=this.entity.area.game.resources.getResource("door-state");this.open!==t.isDoorPowered(this.type)&&(this.open?this.closeDoor():this.openDoor())}},{key:"testForPlayerInteraction",value:function(){if(!this.open){var t=this.entity.area.findFirstEntity("player");if(null!==t&&this.interactMask.isCollidingWith(t.mask)){var e=this.entity.area.findFirstEntity("hud");null!==e&&0===e.state.message.length&&(e.state.message="Door needs to be powered")}}}},{key:"onTimer",value:function(t){}},{key:"onDraw",value:function(t){}}]),r}(V),Te=function(){function t(){(0,h.Z)(this,t),(0,p.Z)(this,"area",void 0),(0,p.Z)(this,"heartMonitor",void 0),(0,p.Z)(this,"startTime",void 0),(0,p.Z)(this,"alpha",0)}return(0,c.Z)(t,[{key:"onCreate",value:function(t){this.area=t,this.heartMonitor=this.area.createAudio("HeartMonitor"),this.heartMonitor.volume=0,this.heartMonitor.play(!0),this.startTime=this.heartMonitor.audio.context.currentTime,this.area.setTimer(1,10,!0),this.area.setTimer(2,300,!1)}},{key:"onTimer",value:function(t){1===t&&this.fadeInSound(),2===t&&this.fadeInText(),3===t&&this.fadeOutText(),4===t&&this.area.game.setArea(new In)}},{key:"fadeInSound",value:function(){this.heartMonitor.volume=Math.min(1,this.heartMonitor.volume+.05),this.heartMonitor.volume>=1&&this.area.clearTimer(1)}},{key:"fadeInText",value:function(){this.alpha=Math.min(1,this.alpha+.1),this.alpha>=1?(this.area.clearTimer(2),this.area.setTimer(3,500,!1)):this.area.setTimer(2,10,!1)}},{key:"fadeOutText",value:function(){this.alpha=Math.max(0,this.alpha-.05),this.heartMonitor.volume=Math.max(0,this.heartMonitor.volume-.05),this.alpha<=0&&this.heartMonitor.volume<=0?(this.area.clearTimer(3),this.heartMonitor.stop(),this.heartMonitor.volume=0,this.area.setTimer(4,200,!1)):this.area.setTimer(3,15,!1)}},{key:"onStep",value:function(){this.area.game.input.isMouseButtonDown(et.Left)&&this.heartMonitor.audio.context.resume()}},{key:"onDraw",value:function(t){t.font="20pt sans-serif",t.textAlign="center",t.textBaseline="middle",t.fillStyle="white",t.globalAlpha=this.alpha,t.fillText("Good news: the operation was successful!",this.area.overlayWidth/2,this.area.overlayHeight/4),t.fillText("You just woke up from the coma.",this.area.overlayWidth/2,this.area.overlayHeight/2),t.fillText("We expect you to make a full recovery.",this.area.overlayWidth/2,3*this.area.overlayHeight/4);var e=(this.heartMonitor.audio.context.currentTime-this.startTime)%this.heartMonitor.audio.buffer.duration;e>=.5&&e<1&&this.heartMonitor.volume>0&&(t.globalAlpha=this.heartMonitor.volume,t.beginPath(),t.strokeStyle="green",t.lineWidth=20,t.strokeRect(0,0,this.area.overlayWidth,this.area.overlayHeight),t.stroke()),t.globalAlpha=1}}]),t}(),Me=function(){function t(){(0,h.Z)(this,t),(0,p.Z)(this,"tags",[]),(0,p.Z)(this,"entity",void 0),(0,p.Z)(this,"fadeAlpha",0),(0,p.Z)(this,"blackAlpha",0)}return(0,c.Z)(t,[{key:"onCreate",value:function(t){this.entity=t,this.entity.setTimer(1,15,!0),this.entity.area.state.enterPortal.play()}},{key:"onDestroy",value:function(){}},{key:"onStep",value:function(){}},{key:"onTimer",value:function(t){1===t&&(this.fadeForestAmbience(),this.fadeOut()),2===t&&this.fadeToBlack(),3===t&&this.entity.area.game.setArea(new Te)}},{key:"fadeForestAmbience",value:function(){this.entity.area.state.forestAmbience.volume=1-this.fadeAlpha}},{key:"fadeOut",value:function(){this.fadeAlpha=ct(this.fadeAlpha+.1,0,1),this.fadeAlpha>=1&&(this.entity.clearTimer(1),this.entity.area.state.forestAmbience.stop(),this.entity.setTimer(2,10,!0))}},{key:"fadeToBlack",value:function(){this.blackAlpha=ct(this.blackAlpha+.1,0,1),this.blackAlpha>=1&&(this.entity.clearTimer(2),this.entity.setTimer(3,200,!1))}},{key:"onDraw",value:function(t){t.globalAlpha=this.fadeAlpha,t.fillStyle="#29004a",t.fillRect(0,0,this.entity.area.overlayWidth,this.entity.area.overlayHeight),t.globalAlpha=this.blackAlpha,t.fillStyle="black",t.fillRect(0,0,this.entity.area.overlayWidth,this.entity.area.overlayHeight),t.globalAlpha=1}}]),t}();function Ce(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Be(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Be(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Be(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var Re=function(){function t(e,n){(0,h.Z)(this,t),(0,p.Z)(this,"tags",["wall"]),(0,p.Z)(this,"entity",void 0),(0,p.Z)(this,"row",void 0),(0,p.Z)(this,"column",void 0),(0,p.Z)(this,"interactMask",void 0),(0,p.Z)(this,"exitMask",void 0),(0,p.Z)(this,"portalObject",void 0),(0,p.Z)(this,"ballMat",void 0),(0,p.Z)(this,"mixer",void 0),(0,p.Z)(this,"portalAction",void 0),this.row=e,this.column=n}return(0,c.Z)(t,[{key:"onCreate",value:function(t){this.entity=t;var e=this.entity.area.game.assets.getObject("Portal").clone();e.position.copy(t.area.state.tileLocationToPosition(this.row,this.column)),e.position.y=-.5,e.scale.set(2,2,2),e.updateWorldMatrix(!1,!0);var n,i=Ce(e.children);try{for(i.s();!(n=i.n()).done;)n.value.castShadow=!0}catch(t){i.e(t)}finally{i.f()}this.entity.object=e,this.portalObject=e.children[2],this.portalObject.visible=!1,this.ballMat=e.children[4].material,this.ballMat.color.set(3289650);var r=new j(e.children[1]),o=new j(e.children[3]);this.entity.mask=new I(r,o),this.interactMask=new P(e.children[2]),this.exitMask=new j(e.children[2]),this.mixer=new A.Xcj(e),this.portalAction=this.mixer.clipAction(t.area.game.assets.getAnimation("PortalEnergyAction")),this.portalAction.loop=A.uEv}},{key:"onDestroy",value:function(){}},{key:"onStep",value:function(){this.mixer.update(.01),this.portalObject.visible?this.testPlayerEntersPortal():(this.testActivatePortal(),this.handleUserMessage())}},{key:"testActivatePortal",value:function(){0===this.entity.area.state.energyLeft&&(this.portalObject.visible=!0,this.ballMat.color.set(13386496),this.portalAction.play())}},{key:"handleUserMessage",value:function(){var t=this.entity.area.findFirstEntity("player");if(null!==t&&this.interactMask.isCollidingWith(t.mask)){var e=this.entity.area.state,n=this.entity.area.findFirstEntity("hud");null!==n&&0===n.state.message.length&&(n.state.message="Portal requires "+e.totalEnergy+" total energy to activate")}}},{key:"testPlayerEntersPortal",value:function(){var t=this.entity.area.findFirstEntity("player");if(null!==t&&this.exitMask.isCollidingWith(t.mask)){t.destroy();var e,n=Ce(this.entity.area.findEntities("hud"));try{for(n.s();!(e=n.n()).done;)e.value.destroy()}catch(t){n.e(t)}finally{n.f()}this.entity.area.createEntity(new Me)}}},{key:"onTimer",value:function(t){}},{key:"onDraw",value:function(t){}}]),t}();var Ee=function(t){(0,y.Z)(r,t);var e,n,i=(e=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=(0,v.Z)(e);if(n){var r=(0,v.Z)(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return(0,d.Z)(this,t)});function r(t,e){var n;return(0,h.Z)(this,r),n=i.call(this,t,e,"Door"),(0,p.Z)((0,f.Z)(n),"tags",["wall"]),(0,p.Z)((0,f.Z)(n),"showMessage",!1),n}return(0,c.Z)(r,[{key:"onCreateDoor",value:function(){this.entity.object.scale.y=20/3,this.entity.object.scale.x=10,this.entity.object.children[0].visible=!1}},{key:"onDestroy",value:function(){}},{key:"onStepDoor",value:function(){if(this.testIfAllItemsCollected(),this.showMessage){var t=this.entity.area.findFirstEntity("hud");null!==t&&(t.state.message="Collect all energy to activate the portal!")}}},{key:"testIfAllItemsCollected",value:function(){if(!this.open){var t=this.entity.area.game.resources.getResource("inventory");t.hasCollectedGun()&&t.hasCollectedMap()&&this.openBigDoor()}}},{key:"openBigDoor",value:function(){this.entity.area.game.resources.getResource("door-state").openBigDoor(),this.openDoor(1/8),this.showMessage=!0,this.entity.setTimer(0,400,!1);var t=this.entity.area.state;t.openBigDoor.volume=8,t.openBigDoor.play()}},{key:"onTimer",value:function(t){0===t&&(this.showMessage=!1)}},{key:"onDraw",value:function(t){}}]),r}(V);function je(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Pe(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pe(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Pe(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var Ie=function(){function t(){(0,h.Z)(this,t)}return(0,c.Z)(t,[{key:"addAll",value:function(t){var e,n=je(t);try{for(n.s();!(e=n.n()).done;){var i=e.value;this.add(i)}}catch(t){n.e(t)}finally{n.f()}}},{key:"addRecursive",value:function(t){this.add(t);var e,n=je(t.children);try{for(n.s();!(e=n.n()).done;){var i=e.value;this.addRecursive(i)}}catch(t){n.e(t)}finally{n.f()}}},{key:"addParents",value:function(t){this.add(t),null!==t.parent&&this.addParents(t.parent)}},{key:"removeAll",value:function(t){var e,n=je(t);try{for(n.s();!(e=n.n()).done;){var i=e.value;this.remove(i)}}catch(t){n.e(t)}finally{n.f()}}},{key:"removeRecursive",value:function(t){this.remove(t);var e,n=je(t.children);try{for(n.s();!(e=n.n()).done;){var i=e.value;this.removeRecursive(i)}}catch(t){n.e(t)}finally{n.f()}}},{key:"removeParents",value:function(t){this.remove(t),null!==t.parent&&this.removeParents(t.parent)}}]),t}();var Le=function(t){(0,y.Z)(r,t);var e,n,i=(e=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=(0,v.Z)(e);if(n){var r=(0,v.Z)(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return(0,d.Z)(this,t)});function r(t){var e;return(0,h.Z)(this,r),e=i.call(this),(0,p.Z)((0,f.Z)(e),"set",new Set),void 0!==t&&e.addRecursive(t),e}return(0,c.Z)(r,[{key:"hasNode",value:function(t){return this.set.has(t)}},{key:"add",value:function(t){this.set.add(t)}},{key:"remove",value:function(t){this.set.delete(t)}},{key:"getAllNodes",value:function(){return Array.from(this.set)}},{key:"size",get:function(){return this.set.size}},{key:"pickAnyRandom",value:function(){var t=this.getAllNodes();return 0===t.length?null:ht(t)}}]),r}(Ie);function Fe(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Oe(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oe(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Oe(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var We=function(){function t(e){(0,h.Z)(this,t),(0,p.Z)(this,"root",void 0),(0,p.Z)(this,"maxDoors",void 0),(0,p.Z)(this,"lever",void 0),(0,p.Z)(this,"regularToggleDoors",new Set),(0,p.Z)(this,"allowdSpots",void 0),this.root=e}return(0,c.Z)(t,[{key:"generateInverseToggleDoors",value:function(){this.findToggleDoors(this.root),this.maxDoors=this.regularToggleDoors.size,this.allowdSpots=new Le(this.root);var e,n=Fe(this.regularToggleDoors);try{for(n.s();!(e=n.n()).done;){var i=e.value,r=t.findPathBetween(i,this.lever);this.allowdSpots.removeAll(r)}}catch(t){n.e(t)}finally{n.f()}var a,s=Fe(this.regularToggleDoors);try{for(s.s();!(a=s.n()).done;){var l=a.value;this.allowdSpots.removeRecursive(l)}}catch(t){s.e(t)}finally{s.f()}var u,h=Fe(this.allowdSpots.getAllNodes());try{for(h.s();!(u=h.n()).done;){var c=u.value;c.object!==o.Empty&&this.allowdSpots.remove(c)}}catch(t){h.e(t)}finally{h.f()}var f,y=Fe(this.allowdSpots.getAllNodes());try{for(y.s();!(f=y.n()).done;){var d=f.value;d.row%2!=0&&d.column%2!=0&&this.allowdSpots.remove(d)}}catch(t){y.e(t)}finally{y.f()}for(var v=0;v<this.regularToggleDoors.size;v+=1){var p=this.allowdSpots.pickAnyRandom();if(null===p)return;this.allowdSpots.remove(p),p.object=o.InverseToggleDoor}}},{key:"findToggleDoors",value:function(t){t.object===o.Lever?this.lever=t:t.object===o.ToggleDoor&&this.regularToggleDoors.add(t);var e,n=Fe(t.children);try{for(n.s();!(e=n.n()).done;){var i=e.value;this.findToggleDoors(i)}}catch(t){n.e(t)}finally{n.f()}}}],[{key:"findPathBetween",value:function(t,e){for(var n=[t],i=t.parent;null!==i;)n.push(i),i=i.parent;var r=[e];for(i=e.parent;null!==i;)r.push(i),i=i.parent;for(n.reverse(),r.reverse();n.length>0&&r.length>0&&n[0]===r[0];)n.shift(),r.shift();var o=[].concat(n,r);return n.length>0?o.push(n[0].parent):r.length>0&&o.push(r[0].parent),o}}]),t}();function Ge(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Ne(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ne(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Ne(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var He=function(t){(0,y.Z)(r,t);var e,n,i=(e=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=(0,v.Z)(e);if(n){var r=(0,v.Z)(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return(0,d.Z)(this,t)});function r(t){var e;return(0,h.Z)(this,r),e=i.call(this),(0,p.Z)((0,f.Z)(e),"vertices",new Map),(0,p.Z)((0,f.Z)(e),"highest",0),void 0!==t&&e.addRecursive(t),e}return(0,c.Z)(r,[{key:"highestDepth",get:function(){return this.highest}},{key:"hasNode",value:function(t){return this.vertices.has(t.depth)&&this.vertices.get(t.depth).has(t)}},{key:"add",value:function(t){this.vertices.has(t.depth)||this.vertices.set(t.depth,new Set),this.vertices.get(t.depth).add(t),this.highest=Math.max(this.highest,t.depth)}},{key:"remove",value:function(t){this.vertices.has(t.depth)&&this.vertices.get(t.depth).delete(t)}},{key:"pickRandom",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=this.getAllNodesBy(t,e,n);return 0===i.length?null:ht(i)}},{key:"size",get:function(){var t,e=0,n=Ge(this.vertices);try{for(n.s();!(t=n.n()).done;){var i=(0,u.Z)(t.value,2);i[0],e+=i[1].size}}catch(t){n.e(t)}finally{n.f()}return e}},{key:"getAllNodes",value:function(){var t,e=[],n=Ge(this.vertices);try{for(n.s();!(t=n.n()).done;){var i=t.value;e.push.apply(e,(0,D.Z)(i[1]))}}catch(t){n.e(t)}finally{n.f()}return e}},{key:"getAllNodesBy",value:function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=[],r=t;r<=e;r+=1)if(this.vertices.has(r)){var o=this.vertices.get(r);i.push.apply(i,(0,D.Z)(o))}return i.filter((function(t){return t.absoluteDepth>=n}))}}]),r}(Ie);function ze(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Ke(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ke(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Ke(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var _e=function(){function t(e){(0,h.Z)(this,t),(0,p.Z)(this,"root",void 0),(0,p.Z)(this,"hist",void 0),(0,p.Z)(this,"minDepth",void 0),(0,p.Z)(this,"doorsLeft",void 0),(0,p.Z)(this,"itemsNeeded",void 0),(0,p.Z)(this,"itemsReused",void 0),this.root=e}return(0,c.Z)(t,[{key:"generateMainPath",value:function(){do{this.resetAlgorithm(),this.runAlgorithmOnce()}while(this.doorsLeft.size>0)}},{key:"resetAlgorithm",value:function(){t.resetVertices(this.root),this.hist=new He(this.root),this.minDepth=Math.max(0,this.hist.highestDepth-Math.floor(2.5)),this.doorsLeft=new Set(k),this.itemsNeeded=[],this.itemsReused=new Set}},{key:"runAlgorithmOnce",value:function(){var e=this.pickRandomDoorLocation();if(null!==e){this.hist.removeRecursive(e),this.shiftMinDepth();var n=ht(Array.from(this.doorsLeft));this.doorsLeft.delete(n),e.object=n,t.putEnergyBehind(e),this.computeItemsNeeded(n);t:for(;this.itemsNeeded.length>0;){var i=(0,D.Z)(this.itemsNeeded);this.itemsNeeded=[];var r,a=ut(0,i.length-1),s=void 0,l=ze(i.entries());try{for(l.s();!(r=l.n()).done;){var h=(0,u.Z)(r.value,2),c=h[0],f=h[1],y=this.pickRandomItemLocation();if(null===y){e.object=o.Empty,this.doorsLeft.add(n);break t}y.object=f,this.hist.removeRecursive(y),c===a&&(s=y)}}catch(t){l.e(t)}finally{l.f()}if(this.doorsLeft.size>0){if(null===(e=this.pickRandomParentDoorLocation(s)))break t;this.hist.removeRecursive(e),n=ht(Array.from(this.doorsLeft)),this.doorsLeft.delete(n),e.object=n,this.computeItemsNeeded(n)}this.shiftMinDepth()}}}},{key:"pickRandomDoorLocation",value:function(){var t=this.hist.pickRandom(this.minDepth,this.minDepth+5,9);return null===t?null:t.row%2!=0&&t.column%2!=0?t.parent:t}},{key:"pickRandomParentDoorLocation",value:function(t){for(var e=new Le,n=t,i=0;i<7&&null!==n;i+=1)n=n.parent,i<3||n.object===o.Empty&&(n.row%2!=0&&n.column%2!=0||e.add(n));return e.pickAnyRandom()}},{key:"pickRandomItemLocation",value:function(){return this.hist.pickRandom(this.minDepth,this.minDepth+5,9)}},{key:"shiftMinDepth",value:function(){this.minDepth=Math.max(0,this.minDepth-1)}},{key:"computeItemsNeeded",value:function(t){var e=Z[t];void 0!==e.oneTimeItem&&this.itemsNeeded.push(e.oneTimeItem),void 0===e.reuseItem||this.itemsReused.has(e.reuseItem)||(this.itemsNeeded.push(e.reuseItem),this.itemsReused.add(e.reuseItem))}}],[{key:"resetVertices",value:function(e){e.object=o.Empty;var n,i=ze(e.children);try{for(i.s();!(n=i.n()).done;){var r=n.value;t.resetVertices(r)}}catch(t){i.e(t)}finally{i.f()}}},{key:"putEnergyBehind",value:function(t){var e=new Le(t);e.remove(t);var n,i=ze(e.getAllNodes());try{for(i.s();!(n=i.n()).done;){var r=n.value;r.object!==o.Empty&&e.remove(r)}}catch(t){i.e(t)}finally{i.f()}var a=e.pickAnyRandom();null!==a&&(a.object=o.Energy)}}]),t}();function Ye(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Ue(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ue(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Ue(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var Xe=function(){function t(e,n,i,r){(0,h.Z)(this,t),(0,p.Z)(this,"width",void 0),(0,p.Z)(this,"height",void 0),(0,p.Z)(this,"centerWidth",void 0),(0,p.Z)(this,"centerHeight",void 0),(0,p.Z)(this,"walls",void 0),this.width=2*e+1,this.height=2*n+1,this.centerWidth=i,this.centerHeight=r}return(0,c.Z)(t,[{key:"generateRandomMaze",value:function(){var t=this;this.walls=Array(this.height).fill(null).map((function(){return Array(t.width).fill(null).map((function(){return!0}))})),this.chiselHoles(),this.fillCenterTemplate();var e=function(t,e,n){var i,r=n(t),o=[r],a=new Map,s=Ye(t);try{for(s.s();!(i=s.n()).done;){var l=i.value;a.set(l,[])}}catch(t){s.e(t)}finally{s.f()}for(;r;){var u=t.filter((function(t){return!a.get(t).length&&e(r,t)}));if(u.length){var h=n(u);a.get(r).push(h),a.get(h).push(r),o.unshift(h),r=h}else o.shift(),r=o[0]}return a}(this.getAllVertices(),Ve,ht);return this.placeVertexWalls(e),this.walls}},{key:"chiselHoles",value:function(){for(var t=1;t<this.height-1;t+=2)for(var e=1;e<this.width-1;e+=2)this.walls[t][e]=!1}},{key:"fillCenterTemplate",value:function(){for(var t=Math.floor((this.height-this.centerHeight)/2)+Number(!(this.centerHeight%2)),e=t+this.centerHeight+Number(!(this.centerHeight%2)),n=Math.floor((this.width-this.centerWidth)/2)+Number(!(this.centerWidth%2)),i=n+this.centerWidth+Number(!(this.centerWidth%2)),r=t;r<e;r+=1)for(var o=n;o<i;o+=1)this.walls[r][o]=!0}},{key:"getAllVertices",value:function(){for(var t=[],e=1;e<this.height-1;e+=1)for(var n=1;n<this.width-1;n+=1)this.walls[e][n]||t.push({row:e,col:n});return t}},{key:"placeVertexWalls",value:function(t){var e,n=Ye(t);try{for(n.s();!(e=n.n()).done;){var i,r=(0,u.Z)(e.value,2),o=r[0],a=Ye(r[1]);try{for(a.s();!(i=a.n()).done;){var s=i.value,l=o.row+(s.row-o.row)/2,h=o.col+(s.col-o.col)/2;this.walls[l][h]=!1}}catch(t){a.e(t)}finally{a.f()}}}catch(t){n.e(t)}finally{n.f()}}}]),t}();function Ve(t,e){return Math.abs(e.row-t.row)+Math.abs(e.col-t.col)===2}function $e(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return qe(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qe(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function qe(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var Qe=new Set([o.RedKey,o.YellowKey,o.GreenKey,o.BlueKey,o.Lever,o.Battery,o.ABox,o.BBox,o.CBox]),Je=new Set([o.RedDoor,o.YellowDoor,o.GreenDoor,o.BlueDoor]),tn=function(){function t(e){(0,h.Z)(this,t),(0,p.Z)(this,"root",void 0),(0,p.Z)(this,"mainNodes",void 0),(0,p.Z)(this,"sideNodeDoors",void 0),(0,p.Z)(this,"minDepth",void 0),(0,p.Z)(this,"coloredDoor",new Map),this.root=e}return(0,c.Z)(t,[{key:"generateSidePaths",value:function(){this.mainNodes=new He,this.sideNodeDoors=new He(this.root),this.processItemNodes(this.root),this.minDepth=Math.max(0,this.sideNodeDoors.highestDepth-Math.floor(1));do{this.addSingleRandomDoor(),this.shiftMinDepth()}while(this.minDepth>0)}},{key:"processItemNodes",value:function(t){this.loadItemNodesRecursive(t);var e,n=$e(this.mainNodes.getAllNodes());try{for(n.s();!(e=n.n()).done;){var i=e.value;i.object!==o.Empty&&this.mainNodes.remove(i)}}catch(t){n.e(t)}finally{n.f()}var r,a=$e(this.sideNodeDoors.getAllNodes());try{for(a.s();!(r=a.n()).done;){var s=r.value;s.object!==o.Empty&&this.sideNodeDoors.remove(s),s.row%2!=0&&s.column%2!=0&&this.sideNodeDoors.remove(s)}}catch(t){a.e(t)}finally{a.f()}}},{key:"loadItemNodesRecursive",value:function(t){Qe.has(t.object)&&(this.mainNodes.addParents(t),this.sideNodeDoors.removeParents(t)),Je.has(t.object)&&this.coloredDoor.set(t.object,t);var e,n=$e(t.children);try{for(n.s();!(e=n.n()).done;){var i=e.value;this.loadItemNodesRecursive(i)}}catch(t){n.e(t)}finally{n.f()}}},{key:"addSingleRandomDoor",value:function(){var e=ht(k),n=this.pickRandomDoorLocation(this.coloredDoor.get(e));if(null!==n){this.sideNodeDoors.removeRecursive(n),n.object=e,t.putEnergyBehind(n);var i=Z[e];if(void 0!==i.oneTimeItem&&void 0===i.reuseItem){var r=i.oneTimeItem,a=this.mainNodes.pickRandom(0,this.mainNodes.highestDepth);null!==a?(a.object=r,this.mainNodes.remove(a)):n.object=o.Empty}}}},{key:"pickRandomDoorLocation",value:function(e){var n=new Le;if(n.addAll(this.sideNodeDoors.getAllNodesBy(this.minDepth,this.minDepth+2,2)),void 0!==e){var i,r=$e(n.getAllNodes());try{for(r.s();!(i=r.n()).done;){var o=i.value;t.isParentOf(e,o)||n.remove(o)}}catch(t){r.e(t)}finally{r.f()}}return n.pickAnyRandom()}},{key:"shiftMinDepth",value:function(){this.minDepth=Math.max(0,this.minDepth-1)}}],[{key:"isParentOf",value:function(t,e){for(var n=e.parent;null!==n;){if(n===t)return!0;n=n.parent}return!1}},{key:"putEnergyBehind",value:function(t){var e=new Le(t);e.remove(t);var n,i=$e(e.getAllNodes());try{for(i.s();!(n=i.n()).done;){var r=n.value;r.object!==o.Empty&&e.removeRecursive(r)}}catch(t){i.e(t)}finally{i.f()}var a=e.pickAnyRandom();null!==a&&(a.object=o.Energy)}}]),t}();function en(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var nn=[[-1,0],[1,0],[0,-1],[0,1]];function rn(t,e,n){return on(t,e,n,0,0,NaN,NaN)}function on(t,e,n,i,r,a,s){var l,h={row:e,column:n,object:o.Empty,parent:null,children:[],depth:i,absoluteDepth:r},c=nn.map((function(t){var i=(0,u.Z)(t,2),r=i[0],o=i[1];return[e+r,n+o]})).filter((function(e){var n=(0,u.Z)(e,2),i=n[0],r=n[1];return!t[i][r]})).filter((function(t){var e=(0,u.Z)(t,2),n=e[0],i=e[1];return!(n===a&&i===s)})),f=i+Number(c.length>1),y=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return en(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?en(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(c);try{for(y.s();!(l=y.n()).done;){var d=(0,u.Z)(l.value,2),v=d[0],p=d[1],m=on(t,v,p,f,r+1,e,n);m.parent=h,h.children.push(m)}}catch(t){y.e(t)}finally{y.f()}return h}function an(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return sn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sn(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function sn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var ln=function(){function t(e,n,i){(0,h.Z)(this,t),(0,p.Z)(this,"width",void 0),(0,p.Z)(this,"height",void 0),(0,p.Z)(this,"centerTemplate",void 0),(0,p.Z)(this,"numEnergy",20),(0,p.Z)(this,"numDrones",10),(0,p.Z)(this,"numRocks",15),(0,p.Z)(this,"emptySpots",void 0),(0,p.Z)(this,"energySpots",void 0),this.width=e,this.height=n,this.centerTemplate=i}return(0,c.Z)(t,[{key:"templateWidth",get:function(){return this.centerTemplate[0].length}},{key:"templateHeight",get:function(){return this.centerTemplate.length}},{key:"generateMaze",value:function(){var e=new Xe(this.width,this.height,this.templateWidth,this.templateHeight).generateRandomMaze(),n=this.getRootNode(),i=(0,u.Z)(n,2),r=rn(e,i[0],i[1]);new _e(r).generateMainPath(),new tn(r).generateSidePaths(),new We(r).generateInverseToggleDoors(),this.computeEmptySpots(r),this.addOrRemoveEnergy(),this.addDrones(),this.addRocks();var a=e.map((function(t){return t.map((function(t){return t?o.Wall:o.Empty}))}));return this.fillTemplate(a),t.loadNodes(a,r),a}},{key:"getRootNode",value:function(){for(var t=this.getTemplateTopRow(),e=t+this.templateHeight-1,n=this.getTemplateLeftColumn(),i=n+this.templateWidth-1,r=0;r<this.templateWidth;r+=1)if(this.centerTemplate[0][r]===o.BigDoor)return[t-1,n+r];for(var a=0;a<this.templateWidth;a+=1)if(this.centerTemplate[this.templateHeight-1][a]===o.BigDoor)return[e+1,n+a];for(var s=0;s<this.templateHeight;s+=1)if(this.centerTemplate[s][0]===o.BigDoor)return[t+s,n-1];for(var l=0;l<this.templateHeight;l+=1)if(this.centerTemplate[l][this.templateWidth-1]===o.BigDoor)return[t+l,i+1];return[t-1,n+Math.floor(this.templateWidth/2)]}},{key:"getTemplateTopRow",value:function(){return Math.floor((2*this.height+1-this.templateHeight)/2)+Number(!(this.templateHeight%2))}},{key:"getTemplateLeftColumn",value:function(){return Math.floor((2*this.width+1-this.templateWidth)/2)+Number(!(this.templateWidth%2))}},{key:"fillTemplate",value:function(t){for(var e=this.getTemplateTopRow(),n=e+this.templateHeight,i=this.getTemplateLeftColumn(),r=i+this.templateWidth,o=e;o<n;o+=1)for(var a=i;a<r;a+=1)t[o][a]=this.centerTemplate[o-e][a-i]}},{key:"computeEmptySpots",value:function(t){this.emptySpots=new Le(t),this.energySpots=new Le;var e,n=an(this.emptySpots.getAllNodes());try{for(n.s();!(e=n.n()).done;){var i=e.value;i.object===o.Energy&&this.energySpots.add(i),i.object!==o.Empty&&this.emptySpots.remove(i)}}catch(t){n.e(t)}finally{n.f()}}},{key:"addOrRemoveEnergy",value:function(){if(this.energySpots.size>this.numEnergy)for(;this.energySpots.size>this.numEnergy;){var t=this.energySpots.pickAnyRandom();if(null===t)return;this.energySpots.remove(t),t.object=o.Empty,this.emptySpots.add(t)}else for(;this.energySpots.size<this.numEnergy;){var e=this.emptySpots.pickAnyRandom();if(null===e)return;this.emptySpots.remove(e),e.object=o.Energy,this.energySpots.add(e)}}},{key:"addDrones",value:function(){for(var t=0;t<this.numDrones;t+=1){var e=this.emptySpots.pickAnyRandom();if(null===e)return;this.emptySpots.remove(e),e.object=o.Drone}}},{key:"addRocks",value:function(){for(var t=0;t<this.numRocks;t+=1){var e=this.emptySpots.pickAnyRandom();if(null===e)return;this.emptySpots.remove(e),e.object=o.Rock}}}],[{key:"loadNodes",value:function(t,e){t[e.row][e.column]=e.object;var n,i=an(e.children);try{for(i.s();!(n=i.n()).done;){var r=n.value;this.loadNodes(t,r)}}catch(t){i.e(t)}finally{i.f()}}}]),t}(),un=function(){function t(e,n){(0,h.Z)(this,t),(0,p.Z)(this,"tags",["map"]),(0,p.Z)(this,"entity",void 0),(0,p.Z)(this,"row",void 0),(0,p.Z)(this,"column",void 0),this.row=e,this.column=n}return(0,c.Z)(t,[{key:"onCreate",value:function(t){this.entity=t;var e=t.area.game.assets.getObject("Map").clone();e.position.copy(t.area.state.tileLocationToPosition(this.row,this.column)),e.position.y=2,e.rotation.y=lt(0,2*Math.PI),e.scale.set(.125,.125,.125),e.castShadow=!0,this.entity.object=e,this.entity.mask=new P(this.entity.object)}},{key:"onDestroy",value:function(){var t=this.entity.area.state;t.maze[this.row][this.column]=o.Empty,this.entity.area.game.resources.getResource("inventory").collectMap(),t.collectItem.play()}},{key:"onStep",value:function(){this.entity.object.rotateY(Math.PI/256);var t=this.entity.area.findFirstEntity("player");null!==t&&this.entity.isCollidingWith(t)&&this.entity.destroy()}},{key:"onTimer",value:function(t){}},{key:"onDraw",value:function(t){}}]),t}();function hn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var cn=function(){function t(e,n){(0,h.Z)(this,t),(0,p.Z)(this,"tags",["gun"]),(0,p.Z)(this,"entity",void 0),(0,p.Z)(this,"row",void 0),(0,p.Z)(this,"column",void 0),this.row=e,this.column=n}return(0,c.Z)(t,[{key:"onCreate",value:function(t){this.entity=t;var e=t.area.game.assets.getObject("Gun").clone();e.position.copy(t.area.state.tileLocationToPosition(this.row,this.column)),e.position.y=2,e.rotation.y=lt(0,2*Math.PI),e.scale.set(.35,.35,.35);var n,i=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return hn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hn(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(e.children[0].children);try{for(i.s();!(n=i.n()).done;)n.value.castShadow=!0}catch(t){i.e(t)}finally{i.f()}this.entity.object=e,this.entity.mask=new P(this.entity.object)}},{key:"onDestroy",value:function(){var t=this.entity.area.state;t.maze[this.row][this.column]=o.Empty,this.entity.area.game.resources.getResource("inventory").collectGun(),t.collectItem.play()}},{key:"onStep",value:function(){this.entity.object.rotateY(Math.PI/256);var t=this.entity.area.findFirstEntity("player");null!==t&&this.entity.isCollidingWith(t)&&this.entity.destroy()}},{key:"onTimer",value:function(t){}},{key:"onDraw",value:function(t){}}]),t}();var fn,yn=function(t){(0,y.Z)(r,t);var e,n,i=(e=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=(0,v.Z)(e);if(n){var r=(0,v.Z)(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return(0,d.Z)(this,t)});function r(){return(0,h.Z)(this,r),i.call(this)}return(0,c.Z)(r,[{key:"onTick",value:function(t){this.entity.area.state.forestAmbience.volume=1-t}}]),r}(mt),dn=n(3012);function vn(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return pn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pn(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function pn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var mn=(fn={},(0,p.Z)(fn,o.Rock,(function(t,e){return new be(t,e)})),(0,p.Z)(fn,o.RedDoor,kn(Dt.Red)),(0,p.Z)(fn,o.YellowDoor,kn(Dt.Yellow)),(0,p.Z)(fn,o.GreenDoor,kn(Dt.Green)),(0,p.Z)(fn,o.BlueDoor,kn(Dt.Blue)),(0,p.Z)(fn,o.RedKey,Zn(Dt.Red)),(0,p.Z)(fn,o.YellowKey,Zn(Dt.Yellow)),(0,p.Z)(fn,o.GreenKey,Zn(Dt.Green)),(0,p.Z)(fn,o.BlueKey,Zn(Dt.Blue)),(0,p.Z)(fn,o.Battery,(function(t,e){return new we(t,e)})),(0,p.Z)(fn,o.Lever,(function(t,e){return new ke(t,e)})),(0,p.Z)(fn,o.ToggleDoor,(function(t,e){return new De(t,e)})),(0,p.Z)(fn,o.InverseToggleDoor,(function(t,e){return new De(t,e,!0)})),(0,p.Z)(fn,o.ABox,bn($t.A)),(0,p.Z)(fn,o.BBox,bn($t.B)),(0,p.Z)(fn,o.CBox,bn($t.C)),(0,p.Z)(fn,o.ADoor,wn($t.A)),(0,p.Z)(fn,o.BDoor,wn($t.B)),(0,p.Z)(fn,o.CDoor,wn($t.C)),(0,p.Z)(fn,o.Drone,(function(t,e){return new te(t,e)})),(0,p.Z)(fn,o.BigDoor,(function(t,e){return new Ee(t,e)})),(0,p.Z)(fn,o.Map,(function(t,e){return new un(t,e)})),(0,p.Z)(fn,o.Gun,(function(t,e){return new cn(t,e)})),fn),gn=function(t){(0,y.Z)(r,t);var e,n,i=(e=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=(0,v.Z)(e);if(n){var r=(0,v.Z)(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return(0,d.Z)(this,t)});function r(){var t;return(0,h.Z)(this,r),t=i.call(this,r.generateNewMaze()),(0,p.Z)((0,f.Z)(t),"area",void 0),(0,p.Z)((0,f.Z)(t),"_totalEnergy",void 0),(0,p.Z)((0,f.Z)(t),"playerTileLocation",void 0),(0,p.Z)((0,f.Z)(t),"playerAngle",void 0),(0,p.Z)((0,f.Z)(t),"forestAmbience",void 0),(0,p.Z)((0,f.Z)(t),"playerShoot",void 0),(0,p.Z)((0,f.Z)(t),"droneShoot",void 0),(0,p.Z)((0,f.Z)(t),"hitObject",void 0),(0,p.Z)((0,f.Z)(t),"oofSound",void 0),(0,p.Z)((0,f.Z)(t),"collectItem",void 0),(0,p.Z)((0,f.Z)(t),"openDoor",void 0),(0,p.Z)((0,f.Z)(t),"openBigDoor",void 0),(0,p.Z)((0,f.Z)(t),"toggleLever",void 0),(0,p.Z)((0,f.Z)(t),"electricBox",void 0),(0,p.Z)((0,f.Z)(t),"explosion",void 0),(0,p.Z)((0,f.Z)(t),"activatePortal",void 0),(0,p.Z)((0,f.Z)(t),"enterPortal",void 0),t}return(0,c.Z)(r,[{key:"getPlayerTileLocation",value:function(){return this.playerTileLocation}},{key:"getPlayerAngle",value:function(){return this.playerAngle}},{key:"totalEnergy",get:function(){return this._totalEnergy}},{key:"energyLeft",get:function(){return this.area.findEntities("energy").length}},{key:"onCreate",value:function(t){this.area=t;var e=t.game.assets.getTexture("SkyboxBG");t.scene.background=e,this.area.createEntity(new z),t.scene.add(new A.Mig(16777215,.5)),t.game.renderer.shadowMap.enabled=!0,this.forestAmbience=t.createAudio("ForestAmbience"),this.playerShoot=t.createAudio("PlayerShoot"),this.droneShoot=t.createAudio("DroneShoot"),this.hitObject=t.createAudio("HitObject"),this.oofSound=t.createAudio("Oof"),this.collectItem=t.createAudio("CollectItem"),this.openDoor=t.createAudio("OpenDoor"),this.openBigDoor=t.createAudio("OpenBigDoor"),this.toggleLever=t.createAudio("ToggleLever"),this.electricBox=t.createAudio("ElectricBox"),this.explosion=t.createAudio("Explosion"),this.activatePortal=t.createAudio("ActivatePortal"),this.enterPortal=t.createAudio("EnterPortal"),this.forestAmbience.volume=0,this.forestAmbience.play(!0),this.area.game.resources.setResource("health",new ye),this.area.game.resources.setResource("inventory",new de),this.area.game.resources.setResource("door-state",new Se),this.area.createEntity(new Y(this.mazeWidth,this.mazeHeight)),this.buildMaze(),this.area.createEntity(new ae),this.area.createEntity(new yn)}},{key:"buildMaze",value:function(){var t,e=null,n=this.maze.reduce((function(t,e){return t+e.reduce((function(t,e){return t+Number(e===o.Wall)}),0)}),0),i=this.area.createEntity(new G(n,this.area)),r=0,a=vn(this.maze.entries());try{for(a.s();!(t=a.n()).done;){var s,l=(0,u.Z)(t.value,2),h=l[0],c=vn(l[1].entries());try{for(c.s();!(s=c.n()).done;){var f=(0,u.Z)(s.value,2),y=f[0],d=f[1];switch(d){case o.Wall:i.state.addWall(h,y,this);break;case o.Energy:r+=1,this.area.createEntity(new ge(h,y));break;case o.Portal:null===e&&(e=[h,y],this.area.createEntity(new Re(h,y)));break;default:var v=mn[d];void 0!==v&&this.area.createEntity(v(h,y,this.area))}}}catch(t){c.e(t)}finally{c.f()}}}catch(t){a.e(t)}finally{a.f()}this._totalEnergy=r,null===e&&(e=[Math.floor(this.mazeWidth/2),Math.floor(this.mazeHeight/2)]),this.playerTileLocation=e,this.area.createEntity(new Rt(e[0],e[1]))}},{key:"onTimer",value:function(t){}},{key:"onStep",value:function(){this.updatePlayerTileLocationAndAngle(),this.area.game.input.isMouseButtonDown(et.Left)&&this.forestAmbience.audio.context.resume()}},{key:"updatePlayerTileLocationAndAngle",value:function(){var t=this.area.findFirstEntity("player");null!==t&&(this.playerTileLocation=this.positionToTileLocation(t.object.position),this.playerAngle=t.state.getFacingAngle())}},{key:"onDraw",value:function(t){}}],[{key:"generateNewMaze",value:function(){return new ln(13,13,w(dn)).generateMaze()}}]),r}(S);function kn(t){return function(e,n){return new Pt(e,n,t)}}function Zn(t){return function(e,n){return new Lt(e,n,t)}}function bn(t){return function(e,n){return new Ae(e,n,t)}}function wn(t){return function(e,n){return new xe(e,n,t)}}var An=function(t){(0,y.Z)(r,t);var e,n,i=(e=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=(0,v.Z)(e);if(n){var r=(0,v.Z)(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return(0,d.Z)(this,t)});function r(){var t;return(0,h.Z)(this,r),t=i.call(this,"Skip"),(0,p.Z)((0,f.Z)(t),"tags",["skip-button"]),t}return(0,c.Z)(r,[{key:"onCreateButton",value:function(){this.x=this.entity.area.overlayWidth-50-20,this.y=this.entity.area.overlayHeight-30-20,this.width=50,this.height=30}},{key:"onDestroy",value:function(){}},{key:"onClick",value:function(){this.entity.area.state.introMusic.stop(),this.entity.area.game.setArea(new gn)}},{key:"onStepButton",value:function(){var t=this.entity.area.game.input;(t.isKeyStarted(Q.Enter)||t.isKeyStarted(Q.Space)||t.isGamepadButtonStarted(0,J.ACross)||t.isGamepadButtonStarted(0,J.XSquare)||t.isGamepadButtonStarted(0,J.YTriangle)||t.isGamepadButtonStarted(0,J.Start)||t.getGamepadAxis(0,tt.RightTrigger)>.5)&&this.onClick()}},{key:"onTimer",value:function(t){}}]),r}(vt),Sn="I remember... ",Dn="I was having a dream...",xn=[5,5,5,5,5,5,5],Tn=[.05,.05,.05,.05,.05,.05,.05],Mn=[150,200,400,250,100,180,10],Cn=function(){function t(){(0,h.Z)(this,t),(0,p.Z)(this,"area",void 0),(0,p.Z)(this,"introMusic",void 0),(0,p.Z)(this,"alpha",[0,0,0,0,0,0,0])}return(0,c.Z)(t,[{key:"shouldDrawFinalLine",value:function(){return this.alpha[5]>0}},{key:"onCreate",value:function(t){this.area=t,this.area.createEntity(new An),this.area.game.input.pointerLockEnabled=!1,this.introMusic=this.area.createAudio("Intro"),this.introMusic.volume=0,this.introMusic.play(!0),this.area.setTimer(1,100,!1),this.area.setTimer(2,200,!1)}},{key:"onTimer",value:function(t){1===t&&this.increaseVolume(),t>=2&&t<=8&&this.handleFadeIn(t,t-2),7===t&&this.decreaseVolume(),9===t&&this.area.game.setArea(new gn)}},{key:"increaseVolume",value:function(){this.introMusic.volume=Math.min(1,this.introMusic.volume+.1),1===this.introMusic.volume?this.area.clearTimer(1):this.area.setTimer(1,10,!1)}},{key:"decreaseVolume",value:function(){this.introMusic.volume=Math.max(0,this.introMusic.volume-Tn[4]),this.introMusic.volume<=Tn[4]&&this.introMusic.stop()}},{key:"handleFadeIn",value:function(t,e){if(1===this.alpha[e])return this.area.clearTimer(t),void this.area.setTimer(t+1,Mn[e],!1);this.alpha[e]=Math.min(1,this.alpha[e]+Tn[e]),e>1&&(this.alpha[e-1]=Math.max(0,this.alpha[e-1]-Tn[e]),this.alpha[e-2]=Math.max(0,this.alpha[e-2]-Tn[e])),this.area.setTimer(t,xn[e],!1)}},{key:"onStep",value:function(){this.area.game.input.isMouseButtonDown(et.Left)&&this.introMusic.audio.context.resume()}},{key:"onDraw",value:function(t){this.shouldDrawFinalLine()?this.drawFinalLine(t):this.drawThreeLines(t)}},{key:"drawThreeLines",value:function(t){t.font="24pt sans-serif",t.textAlign="left",t.textBaseline="middle",t.fillStyle="white";var e=this.area.overlayHeight/3-this.area.overlayHeight/6,n=e+this.area.overlayHeight/3,i=n+this.area.overlayHeight/3,r=t.measureText(Sn),o=t.measureText(Sn+Dn);t.globalAlpha=this.alpha[0],t.fillText(Sn,this.area.overlayWidth/2-o.width/2,e),t.globalAlpha=this.alpha[1],t.fillText(Dn,this.area.overlayWidth/2-o.width/2+r.width,e),t.textAlign="center",t.globalAlpha=this.alpha[2],t.fillText("I was trapped inside a massive labyrinth...",this.area.overlayWidth/2,n),t.globalAlpha=this.alpha[3],t.fillText("But the funny thing is...",this.area.overlayWidth/2,i)}},{key:"drawFinalLine",value:function(t){t.font="24pt sans-serif",t.textAlign="center",t.textBaseline="middle",t.fillStyle="white",t.globalAlpha=this.alpha[5],t.fillText("I don't recall ever waking up from that dream...",this.area.overlayWidth/2,this.area.overlayHeight/2)}}]),t}();var Bn=function(t){(0,y.Z)(r,t);var e,n,i=(e=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=(0,v.Z)(e);if(n){var r=(0,v.Z)(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return(0,d.Z)(this,t)});function r(){return(0,h.Z)(this,r),i.call(this,10)}return(0,c.Z)(r,[{key:"onTick",value:function(t){this.entity.area.state.titleMusic.volume=1-t}},{key:"onFinish",value:function(){this.entity.area.state.titleMusic.stop(),this.entity.area.game.setArea(new Cn)}}]),r}(Zt),Rn=n(8945);function En(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return jn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jn(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function jn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var Pn=(0,p.Z)({},o.BigDoor,(function(t,e){return new nt(t,e)})),In=function(t){(0,y.Z)(r,t);var e,n,i=(e=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=(0,v.Z)(e);if(n){var r=(0,v.Z)(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return(0,d.Z)(this,t)});function r(){var t;return(0,h.Z)(this,r),t=i.call(this,w(Rn)),(0,p.Z)((0,f.Z)(t),"area",void 0),(0,p.Z)((0,f.Z)(t),"camera",void 0),(0,p.Z)((0,f.Z)(t),"cameraPos",[0,0]),(0,p.Z)((0,f.Z)(t),"drawTitle",!0),(0,p.Z)((0,f.Z)(t),"titleMusic",void 0),t}return(0,c.Z)(r,[{key:"onCreate",value:function(t){this.area=t,this.area.createEntity(new Y(this.mazeWidth,this.mazeHeight)),this.buildDummyMaze();var e=t.game.assets.getTexture("SkyboxBG");t.scene.background=e,this.area.createEntity(new z),t.scene.add(new A.Mig(16777215,.5)),t.game.renderer.shadowMap.enabled=!0,this.area.game.input.pointerLockEnabled=!1,this.camera=new A.cPb(50,t.game.canvasWidth/t.game.canvasHeight,.001,1e3),this.area.camera=this.camera;var n=this.tileLocationToPosition(this.cameraPos[0],this.cameraPos[1]);this.camera.position.copy(n),this.camera.position.y=2.5,this.camera.position.x-=2.5,this.camera.quaternion.setFromEuler(new A.USm(Math.PI/30,Math.PI/2,0,"YXZ")),this.titleMusic=this.area.createAudio("Title"),this.titleMusic.play(!0),this.area.createEntity(new pt),this.area.createEntity(new mt(3))}},{key:"buildDummyMaze",value:function(){var t,e=this.maze.reduce((function(t,e){return t+e.reduce((function(t,e){return t+Number(e===o.Wall)}),0)}),0),n=this.area.createEntity(new G(e,this.area)),i=En(this.maze.entries());try{for(i.s();!(t=i.n()).done;){var r,a=(0,u.Z)(t.value,2),s=a[0],l=En(a[1].entries());try{for(l.s();!(r=l.n()).done;){var h=(0,u.Z)(r.value,2),c=h[0],f=h[1];switch(f){case o.Wall:n.state.addWall(s,c,this);break;case o.Portal:this.cameraPos=[s,c];break;default:var y=Pn[f];void 0!==y&&this.area.createEntity(y(s,c,this.area))}}}catch(t){l.e(t)}finally{l.f()}}}catch(t){i.e(t)}finally{i.f()}}},{key:"onTimer",value:function(t){}},{key:"onStep",value:function(){this.camera.aspect=this.area.game.canvasWidth/this.area.game.canvasHeight,this.camera.updateProjectionMatrix();var t=this.area.game.input;t.isMouseButtonDown(et.Left)&&this.titleMusic.audio.context.resume(),(t.isKeyStarted(Q.Enter)||t.isKeyStarted(Q.Space)||t.isGamepadButtonStarted(0,J.ACross)||t.isGamepadButtonStarted(0,J.XSquare)||t.isGamepadButtonStarted(0,J.YTriangle)||t.isGamepadButtonStarted(0,J.Start)||t.getGamepadAxis(0,tt.RightTrigger)>.5)&&this.startGame()}},{key:"startGame",value:function(){if(this.drawTitle){this.drawTitle=!1;var t,e=En(this.area.findEntities("start-button"));try{for(e.s();!(t=e.n()).done;)t.value.destroy()}catch(t){e.e(t)}finally{e.f()}this.area.createEntity(new Bn)}}},{key:"onDraw",value:function(t){if(this.drawTitle){t.font="bold 64pt serif",t.textAlign="center",t.textBaseline="top",t.fillStyle="#0368ff",t.fillText("Trapped Inside",this.area.overlayWidth/2,20),t.beginPath(),t.strokeStyle="black",t.lineWidth=2,t.strokeText("Trapped Inside",this.area.overlayWidth/2,20),t.stroke();var e=t.measureText("Trapped Inside");t.font="18pt sans-serif",t.fillStyle="white",t.fillText("Created by Bryan McClain",this.area.overlayWidth/2,40+e.actualBoundingBoxDescent)}}}]),r}(S),Ln=function(){function t(e,n){(0,h.Z)(this,t),(0,p.Z)(this,"ticksLeft",void 0),(0,p.Z)(this,"ticks",void 0),(0,p.Z)(this,"looping",void 0),(0,p.Z)(this,"running",void 0),this.ticksLeft=e,this.ticks=e,this.looping=n,this.running=!0}return(0,c.Z)(t,[{key:"isRunning",value:function(){return this.running}},{key:"setRunning",value:function(t){this.running=t}},{key:"tick",value:function(){switch(this.ticksLeft){case 0:return!1;case 1:return this.looping?this.ticksLeft=this.ticks:this.ticksLeft=0,!0;default:return this.ticksLeft-=1,!1}}}]),t}();function Fn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var On=function(){function t(e,n){(0,h.Z)(this,t),(0,p.Z)(this,"area",void 0),(0,p.Z)(this,"state",void 0),(0,p.Z)(this,"mask",void 0),(0,p.Z)(this,"timers",new Map),(0,p.Z)(this,"_isDestroyed",!1),(0,p.Z)(this,"_object",null),this.area=e,this.state=n,this.mask=new L}return(0,c.Z)(t,[{key:"destroy",value:function(){this._isDestroyed=!0}},{key:"isDestroyed",get:function(){return this._isDestroyed}},{key:"object",get:function(){return this._object},set:function(t){null!==this._object&&this.area.scene.remove(this._object),null!==t&&this.area.scene.add(t),this._object=t}},{key:"setTimer",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e<1||this.timers.set(t,new Ln(e,n))}},{key:"clearTimer",value:function(t){this.timers.delete(t)}},{key:"isCollidingWith",value:function(t){return this.mask.isCollidingWith(t.mask)}},{key:"_create",value:function(){this.state.onCreate(this)}},{key:"_destroy",value:function(){this.state.onDestroy(),this.mask.showMask=!1,null!==this._object&&this.area.scene.remove(this._object)}},{key:"_tickTimers",value:function(){var t,e=[],n=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Fn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fn(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(this.timers);try{for(n.s();!(t=n.n()).done;){var i=(0,u.Z)(t.value,2),r=i[0],o=i[1];o.isRunning()&&o.tick()&&e.push(r)}}catch(t){n.e(t)}finally{n.f()}for(var a=0,s=e;a<s.length;a++){var l=s[a];this.state.onTimer(l)}}},{key:"_step",value:function(){this.state.onStep()}},{key:"_draw",value:function(t){this.state.onDraw(t)}}]),t}(),Wn=function(){function t(e){(0,h.Z)(this,t),(0,p.Z)(this,"audio",void 0),this.audio=e}return(0,c.Z)(t,[{key:"volume",get:function(){return this.audio.getVolume()},set:function(t){this.audio.setVolume(t)}},{key:"loop",get:function(){return this.audio.getLoop()},set:function(t){this.audio.setLoop(t)}},{key:"isPlaying",get:function(){return this.audio.isPlaying}},{key:"play",value:function(t){this.audio.isPlaying&&this.audio.stop(),void 0!==t&&(this.loop=t),this.audio.play()}},{key:"stop",value:function(){this.audio.isPlaying&&this.audio.stop()}}]),t}();function Gn(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Nn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nn(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Nn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var Hn,zn,Kn=function(){function t(e,n){(0,h.Z)(this,t),(0,p.Z)(this,"game",void 0),(0,p.Z)(this,"state",void 0),(0,p.Z)(this,"scene",void 0),(0,p.Z)(this,"audioListener",void 0),(0,p.Z)(this,"_camera",void 0),(0,p.Z)(this,"allEntities",new Set),(0,p.Z)(this,"taggedEntities",new Map),(0,p.Z)(this,"toCreate",new Set),(0,p.Z)(this,"timers",new Map),(0,p.Z)(this,"overlayWidth",768),(0,p.Z)(this,"overlayHeight",432),this.game=e,this.state=n,this.scene=new A.xsS,this.audioListener=new A.SJI,this._camera=new A.cPb,this._camera.add(this.audioListener)}return(0,c.Z)(t,[{key:"camera",get:function(){return this._camera},set:function(t){this._camera.remove(this.audioListener),t.add(this.audioListener),this._camera=t}},{key:"createEntity",value:function(t){var e=new On(this,t);return this.toCreate.add(e),e}},{key:"getAllEntities",value:function(){return Array.from(this.allEntities)}},{key:"findEntities",value:function(t){return this.taggedEntities.has(t)?Array.from(this.taggedEntities.get(t)):[]}},{key:"findFirstEntity",value:function(t){if(!this.taggedEntities.has(t))return null;var e=this.taggedEntities.get(t).values().next();return e.done?null:e.value}},{key:"setTimer",value:function(t,e,n){e<1||this.timers.set(t,new Ln(e,n))}},{key:"clearTimer",value:function(t){this.timers.delete(t)}},{key:"createAudio",value:function(t){var e=new A.BbS(this.audioListener);return t instanceof AudioBuffer?e.buffer=t:"string"==typeof t&&(e.buffer=this.game.assets.getAudio(t)),new Wn(e)}},{key:"createPositionalAudio",value:function(t){var e=new A.VYz(this.audioListener);return t instanceof AudioBuffer?e.buffer=t:"string"==typeof t&&(e.buffer=this.game.assets.getAudio(t)),new Wn(e)}},{key:"_tickTimers",value:function(){var t,e=[],n=Gn(this.timers);try{for(n.s();!(t=n.n()).done;){var i=(0,u.Z)(t.value,2),r=i[0],o=i[1];o.isRunning()&&o.tick()&&e.push(r)}}catch(t){n.e(t)}finally{n.f()}for(var a=0,s=e;a<s.length;a++){var l=s[a];this.state.onTimer(l)}}},{key:"_createEntities",value:function(){if(0!==this.toCreate.size){var t,e=Gn(this.toCreate);try{for(e.s();!(t=e.n()).done;){var n=t.value;this.addEntityToArea(n)}}catch(t){e.e(t)}finally{e.f()}var i=this.toCreate;this.toCreate=new Set;var r,o=Gn(i);try{for(o.s();!(r=o.n()).done;)r.value._create()}catch(t){o.e(t)}finally{o.f()}}}},{key:"addEntityToArea",value:function(t){this.allEntities.add(t);var e,n=Gn(t.state.tags);try{for(n.s();!(e=n.n()).done;){var i=e.value;this.addTaggedEntityToMap(t,i)}}catch(t){n.e(t)}finally{n.f()}}},{key:"addTaggedEntityToMap",value:function(t,e){this.taggedEntities.has(e)||this.taggedEntities.set(e,new Set),this.taggedEntities.get(e).add(t)}},{key:"_destroyEntities",value:function(){var t,e=[],n=Gn(this.allEntities);try{for(n.s();!(t=n.n()).done;){var i=t.value;i.isDestroyed&&e.push(i)}}catch(t){n.e(t)}finally{n.f()}for(var r=0,o=e;r<o.length;r++){var a=o[r];this.removeEntityFromArea(a)}for(var s=0,l=e;s<l.length;s++)l[s]._destroy()}},{key:"removeEntityFromArea",value:function(t){this.allEntities.delete(t);var e,n=Gn(t.state.tags);try{for(n.s();!(e=n.n()).done;){var i=e.value;this.removeTaggedEntityFromMap(t,i)}}catch(t){n.e(t)}finally{n.f()}}},{key:"removeTaggedEntityFromMap",value:function(t,e){this.taggedEntities.has(e)&&this.taggedEntities.get(e).delete(t)}},{key:"_tickEntityTimers",value:function(){var t,e=Gn(this.allEntities);try{for(e.s();!(t=e.n()).done;)t.value._tickTimers()}catch(t){e.e(t)}finally{e.f()}}},{key:"_stepEntities",value:function(){var t,e=Gn(this.allEntities);try{for(e.s();!(t=e.n()).done;)t.value._step()}catch(t){e.e(t)}finally{e.f()}}},{key:"_drawScene",value:function(t,e){var n,i=Gn(this.allEntities);try{for(i.s();!(n=i.n()).done;)n.value.mask._drawMask(this.scene)}catch(t){i.e(t)}finally{i.f()}t.render(this.scene,this.camera);var r=e.getContext("2d");e.width=this.overlayWidth,e.height=this.overlayHeight,r.clearRect(0,0,this.overlayWidth,this.overlayHeight),this.state.onDraw(r);var o,a=Gn(this.allEntities);try{for(a.s();!(o=a.n()).done;)o.value._draw(r)}catch(t){a.e(t)}finally{a.f()}}}]),t}(),_n=n(1610),Yn=n(7623),Un=n.n(Yn),Xn=console.log,Vn=function(t){throw new Error(t)},$n=function(){function t(){(0,h.Z)(this,t),(0,p.Z)(this,"audioLoader",void 0),(0,p.Z)(this,"imageLoader",void 0),(0,p.Z)(this,"textureLoader",void 0),(0,p.Z)(this,"cubeTextureLoader",void 0),(0,p.Z)(this,"objectLoader",void 0),(0,p.Z)(this,"materialLoader",void 0),(0,p.Z)(this,"animationLoader",void 0),(0,p.Z)(this,"gltfLoader",void 0),(0,p.Z)(this,"textures",{}),(0,p.Z)(this,"sounds",{}),(0,p.Z)(this,"images",{}),(0,p.Z)(this,"objects",{}),(0,p.Z)(this,"materials",{}),(0,p.Z)(this,"animations",{}),(0,p.Z)(this,"progressHandler",Xn),(0,p.Z)(this,"errorHandler",Vn),this.audioLoader=new A.mTL,this.imageLoader=new A.S3k,this.textureLoader=new A.dpR,this.cubeTextureLoader=new A.cBK,this.objectLoader=new A.Gql,this.materialLoader=new A.u7G,this.animationLoader=new A.sYA,this.gltfLoader=new _n.E}return(0,c.Z)(t,[{key:"loadTexture",value:function(t,e){var n=this;return this.textureLoader.loadAsync(e,this.onProgress("texture",t,e)).then((function(e){n.textures[t]=e})).catch(this.onError("texture",t,e))}},{key:"loadCubeTexture",value:function(t,e){var n=this;return new Promise((function(i){var r=e.positiveX,o=e.negativeX,a=e.positiveY,s=e.negativeY,l=e.positiveZ,u=e.negativeZ;n.cubeTextureLoader.load([r,o,a,s,l,u],(function(e){n.textures[t]=e,i()}),n.onProgress("cube texture",t,e.toString()),n.onError("cube texture",t,e.toString()))}))}},{key:"saveTexture",value:function(t,e){this.textures[t]=e}},{key:"getTexture",value:function(t){var e=this.textures[t];if(void 0===e)throw new Error("No such loaded texture '".concat(t,"'"));return e}},{key:"loadAudioFile",value:function(t,e){var n=this;return this.audioLoader.loadAsync(e,this.onProgress("audio",t,e)).then((function(e){n.sounds[t]=e})).catch(this.onError("audio",t,e))}},{key:"saveAudio",value:function(t,e){this.sounds[t]=e}},{key:"getAudio",value:function(t){var e=this.sounds[t];if(void 0===e)throw new Error("No such loaded audio buffer '".concat(t,"'"));return e}},{key:"loadImage",value:function(t,e){var n=this;return this.imageLoader.loadAsync(e,this.onProgress("image",t,e)).then((function(e){n.images[t]=e})).catch(this.onError("audio",t,e))}},{key:"saveImage",value:function(t,e){this.images[t]=e}},{key:"getImage",value:function(t){var e=this.images[t];if(void 0===e)throw new Error("No such loaded image '".concat(t,"'"));return e}},{key:"loadObject",value:function(t,e){var n=this;return this.objectLoader.loadAsync(e,this.onProgress("object",t,e)).then((function(e){n.objects[t]=e})).catch(this.onError("object",t,e))}},{key:"saveObject",value:function(t,e){this.objects[t]=e}},{key:"getObject",value:function(t){var e=this.objects[t];if(void 0===e)throw new Error("No such loaded object '".concat(t,"'"));return e}},{key:"loadMaterial",value:function(t,e){var n=this;return this.materialLoader.loadAsync(e,this.onProgress("animation",t,e)).then((function(e){n.materials[t]=e})).catch(this.onError("animation",t,e))}},{key:"saveMaterial",value:function(t,e){this.materials[t]=e}},{key:"getMaterial",value:function(t){var e=this.materials[t];if(void 0===e)throw new Error("No such loaded material '".concat(t,"'"));return e}},{key:"loadAnimations",value:function(t,e){var n=this;return this.animationLoader.loadAsync(t,this.onProgress("animation",null,t)).then((function(t){return e(t,n)})).catch(this.onError("animation",null,t))}},{key:"saveAnimation",value:function(t,e){this.animations[t]=e}},{key:"getAnimation",value:function(t){var e=this.animations[t];if(void 0===e)throw new Error("No such loaded animation '".concat(t,"'"));return e}},{key:"loadGLTFFile",value:function(t,e){var n=this;return this.gltfLoader.loadAsync(t,this.onProgress("gltf",null,t)).then((function(t){return e(t,n)})).catch(this.onError("gltf",null,t))}},{key:"onProgress",value:function(t,e,n){var i=this;return function(r){var o=null!==e?"'".concat(e,"' "):"",a="Loading ".concat(t," ").concat(o,"from '").concat(n,"': ").concat(Un()(r.loaded));if(r.lengthComputable){var s=100*r.loaded/r.total;i.progressHandler("".concat(a," / ").concat(Un()(r.total)," (").concat(s.toFixed(0),"%)"))}else i.progressHandler("".concat(a," Loaded"))}}},{key:"onError",value:function(t,e,n){var i=this,r=null!==e?"'".concat(e,"' "):"";return function(e){i.errorHandler("Error loading ".concat(t," ").concat(r,"from '").concat(n,"'").concat(e.message?": ".concat(e.message):""))}}}]),t}();(zn=Hn||(Hn={})).saveObject=function(t,e){window.localStorage.setItem(t,JSON.stringify(e))},zn.loadObject=function(t,e){var n=window.localStorage.getItem(t);if(null===n){if(void 0!==e)return e;throw new Error("Key '".concat(t,"' does not exist in local storage"))}return JSON.parse(n)},zn.removeObject=function(t){window.localStorage.removeItem(t)},zn.exists=function(t){return null!==window.localStorage.getItem(t)},zn.clear=function(){window.localStorage.clear()};var qn=function(){function t(){(0,h.Z)(this,t),(0,p.Z)(this,"resources",{})}return(0,c.Z)(t,[{key:"setResource",value:function(t,e){this.resources[t]=e}},{key:"getResource",value:function(t,e){var n=this.resources[t];if(void 0===n){if(void 0!==e)return e;throw new Error("No such resource '".concat(t,"'"))}return n}},{key:"deleteResource",value:function(t){delete this.resources[t]}},{key:"exists",value:function(t){return void 0!==this.resources[t]}},{key:"clear",value:function(){this.resources={}}}]),t}(),Qn=function(){function t(e,n){(0,h.Z)(this,t),(0,p.Z)(this,"input",void 0),(0,p.Z)(this,"assets",void 0),(0,p.Z)(this,"resources",void 0),(0,p.Z)(this,"screenSize",null),(0,p.Z)(this,"_currentArea",void 0),(0,p.Z)(this,"nextArea",null),(0,p.Z)(this,"renderer",void 0),(0,p.Z)(this,"canvas",void 0),(0,p.Z)(this,"overlayCanvas",void 0),(0,p.Z)(this,"running",!1),this.input=new st(n),this.assets=new $n,this.resources=new qn,this.renderer=new A.CP7({canvas:e}),this.canvas=e,this.overlayCanvas=n}return(0,c.Z)(t,[{key:"start",value:function(t){!1===this.running&&(this.running=!0,this._currentArea=new Kn(this,t),this._currentArea.state.onCreate(this._currentArea),this.overlayCanvas.focus(),requestAnimationFrame(this.tick.bind(this)))}},{key:"stop",value:function(){this.running=!1}},{key:"currentArea",get:function(){return this._currentArea}},{key:"setArea",value:function(t){null===this.nextArea&&(this.nextArea=t)}},{key:"canvasWidth",get:function(){return this.canvas.width}},{key:"canvasHeight",get:function(){return this.canvas.height}},{key:"overlayWidth",get:function(){return this.overlayCanvas.width}},{key:"overlayHeight",get:function(){return this.overlayCanvas.height}},{key:"tick",value:function(){this.resizeCanvas(),null!==this.nextArea&&(this._currentArea=new Kn(this,this.nextArea),this.nextArea=null,this.currentArea.state.onCreate(this.currentArea)),this.currentArea._tickTimers(),this.currentArea.state.onStep(),this.currentArea._createEntities(),this.currentArea._destroyEntities(),this.currentArea._tickEntityTimers(),this.currentArea._stepEntities(),this.currentArea._drawScene(this.renderer,this.overlayCanvas),this.input._clearKeyTick(),this.input._updateGamepad(),this.input._clearMouseTick(),!0===this.running&&requestAnimationFrame(this.tick.bind(this))}},{key:"resizeCanvas",value:function(){var t=null===this.screenSize?[this.canvas.clientWidth,this.canvas.clientHeight]:this.screenSize,e=(0,u.Z)(t,2),n=e[0],i=e[1];this.canvas.width===n&&this.canvas.height===i||(this.canvas.width=n,this.canvas.height=i,this.renderer.setSize(n,i,!1))}}]),t}(),Jn=n(5701),ti=n.n(Jn),ei=n(28);ti()(ei.Z,{insert:"head",singleton:!1}),ei.Z.locals;var ni=n(5497),ii=n(1177),ri=n(3345),oi=n(7131),ai=n(301),si=n(1645),li=n(2374),ui=n(1960),hi=n(7319),ci=n(1304),fi=n(9165),yi=n(8863),di=n(7928),vi=n(34),pi=n(4505),mi=n(111),gi=n(9216),ki=n(833),Zi=n(7446),bi=n(5965),wi=n(2409),Ai=n(4316),Si=n(8244),Di=n(5140),xi=n(4770),Ti=n(2475),Mi=n(8163),Ci=n(595),Bi=n(2606),Ri=n(6013),Ei=n(2798),ji=n(4855),Pi=n(5015),Ii=n(3860),Li=n(7922),Fi=n(3049),Oi=n(6627),Wi=n(8983),Gi=n(4416),Ni=n(5499),Hi=n(8754),zi=n(5874),Ki=n(8652),_i=n(4517),Yi=n(9545),Ui=n(9660),Xi=n(5467),Vi=n(3575),$i=n(2553),qi=n(5436),Qi=n(3458),Ji=n(6656),tr=n(9812);function er(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return nr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nr(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function nr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var ir=document.createElement("canvas");document.body.appendChild(ir);var rr=document.createElement("canvas");rr.setAttribute("tabindex","0"),rr.classList.add("overlay"),document.body.appendChild(rr);var or=new Qn(ir,rr);rr.width=rr.clientWidth,rr.height=rr.clientHeight;var ar=rr.getContext("2d");ar.font="12pt sans-serif",ar.fillStyle="white",ar.textAlign="center",ar.textBaseline="middle",ar.fillText("Loading game...",rr.width/2,rr.height/2);var sr=!1;function lr(){return(lr=(0,a.Z)(l().mark((function t(e){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([e.assets.loadTexture("GrassColor",li),e.assets.loadTexture("GrassNormal",ui),e.assets.loadTexture("GrassOcclusion",hi),e.assets.loadTexture("BrickColor",ci),e.assets.loadTexture("BrickNormal",fi),e.assets.loadTexture("BrickOcclusion",yi),e.assets.loadCubeTexture("SkyboxBG",{positiveX:ni,negativeX:ii,positiveY:ri,negativeY:oi,positiveZ:ai,negativeZ:si}),e.assets.loadGLTFFile(di,(function(t,e){e.saveObject("Wall",t.scene.children[0])})),e.assets.loadGLTFFile(vi,(function(t,e){e.saveObject("Door",t.scene);var n,i=er(t.animations);try{for(i.s();!(n=i.n()).done;){var r=n.value;e.saveAnimation(r.name,r)}}catch(t){i.e(t)}finally{i.f()}ur(t.scene.children[0].children[0],7566195,.25),ur(t.scene.children[1],8023148,.25),ur(t.scene.children[2],8023148,.25)})),e.assets.loadGLTFFile(pi,(function(t,e){e.saveObject("ToggleDoor",t.scene),ur(t.scene.children[0].children[0],7566195,.25),ur(t.scene.children[0].children[1],6881484,.25),ur(t.scene.children[1],8023148,.15),ur(t.scene.children[2],8023148,.15)})),e.assets.loadGLTFFile(mi,(function(t,e){e.saveObject("ElectricDoor",t.scene),ur(t.scene.children[0].children[0],16776960,.25),ur(t.scene.children[1],16777215,.3),ur(t.scene.children[2],16777215,.3)})),e.assets.loadGLTFFile(Zi,(function(t,e){e.saveObject("Lever",t.scene.children[0]);var n,i=er(t.animations);try{for(i.s();!(n=i.n()).done;){var r=n.value;e.saveAnimation(r.name,r)}}catch(t){i.e(t)}finally{i.f()}})),e.assets.loadGLTFFile(gi,(function(t,e){e.saveObject("Key",t.scene.children[0])})),e.assets.loadGLTFFile(ki,(function(t,e){e.saveObject("Battery",t.scene.children[0])})),e.assets.loadGLTFFile(Ai,(function(t,e){var n=t.scene.children[0];e.saveObject("Drone",n),ur(n.children[0],7566195,.5),ur(n.children[2],2580722,.25)})),e.assets.loadGLTFFile(bi,(function(t,e){var n=t.scene.children[0];e.saveObject("ElectricBox",n),ur(n.children[0],8882055,.5);var i,r=er(t.animations);try{for(r.s();!(i=r.n()).done;){var o=i.value;e.saveAnimation(o.name,o)}}catch(t){r.e(t)}finally{r.f()}})),e.assets.loadGLTFFile(wi,(function(t,e){e.saveObject("Rock",t.scene.children[0])})),e.assets.loadGLTFFile(Si,(function(t,e){e.saveObject("Gun",t.scene)})),e.assets.loadGLTFFile(Di,(function(t,e){e.saveObject("Map",t.scene.children[0])})),e.assets.loadGLTFFile(xi,(function(t,e){var n=t.scene.children[0];e.saveObject("Explosion",n);var i=n.material;i.transparent=!0,i.opacity=.75})),e.assets.loadGLTFFile(Ti,(function(t,e){e.saveObject("Portal",t.scene);var n,i=er(t.animations);try{for(i.s();!(n=i.n()).done;){var r=n.value;e.saveAnimation(r.name,r)}}catch(t){i.e(t)}finally{i.f()}ur(t.scene.children[1],5316383,.25);var o=t.scene.children[2].material;o.transparent=!0,o.opacity=.8})),e.assets.loadImage("RedKey",Mi),e.assets.loadImage("YellowKey",Ci),e.assets.loadImage("GreenKey",Bi),e.assets.loadImage("BlueKey",Ri),e.assets.loadImage("Energy",Ei),e.assets.loadImage("Battery",ji),e.assets.loadImage("Lever",Pi),e.assets.loadImage("LeverReverse",Ii),e.assets.loadImage("ElectricBox",Li),e.assets.loadImage("Gun",Fi),e.assets.loadImage("Map",Oi),e.assets.loadAudioFile("PlayerShoot",Wi),e.assets.loadAudioFile("DroneShoot",Gi),e.assets.loadAudioFile("HitObject",Ni),e.assets.loadAudioFile("Oof",Hi),e.assets.loadAudioFile("CollectItem",zi),e.assets.loadAudioFile("OpenDoor",Ki),e.assets.loadAudioFile("OpenBigDoor",_i),e.assets.loadAudioFile("ToggleLever",Yi),e.assets.loadAudioFile("ElectricBox",Ui),e.assets.loadAudioFile("Explosion",Xi),e.assets.loadAudioFile("ActivatePortal",Vi),e.assets.loadAudioFile("EnterPortal",$i),e.assets.loadAudioFile("Title",qi),e.assets.loadAudioFile("Intro",Qi),e.assets.loadAudioFile("ForestAmbience",Ji),e.assets.loadAudioFile("HeartMonitor",tr)]);case 2:return t.abrupt("return",e);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ur(t,e,n){var i=t.material;i.emissive.set(e),i.emissiveIntensity=n}function hr(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"white";t.clearRect(0,5*rr.height/8,rr.width,7*rr.height/8),t.fillStyle=n,t.fillText(e,rr.width/2,3*rr.height/4)}or.assets.progressHandler=function(t){sr||hr(ar,t),Xn(t)},or.assets.errorHandler=function(t){sr=!0,hr(ar,t,"red"),Vn(t)},function(t){return lr.apply(this,arguments)}(or).then((function(t){t.start(new In)})).catch((function(t){console.log("Failed to load assets: "+t,t.stack)}))},28:(t,e,n)=>{n.d(e,{Z:()=>s});var i=n(445),r=n.n(i),o=n(352),a=n.n(o)()(r());a.push([t.id,"* {\n  margin: 0;\n  padding: 0;\n}\n\nbody,\nhtml {\n  height: 100%;\n}\n\ncanvas {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n}\n\ncanvas.overlay {\n  z-index: 10;\n}\n","",{version:3,sources:["webpack://./src/styles.css"],names:[],mappings:"AAAA;EACE,SAAS;EACT,UAAU;AACZ;;AAEA;;EAEE,YAAY;AACd;;AAEA;EACE,kBAAkB;EAClB,WAAW;EACX,YAAY;AACd;;AAEA;EACE,WAAW;AACb",sourcesContent:["* {\n  margin: 0;\n  padding: 0;\n}\n\nbody,\nhtml {\n  height: 100%;\n}\n\ncanvas {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n}\n\ncanvas.overlay {\n  z-index: 10;\n}\n"],sourceRoot:""}]);const s=a}},n={};function i(t){var r=n[t];if(void 0!==r)return r.exports;var o=n[t]={id:t,exports:{}};return e[t](o,o.exports,i),o.exports}i.m=e,t=[],i.O=(e,n,r,o)=>{if(!n){var a=1/0;for(u=0;u<t.length;u++){for(var[n,r,o]=t[u],s=!0,l=0;l<n.length;l++)(!1&o||a>=o)&&Object.keys(i.O).every((t=>i.O[t](n[l])))?n.splice(l--,1):(s=!1,o<a&&(a=o));s&&(t.splice(u--,1),e=r())}return e}o=o||0;for(var u=t.length;u>0&&t[u-1][2]>o;u--)t[u]=t[u-1];t[u]=[n,r,o]},i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.p="/TrappedInside/",(()=>{var t={179:0};i.O.j=e=>0===t[e];var e=(e,n)=>{var r,o,[a,s,l]=n,u=0;for(r in s)i.o(s,r)&&(i.m[r]=s[r]);for(l&&l(i),e&&e(n);u<a.length;u++)o=a[u],i.o(t,o)&&t[o]&&t[o][0](),t[a[u]]=0;i.O()},n=self.webpackChunkgame_engine=self.webpackChunkgame_engine||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})();var r=i.O(void 0,[826],(()=>i(5396)));r=i.O(r)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nYW1lLWVuZ2luZS93ZWJwYWNrL3J1bnRpbWUvY2h1bmsgbG9hZGVkIiwid2VicGFjazovL2dhbWUtZW5naW5lLy4vc3JjL2FyZWFzL01hemVPYmplY3QudHMiLCJ3ZWJwYWNrOi8vZ2FtZS1lbmdpbmUvLi9zcmMvYXJlYXMvQWJzdHJhY3RNYXplQXJlYS50cyIsIndlYnBhY2s6Ly9nYW1lLWVuZ2luZS8uL3NyYy9lbmdpbmUvY29sbGlzaW9uLnRzIiwid2VicGFjazovL2dhbWUtZW5naW5lLy4vc3JjL2VudGl0aWVzL21hemUtb2JqZWN0cy9NYXplV2FsbHMudHMiLCJ3ZWJwYWNrOi8vZ2FtZS1lbmdpbmUvLi9zcmMvZW50aXRpZXMvZWZmZWN0cy9TdW5saWdodC50cyIsIndlYnBhY2s6Ly9nYW1lLWVuZ2luZS8uL3NyYy9lbnRpdGllcy9tYXplLW9iamVjdHMvTWF6ZUZsb29yLnRzIiwid2VicGFjazovL2dhbWUtZW5naW5lLy4vc3JjL2VudGl0aWVzL21hemUtb2JqZWN0cy9BYnN0cmFjdERvb3IudHMiLCJ3ZWJwYWNrOi8vZ2FtZS1lbmdpbmUvLi9zcmMvZW50aXRpZXMvbWF6ZS1vYmplY3RzL0R1bW15QmlnRG9vci50cyIsIndlYnBhY2s6Ly9nYW1lLWVuZ2luZS8uL3NyYy9lbmdpbmUvaW5wdXQudHMiLCJ3ZWJwYWNrOi8vZ2FtZS1lbmdpbmUvLi9zcmMvZW5naW5lL2hlbHBlcnMudHMiLCJ3ZWJwYWNrOi8vZ2FtZS1lbmdpbmUvLi9zcmMvZW50aXRpZXMvdWkvQWJzdHJhY3RCdXR0b24udHMiLCJ3ZWJwYWNrOi8vZ2FtZS1lbmdpbmUvLi9zcmMvZW50aXRpZXMvdWkvU3RhcnRCdXR0b24udHMiLCJ3ZWJwYWNrOi8vZ2FtZS1lbmdpbmUvLi9zcmMvZW50aXRpZXMvZWZmZWN0cy9GYWRlSW5FZmZlY3QudHMiLCJ3ZWJwYWNrOi8vZ2FtZS1lbmdpbmUvLi9zcmMvZW50aXRpZXMvdWkvUmVzdGFydEJ1dHRvbi50cyIsIndlYnBhY2s6Ly9nYW1lLWVuZ2luZS8uL3NyYy9hcmVhcy9HYW1lT3ZlckFyZWEudHMiLCJ3ZWJwYWNrOi8vZ2FtZS1lbmdpbmUvLi9zcmMvZW50aXRpZXMvZWZmZWN0cy9GYWRlT3V0RWZmZWN0LnRzIiwid2VicGFjazovL2dhbWUtZW5naW5lLy4vc3JjL2VudGl0aWVzL2VmZmVjdHMvRGVhdGhBbmltYXRpb24udHMiLCJ3ZWJwYWNrOi8vZ2FtZS1lbmdpbmUvLi9zcmMvZW50aXRpZXMvUGxheWVyQnVsbGV0LnRzIiwid2VicGFjazovL2dhbWUtZW5naW5lLy4vc3JjL2VudGl0aWVzL1BsYXllci50cyIsIndlYnBhY2s6Ly9nYW1lLWVuZ2luZS8uL3NyYy9lbnRpdGllcy9Eb29yQ29sb3IudHMiLCJ3ZWJwYWNrOi8vZ2FtZS1lbmdpbmUvLi9zcmMvZW50aXRpZXMvbWF6ZS1vYmplY3RzL0NvbG9yRG9vci50cyIsIndlYnBhY2s6Ly9nYW1lLWVuZ2luZS8uL3NyYy9lbnRpdGllcy9tYXplLW9iamVjdHMvS2V5LnRzIiwid2VicGFjazovL2dhbWUtZW5naW5lLy4vc3JjL2VudGl0aWVzL2VmZmVjdHMvSGl0QW5pbWF0aW9uLnRzIiwid2VicGFjazovL2dhbWUtZW5naW5lLy4vc3JjL2VudGl0aWVzL2VuZW1pZXMvRHJvbmVCdWxsZXQudHMiLCJ3ZWJwYWNrOi8vZ2FtZS1lbmdpbmUvLi9zcmMvZW50aXRpZXMvZWZmZWN0cy9FeHBsb3Npb24udHMiLCJ3ZWJwYWNrOi8vZ2FtZS1lbmdpbmUvLi9zcmMvZW50aXRpZXMvZW5lbWllcy9Ecm9uZS50cyIsIndlYnBhY2s6Ly9nYW1lLWVuZ2luZS8uL3NyYy9lbnRpdGllcy9FbGVjdHJpY0JveFR5cGUudHMiLCJ3ZWJwYWNrOi8vZ2FtZS1lbmdpbmUvLi9zcmMvZW50aXRpZXMvSFVELnRzIiwid2VicGFjazovL2dhbWUtZW5naW5lLy4vc3JjL3Jlc291cmNlcy9IZWFsdGgudHMiLCJ3ZWJwYWNrOi8vZ2FtZS1lbmdpbmUvLi9zcmMvcmVzb3VyY2VzL0ludmVudG9yeS50cyIsIndlYnBhY2s6Ly9nYW1lLWVuZ2luZS8uL3NyYy9lbnRpdGllcy9tYXplLW9iamVjdHMvRW5lcmd5LnRzIiwid2VicGFjazovL2dhbWUtZW5naW5lLy4vc3JjL2VudGl0aWVzL21hemUtb2JqZWN0cy9MZXZlci50cyIsIndlYnBhY2s6Ly9nYW1lLWVuZ2luZS8uL3NyYy9lbnRpdGllcy9tYXplLW9iamVjdHMvUm9jay50cyIsIndlYnBhY2s6Ly9nYW1lLWVuZ2luZS8uL3NyYy9lbnRpdGllcy9tYXplLW9iamVjdHMvQmF0dGVyeS50cyIsIndlYnBhY2s6Ly9nYW1lLWVuZ2luZS8uL3NyYy9lbnRpdGllcy9tYXplLW9iamVjdHMvRWxlY3RyaWNCb3gudHMiLCJ3ZWJwYWNrOi8vZ2FtZS1lbmdpbmUvLi9zcmMvcmVzb3VyY2VzL0Rvb3JTdGF0ZS50cyIsIndlYnBhY2s6Ly9nYW1lLWVuZ2luZS8uL3NyYy9lbnRpdGllcy9tYXplLW9iamVjdHMvVG9nZ2xlRG9vci50cyIsIndlYnBhY2s6Ly9nYW1lLWVuZ2luZS8uL3NyYy9lbnRpdGllcy9tYXplLW9iamVjdHMvRWxlY3RyaWNEb29yLnRzIiwid2VicGFjazovL2dhbWUtZW5naW5lLy4vc3JjL2FyZWFzL0VuZGluZ0FyZWEudHMiLCJ3ZWJwYWNrOi8vZ2FtZS1lbmdpbmUvLi9zcmMvZW50aXRpZXMvZWZmZWN0cy9FbnRlclBvcnRhbEVmZmVjdC50cyIsIndlYnBhY2s6Ly9nYW1lLWVuZ2luZS8uL3NyYy9lbnRpdGllcy9tYXplLW9iamVjdHMvUG9ydGFsLnRzIiwid2VicGFjazovL2dhbWUtZW5naW5lLy4vc3JjL2VudGl0aWVzL21hemUtb2JqZWN0cy9CaWdEb29yLnRzIiwid2VicGFjazovL2dhbWUtZW5naW5lLy4vc3JjL2dlbmVyYXRvci9BYnN0cmFjdFNldC50cyIsIndlYnBhY2s6Ly9nYW1lLWVuZ2luZS8uL3NyYy9nZW5lcmF0b3IvVmVydGV4U2V0LnRzIiwid2VicGFjazovL2dhbWUtZW5naW5lLy4vc3JjL2dlbmVyYXRvci9JbnZlcnNlVG9nZ2xlR2VuZXJhdG9yLnRzIiwid2VicGFjazovL2dhbWUtZW5naW5lLy4vc3JjL2dlbmVyYXRvci9IaXN0b2dyYW1TZXQudHMiLCJ3ZWJwYWNrOi8vZ2FtZS1lbmdpbmUvLi9zcmMvZ2VuZXJhdG9yL01haW5QYXRoR2VuZXJhdG9yLnRzIiwid2VicGFjazovL2dhbWUtZW5naW5lLy4vc3JjL2dlbmVyYXRvci9NYXplV2FsbHNHZW5lcmF0b3IudHMiLCJ3ZWJwYWNrOi8vZ2FtZS1lbmdpbmUvLi9zcmMvZ2VuZXJhdG9yL1NpZGVQYXRoc0dlbmVyYXRvci50cyIsIndlYnBhY2s6Ly9nYW1lLWVuZ2luZS8uL3NyYy9nZW5lcmF0b3IvVHJlZU5vZGUudHMiLCJ3ZWJwYWNrOi8vZ2FtZS1lbmdpbmUvLi9zcmMvZ2VuZXJhdG9yL01hemVHZW5lcmF0b3IudHMiLCJ3ZWJwYWNrOi8vZ2FtZS1lbmdpbmUvLi9zcmMvZW50aXRpZXMvbWF6ZS1vYmplY3RzL01hemVNYXAudHMiLCJ3ZWJwYWNrOi8vZ2FtZS1lbmdpbmUvLi9zcmMvZW50aXRpZXMvbWF6ZS1vYmplY3RzL01hemVHdW4udHMiLCJ3ZWJwYWNrOi8vZ2FtZS1lbmdpbmUvLi9zcmMvZW50aXRpZXMvZWZmZWN0cy9GYWRlSW5NYWluQXJlYS50cyIsIndlYnBhY2s6Ly9nYW1lLWVuZ2luZS8uL3NyYy9hcmVhcy9NYWluQXJlYS50cyIsIndlYnBhY2s6Ly9nYW1lLWVuZ2luZS8uL3NyYy9lbnRpdGllcy91aS9Ta2lwSW50cm9CdXR0b24udHMiLCJ3ZWJwYWNrOi8vZ2FtZS1lbmdpbmUvLi9zcmMvYXJlYXMvSW50cm9BcmVhLnRzIiwid2VicGFjazovL2dhbWUtZW5naW5lLy4vc3JjL2VudGl0aWVzL2VmZmVjdHMvU3RhcnRJbnRyb2R1Y3Rpb24udHMiLCJ3ZWJwYWNrOi8vZ2FtZS1lbmdpbmUvLi9zcmMvYXJlYXMvVGl0bGVBcmVhLnRzIiwid2VicGFjazovL2dhbWUtZW5naW5lLy4vc3JjL2VuZ2luZS90aW1lckVudHJ5LnRzIiwid2VicGFjazovL2dhbWUtZW5naW5lLy4vc3JjL2VuZ2luZS9lbnRpdHkudHMiLCJ3ZWJwYWNrOi8vZ2FtZS1lbmdpbmUvLi9zcmMvZW5naW5lL2F1ZGlvLnRzIiwid2VicGFjazovL2dhbWUtZW5naW5lLy4vc3JjL2VuZ2luZS9hcmVhLnRzIiwid2VicGFjazovL2dhbWUtZW5naW5lLy4vc3JjL2VuZ2luZS9zdG9yYWdlLnRzIiwid2VicGFjazovL2dhbWUtZW5naW5lLy4vc3JjL2VuZ2luZS9hc3NldHMudHMiLCJ3ZWJwYWNrOi8vZ2FtZS1lbmdpbmUvLi9zcmMvZW5naW5lL2dhbWUudHMiLCJ3ZWJwYWNrOi8vZ2FtZS1lbmdpbmUvLi9zcmMvc3R5bGVzLmNzcz80NGIyIiwid2VicGFjazovL2dhbWUtZW5naW5lLy4vc3JjL2luZGV4LnRzIiwid2VicGFjazovL2dhbWUtZW5naW5lLy4vc3JjL3N0eWxlcy5jc3MiLCJ3ZWJwYWNrOi8vZ2FtZS1lbmdpbmUvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vZ2FtZS1lbmdpbmUvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vZ2FtZS1lbmdpbmUvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL2dhbWUtZW5naW5lL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vZ2FtZS1lbmdpbmUvd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vZ2FtZS1lbmdpbmUvd2VicGFjay9ydW50aW1lL2pzb25wIGNodW5rIGxvYWRpbmciLCJ3ZWJwYWNrOi8vZ2FtZS1lbmdpbmUvd2VicGFjay9zdGFydHVwIl0sIm5hbWVzIjpbImRlZmVycmVkIiwiTWF6ZU9iamVjdCIsIkFMTF9NQUlOX0RPT1JTIiwiUmVkRG9vciIsIlllbGxvd0Rvb3IiLCJHcmVlbkRvb3IiLCJCbHVlRG9vciIsIlRvZ2dsZURvb3IiLCJBRG9vciIsIkJEb29yIiwiQ0Rvb3IiLCJET09SX0lURU1TIiwib25lVGltZUl0ZW0iLCJSZWRLZXkiLCJZZWxsb3dLZXkiLCJHcmVlbktleSIsIkJsdWVLZXkiLCJyZXVzZUl0ZW0iLCJMZXZlciIsIkJhdHRlcnkiLCJBQm94IiwiQkJveCIsIkNCb3giLCJNQVpFX09CSkVDVF9MT09LVVAiLCJFbXB0eSIsIldhbGwiLCJSb2NrIiwiRW5lcmd5IiwiSW52ZXJzZVRvZ2dsZURvb3IiLCJEcm9uZSIsIkJpZ0Rvb3IiLCJQb3J0YWwiLCJNYXAiLCJHdW4iLCJzdHJpbmdUb01hemUiLCJpbnB1dCIsImxpbmVzIiwic3BsaXQiLCJtYXhMZW5ndGgiLCJsaW5lIiwiTWF0aCIsIm1heCIsImxlbmd0aCIsInJlc3VsdCIsIm1hemVSb3ciLCJjaGFyIiwibG9va3VwIiwicHVzaCIsIkFic3RyYWN0TWF6ZUFyZWEiLCJtYXplIiwidGhpcyIsInJvdyIsImNvbHVtbiIsIngiLCJmbG9vciIsIm1hemVIZWlnaHQiLCJ6IiwibWF6ZVdpZHRoIiwiVEhSRUUiLCJwb3NpdGlvbiIsInJvdW5kIiwiV0lSRUZSQU1FX01BVEVSSUFMIiwiY29sb3IiLCJTUEhFUkVfR0VPTUVUUlkiLCJCT1hfR0VPTUVUUllfSU5ESUNFUyIsIlVpbnQxNkFycmF5IiwiQk9YX0dFT0VUUllfVkVSVElDRVMiLCJCT1hfR0VPTUVUUlkiLCJzZXRJbmRleCIsInNldEF0dHJpYnV0ZSIsIkJveENvbGxpc2lvbk1hc2siLCJib3hPYmplY3QiLCJib3giLCJjb3B5IiwidXBkYXRlIiwiX3Nob3dNYXNrIiwibmV3TWFzayIsImhlbHBlciIsInBhcmVudCIsInJlbW92ZSIsIm90aGVyIiwiaW50ZXJzZWN0c0JveCIsInNwaGVyZSIsImludGVyc2VjdHNTcGhlcmUiLCJyYXkiLCJpbnRlcnNlY3RCb3giLCJwb2ludCIsImNvbnRhaW5zUG9pbnQiLCJvYmplY3QiLCJzZXRGcm9tT2JqZWN0Iiwic2NlbmUiLCJzaG93TWFzayIsImFkZCIsImdldENlbnRlciIsImdldFNpemUiLCJzY2FsZSIsIm11bHRpcGx5U2NhbGFyIiwiU3BoZXJlQ29sbGlzaW9uTWFzayIsInNwaGVyZU9iamVjdCIsImludGVyc2VjdFNwaGVyZSIsImJvdW5kaW5nU3BoZXJlIiwiZ2V0Qm91bmRpbmdTcGhlcmUiLCJzZXQiLCJjZW50ZXIiLCJyYWRpdXMiLCJ1cGRhdGVXb3JsZE1hdHJpeCIsImdlb21ldHJ5IiwiY29tcHV0ZUJvdW5kaW5nU3BoZXJlIiwiZ2VvbWV0cnlTcGhlcmUiLCJjbG9uZSIsImFwcGx5TWF0cml4NCIsIm1hdHJpeFdvcmxkIiwidW5pb24iLCJjaGlsZHJlbiIsImNoaWxkIiwiZXhwYW5kQnlPYmplY3QiLCJHcm91cENvbGxpc2lvbk1hc2siLCJtYXNrcyIsImZsYXQiLCJzb21lIiwibWFzayIsImlzQ29sbGlkaW5nV2l0aCIsIm1pbiIsImludGVyc2VjdGlvbiIsImludGVyc2VjdFJheSIsImRpc3RhbmNlVG8iLCJvcmlnaW4iLCJfZHJhd01hc2siLCJFbXB0eUNvbGxpc2lvbk1hc2siLCJfb3RoZXIiLCJfYm94IiwiX3NwaGVyZSIsIl9yYXkiLCJfcG9pbnQiLCJfb2JqZWN0IiwiX3NjZW5lIiwiQk9YX01BVEVSSUFMIiwiREVGQVVMVF9CT1gzIiwiTWF6ZVdhbGxzIiwibnVtV2FsbHMiLCJhcmVhIiwibWFwIiwiYnVpbGRXYWxsVGV4dHVyZSIsIm5vcm1hbE1hcCIsImFvTWFwIiwic2lkZSIsIndhbGxzIiwiY2FzdFNoYWRvdyIsInJlY2VpdmVTaGFkb3ciLCJjb2wiLCJjdXJyZW50V2FsbCIsImNvdW50IiwidGlsZUxvY2F0aW9uVG9Qb3NpdGlvbiIsIm1hdHJpeCIsIm1ha2VUcmFuc2xhdGlvbiIsIlNDQUxFX0hFSUdIVCIsInNldE1hdHJpeEF0IiwiYWRkTWFzayIsImVudGl0eSIsImluc3RhbmNlTWF0cml4IiwibmVlZHNVcGRhdGUiLCJfdGltZXJJbmRleCIsIl9nMmQiLCJuYW1lIiwidGV4dHVyZSIsImdhbWUiLCJhc3NldHMiLCJnZXRUZXh0dXJlIiwid3JhcFMiLCJ3cmFwVCIsInJlcGVhdCIsIk1BWF9BTkdMRSIsIlBJIiwiUk9UX1NQRUVEIiwiU3VubGlnaHQiLCJsaWdodCIsImNhbGN1bGF0ZUxpZ2h0IiwibWF6ZUFyZWEiLCJzdGF0ZSIsImxpZ2h0V2lkdGgiLCJsaWdodEhlaWdodCIsInNoYWRvdyIsImNhbWVyYSIsInRvcCIsImJvdHRvbSIsImxlZnQiLCJyaWdodCIsImxpZ2h0RGlzdGFuY2UiLCJjb3MiLCJ1cGRhdGVMaWdodEFuZ2xlIiwic2V0VGltZXIiLCJ0aW1lckluZGV4IiwibGlnaHRBbmdsZSIsInJldmVyc2UiLCJ5Iiwic2luIiwiUExBTkVfR0VPTUVUUlkiLCJQTEFORV9NQVRFUklBTCIsIk1hemVGbG9vciIsIndpZHRoIiwiaGVpZ2h0IiwiYnVpbGRUZXh0dXJlIiwicm90YXRpb24iLCJvZmZzZXQiLCJBYnN0cmFjdERvb3IiLCJkb29yT2JqZWN0IiwiX29wZW4iLCJnZXRPYmplY3QiLCJTQ0FMRV9CQVNFIiwibGVmdERvb3IiLCJsZWZ0RG9vck1hc2siLCJyaWdodERvb3IiLCJyaWdodERvb3JNYXNrIiwibWl4ZXIiLCJsZWZ0RG9vckFjdGlvbiIsImNsaXBBY3Rpb24iLCJnZXRBbmltYXRpb24iLCJyaWdodERvb3JBY3Rpb24iLCJrZXlIb2xlQWN0aW9uIiwiY29uZmlndXJlQW5pbWF0aW9uIiwib25DcmVhdGVEb29yIiwiaXNBbmltYXRpb25QbGF5aW5nIiwib25TdGVwRG9vciIsInRpbWVTY2FsZSIsInBsYXlBY3Rpb24iLCJwbGF5QWN0aW9uSW52ZXJzZSIsImlzUnVubmluZyIsImFjdGlvbiIsImxvb3AiLCJjbGFtcFdoZW5GaW5pc2hlZCIsImFicyIsInBhdXNlZCIsInBsYXkiLCJLZXkiLCJHYW1lcGFkQnV0dG9uIiwiR2FtZXBhZEF4aXMiLCJNb3VzZUJ1dHRvbiIsIkR1bW15QmlnRG9vciIsInZpc2libGUiLCJvcGVuRG9vciIsIktFWV9NQVAiLCJVcCIsIkRvd24iLCJMZWZ0IiwiUmlnaHQiLCJDb250cm9sIiwiQWx0IiwiRGVsZXRlIiwiQmFja3NwYWNlIiwiQ2Fwc0xvY2siLCJFbnRlciIsIkVzY2FwZSIsIkVuZCIsIlNoaWZ0IiwiUGFnZVVwIiwiUGFnZURvd24iLCJQYXVzZSIsIkNhbmNlbCIsIlNjcm9sbExvY2siLCJBIiwiQiIsIkMiLCJEIiwiRSIsIkYiLCJHIiwiSCIsIkkiLCJKIiwiSyIsIkwiLCJNIiwiTiIsIk8iLCJQIiwiUSIsIlIiLCJTIiwiVCIsIlUiLCJWIiwiVyIsIlgiLCJZIiwiWiIsIkYxIiwiRjIiLCJGMyIsIkY0IiwiRjUiLCJGNiIsIkY3IiwiRjgiLCJGOSIsIkYxMCIsIkYxMSIsIkYxMiIsIk51bTEiLCJOdW0yIiwiTnVtMyIsIk51bTQiLCJOdW01IiwiTnVtNiIsIk51bTciLCJOdW04IiwiTnVtOSIsIk51bTAiLCJBbXBlcnN0YW5kIiwiQXN0ZXJpc2siLCJBdCIsIkJhY2tTbGFzaCIsIkJyYWNlTGVmdCIsIkJyYWNlUmlnaHQiLCJDYXJldCIsIkNsb3NlQnJhY2tldCIsIkNvbG9uIiwiQ29tbWEiLCJEb2xsYXIiLCJFcXVhbFNpZ24iLCJFeGNsYW1hdGlvblBvaW50IiwiR3JlYXRlclRoYW4iLCJMZWZ0UGFyZW4iLCJMZXNzVGhhbiIsIk1pbnVzIiwiSGFzaHRhZyIsIk9wZW5CcmFja2V0IiwiUGVyaW9kIiwiUXVlc3Rpb25NYXJrIiwiU2luZ2xlUXVvdGUiLCJEb3VibGVRdW90ZSIsIlJpZ2h0UGFyZW4iLCJTZW1pY29sb24iLCJGb3J3YXJkU2xhc2giLCJVbmRlcnNjb3JlIiwiU3BhY2UiLCJUaWNrIiwiVGlsZGEiLCJNT1VTRV9NQVAiLCJNaWRkbGUiLCJHYW1lcGFkU3RhdGUiLCJnYW1lcGFkIiwiYnV0dG9uc1N0YXJ0IiwiU2V0IiwiYnV0dG9uc0Rvd24iLCJidXR0b25zUmVsZWFzZWQiLCJheGVzIiwiYnV0dG9ucyIsInZhbHVlIiwiSW5wdXRNYW5hZ2VyIiwiY2FudmFzIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9uS2V5RG93biIsImJpbmQiLCJvbktleVJlbGVhc2UiLCJ3aW5kb3ciLCJvbkdhbWVwYWRDb25uZWN0ZWQiLCJvbkdhbWVwYWREaXNjb25uZWN0ZWQiLCJvbk1vdXNlTW92ZSIsIm9uTW91c2VEb3duIiwib25Nb3VzZVVwIiwib25Qb2ludGVyTG9ja0NsaWNrIiwiZG9jdW1lbnQiLCJvblBvaW50ZXJMb2NrQ2hhbmdlIiwib25Qb2ludGVyTG9ja0Vycm9yIiwiZXZlbnQiLCJrZXkiLCJrZXlzRG93biIsImtleXNTdGFydCIsImtleXNSZWxlYXNlZCIsImNsZWFyIiwiaGFzIiwibWFwcGluZyIsImdhbWVwYWRTdGF0ZSIsImluZGV4IiwiZnJvbUdhbWVwYWQiLCJuYXZpZ2F0b3IiLCJnZXRHYW1lcGFkcyIsImJ1dHRvbktleSIsImlzTmFOIiwiTnVtYmVyIiwiYnV0dG9uIiwicHJlc3NlZCIsIk9iamVjdCIsImFzc2lnbiIsImF4aXMiLCJfcG9pbnRlckxvY2tFbmFibGVkIiwiZW5hYmxlZCIsImV4aXRQb2ludGVyTG9jayIsIm1vdXNlQ29vcmRzIiwiY2xpZW50WCIsImNsaWVudFdpZHRoIiwiY2xpZW50WSIsImNsaWVudEhlaWdodCIsInBvaW50ZXJMb2NrRWxlbWVudCIsIm1vdXNlTW92ZW1lbnQiLCJtb3ZlbWVudFgiLCJtb3ZlbWVudFkiLCJtb3VzZURvd24iLCJtb3VzZVN0YXJ0IiwibW91c2VSZWxlYXNlZCIsInJlcXVlc3RQb2ludGVyTG9jayIsIl9ldmVudCIsIl9lcnJvciIsInJhbmRvbUZsb2F0IiwicmFuZG9tIiwicmFuZG9tSW50IiwiY2VpbCIsInBpY2tSYW5kb21BcnJheSIsInZhbHVlcyIsImNsYW1wIiwiaXNCZXR3ZWVuIiwiaXNCYXNpY2FsbHlJbnRlZ2VyIiwidGhyZXNoaG9sZCIsIm5vcm1hbGl6ZUFuZ2xlIiwiYW5nbGUiLCJhdGFuMiIsIkFic3RyYWN0QnV0dG9uIiwidGV4dCIsIm9uQ3JlYXRlQnV0dG9uIiwiaG92ZXJpbmdPdmVyIiwiZ2V0TW91c2VYIiwiZ2V0TW91c2VZIiwiaXNNb3VzZUJ1dHRvblN0YXJ0ZWQiLCJvbkNsaWNrIiwib25TdGVwQnV0dG9uIiwiZzJkIiwiZ2xvYmFsQWxwaGEiLCJmaWxsU3R5bGUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJnZXRIZXhTdHJpbmciLCJmaWxsUmVjdCIsImZvbnQiLCJ0ZXh0QWxpZ24iLCJ0ZXh0QmFzZWxpbmUiLCJ0ZXh0Q29sb3IiLCJmaWxsVGV4dCIsImJlZ2luUGF0aCIsInJlY3QiLCJsaW5lV2lkdGgiLCJzdHJva2VTdHlsZSIsImJvcmRlckNvbG9yIiwic3Ryb2tlIiwiU3RhcnRCdXR0b24iLCJvdmVybGF5V2lkdGgiLCJXSURUSCIsIm92ZXJsYXlIZWlnaHQiLCJzdGFydEdhbWUiLCJGYWRlSW5FZmZlY3QiLCJ0aWNrcyIsImZhZGUiLCJvblRpY2siLCJhbHBoYSIsImZhZGVJbiIsIl9hbHBoYSIsImNsZWFyVGltZXIiLCJvbkZpbmlzaCIsIlJlc3RhcnRCdXR0b24iLCJzZXRBcmVhIiwiTWFpbkFyZWEiLCJpc0tleVN0YXJ0ZWQiLCJpc0dhbWVwYWRCdXR0b25TdGFydGVkIiwiQUNyb3NzIiwiWFNxdWFyZSIsIllUcmlhbmdsZSIsIlN0YXJ0IiwiZ2V0R2FtZXBhZEF4aXMiLCJSaWdodFRyaWdnZXIiLCJHYW1lT3ZlckFyZWEiLCJjcmVhdGVFbnRpdHkiLCJwb2ludGVyTG9ja0VuYWJsZWQiLCJGYWRlT3V0RWZmZWN0IiwiZmFkZU91dCIsIkRlYXRoQW5pbWF0aW9uIiwiZm9yZXN0QW1iaWVuY2UiLCJ2b2x1bWUiLCJzdG9wIiwiQlVMTEVUX01FU0giLCJQbGF5ZXJCdWxsZXQiLCJzaG9vdEZyb20iLCJkaXJlY3Rpb24iLCJnZXRXb3JsZFBvc2l0aW9uIiwic2V0RnJvbVZlY3RvcjMiLCJ1cGRhdGVNYXRyaXgiLCJyb3RhdGVaIiwidHJhbnNsYXRlWSIsInRlc3RGb3JXYWxsQ29sbGlzaW9uIiwiaXNDb2xsaWRpbmdXaXRoV2FsbHMiLCJkZXN0cm95IiwiZmluZEVudGl0aWVzIiwid2FsbCIsIkRvb3JDb2xvciIsIk1PVkVNRU5UX1NQRUVEIiwiTUFYX1ZFUlRfQU5HTEUiLCJERUFEX1pPTkUiLCJQTEFZRVJfQk9YM19NQVNLIiwiUGxheWVyIiwic3RhcnRSb3ciLCJzdGFydENvbCIsImluY2x1ZGVNYXgiLCJkIiwid3JhcE51bWJlciIsImhvckRpciIsImNhbnZhc1dpZHRoIiwiY2FudmFzSGVpZ2h0IiwiZ3VuIiwiSW5maW5pdHkiLCJ0cmFuc2xhdGUiLCJhc3BlY3QiLCJ1cGRhdGVQcm9qZWN0aW9uTWF0cml4IiwidGVzdEZvckd1bkNvbGxlY3RlZCIsImhhbmRsZUlucHV0IiwidGVzdEZvckRlYXRoIiwiZ3VuQ29sbGVjdGVkIiwicmVzb3VyY2VzIiwiZ2V0UmVzb3VyY2UiLCJoYXNDb2xsZWN0ZWRHdW4iLCJtb3VzZVgiLCJnZXRNb3VzZU1vdmVtZW50WCIsIm1vdXNlWSIsImdldE1vdXNlTW92ZW1lbnRZIiwidmVydERpciIsInNsb3dDb250cm9sbGVyUm90YXRpb24iLCJMZWZ0VHJpZ2dlciIsImNvbnRyb2xsZXJSb3RhdGlvbiIsImZvdiIsImNvbnRyb2xsZXJYIiwiUmlnaHRTdGlja1giLCJjb250cm9sbGVyWSIsIlJpZ2h0U3RpY2tZIiwidXBkYXRlQ2FtZXJhUm90YXRpb24iLCJkZWx0YVgiLCJkZWx0YVoiLCJpc0tleURvd24iLCJwb3NYIiwiTGVmdFN0aWNrWCIsInBvc1kiLCJMZWZ0U3RpY2tZIiwicm90YXRpb25BbmdsZSIsInVwZGF0ZVBvc2l0aW9uIiwicmlnaHRUcmlnZ2VyUHJlc3NlZCIsInJpZ2h0VHJpZ2dlclN0YXJ0ZWQiLCJzaG9vdCIsImV1bGVyIiwicXVhdGVybmlvbiIsInNldEZyb21FdWxlciIsIm1vdmVtZW50VmVjdG9yIiwiYXBwbHlBeGlzQW5nbGUiLCJtb3ZlWCIsIm1vdmVaIiwibmVnYXRlIiwicm9jayIsInRvVmVjdG9yMyIsIm1haW5BcmVhIiwicGxheWVyU2hvb3QiLCJoYXNIZWFsdGhMZWZ0IiwiRE9PUl9DT0xPUl9NQVRFUklBTFMiLCJSZWQiLCJlbWlzc2l2ZSIsImVtaXNzaXZlSW50ZW5zaXR5IiwiWWVsbG93IiwiR3JlZW4iLCJCbHVlIiwiQ29sb3JEb29yIiwiZG9vckNvbG9yIiwiY29uZmlndXJlTWF0ZXJpYWxDb2xvciIsImludGVyYWN0TWFzayIsIm1hdGVyaWFsIiwidGVzdEZvclBsYXllckludGVyYWN0aW9uIiwib3BlbiIsInBsYXllciIsImZpbmRGaXJzdEVudGl0eSIsImh1ZCIsImludmVudG9yeSIsImtleUF2YWlsYWJsZSIsImhhc0tleUF2YWlsYWJsZSIsIm1lc3NhZ2UiLCJ0b0xvd2VyQ2FzZSIsInVzZUtleSIsInNldENvbG9yZWREb29yT3BlbmVkIiwiS0VZX0NPTE9SX01BVEVSSUFMUyIsImNvbGxlY3RLZXkiLCJjb2xsZWN0SXRlbSIsInJvdGF0ZVkiLCJIaXRBbmltYXRpb24iLCJvb2ZTb3VuZCIsImlzUGxheWluZyIsIkRyb25lQnVsbGV0IiwidHJhbnNsYXRlWCIsInRlc3RGb3JQbGF5ZXJDb2xsaXNpb24iLCJoaXQiLCJFeHBsb3Npb24iLCJleHBsb3Npb24iLCJhdWRpbyIsInBsYXliYWNrUmF0ZSIsIm5ld1NjYWxlIiwic2NhbGVBbmltYXRpb24iLCJNb3ZlbWVudFN0YXRlIiwiRGlyZWN0aW9uIiwiUk9UQVRJT05fU1BFRUQiLCJDTEFNUF9USFJFU0hIT0xEIiwiUk9UQVRJT05fVEhSRVNISE9MRCIsIkNBTk5PVF9NT1ZFX1RIUk9VR0giLCJFbGVjdHJpY0JveFR5cGUiLCJESVJFQ1RJT05fREFUQSIsIm9wcG9zaXRlIiwiVHVybmluZyIsInBpY2tOZXdEaXJlY3Rpb24iLCJ1cGRhdGVNYXplUG9zaXRpb24iLCJjYW5TZWVQbGF5ZXIiLCJpbkNlbnRlck9mVGlsZSIsInBvaW50VG93YXJkc1BsYXllciIsIm1vdmVEcm9uZSIsImNoZWNrRm9yQnVsbGV0Q29sbGlzaW9uIiwiY2hlY2tIZWFsdGgiLCJwb3NpdGlvblRvVGlsZUxvY2F0aW9uIiwidmVjdG9yIiwic3ViIiwiZGlzdGFuY2UiLCJyYXljYXN0ZXIiLCJub3JtYWxpemUiLCJldmVyeSIsImhvckFuZ2xlIiwiaG9yRGlzdCIsInNxcnQiLCJ2ZXJBbmdsZSIsIk1vdmluZyIsImRpckFuZ2xlIiwiZGlyIiwibWF4RGlzdGFuY2UiLCJiIiwiYSIsInJvdERpciIsImF2YWlsYWJsZSIsImN1cnJlbnREaXIiLCJvcHBvc2l0ZURpciIsIm5ld0RpciIsImZpbHRlciIsImJ1bGxldCIsImhlYWx0aCIsImhpdE9iamVjdCIsImRyb25lU2hvb3QiLCJUSUxFX1NJWkVfUFgiLCJPVVRTSURFX0NPTE9SIiwiTUFQX0RSQVdfRlVOQ1RJT05TIiwibWFwRHJhd0ljb24iLCJtYXBEcmF3RG9vciIsImNoZWNrQ29sb3JlZERvb3IiLCJnZXRUb2dnbGVTdGF0ZSIsImNoZWNrVG9nZ2xlRG9vciIsImNoZWNrRWxlY3RyaWNEb29yIiwiaXNCaWdEb29yT3BlbmVkIiwiX3JvdyIsIl9jb2wiLCJlbmVyZ3lMZWZ0IiwiaWNvbkltYWdlIiwiZ2V0SW1hZ2UiLCJkcmF3SW1hZ2UiLCJLRVlfQ09MT1JfSUNPTiIsIkhVRCIsIm1hcENhbnZhcyIsImNyZWF0ZUVsZW1lbnQiLCJtYXBWaXNpdGVkIiwiQXJyYXkiLCJmaWxsIiwicmVkcmF3TWFwIiwidXBkYXRlVmlzaXRlZCIsInNob3VsZERyYXdNYXAiLCJpc0dhbWVwYWRCdXR0b25Eb3duIiwiTGVmdEJ1bXBlciIsImdldFBsYXllclRpbGVMb2NhdGlvbiIsInBsYXllclRpbGVSb3ciLCJwbGF5ZXJUaWxlQ29sIiwiZ2V0Q29udGV4dCIsImltYWdlV2lkdGgiLCJpbWFnZUhlaWdodCIsImRyYXdGdW5jIiwiZHJvbmUiLCJhcmMiLCJkcmF3RnVsbE1hcCIsImRyYXdIVUQiLCJoYXNDb2xsZWN0ZWRNYXAiLCJkcmF3SGVhbHRoQmFyIiwiZHJhd01hcFN1YnNldCIsImRyYXdJbnZlbnRvcnkiLCJkcmF3TWVzc2FnZSIsImRyYXdUYXJnZXQiLCJmdWxsSGVhbHRoIiwibm9IZWFsdGgiLCJsZXJwQ29sb3JzIiwiSFVEX1RPUCIsImdldEhlYWx0aFBlcmNlbnRMZWZ0IiwibWVhc3VyZVRleHQiLCJsZWZ0VGlsZVgiLCJNQVBfVElMRVNfVklTSUJMRSIsInRvcFRpbGVZIiwibGVmdFgiLCJ0b3BZIiwiaW1hZ2VTaXplIiwibGVmdFZhbHVlWCIsImRyYXdBcnJvdyIsImdldFBsYXllckFuZ2xlIiwic2xvdFNpemUiLCJ0b3RhbEVuZXJneSIsIkhVRF9MRUZUIiwiY3VycmVudFgiLCJrZXlDb2xvciIsImljb24iLCJnZXRLZXlDb3VudCIsImhhc0NvbGxlY3RlZEJhdHRlcnkiLCJnZXRCYXR0ZXJ5Q291bnQiLCJtZXRyaWNzIiwiYWN0dWFsQm91bmRpbmdCb3hBc2NlbnQiLCJmb250Qm91bmRpbmdCb3hEZXNjZW50IiwiY2VudGVyWCIsImNlbnRlclkiLCJtb3ZlVG8iLCJsaW5lVG8iLCJtYXhXaWR0aCIsIk1BUF9NQVJHSU4iLCJtYXhIZWlnaHQiLCJpbWdXaWR0aCIsImltZ0hlaWdodCIsImxlZnRJbWdYIiwibGVmdEltZ1kiLCJyIiwiaGVhZFgiLCJoZWFkWSIsInRhaWxYIiwidGFpbFkiLCJoZWFkQW5nbGUiLCJpc09wZW4iLCJtYXBEcmF3T3BlbmVkRG9vciIsIm1hcERyYXdDbG9zZWREb29yIiwiaXNDb2xvcmVkRG9vck9wZW5lZCIsInR5cGUiLCJpc0Rvb3JQb3dlcmVkIiwiSGVhbHRoIiwiYW1vdW50IiwiSW52ZW50b3J5IiwibWFwQ29sbGVjdGVkIiwia2V5c0NvbGxlY3RlZCIsImJhdHRlcnlDb2xsZWN0ZWQiLCJFTkVSR1lfR0VPTUVUUlkiLCJFTkVSR1lfTUFURVJJQUwiLCJTQ0FMRV9TUEVFRCIsImFjdGl2YXRlUG9ydGFsIiwicGxheVNjYWxlQW5pbWF0aW9uIiwiY2hlY2tGb3JQbGF5ZXJDb2xsaXNpb24iLCJsZXZlckFjdGlvbiIsInJlcGV0aXRpb25zIiwiY2hlY2tJbnRlcmFjdGlvbklucHV0IiwiY2xvc2VMZXZlciIsIm9wZW5MZXZlciIsInRvZ2dsZURvb3JzIiwidG9nZ2xlTGV2ZXIiLCJ0aW1lIiwiZ2V0Q2xpcCIsImR1cmF0aW9uIiwiZXhwbG9zaW9uUG9zIiwiY29sbGVjdEJhdHRlcnkiLCJFbGVjdHJpY0JveCIsImJhdHRlcnlPYmplY3QiLCJpbnNlcnRCYXR0ZXJ5Iiwic3BpbldoZWVsIiwiaGFzQmF0dGVyeSIsInNldERvb3JQb3dlcmVkIiwiZWxlY3RyaWNCb3giLCJ1c2VCYXR0ZXJ5IiwiRG9vclN0YXRlIiwiYmlnRG9vck9wZW5lZCIsImNvbG9yZWREb29ycyIsInRvZ2dsZSIsInBvd2VyZWQiLCJzeW5jV2l0aFN0YXRlIiwiZXhwZWN0ZWRTdGF0ZSIsImNsb3NlRG9vciIsIkVsZWN0cmljRG9vciIsIkVuZGluZ0FyZWEiLCJoZWFydE1vbml0b3IiLCJjcmVhdGVBdWRpbyIsInN0YXJ0VGltZSIsImNvbnRleHQiLCJjdXJyZW50VGltZSIsImZhZGVJblNvdW5kIiwiZmFkZUluVGV4dCIsImZhZGVPdXRUZXh0IiwiVGl0bGVBcmVhIiwiaXNNb3VzZUJ1dHRvbkRvd24iLCJyZXN1bWUiLCJidWZmZXIiLCJzdHJva2VSZWN0IiwiRW50ZXJQb3J0YWxFZmZlY3QiLCJlbnRlclBvcnRhbCIsImZhZGVGb3Jlc3RBbWJpZW5jZSIsImZhZGVUb0JsYWNrIiwiZmFkZUFscGhhIiwiYmxhY2tBbHBoYSIsInBvcnRhbE9iamVjdCIsImJhbGxNYXQiLCJsZWZ0TWFzayIsInJpZ2h0TWFzayIsImV4aXRNYXNrIiwicG9ydGFsQWN0aW9uIiwidGVzdFBsYXllckVudGVyc1BvcnRhbCIsInRlc3RBY3RpdmF0ZVBvcnRhbCIsImhhbmRsZVVzZXJNZXNzYWdlIiwidGVzdElmQWxsSXRlbXNDb2xsZWN0ZWQiLCJzaG93TWVzc2FnZSIsIm9wZW5CaWdEb29yIiwiQWJzdHJhY3RTZXQiLCJub2RlcyIsIm5vZGUiLCJhZGRSZWN1cnNpdmUiLCJhZGRQYXJlbnRzIiwicmVtb3ZlUmVjdXJzaXZlIiwicmVtb3ZlUGFyZW50cyIsIlZlcnRleFNldCIsInJvb3ROb2RlIiwiZnJvbSIsInNpemUiLCJnZXRBbGxOb2RlcyIsIkludmVyc2VUb2dnbGVHZW5lcmF0b3IiLCJyb290IiwiZmluZFRvZ2dsZURvb3JzIiwibWF4RG9vcnMiLCJyZWd1bGFyVG9nZ2xlRG9vcnMiLCJhbGxvd2RTcG90cyIsInRvZ2dsZURvb3IiLCJwYXRoIiwiZmluZFBhdGhCZXR3ZWVuIiwibGV2ZXIiLCJyZW1vdmVBbGwiLCJzcG90IiwiZG9vciIsInRvZ2dsZUxvY2F0aW9uIiwicGlja0FueVJhbmRvbSIsImxlZnRIZXJpdGFnZSIsInJpZ2h0SGVyaXRhZ2UiLCJzaGlmdCIsIkhpc3RvZ3JhbVNldCIsImhpZ2hlc3QiLCJ2ZXJ0aWNlcyIsImRlcHRoIiwiZ2V0IiwibWluRGVwdGgiLCJtYXhEZXB0aCIsIm1pbkFic29sdXRlRGVwdGgiLCJhbGxOb2RlcyIsImdldEFsbE5vZGVzQnkiLCJ0b3RhbCIsImVudHJ5IiwiYWJzb2x1dGVEZXB0aCIsIk1haW5QYXRoR2VuZXJhdG9yIiwicmVzZXRBbGdvcml0aG0iLCJydW5BbGdvcml0aG1PbmNlIiwiZG9vcnNMZWZ0IiwicmVzZXRWZXJ0aWNlcyIsImhpc3QiLCJoaWdoZXN0RGVwdGgiLCJXSU5ET1dfU0laRSIsIml0ZW1zTmVlZGVkIiwiaXRlbXNSZXVzZWQiLCJkb29yTG9jYXRpb24iLCJwaWNrUmFuZG9tRG9vckxvY2F0aW9uIiwic2hpZnRNaW5EZXB0aCIsInJhbmRvbURvb3IiLCJwdXRFbmVyZ3lCZWhpbmQiLCJjb21wdXRlSXRlbXNOZWVkZWQiLCJvdXRlckxvb3AiLCJuZWVkZWQiLCJkb29ySW5kZXgiLCJkb29ySXRlbU5vZGUiLCJlbnRyaWVzIiwiaXRlbUluZGV4IiwiaXRlbSIsIml0ZW1Mb2NhdGlvbiIsInBpY2tSYW5kb21JdGVtTG9jYXRpb24iLCJwaWNrUmFuZG9tUGFyZW50RG9vckxvY2F0aW9uIiwibG9jYXRpb24iLCJwaWNrUmFuZG9tIiwiYWxsQXZhaWxhYmxlIiwiaSIsImRvb3JOb2RlIiwiYXZhaWxhYmxlTm9kZXMiLCJlbmVyZ3lMb2NhdGlvbiIsIk1hemVXYWxsc0dlbmVyYXRvciIsImNlbnRlcldpZHRoIiwiY2VudGVySGVpZ2h0IiwiY2hpc2VsSG9sZXMiLCJmaWxsQ2VudGVyVGVtcGxhdGUiLCJhZGphY2VudCIsImNob29zZSIsInN0YWNrIiwibiIsIm5laWdoYm9ycyIsIm5laWdoYm9yIiwidW5zaGlmdCIsImdlbmVyYXRlIiwiZ2V0QWxsVmVydGljZXMiLCJpc0FkamFjZW50IiwicGxhY2VWZXJ0ZXhXYWxscyIsInRvcFJvdyIsImJvdHRvbVJvdyIsImxlZnRDb2wiLCJyaWdodENvbCIsIm1pZHBvaW50Um93IiwibWlkcG9pbnRDb2wiLCJJVEVNX05PREVTIiwiQ09MT1JFRF9ET09SUyIsIlNpZGVQYXRoc0dlbmVyYXRvciIsIm1haW5Ob2RlcyIsInNpZGVOb2RlRG9vcnMiLCJwcm9jZXNzSXRlbU5vZGVzIiwiYWRkU2luZ2xlUmFuZG9tRG9vciIsImxvYWRJdGVtTm9kZXNSZWN1cnNpdmUiLCJjb2xvcmVkRG9vciIsImRvb3JUeXBlIiwiaXRlbVR5cGVzIiwiYWxsQWxsb3dlZCIsImFkZEFsbCIsImlzUGFyZW50T2YiLCJ0ZW1wUGFyZW50IiwiQUxMX0RJUkVDVElPTlMiLCJidWlsZFRyZWVOb2RlcyIsInJvb3RSb3ciLCJyb290Q29sIiwiYnVpbGRUcmVlTm9kZXNSZWN1cnNlIiwiTmFOIiwibGFzdFJvdyIsImxhc3RDb2wiLCJjaGlsZERpcmVjdGlvbnMiLCJkZWx0YVJvdyIsImRlbHRhQ29sIiwibmV3Um93IiwibmV3Q29sIiwibmV3RGVwdGgiLCJNYXplR2VuZXJhdG9yIiwiY2VudGVyVGVtcGxhdGUiLCJ0ZW1wbGF0ZVdpZHRoIiwidGVtcGxhdGVIZWlnaHQiLCJnZW5lcmF0ZVJhbmRvbU1hemUiLCJnZXRSb290Tm9kZSIsImdlbmVyYXRlTWFpblBhdGgiLCJnZW5lcmF0ZVNpZGVQYXRocyIsImdlbmVyYXRlSW52ZXJzZVRvZ2dsZURvb3JzIiwiY29tcHV0ZUVtcHR5U3BvdHMiLCJhZGRPclJlbW92ZUVuZXJneSIsImFkZERyb25lcyIsImFkZFJvY2tzIiwib2JqZWN0cyIsImZpbGxUZW1wbGF0ZSIsImxvYWROb2RlcyIsImdldFRlbXBsYXRlVG9wUm93IiwiZ2V0VGVtcGxhdGVMZWZ0Q29sdW1uIiwiZW1wdHlTcG90cyIsImVuZXJneVNwb3RzIiwibnVtRW5lcmd5IiwidG9SZW1vdmUiLCJudW1Ecm9uZXMiLCJudW1Sb2NrcyIsIk1hemVNYXAiLCJjb2xsZWN0TWFwIiwiTWF6ZUd1biIsImNvbGxlY3RHdW4iLCJGYWRlSW5NYWluQXJlYSIsIkNPTlNUUlVDVE9SUyIsImJ1aWxkQ29sb3JEb29yIiwiYnVpbGRLZXkiLCJidWlsZEVsZWN0cmljQm94IiwiYnVpbGRFbGVjdHJpY0Rvb3IiLCJnZW5lcmF0ZU5ld01hemUiLCJwbGF5ZXJUaWxlTG9jYXRpb24iLCJwbGF5ZXJBbmdsZSIsIl90b3RhbEVuZXJneSIsImJhY2tncm91bmQiLCJyZW5kZXJlciIsInNoYWRvd01hcCIsInNldFJlc291cmNlIiwiYnVpbGRNYXplIiwicGxheWVyUG9zaXRpb24iLCJyZWR1Y2UiLCJjZWxsIiwid2FsbEVudGl0eSIsInJvd0luZGV4IiwiY29sSW5kZXgiLCJhZGRXYWxsIiwiY29uc3RydWN0IiwidXBkYXRlUGxheWVyVGlsZUxvY2F0aW9uQW5kQW5nbGUiLCJnZXRGYWNpbmdBbmdsZSIsIlRlbXBsYXRlIiwiZ2VuZXJhdGVNYXplIiwiU2tpcEludHJvQnV0dG9uIiwiaW50cm9NdXNpYyIsIkxJTkUxXzEiLCJMSU5FMV8yIiwiRkFERV9JTl9TUEVFRFMiLCJGQURFX0lOX0FMUEhBIiwiRkFERV9JTl9ERUxBWVMiLCJJbnRyb0FyZWEiLCJpbmNyZWFzZVZvbHVtZSIsImhhbmRsZUZhZGVJbiIsImRlY3JlYXNlVm9sdW1lIiwiYWxwaGFJbmRleCIsInNob3VsZERyYXdGaW5hbExpbmUiLCJkcmF3RmluYWxMaW5lIiwiZHJhd1RocmVlTGluZXMiLCJ0b3BMaW5lIiwibWlkZGxlTGluZSIsImJvdHRvbUxpbmUiLCJzaW5nbGVNZXRyaWNzIiwidG90YWxNZXRyaWNzIiwiU3RhcnRJbnRyb2R1Y3Rpb24iLCJ0aXRsZU11c2ljIiwiVGl0bGUiLCJidWlsZER1bW15TWF6ZSIsImNhbWVyYVBvcyIsImRyYXdUaXRsZSIsInN0cm9rZVRleHQiLCJhY3R1YWxCb3VuZGluZ0JveERlc2NlbnQiLCJUaW1lckVudHJ5IiwibG9vcGluZyIsInRpY2tzTGVmdCIsInJ1bm5pbmciLCJFbnRpdHkiLCJfaXNEZXN0cm95ZWQiLCJ0aW1lcnMiLCJvbkNyZWF0ZSIsIm9uRGVzdHJveSIsInRpbWVyc0ZpcmVkIiwidGltZXIiLCJ0aWNrIiwib25UaW1lciIsIm9uU3RlcCIsIm9uRHJhdyIsIkF1ZGlvV3JhcHBlciIsImdldFZvbHVtZSIsInNldFZvbHVtZSIsImdldExvb3AiLCJzZXRMb29wIiwiQXJlYSIsImF1ZGlvTGlzdGVuZXIiLCJfY2FtZXJhIiwibmV3Q2FtZXJhIiwibmV3RW50aXR5IiwidG9DcmVhdGUiLCJhbGxFbnRpdGllcyIsInRhZyIsInRhZ2dlZEVudGl0aWVzIiwiZmlyc3RFbnRyeSIsIm5leHQiLCJkb25lIiwiQXVkaW9CdWZmZXIiLCJnZXRBdWRpbyIsImFkZEVudGl0eVRvQXJlYSIsImNyZWF0ZWQiLCJfY3JlYXRlIiwidGFncyIsImFkZFRhZ2dlZEVudGl0eVRvTWFwIiwidG9EZXN0cm95IiwiaXNEZXN0cm95ZWQiLCJyZW1vdmVFbnRpdHlGcm9tQXJlYSIsIl9kZXN0cm95IiwicmVtb3ZlVGFnZ2VkRW50aXR5RnJvbU1hcCIsIl90aWNrVGltZXJzIiwiX3N0ZXAiLCJvdmVybGF5IiwicmVuZGVyIiwiY2xlYXJSZWN0IiwiX2RyYXciLCJERUZBVUxUX1BST0dSRVNTX0hBTkRMRVIiLCJjb25zb2xlIiwibG9nIiwiREVGQVVMVF9FUlJPUl9IQU5ETEVSIiwiZSIsIkVycm9yIiwiQXNzZXRzTWFuYWdlciIsImF1ZGlvTG9hZGVyIiwiaW1hZ2VMb2FkZXIiLCJ0ZXh0dXJlTG9hZGVyIiwiY3ViZVRleHR1cmVMb2FkZXIiLCJvYmplY3RMb2FkZXIiLCJtYXRlcmlhbExvYWRlciIsImFuaW1hdGlvbkxvYWRlciIsImdsdGZMb2FkZXIiLCJHTFRGTG9hZGVyIiwiZmlsZSIsImxvYWRBc3luYyIsIm9uUHJvZ3Jlc3MiLCJ0aGVuIiwidGV4dHVyZXMiLCJvbkVycm9yIiwiZmlsZXMiLCJQcm9taXNlIiwicmVzb2x2ZSIsInBvc2l0aXZlWCIsIm5lZ2F0aXZlWCIsInBvc2l0aXZlWSIsIm5lZ2F0aXZlWSIsInBvc2l0aXZlWiIsIm5lZ2F0aXZlWiIsImxvYWQiLCJ0b1N0cmluZyIsInNvdW5kcyIsImltYWdlIiwiaW1hZ2VzIiwibWF0ZXJpYWxzIiwib25Mb2FkIiwiYW5pbWF0aW9ucyIsImFuaW1hdGlvbiIsImdsdGYiLCJmaWxldHlwZSIsIm5hbWVTdHJpbmciLCJwcmVmaXgiLCJwcmV0dHlTaXplIiwibG9hZGVkIiwibGVuZ3RoQ29tcHV0YWJsZSIsInBlcmNlbnRMb2FkZWQiLCJwcm9ncmVzc0hhbmRsZXIiLCJ0b0ZpeGVkIiwiZXJyb3IiLCJlcnJvckhhbmRsZXIiLCJMb2NhbFN0b3JhZ2UiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwiSlNPTiIsInN0cmluZ2lmeSIsImRlZiIsImdldEl0ZW0iLCJwYXJzZSIsInJlbW92ZUl0ZW0iLCJSZXNvdXJjZU1hbmFnZXIiLCJyZXNvdXJjZSIsIkdhbWUiLCJnYW1lQ2FudmFzIiwib3ZlcmxheUNhbnZhcyIsIl9jdXJyZW50QXJlYSIsImZvY3VzIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibmV4dEFyZWEiLCJyZXNpemVDYW52YXMiLCJjdXJyZW50QXJlYSIsIl9jcmVhdGVFbnRpdGllcyIsIl9kZXN0cm95RW50aXRpZXMiLCJfdGlja0VudGl0eVRpbWVycyIsIl9zdGVwRW50aXRpZXMiLCJfZHJhd1NjZW5lIiwiX2NsZWFyS2V5VGljayIsIl91cGRhdGVHYW1lcGFkIiwiX2NsZWFyTW91c2VUaWNrIiwic2NyZWVuU2l6ZSIsImRpc3BsYXlXaWR0aCIsImRpc3BsYXlIZWlnaHQiLCJzZXRTaXplIiwiYm9keSIsImFwcGVuZENoaWxkIiwiY2xhc3NMaXN0IiwiZXJyb3JPY2N1cmVkIiwiYWxsIiwibG9hZFRleHR1cmUiLCJHcmFzc0NvbG9yIiwiR3Jhc3NOcm0iLCJHcmFzc09jYyIsIkJyaWNrQ29sb3IiLCJCcmlja05ybSIsIkJyaWNrT2NjIiwibG9hZEN1YmVUZXh0dXJlIiwiU2t5Ym94UG9zWCIsIlNreWJveE5lZ1giLCJTa3lib3hQb3NZIiwiU2t5Ym94TmVnWSIsIlNreWJveFBvc1oiLCJTa3lib3hOZWdaIiwibG9hZEdMVEZGaWxlIiwiZ2xiIiwibWFuYWdlciIsInNhdmVPYmplY3QiLCJEb29yIiwic2F2ZUFuaW1hdGlvbiIsImFkanVzdEVtaXNzaW9uIiwidHJhbnNwYXJlbnQiLCJvcGFjaXR5IiwibG9hZEltYWdlIiwiQmF0dGVyeUljb24iLCJMZXZlckljb24iLCJMZXZlclJldmVyc2VJY29uIiwiRWxlY3RyaWNCb3hJY29uIiwiR3VuSWNvbiIsIk1hcEljb24iLCJsb2FkQXVkaW9GaWxlIiwiUGxheWVyU2hvb3QiLCJEcm9uZVNob290IiwiSGl0T2JqZWN0IiwiT29mIiwiQ29sbGVjdEl0ZW0iLCJPcGVuRG9vciIsIk9wZW5CaWdEb29yIiwiVG9nZ2xlTGV2ZXIiLCJFbGVjdHJpY0JveFNvdW5kIiwiRXhwbG9zaW9uU291bmQiLCJBY3RpdmF0ZVBvcnRhbCIsIkVudGVyUG9ydGFsIiwiVGl0bGVNdXNpYyIsIkludHJvTXVzaWMiLCJGb3Jlc3RBbWJpZW5jZSIsIkhlYXJ0TW9uaXRvciIsIm1lc2giLCJpbnRlbnNpdHkiLCJkcmF3TG9hZGluZ1Byb2dyZXNzIiwibG9hZEFsbEFzc2V0cyIsInN0YXJ0IiwiX19fQ1NTX0xPQURFUl9FWFBPUlRfX18iLCJtb2R1bGUiLCJpZCIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsImV4cG9ydHMiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwibSIsImNodW5rSWRzIiwiZm4iLCJwcmlvcml0eSIsIm5vdEZ1bGZpbGxlZCIsImZ1bGZpbGxlZCIsImoiLCJrZXlzIiwic3BsaWNlIiwiZ2V0dGVyIiwiX19lc01vZHVsZSIsImRlZmluaXRpb24iLCJvIiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsInAiLCJpbnN0YWxsZWRDaHVua3MiLCIxNzkiLCJjaHVua0lkIiwid2VicGFja0pzb25wQ2FsbGJhY2siLCJwYXJlbnRDaHVua0xvYWRpbmdGdW5jdGlvbiIsImRhdGEiLCJtb3JlTW9kdWxlcyIsInJ1bnRpbWUiLCJjaHVua0xvYWRpbmdHbG9iYWwiLCJzZWxmIiwiZm9yRWFjaCIsIl9fd2VicGFja19leHBvcnRzX18iXSwibWFwcGluZ3MiOiJ1QkFBSUEsRSwwdEdDQ1FDLEUseW5DQUFBQSxPLGlCQUFBQSxJLGVBQUFBLEksZUFBQUEsSSxtQkFBQUEsSSxxQkFBQUEsSSwyQkFBQUEsSSx5QkFBQUEsSSx1QkFBQUEsSSxtQkFBQUEsSSx5QkFBQUEsSSx3QkFBQUEsSSxzQkFBQUEsSSxzQkFBQUEsSSxrQkFBQUEsSSw0QkFBQUEsSSwwQ0FBQUEsSSxrQkFBQUEsSSxrQkFBQUEsSSxrQkFBQUEsSSxnQkFBQUEsSSxnQkFBQUEsSSxnQkFBQUEsSSxrQkFBQUEsSSxzQkFBQUEsSSxvQkFBQUEsSSxjQUFBQSxJLGVBQUFBLE0sS0FnQ0wsSUFBTUMsRUFBK0IsQ0FDMUNELEVBQVdFLFFBQ1hGLEVBQVdHLFdBQ1hILEVBQVdJLFVBQ1hKLEVBQVdLLFNBQ1hMLEVBQVdNLFdBQ1hOLEVBQVdPLE1BQ1hQLEVBQVdRLE1BQ1hSLEVBQVdTLE9BU0FDLEdBQTZDLGVBQ3ZEVixFQUFXRSxRQUFVLENBQUVTLFlBQWFYLEVBQVdZLFVBRFEsU0FFdkRaLEVBQVdHLFdBQWEsQ0FBRVEsWUFBYVgsRUFBV2EsYUFGSyxTQUd2RGIsRUFBV0ksVUFBWSxDQUFFTyxZQUFhWCxFQUFXYyxZQUhNLFNBSXZEZCxFQUFXSyxTQUFXLENBQUVNLFlBQWFYLEVBQVdlLFdBSk8sU0FLdkRmLEVBQVdNLFdBQWEsQ0FBRVUsVUFBV2hCLEVBQVdpQixTQUxPLFNB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LEksNEJBQUFBLEksVUFBQUEsSSxVQUFBQSxJLFVBQUFBLEksVUFBQUEsSSxVQUFBQSxJLFVBQUFBLEksVUFBQUEsSSxVQUFBQSxJLFVBQUFBLEksVUFBQUEsSSxVQUFBQSxJLFVBQUFBLEksVUFBQUEsSSxVQUFBQSxJLFVBQUFBLEksVUFBQUEsSSxVQUFBQSxJLFVBQUFBLEksVUFBQUEsSSxVQUFBQSxJLFVBQUFBLEksVUFBQUEsSSxVQUFBQSxJLFVBQUFBLEksVUFBQUEsSSxVQUFBQSxJLFlBQUFBLEksWUFBQUEsSSxZQUFBQSxJLFlBQUFBLEksWUFBQUEsSSxZQUFBQSxJLFlBQUFBLEksWUFBQUEsSSxZQUFBQSxJLGNBQUFBLEksY0FBQUEsSSxjQUFBQSxJLGdCQUFBQSxJLGdCQUFBQSxJLGdCQUFBQSxJLGdCQUFBQSxJLGdCQUFBQSxJLGdCQUFBQSxJLGdCQUFBQSxJLGdCQUFBQSxJLGdCQUFBQSxJLGdCQUFBQSxJLDRCQUFBQSxJLHdCQUFBQSxJLFlBQUFBLEksMEJBQUFBLEksMEJBQUFBLEksNEJBQUFBLEksa0JBQUFBLEksZ0NBQUFBLEksa0JBQUFBLEksa0JBQUFBLEksb0JBQUFBLEksMEJBQUFBLEksd0NBQUFBLEksOEJBQUFBLEksMEJBQUFBLEksd0JBQUFBLEksa0JBQUFBLEksc0JBQUFBLEksOEJBQUFBLEksb0JBQUFBLEksZ0NBQUFBLEksOEJBQUFBLEksOEJBQUFBLEksNEJBQUFBLEksMEJBQUFBLEksZ0NBQUFBLEksNEJBQUFBLEksa0JBQUFBLEksZ0JBQUFBLEksbUJBQUFBLE0sY0E0R0FDLE8sWUFBQUEsSSxnQkFBQUEsSSxnQkFBQUEsSSxrQkFBQUEsSSxtQkFBQUEsSSxxQkFBQUEsSSxxQkFBQUEsSSx5QkFBQUEsSSxtQkFBQUEsSSxpQkFBQUEsSSxvQkFBQUEsSSwyQkFBQUEsSSw2QkFBQUEsSSxzQ0FBQUEsSSx5Q0FBQUEsTSxjQXNCQUMsTywyQkFBQUEsSSwyQkFBQUEsSSw2QkFBQUEsSSw2QkFBQUEsSSw2QkFBQUEsSSxnQ0FBQUEsUSxjQVlBQyxPLGVBQUFBLEksbUJB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Q3JCQyxJQUFLLEdBYU41QixFQUFvQjc2QixFQUFFeTdCLEVBQUtpQixHQUEwQyxJQUE3QkYsRUFBZ0JFLEdBR3hELElBQUlDLEVBQXVCLENBQUNDLEVBQTRCQyxLQUN2RCxJQUdJL0IsRUFBVTRCLEdBSFR0QixFQUFVMEIsRUFBYUMsR0FBV0YsRUFHaEI3VyxFQUFJLEVBQzNCLElBQUk4VSxLQUFZZ0MsRUFDWmpDLEVBQW9Ca0IsRUFBRWUsRUFBYWhDLEtBQ3JDRCxFQUFvQk0sRUFBRUwsR0FBWWdDLEVBQVloQyxJQUtoRCxJQUZHaUMsR0FBU0EsRUFBUWxDLEdBQ2pCK0IsR0FBNEJBLEVBQTJCQyxHQUNyRDdXLEVBQUlvVixFQUFTM3BDLE9BQVF1MEIsSUFDekIwVyxFQUFVdEIsRUFBU3BWLEdBQ2hCNlUsRUFBb0JrQixFQUFFUyxFQUFpQkUsSUFBWUYsRUFBZ0JFLElBQ3JFRixFQUFnQkUsR0FBUyxLQUUxQkYsRUFBZ0JwQixFQUFTcFYsSUFBTSxFQUVoQzZVLEVBQW9CNzZCLEtBR2pCZzlCLEVBQXFCQyxLQUE4Qix3QkFBSUEsS0FBOEIseUJBQUssR0FDOUZELEVBQW1CRSxRQUFRUCxFQUFxQjUzQixLQUFLLEtBQU0sSUFDM0RpNEIsRUFBbUJsckMsS0FBTzZxQyxFQUFxQjUzQixLQUFLLEtBQU1pNEIsRUFBbUJsckMsS0FBS2lULEtBQUtpNEIsSyxHQzNDdkYsSUFBSUcsRUFBc0J0QyxFQUFvQjc2QixPQUFFZzdCLEVBQVcsQ0FBQyxNQUFNLElBQU9ILEVBQW9CLFFBQzdGc0MsRUFBc0J0QyxFQUFvQjc2QixFQUFFbTlCLEkiLCJmaWxlIjoibWFpbi5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZGVmZXJyZWQgPSBbXTtcbl9fd2VicGFja19yZXF1aXJlX18uTyA9IChyZXN1bHQsIGNodW5rSWRzLCBmbiwgcHJpb3JpdHkpID0+IHtcblx0aWYoY2h1bmtJZHMpIHtcblx0XHRwcmlvcml0eSA9IHByaW9yaXR5IHx8IDA7XG5cdFx0Zm9yKHZhciBpID0gZGVmZXJyZWQubGVuZ3RoOyBpID4gMCAmJiBkZWZlcnJlZFtpIC0gMV1bMl0gPiBwcmlvcml0eTsgaS0tKSBkZWZlcnJlZFtpXSA9IGRlZmVycmVkW2kgLSAxXTtcblx0XHRkZWZlcnJlZFtpXSA9IFtjaHVua0lkcywgZm4sIHByaW9yaXR5XTtcblx0XHRyZXR1cm47XG5cdH1cblx0dmFyIG5vdEZ1bGZpbGxlZCA9IEluZmluaXR5O1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IGRlZmVycmVkLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIFtjaHVua0lkcywgZm4sIHByaW9yaXR5XSA9IGRlZmVycmVkW2ldO1xuXHRcdHZhciBmdWxmaWxsZWQgPSB0cnVlO1xuXHRcdGZvciAodmFyIGogPSAwOyBqIDwgY2h1bmtJZHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdGlmICgocHJpb3JpdHkgJiAxID09PSAwIHx8IG5vdEZ1bGZpbGxlZCA+PSBwcmlvcml0eSkgJiYgT2JqZWN0LmtleXMoX193ZWJwYWNrX3JlcXVpcmVfXy5PKS5ldmVyeSgoa2V5KSA9PiAoX193ZWJwYWNrX3JlcXVpcmVfXy5PW2tleV0oY2h1bmtJZHNbal0pKSkpIHtcblx0XHRcdFx0Y2h1bmtJZHMuc3BsaWNlKGotLSwgMSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRmdWxmaWxsZWQgPSBmYWxzZTtcblx0XHRcdFx0aWYocHJpb3JpdHkgPCBub3RGdWxmaWxsZWQpIG5vdEZ1bGZpbGxlZCA9IHByaW9yaXR5O1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZihmdWxmaWxsZWQpIHtcblx0XHRcdGRlZmVycmVkLnNwbGljZShpLS0sIDEpXG5cdFx0XHRyZXN1bHQgPSBmbigpO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gcmVzdWx0O1xufTsiLCIvLy8gQWxsIG9iamVjdHMgdGhhdCBjYW4gYmUgaW5zaWRlIHRoZSBtYXplXG5leHBvcnQgZW51bSBNYXplT2JqZWN0IHtcbiAgRW1wdHksXG4gIFdhbGwsXG4gIFJvY2ssXG4gIEVuZXJneSxcbiAgUmVkRG9vcixcbiAgWWVsbG93RG9vcixcbiAgR3JlZW5Eb29yLFxuICBCbHVlRG9vcixcbiAgUmVkS2V5LFxuICBZZWxsb3dLZXksXG4gIEdyZWVuS2V5LFxuICBCbHVlS2V5LFxuICBCYXR0ZXJ5LFxuICBMZXZlcixcbiAgVG9nZ2xlRG9vcixcbiAgSW52ZXJzZVRvZ2dsZURvb3IsXG4gIEFEb29yLFxuICBCRG9vcixcbiAgQ0Rvb3IsXG4gIEFCb3gsXG4gIEJCb3gsXG4gIENCb3gsXG4gIERyb25lLFxuICBCaWdEb29yLFxuICBQb3J0YWwsXG4gIE1hcCxcbiAgR3VuLFxufVxuXG4vLy8gTGlzdCBvZiBtYWluIGRvb3JzIHVzZWQgYnkgdGhlIGdlbmVyYXRvclxuLy8vICBOb3RlOiBEb2VzIG5vdCBpbmNsdWRlIHRoZSBpbnZlcnNlIHRvZ2dsZSBkb29yLCBhcyB0aGlzIHJlcXVpcmVzIGEgc3BlY2lhbCBjYXNlIGFsZ29yaXRobVxuZXhwb3J0IGNvbnN0IEFMTF9NQUlOX0RPT1JTOiBNYXplT2JqZWN0W10gPSBbXG4gIE1hemVPYmplY3QuUmVkRG9vcixcbiAgTWF6ZU9iamVjdC5ZZWxsb3dEb29yLFxuICBNYXplT2JqZWN0LkdyZWVuRG9vcixcbiAgTWF6ZU9iamVjdC5CbHVlRG9vcixcbiAgTWF6ZU9iamVjdC5Ub2dnbGVEb29yLFxuICBNYXplT2JqZWN0LkFEb29yLFxuICBNYXplT2JqZWN0LkJEb29yLFxuICBNYXplT2JqZWN0LkNEb29yLFxuXTtcblxuLy8vIExpc3Qgb2YgaXRlbXMgcmVxdWlyZWQgdG8gb3BlbiBhIGRvb3JcbmV4cG9ydCBpbnRlcmZhY2UgRG9vckl0ZW1zIHtcbiAgb25lVGltZUl0ZW0/OiBNYXplT2JqZWN0OyAvLyBJdGVtcyB1c2VkIG9uY2UgdG8gb3BlbiB0aGUgZG9vclxuICByZXVzZUl0ZW0/OiBNYXplT2JqZWN0OyAvLyBJdGVtIHRoYXQgaXMgcmV1c2VkIHRvIG9wZW4gdGhlIGRvb3Jcbn1cblxuZXhwb3J0IGNvbnN0IERPT1JfSVRFTVM6IHsgW0sgaW4gTWF6ZU9iamVjdF0/OiBEb29ySXRlbXMgfSA9IHtcbiAgW01hemVPYmplY3QuUmVkRG9vcl06IHsgb25lVGltZUl0ZW06IE1hemVPYmplY3QuUmVkS2V5IH0sXG4gIFtNYXplT2JqZWN0LlllbGxvd0Rvb3JdOiB7IG9uZVRpbWVJdGVtOiBNYXplT2JqZWN0LlllbGxvd0tleSB9LFxuICBbTWF6ZU9iamVjdC5HcmVlbkRvb3JdOiB7IG9uZVRpbWVJdGVtOiBNYXplT2JqZWN0LkdyZWVuS2V5IH0sXG4gIFtNYXplT2JqZWN0LkJsdWVEb29yXTogeyBvbmVUaW1lSXRlbTogTWF6ZU9iamVjdC5CbHVlS2V5IH0sXG4gIFtNYXplT2JqZWN0LlRvZ2dsZURvb3JdOiB7IHJldXNlSXRlbTogTWF6ZU9iamVjdC5MZXZlciB9LFxuICBbTWF6ZU9iamVjdC5BRG9vcl06IHsgb25lVGltZUl0ZW06IE1hemVPYmplY3QuQmF0dGVyeSwgcmV1c2VJdGVtOiBNYXplT2JqZWN0LkFCb3ggfSxcbiAgW01hemVPYmplY3QuQkRvb3JdOiB7IG9uZVRpbWVJdGVtOiBNYXplT2JqZWN0LkJhdHRlcnksIHJldXNlSXRlbTogTWF6ZU9iamVjdC5CQm94IH0sXG4gIFtNYXplT2JqZWN0LkNEb29yXTogeyBvbmVUaW1lSXRlbTogTWF6ZU9iamVjdC5CYXR0ZXJ5LCByZXVzZUl0ZW06IE1hemVPYmplY3QuQ0JveCB9LFxufTtcblxuY29uc3QgTUFaRV9PQkpFQ1RfTE9PS1VQOiBSZWNvcmQ8c3RyaW5nLCBNYXplT2JqZWN0PiA9IHtcbiAgWycgJ106IE1hemVPYmplY3QuRW1wdHksXG4gIFsnIyddOiBNYXplT2JqZWN0LldhbGwsXG4gIFsnQCddOiBNYXplT2JqZWN0LlJvY2ssXG4gIFsnKiddOiBNYXplT2JqZWN0LkVuZXJneSxcbiAgWydSJ106IE1hemVPYmplY3QuUmVkRG9vcixcbiAgWydZJ106IE1hemVPYmplY3QuWWVsbG93RG9vcixcbiAgWydHJ106IE1hemVPYmplY3QuR3JlZW5Eb29yLFxuICBbJ0wnXTogTWF6ZU9iamVjdC5CbHVlRG9vcixcbiAgWydyJ106IE1hemVPYmplY3QuUmVkS2V5LFxuICBbJ3knXTogTWF6ZU9iamVjdC5ZZWxsb3dLZXksXG4gIFsnZyddOiBNYXplT2JqZWN0LkdyZWVuS2V5LFxuICBbJ2wnXTogTWF6ZU9iamVjdC5CbHVlS2V5LFxuICBbJzonXTogTWF6ZU9iamVjdC5CYXR0ZXJ5LFxuICBbJy8nXTogTWF6ZU9iamVjdC5MZXZlcixcbiAgWyd0J106IE1hemVPYmplY3QuVG9nZ2xlRG9vcixcbiAgWydUJ106IE1hemVPYmplY3QuSW52ZXJzZVRvZ2dsZURvb3IsXG4gIFsnQSddOiBNYXplT2JqZWN0LkFEb29yLFxuICBbJ0InXTogTWF6ZU9iamVjdC5CRG9vcixcbiAgWydDJ106IE1hemVPYmplY3QuQ0Rvb3IsXG4gIFsnYSddOiBNYXplT2JqZWN0LkFCb3gsXG4gIFsnYiddOiBNYXplT2JqZWN0LkJCb3gsXG4gIFsnYyddOiBNYXplT2JqZWN0LkNCb3gsXG4gIFsnZCddOiBNYXplT2JqZWN0LkRyb25lLFxuICBbJ24nXTogTWF6ZU9iamVjdC5CaWdEb29yLFxuICBbJ1AnXTogTWF6ZU9iamVjdC5Qb3J0YWwsXG4gIFsnbSddOiBNYXplT2JqZWN0Lk1hcCxcbiAgWyclJ106IE1hemVPYmplY3QuR3VuLFxufTtcblxuLyoqXG4gKiBNYXAgYSBzdHJpbmcgdG8gYW4gYXJyYXkgb2YgbWF6ZSBvYmplY3RzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdHJpbmdUb01hemUoaW5wdXQ6IHN0cmluZyk6IE1hemVPYmplY3RbXVtdIHtcbiAgLy8gU3BsaXQgYnkgbmV3bGluZXNcbiAgY29uc3QgbGluZXMgPSBpbnB1dC5zcGxpdCgvXFxyP1xcbi8pO1xuXG4gIC8vIEZpZ3VyZSBvdXQgdGhlIGxvbmdlc3QgbGluZVxuICBsZXQgbWF4TGVuZ3RoID0gMDtcbiAgZm9yIChjb25zdCBsaW5lIG9mIGxpbmVzKSB7XG4gICAgbWF4TGVuZ3RoID0gTWF0aC5tYXgobWF4TGVuZ3RoLCBsaW5lLmxlbmd0aCk7XG4gIH1cblxuICBjb25zdCByZXN1bHQ6IE1hemVPYmplY3RbXVtdID0gW107XG4gIGZvciAoY29uc3QgbGluZSBvZiBsaW5lcykge1xuICAgIGNvbnN0IG1hemVSb3c6IE1hemVPYmplY3RbXSA9IFtdO1xuICAgIGZvciAoY29uc3QgY2hhciBvZiBsaW5lKSB7XG4gICAgICBjb25zdCBsb29rdXAgPSBNQVpFX09CSkVDVF9MT09LVVBbY2hhcl07XG4gICAgICBpZiAodHlwZW9mIGxvb2t1cCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgbWF6ZVJvdy5wdXNoKE1hemVPYmplY3QuRW1wdHkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWF6ZVJvdy5wdXNoKGxvb2t1cCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gTWFrZSBzdXJlIGFsbCBsaW5lcyBhcmUgdGhlIHNhbWUgbGVuZ3RoXG4gICAgd2hpbGUgKG1hemVSb3cubGVuZ3RoIDwgbWF4TGVuZ3RoKSB7XG4gICAgICBtYXplUm93LnB1c2goTWF6ZU9iamVjdC5FbXB0eSk7XG4gICAgfVxuXG4gICAgcmVzdWx0LnB1c2gobWF6ZVJvdyk7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuIiwiaW1wb3J0IHsgTWF6ZU9iamVjdCB9IGZyb20gJy4vTWF6ZU9iamVjdCc7XG5pbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XG5cbi8vIFNpemUgb2YgZWFjaCB0aWxlIGluIHRoZSBtYXplIChOeE4pXG5leHBvcnQgY29uc3QgU0NBTEVfQkFTRSA9IDU7XG5cbi8vIEhlaWdodCBvZiB0aGUgd2FsbHNcbmV4cG9ydCBjb25zdCBTQ0FMRV9IRUlHSFQgPSAyMDtcblxuLyoqXG4gKiBUeXBlIG9mIGFyZWEgdGhhdCBzdG9yZXMgYSBtYXplIHdpdGggbWV0aG9kcyB0byBpbnRlcmFjdCB3aXRoIGl0XG4gKi9cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBBYnN0cmFjdE1hemVBcmVhIHtcbiAgcHVibGljIHJlYWRvbmx5IG1hemU6IE1hemVPYmplY3RbXVtdO1xuXG4gIGNvbnN0cnVjdG9yKG1hemU6IE1hemVPYmplY3RbXVtdKSB7XG4gICAgdGhpcy5tYXplID0gbWF6ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgbnVtYmVyIG9mIGNvbHVtbnMgaW4gdGhlIG1hemVcbiAgICovXG4gIHB1YmxpYyBnZXQgbWF6ZVdpZHRoKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMubWF6ZVswXS5sZW5ndGg7XG4gIH1cblxuICAvKipcbiAgICogR2V0IG51bWJlciBvZiByb3dzIGluIHRoZSBtYXplXG4gICAqL1xuICBwdWJsaWMgZ2V0IG1hemVIZWlnaHQoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5tYXplLmxlbmd0aDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0IGFuIChyb3csY29sdW1uKSB0aWxlIGxvY2F0aW9uIGludG8gYW4gYWJzb2x1dGUgWCwwLFogcG9zaXRpb24gaW5zaWRlIHRoZSByb29tXG4gICAqXG4gICAqIE91dHB1dDpcbiAgICogICBYID0gWFxuICAgKiAgIFkgPSAwXG4gICAqICAgWiA9IFpcbiAgICovXG4gIHB1YmxpYyB0aWxlTG9jYXRpb25Ub1Bvc2l0aW9uKHJvdzogbnVtYmVyLCBjb2x1bW46IG51bWJlcik6IFRIUkVFLlZlY3RvcjMge1xuICAgIGNvbnN0IHggPSByb3cgKiBTQ0FMRV9CQVNFIC0gU0NBTEVfQkFTRSAqIE1hdGguZmxvb3IodGhpcy5tYXplSGVpZ2h0IC8gMik7XG4gICAgY29uc3QgeiA9IFNDQUxFX0JBU0UgKiBNYXRoLmZsb29yKHRoaXMubWF6ZVdpZHRoIC8gMikgLSBjb2x1bW4gKiBTQ0FMRV9CQVNFO1xuICAgIHJldHVybiBuZXcgVEhSRUUuVmVjdG9yMyh4LCAwLCB6KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgdGhlIFJvdyxDb2x1bW4gdmFsdWUgZ2l2ZW4gYSBwb3NpdGlvblxuICAgKiBAcGFyYW0gcG9zaXRpb25cbiAgICovXG4gIHB1YmxpYyBwb3NpdGlvblRvVGlsZUxvY2F0aW9uKHBvc2l0aW9uOiBUSFJFRS5WZWN0b3IzKTogW251bWJlciwgbnVtYmVyXSB7XG4gICAgY29uc3Qgcm93ID0gTWF0aC5yb3VuZChwb3NpdGlvbi54IC8gU0NBTEVfQkFTRSkgKyBNYXRoLmZsb29yKHRoaXMubWF6ZUhlaWdodCAvIDIpO1xuICAgIGNvbnN0IGNvbCA9IE1hdGguZmxvb3IodGhpcy5tYXplV2lkdGggLyAyKSAtIE1hdGgucm91bmQocG9zaXRpb24ueiAvIFNDQUxFX0JBU0UpO1xuICAgIHJldHVybiBbcm93LCBjb2xdO1xuICB9XG59XG4iLCJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XG5cbi8vIEdlb21ldHJpZXMgdG8gZHJhdyBjb2xsaXNpb24gbWFza3NcbmNvbnN0IFdJUkVGUkFNRV9NQVRFUklBTCA9IG5ldyBUSFJFRS5MaW5lQmFzaWNNYXRlcmlhbCh7IGNvbG9yOiAweGZmZmZmZiB9KTtcbmNvbnN0IFNQSEVSRV9HRU9NRVRSWSA9IG5ldyBUSFJFRS5XaXJlZnJhbWVHZW9tZXRyeShuZXcgVEhSRUUuSWNvc2FoZWRyb25HZW9tZXRyeSgxLCAyKSk7XG5cbi8vIEJ1aWxkIHRoZSBib3ggZ2VvbWV0cnkgbGluZSBzZWdtZW50cyBtYW51YWxseVxuY29uc3QgQk9YX0dFT01FVFJZX0lORElDRVMgPSBuZXcgVWludDE2QXJyYXkoWzAsIDEsIDEsIDIsIDIsIDMsIDMsIDAsIDQsIDUsIDUsIDYsIDYsIDcsIDcsIDQsIDAsIDQsIDEsIDUsIDIsIDYsIDMsIDddKTtcbmNvbnN0IEJPWF9HRU9FVFJZX1ZFUlRJQ0VTID0gbmV3IFRIUkVFLkZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUoXG4gIFsxLCAxLCAxLCAtMSwgMSwgMSwgLTEsIC0xLCAxLCAxLCAtMSwgMSwgMSwgMSwgLTEsIC0xLCAxLCAtMSwgLTEsIC0xLCAtMSwgMSwgLTEsIC0xXSxcbiAgMyxcbik7XG5jb25zdCBCT1hfR0VPTUVUUlkgPSBuZXcgVEhSRUUuQnVmZmVyR2VvbWV0cnkoKVxuICAuc2V0SW5kZXgobmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZShCT1hfR0VPTUVUUllfSU5ESUNFUywgMSkpXG4gIC5zZXRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJywgQk9YX0dFT0VUUllfVkVSVElDRVMpO1xuXG4vKipcbiAqIFJlcHJlc2VudHMgYSBnZW5lcmljIHR5cGUgb2YgY29sbGlzaW9uIG1hc2suXG4gKlxuICogQ29sbGlzaW9ucyBpbiB0aGUgZ2FtZSBlbmdpbmUgYXJlIGVpdGhlciBib3hlcyBvciBzcGhlcmVzLlxuICogQWRkaXRpb25hbGx5LCB0aGVyZSBpcyBhIENvbGxpc2lvbk1hc2tHcm91cCB0aGF0IGNhbiBjaGVjayBmb3IgbXVsdGlwbGUgY29sbGlzaW9uIG1hc2tzLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIENvbGxpc2lvbk1hc2sge1xuICAvLyBJZiBzZXQgdG8gdHJ1ZSwgZHJhd3MgdGhlIG91dGxpbmUgb2YgdGhlIG1hc2tcbiAgLy8gIFNldCB0aGlzIHZhbHVlIHRvIFwiZmFsc2VcIiBiZWZvcmUgcmVwbGFjaW5nIGFueSBtYXNrcyB0byBjbGVhciB0aGUgc2NlbmUuXG4gIHNob3dNYXNrOiBib29sZWFuO1xuXG4gIGlzQ29sbGlkaW5nV2l0aChvdGhlcjogQ29sbGlzaW9uTWFzayk6IGJvb2xlYW47XG5cbiAgLy8gQ29sbGlzaW9uIG1ldGhvZHMgY29tbW9uIHRvIGFsbCBjb2xsaXNpb24gbWFza3NcbiAgaW50ZXJzZWN0c0JveChib3g6IFRIUkVFLkJveDMpOiBib29sZWFuO1xuICBpbnRlcnNlY3RzU3BoZXJlKHNwaGVyZTogVEhSRUUuU3BoZXJlKTogYm9vbGVhbjtcbiAgaW50ZXJzZWN0UmF5KHJheTogVEhSRUUuUmF5KTogVEhSRUUuVmVjdG9yMyB8IG51bGw7XG5cbiAgLy8gT3RoZXIgbWV0aG9kc1xuICBjb250YWluc1BvaW50KHBvaW50OiBUSFJFRS5WZWN0b3IzKTogYm9vbGVhbjtcbiAgdXBkYXRlKG9iamVjdDogVEhSRUUuT2JqZWN0M0QpOiB2b2lkO1xuXG4gIC8vIENhbGxlZCBpbnRlcm5hbGx5IGJ5IHRoZSBnYW1lIGVuZ2luZSwgaWdub3JlIHRoaXMgbWV0aG9kXG4gIF9kcmF3TWFzayhzY2VuZTogVEhSRUUuU2NlbmUpOiB2b2lkO1xufVxuXG4vKipcbiAqIEhhbmRsZXMgY29sbGlzaW9ucyBmb3IgYW4gYXhpcy1hbGlnbmVkIGJvdW5kaW5nIGJveFxuICovXG5leHBvcnQgY2xhc3MgQm94Q29sbGlzaW9uTWFzayBpbXBsZW1lbnRzIENvbGxpc2lvbk1hc2sge1xuICAvLyBZb3UgY2FuIG11dGF0ZSB0aGlzIHZhbHVlXG4gIHB1YmxpYyByZWFkb25seSBib3g6IFRIUkVFLkJveDM7XG5cbiAgLy8gU2V0IHRvIHRydWUgdG8gZHJhdyB0aGUgd2lyZWZyYW1lIG1hc2tcbiAgcHJpdmF0ZSBfc2hvd01hc2sgPSBmYWxzZTtcbiAgcHJpdmF0ZSBoZWxwZXI6IFRIUkVFLkxpbmVTZWdtZW50cyB8IG51bGwgPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKGJveE9iamVjdD86IFRIUkVFLkJveDMgfCBUSFJFRS5PYmplY3QzRCkge1xuICAgIHRoaXMuYm94ID0gbmV3IFRIUkVFLkJveDMoKTtcblxuICAgIC8vIE1heWJlIHVwZGF0ZSB0aGUgYm94XG4gICAgaWYgKGJveE9iamVjdCBpbnN0YW5jZW9mIFRIUkVFLkJveDMpIHtcbiAgICAgIHRoaXMuYm94LmNvcHkoYm94T2JqZWN0KTtcbiAgICB9IGVsc2UgaWYgKGJveE9iamVjdCBpbnN0YW5jZW9mIFRIUkVFLk9iamVjdDNEKSB7XG4gICAgICB0aGlzLnVwZGF0ZShib3hPYmplY3QpO1xuICAgIH1cbiAgfVxuXG4gIGdldCBzaG93TWFzaygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5fc2hvd01hc2s7XG4gIH1cblxuICBzZXQgc2hvd01hc2sobmV3TWFzazogYm9vbGVhbikge1xuICAgIHRoaXMuX3Nob3dNYXNrID0gbmV3TWFzaztcblxuICAgIC8vIERpc3Bvc2Ugb2YgdGhlIEJveDNIZWxwZXJcbiAgICAvLyAgIE11c3QgbWFudWFsbHkgcmVtb3ZlIHRoZSBnZW9tZXRyeSBvciBlbHNlIHdlIGhhdmUgYSBtZW1vcnkgbGVha1xuICAgIGlmIChuZXdNYXNrID09PSBmYWxzZSAmJiB0aGlzLmhlbHBlciAhPT0gbnVsbCkge1xuICAgICAgdGhpcy5oZWxwZXIucGFyZW50LnJlbW92ZSh0aGlzLmhlbHBlcik7XG4gICAgICB0aGlzLmhlbHBlciA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgaXNDb2xsaWRpbmdXaXRoKG90aGVyOiBDb2xsaXNpb25NYXNrKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIG90aGVyLmludGVyc2VjdHNCb3godGhpcy5ib3gpO1xuICB9XG5cbiAgaW50ZXJzZWN0c0JveChib3g6IFRIUkVFLkJveDMpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5ib3guaW50ZXJzZWN0c0JveChib3gpO1xuICB9XG5cbiAgaW50ZXJzZWN0c1NwaGVyZShzcGhlcmU6IFRIUkVFLlNwaGVyZSk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmJveC5pbnRlcnNlY3RzU3BoZXJlKHNwaGVyZSk7XG4gIH1cblxuICBpbnRlcnNlY3RSYXkocmF5OiBUSFJFRS5SYXkpOiBUSFJFRS5WZWN0b3IzIHwgbnVsbCB7XG4gICAgcmV0dXJuIHJheS5pbnRlcnNlY3RCb3godGhpcy5ib3gsIG5ldyBUSFJFRS5WZWN0b3IzKCkpO1xuICB9XG5cbiAgY29udGFpbnNQb2ludChwb2ludDogVEhSRUUuVmVjdG9yMyk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmJveC5jb250YWluc1BvaW50KHBvaW50KTtcbiAgfVxuXG4gIHVwZGF0ZShvYmplY3Q6IFRIUkVFLk9iamVjdDNEKTogdm9pZCB7XG4gICAgdGhpcy5ib3guc2V0RnJvbU9iamVjdChvYmplY3QpO1xuICB9XG5cbiAgLy8vIFVzZWQgaW50ZXJuYWxseSBieSB0aGUgZ2FtZSBlbmdpbmVcbiAgX2RyYXdNYXNrKHNjZW5lOiBUSFJFRS5TY2VuZSk6IHZvaWQge1xuICAgIGlmICh0aGlzLnNob3dNYXNrKSB7XG4gICAgICAvLyBCdWlsZCBhIG5ldyBib3ggbWVzaCBmb3IgdGhlIHNjZW5lXG4gICAgICBpZiAodGhpcy5oZWxwZXIgPT09IG51bGwpIHtcbiAgICAgICAgdGhpcy5oZWxwZXIgPSBuZXcgVEhSRUUuTGluZVNlZ21lbnRzKEJPWF9HRU9NRVRSWSwgV0lSRUZSQU1FX01BVEVSSUFMKTtcbiAgICAgICAgc2NlbmUuYWRkKHRoaXMuaGVscGVyKTtcbiAgICAgIH1cblxuICAgICAgLy8gUmVzaXplIGJveCB0byBmaXQgdGhlIGNvbGxpc2lvbiBib3hcbiAgICAgIHRoaXMuYm94LmdldENlbnRlcih0aGlzLmhlbHBlci5wb3NpdGlvbik7XG4gICAgICB0aGlzLmJveC5nZXRTaXplKHRoaXMuaGVscGVyLnNjYWxlKTtcbiAgICAgIHRoaXMuaGVscGVyLnNjYWxlLm11bHRpcGx5U2NhbGFyKDAuNSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFJlbGVhc2UgdGhlIGJveCByZXNvdXJjZXNcbiAgICAgIGlmICh0aGlzLmhlbHBlciAhPT0gbnVsbCkge1xuICAgICAgICBzY2VuZS5yZW1vdmUodGhpcy5oZWxwZXIpO1xuICAgICAgICB0aGlzLmhlbHBlciA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogSGFuZGxlcyBjb2xsaXNpb24gZm9yIGEgc3BoZXJlXG4gKi9cbmV4cG9ydCBjbGFzcyBTcGhlcmVDb2xsaXNpb25NYXNrIGltcGxlbWVudHMgQ29sbGlzaW9uTWFzayB7XG4gIC8vIFlvdSBjYW4gbXV0YXRlIHRoaXMgdmFsdWVcbiAgcHVibGljIHJlYWRvbmx5IHNwaGVyZTogVEhSRUUuU3BoZXJlO1xuXG4gIC8vIFNldCB0byB0cnVlIHRvIGRyYXcgdGhlIHdpcmVmcmFtZSBtYXNrXG4gIHByaXZhdGUgX3Nob3dNYXNrID0gZmFsc2U7XG4gIHByaXZhdGUgaGVscGVyOiBUSFJFRS5MaW5lU2VnbWVudHMgfCBudWxsID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcihzcGhlcmVPYmplY3Q/OiBUSFJFRS5TcGhlcmUgfCBUSFJFRS5PYmplY3QzRCkge1xuICAgIHRoaXMuc3BoZXJlID0gbmV3IFRIUkVFLlNwaGVyZSgpO1xuXG4gICAgaWYgKHNwaGVyZU9iamVjdCBpbnN0YW5jZW9mIFRIUkVFLlNwaGVyZSkge1xuICAgICAgdGhpcy5zcGhlcmUuY29weShzcGhlcmVPYmplY3QpO1xuICAgIH0gZWxzZSBpZiAoc3BoZXJlT2JqZWN0IGluc3RhbmNlb2YgVEhSRUUuT2JqZWN0M0QpIHtcbiAgICAgIHRoaXMudXBkYXRlKHNwaGVyZU9iamVjdCk7XG4gICAgfVxuICB9XG5cbiAgZ2V0IHNob3dNYXNrKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLl9zaG93TWFzaztcbiAgfVxuXG4gIHNldCBzaG93TWFzayhuZXdNYXNrOiBib29sZWFuKSB7XG4gICAgdGhpcy5fc2hvd01hc2sgPSBuZXdNYXNrO1xuXG4gICAgLy8gUmVsZWFzZSB0aGUgc3BoZXJlIHJlc291cmNlc1xuICAgIGlmIChuZXdNYXNrID09PSBmYWxzZSAmJiB0aGlzLmhlbHBlciAhPT0gbnVsbCkge1xuICAgICAgdGhpcy5oZWxwZXIucGFyZW50LnJlbW92ZSh0aGlzLmhlbHBlcik7XG4gICAgICB0aGlzLmhlbHBlciA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgaXNDb2xsaWRpbmdXaXRoKG90aGVyOiBDb2xsaXNpb25NYXNrKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIG90aGVyLmludGVyc2VjdHNTcGhlcmUodGhpcy5zcGhlcmUpO1xuICB9XG5cbiAgaW50ZXJzZWN0c0JveChib3g6IFRIUkVFLkJveDMpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5zcGhlcmUuaW50ZXJzZWN0c0JveChib3gpO1xuICB9XG5cbiAgaW50ZXJzZWN0c1NwaGVyZShzcGhlcmU6IFRIUkVFLlNwaGVyZSk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnNwaGVyZS5pbnRlcnNlY3RzU3BoZXJlKHNwaGVyZSk7XG4gIH1cblxuICBpbnRlcnNlY3RSYXkocmF5OiBUSFJFRS5SYXkpOiBUSFJFRS5WZWN0b3IzIHwgbnVsbCB7XG4gICAgcmV0dXJuIHJheS5pbnRlcnNlY3RTcGhlcmUodGhpcy5zcGhlcmUsIG5ldyBUSFJFRS5WZWN0b3IzKCkpO1xuICB9XG5cbiAgY29udGFpbnNQb2ludChwb2ludDogVEhSRUUuVmVjdG9yMyk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnNwaGVyZS5jb250YWluc1BvaW50KHBvaW50KTtcbiAgfVxuXG4gIHVwZGF0ZShvYmplY3Q6IFRIUkVFLk9iamVjdDNEKTogdm9pZCB7XG4gICAgY29uc3QgYm91bmRpbmdTcGhlcmUgPSBuZXcgVEhSRUUuQm94MygpLnNldEZyb21PYmplY3Qob2JqZWN0KS5nZXRCb3VuZGluZ1NwaGVyZShuZXcgVEhSRUUuU3BoZXJlKCkpO1xuICAgIHRoaXMuc3BoZXJlLnNldChib3VuZGluZ1NwaGVyZS5jZW50ZXIsIGJvdW5kaW5nU3BoZXJlLnJhZGl1cyk7XG5cbiAgICAvLyBTYWRseSwgdGhlIHJlY3Vyc2l2ZSBhbGdvcml0aG0gYmVsb3cgZG9lcyBub3Qgd29yayBiZWNhdXNlIHRoZXJlIGlzIHNvbWUgc29ydCBvZiBnbGl0Y2hcbiAgICAvLyAgd2l0aCBzcGhlcmUudW5pb24oKS4gSSBoYXZlIG5vIGlkZWEgd2hhdCBpcyBjYXVzaWluZyB0aGlzIHByb2JsZW0gaW4gVEhSRUUuanNcbiAgICAvL1xuICAgIC8vIHRoaXMuZXhwYW5kQnlPYmplY3Qob2JqZWN0KTtcbiAgICAvLyBpZiAodGhpcy5zcGhlcmUucmFkaXVzID09PSAwKSB7XG4gICAgLy8gICB0aGlzLnNwaGVyZS5yYWRpdXMgPSBib3VuZGluZ1NwaGVyZS5yYWRpdXM7XG4gICAgLy8gfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlY3Vyc2l2ZWx5IGV4cGFuZCB0aGUgc3BoZXJlIGZvciBhbGwgZ2VvbWV0cmllcyBpbiB0aGUgc2NlbmVcbiAgICovXG4gIHByaXZhdGUgZXhwYW5kQnlPYmplY3Qob2JqZWN0OiBUSFJFRS5PYmplY3QzRCk6IHZvaWQge1xuICAgIC8vIEZvcmNlIHRoZSB3b3JsZCBtYXRyaXggdG8gdXBkYXRlXG4gICAgb2JqZWN0LnVwZGF0ZVdvcmxkTWF0cml4KGZhbHNlLCBmYWxzZSk7XG5cbiAgICAvLyBFeHBhbmQgYnkgdGhlIGN1cnJlbnQgZ2VvbWV0cnlcbiAgICBjb25zdCBnZW9tZXRyeSA9IChvYmplY3QgYXMgVEhSRUUuTWVzaCkuZ2VvbWV0cnk7XG4gICAgaWYgKHR5cGVvZiBnZW9tZXRyeSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGlmIChnZW9tZXRyeS5ib3VuZGluZ1NwaGVyZSA9PT0gbnVsbCkge1xuICAgICAgICBnZW9tZXRyeS5jb21wdXRlQm91bmRpbmdTcGhlcmUoKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZ2VvbWV0cnlTcGhlcmUgPSBnZW9tZXRyeS5ib3VuZGluZ1NwaGVyZS5jbG9uZSgpO1xuICAgICAgZ2VvbWV0cnlTcGhlcmUuYXBwbHlNYXRyaXg0KG9iamVjdC5tYXRyaXhXb3JsZCk7XG4gICAgICB0aGlzLnNwaGVyZS51bmlvbihnZW9tZXRyeVNwaGVyZSk7XG4gICAgfVxuXG4gICAgLy8gUmVjdXJzaXZlbHkgZXhwYW5kIGJ5IGFsbCBjaGlsZHJlblxuICAgIGZvciAoY29uc3QgY2hpbGQgb2Ygb2JqZWN0LmNoaWxkcmVuKSB7XG4gICAgICB0aGlzLmV4cGFuZEJ5T2JqZWN0KGNoaWxkKTtcbiAgICB9XG4gIH1cblxuICAvLy8gVXNlZCBpbnRlcm5hbGx5IGJ5IHRoZSBnYW1lIGVuZ2luZVxuICBfZHJhd01hc2soc2NlbmU6IFRIUkVFLlNjZW5lKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuc2hvd01hc2spIHtcbiAgICAgIC8vIEJ1aWxkIGEgbmV3IHNwaGVyZSBtZXNoIGZvciB0aGUgc2NlbmVcbiAgICAgIGlmICh0aGlzLmhlbHBlciA9PT0gbnVsbCkge1xuICAgICAgICB0aGlzLmhlbHBlciA9IG5ldyBUSFJFRS5MaW5lU2VnbWVudHMoU1BIRVJFX0dFT01FVFJZLCBXSVJFRlJBTUVfTUFURVJJQUwpO1xuICAgICAgICBzY2VuZS5hZGQodGhpcy5oZWxwZXIpO1xuICAgICAgfVxuXG4gICAgICAvLyBVcGRhdGUgdGhlIHNwaGVyZSBwb3NpdGlvblxuICAgICAgdGhpcy5oZWxwZXIucG9zaXRpb24uY29weSh0aGlzLnNwaGVyZS5jZW50ZXIpO1xuICAgICAgdGhpcy5oZWxwZXIuc2NhbGUuc2V0KHRoaXMuc3BoZXJlLnJhZGl1cywgdGhpcy5zcGhlcmUucmFkaXVzLCB0aGlzLnNwaGVyZS5yYWRpdXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBSZWxlYXNlIHRoZSBzcGhlcmUgcmVzb3VyY2VzXG4gICAgICBpZiAodGhpcy5oZWxwZXIgIT09IG51bGwpIHtcbiAgICAgICAgc2NlbmUucmVtb3ZlKHRoaXMuaGVscGVyKTtcbiAgICAgICAgdGhpcy5oZWxwZXIgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIFJlcHJlc2VudHMgYSBjb2xsZWN0aW9uIG9mIG9iamVjdHMgd2hpY2ggZm9ybSBhIG1hc2suXG4gKlxuICogVGhlc2UgbWV0aG9kcyBhbGwgY2hlY2sgYWdhaW5zdCBhbGwgbWFza3MgaW4gdGhlIGNvbGxlY3Rpb24uXG4gKiBEbyBOT1QgaW5maW5pdGVseSBuZXN0IGEgY29sbGlzaW9uIG1hc2ssIGxpa2UgYSBtYXNrIHdpdGggaXRzZWxmIGluIHRoZSBsaXN0LlxuICovXG5leHBvcnQgY2xhc3MgR3JvdXBDb2xsaXNpb25NYXNrIGltcGxlbWVudHMgQ29sbGlzaW9uTWFzayB7XG4gIHB1YmxpYyByZWFkb25seSBtYXNrczogQ29sbGlzaW9uTWFza1tdO1xuXG4gIHByaXZhdGUgX3Nob3dNYXNrID0gZmFsc2U7XG5cbiAgY29uc3RydWN0b3IoLi4ubWFza3M6IChDb2xsaXNpb25NYXNrIHwgQ29sbGlzaW9uTWFza1tdKVtdKSB7XG4gICAgdGhpcy5tYXNrcyA9IFsuLi5tYXNrcy5mbGF0KDEpXTtcbiAgfVxuXG4gIGdldCBzaG93TWFzaygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5fc2hvd01hc2s7XG4gIH1cblxuICAvKipcbiAgICogQXV0b21hdGljYWxseSBzZXRzIGFsbCBvZiB0aGUgbWFza3Mgb2YgdGhlIGNoaWxkcmVuXG4gICAqL1xuICBzZXQgc2hvd01hc2sobmV3TWFzazogYm9vbGVhbikge1xuICAgIHRoaXMuX3Nob3dNYXNrID0gbmV3TWFzaztcbiAgICBmb3IgKGNvbnN0IG1hc2sgb2YgdGhpcy5tYXNrcykge1xuICAgICAgbWFzay5zaG93TWFzayA9IG5ld01hc2s7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGFkZE1hc2soLi4ubWFza3M6IChDb2xsaXNpb25NYXNrIHwgQ29sbGlzaW9uTWFza1tdKVtdKTogdm9pZCB7XG4gICAgdGhpcy5tYXNrcy5wdXNoKC4uLm1hc2tzLmZsYXQoMSkpO1xuICB9XG5cbiAgaXNDb2xsaWRpbmdXaXRoKG90aGVyOiBDb2xsaXNpb25NYXNrKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMubWFza3Muc29tZSgobWFzaykgPT4gbWFzay5pc0NvbGxpZGluZ1dpdGgob3RoZXIpKTtcbiAgfVxuXG4gIGludGVyc2VjdHNCb3goYm94OiBUSFJFRS5Cb3gzKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMubWFza3Muc29tZSgobWFzaykgPT4gbWFzay5pbnRlcnNlY3RzQm94KGJveCkpO1xuICB9XG5cbiAgaW50ZXJzZWN0c1NwaGVyZShzcGhlcmU6IFRIUkVFLlNwaGVyZSk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLm1hc2tzLnNvbWUoKG1hc2spID0+IG1hc2suaW50ZXJzZWN0c1NwaGVyZShzcGhlcmUpKTtcbiAgfVxuXG4gIGludGVyc2VjdFJheShyYXk6IFRIUkVFLlJheSk6IFRIUkVFLlZlY3RvcjMgfCBudWxsIHtcbiAgICAvLyBGaW5kIHRoZSBjbG9zZXN0IGludGVyc2VjdGlvblxuICAgIGxldCBtaW46IFRIUkVFLlZlY3RvcjMgfCBudWxsID0gbnVsbDtcbiAgICBmb3IgKGNvbnN0IG1hc2sgb2YgdGhpcy5tYXNrcykge1xuICAgICAgY29uc3QgaW50ZXJzZWN0aW9uID0gbWFzay5pbnRlcnNlY3RSYXkocmF5KTtcbiAgICAgIGlmIChpbnRlcnNlY3Rpb24gPT09IG51bGwpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChtaW4gPT09IG51bGwgfHwgaW50ZXJzZWN0aW9uLmRpc3RhbmNlVG8ocmF5Lm9yaWdpbikgPCBtaW4uZGlzdGFuY2VUbyhyYXkub3JpZ2luKSkge1xuICAgICAgICBtaW4gPSBpbnRlcnNlY3Rpb247XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG1pbjtcbiAgfVxuXG4gIGNvbnRhaW5zUG9pbnQocG9pbnQ6IFRIUkVFLlZlY3RvcjMpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5tYXNrcy5zb21lKChtYXNrKSA9PiBtYXNrLmNvbnRhaW5zUG9pbnQocG9pbnQpKTtcbiAgfVxuXG4gIHVwZGF0ZShvYmplY3Q6IFRIUkVFLk9iamVjdDNEKTogdm9pZCB7XG4gICAgZm9yIChjb25zdCBtYXNrIG9mIHRoaXMubWFza3MpIHtcbiAgICAgIG1hc2sudXBkYXRlKG9iamVjdCk7XG4gICAgfVxuICB9XG5cbiAgX2RyYXdNYXNrKHNjZW5lOiBUSFJFRS5TY2VuZSk6IHZvaWQge1xuICAgIGlmICh0aGlzLnNob3dNYXNrKSB7XG4gICAgICBmb3IgKGNvbnN0IG1hc2sgb2YgdGhpcy5tYXNrcykge1xuICAgICAgICBtYXNrLl9kcmF3TWFzayhzY2VuZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQ29sbGlzaW9uIG1hc2sgdGhhdCBhbHdheXMgcmV0dXJucyBmYWxzZSAoTm8gY2hlY2spXG4gKi9cbmV4cG9ydCBjbGFzcyBFbXB0eUNvbGxpc2lvbk1hc2sgaW1wbGVtZW50cyBDb2xsaXNpb25NYXNrIHtcbiAgc2hvd01hc2s6IGJvb2xlYW47XG5cbiAgaXNDb2xsaWRpbmdXaXRoKF9vdGhlcjogQ29sbGlzaW9uTWFzayk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGludGVyc2VjdHNCb3goX2JveDogVEhSRUUuQm94Myk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGludGVyc2VjdHNTcGhlcmUoX3NwaGVyZTogVEhSRUUuU3BoZXJlKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaW50ZXJzZWN0UmF5KF9yYXk6IFRIUkVFLlJheSk6IFRIUkVFLlZlY3RvcjMgfCBudWxsIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGNvbnRhaW5zUG9pbnQoX3BvaW50OiBUSFJFRS5WZWN0b3IzKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdXBkYXRlKF9vYmplY3Q6IFRIUkVFLk9iamVjdDNEKTogdm9pZCB7fVxuXG4gIF9kcmF3TWFzayhfc2NlbmU6IFRIUkVFLlNjZW5lKTogdm9pZCB7fVxufVxuIiwiaW1wb3J0IHsgQWJzdHJhY3RNYXplQXJlYSwgU0NBTEVfQkFTRSwgU0NBTEVfSEVJR0hUIH0gZnJvbSAnYXJlYXMvQWJzdHJhY3RNYXplQXJlYSc7XG5pbXBvcnQgeyBBcmVhLCBBcmVhU3RhdGUgfSBmcm9tICdlbmdpbmUvYXJlYSc7XG5pbXBvcnQgeyBCb3hDb2xsaXNpb25NYXNrLCBHcm91cENvbGxpc2lvbk1hc2sgfSBmcm9tICdlbmdpbmUvY29sbGlzaW9uJztcbmltcG9ydCB7IEVudGl0eSwgRW50aXR5U3RhdGUgfSBmcm9tICdlbmdpbmUvZW50aXR5JztcbmltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcblxuY29uc3QgQk9YX0dFT01FVFJZID0gbmV3IFRIUkVFLkJveEdlb21ldHJ5KDEsIDEsIDEpO1xuY29uc3QgQk9YX01BVEVSSUFMID0gbmV3IFRIUkVFLk1lc2hTdGFuZGFyZE1hdGVyaWFsKCk7XG5jb25zdCBERUZBVUxUX0JPWDMgPSBuZXcgVEhSRUUuQm94MyhuZXcgVEhSRUUuVmVjdG9yMygtMC41LCAtMC41LCAtMC41KSwgbmV3IFRIUkVFLlZlY3RvcjMoMC41LCAwLjUsIDAuNSkpO1xuXG4vKipcbiAqIFNpbmdsZSBlbnRpdHkgdG8gcmVwcmVzZW50IGFsbCBtYXplIHdhbGxzIHVuZGVyIG9uZSBlbnRpdHlcbiAqL1xuZXhwb3J0IGNsYXNzIE1hemVXYWxscyBpbXBsZW1lbnRzIEVudGl0eVN0YXRlIHtcbiAgcHVibGljIHJlYWRvbmx5IHRhZ3M6IHN0cmluZ1tdID0gWyd3YWxsJ107XG5cbiAgcHJpdmF0ZSBlbnRpdHk6IEVudGl0eTx0aGlzPjtcblxuICBwcml2YXRlIHdhbGxzOiBUSFJFRS5JbnN0YW5jZWRNZXNoO1xuICBwcml2YXRlIG1hc2s6IEdyb3VwQ29sbGlzaW9uTWFzaztcbiAgcHJpdmF0ZSBjdXJyZW50V2FsbCA9IDA7XG5cbiAgY29uc3RydWN0b3IobnVtV2FsbHM6IG51bWJlciwgYXJlYTogQXJlYTxBcmVhU3RhdGU+KSB7XG4gICAgdGhpcy5tYXNrID0gbmV3IEdyb3VwQ29sbGlzaW9uTWFzaygpO1xuXG4gICAgLy8gSW5pdGlhbGl6ZSB0aGUgYm94IG1hdGVyaWFsXG4gICAgQk9YX01BVEVSSUFMLm1hcCA9IE1hemVXYWxscy5idWlsZFdhbGxUZXh0dXJlKCdCcmlja0NvbG9yJywgYXJlYSk7XG4gICAgQk9YX01BVEVSSUFMLm5vcm1hbE1hcCA9IE1hemVXYWxscy5idWlsZFdhbGxUZXh0dXJlKCdCcmlja05vcm1hbCcsIGFyZWEpO1xuICAgIEJPWF9NQVRFUklBTC5hb01hcCA9IE1hemVXYWxscy5idWlsZFdhbGxUZXh0dXJlKCdCcmlja09jY2x1c2lvbicsIGFyZWEpO1xuICAgIEJPWF9NQVRFUklBTC5zaWRlID0gVEhSRUUuRnJvbnRTaWRlO1xuXG4gICAgLy8gQ3JlYXRlIGluc3RhbmNlcyBmb3IgYWxsIHdhbGxzXG4gICAgdGhpcy53YWxscyA9IG5ldyBUSFJFRS5JbnN0YW5jZWRNZXNoKEJPWF9HRU9NRVRSWSwgQk9YX01BVEVSSUFMLCBudW1XYWxscyk7XG4gICAgdGhpcy53YWxscy5jYXN0U2hhZG93ID0gdHJ1ZTtcbiAgICB0aGlzLndhbGxzLnJlY2VpdmVTaGFkb3cgPSBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMb2FkIGEgd2FsbCB0ZXh0dXJlIGFuZCBjb25maWd1cmUgdGV4dHVyZSBzY2FsaW5nIGFuZCByZXBlYXRpbmdcbiAgICovXG4gIHByaXZhdGUgc3RhdGljIGJ1aWxkV2FsbFRleHR1cmUobmFtZTogc3RyaW5nLCBhcmVhOiBBcmVhPEFyZWFTdGF0ZT4pOiBUSFJFRS5UZXh0dXJlIHtcbiAgICBjb25zdCB0ZXh0dXJlID0gYXJlYS5nYW1lLmFzc2V0cy5nZXRUZXh0dXJlKG5hbWUpO1xuICAgIHRleHR1cmUud3JhcFMgPSBUSFJFRS5SZXBlYXRXcmFwcGluZztcbiAgICB0ZXh0dXJlLndyYXBUID0gVEhSRUUuUmVwZWF0V3JhcHBpbmc7XG4gICAgdGV4dHVyZS5yZXBlYXQuc2V0KDEsIFNDQUxFX0hFSUdIVCAvIFNDQUxFX0JBU0UpO1xuICAgIHJldHVybiB0ZXh0dXJlO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCBhIGdpdmVuIChyb3csIGNvbHVtbikgcGFpciB0byBiZSBhIHdhbGxcbiAgICovXG4gIHB1YmxpYyBhZGRXYWxsKHJvdzogbnVtYmVyLCBjb2w6IG51bWJlciwgYXJlYTogQWJzdHJhY3RNYXplQXJlYSk6IHZvaWQge1xuICAgIGlmICh0aGlzLmN1cnJlbnRXYWxsID49IHRoaXMud2FsbHMuY291bnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBTZXQgdGhlIHdhbGwgdHJhbnNsYXRpb24gdmFsdWVcbiAgICBjb25zdCBwb3NpdGlvbiA9IGFyZWEudGlsZUxvY2F0aW9uVG9Qb3NpdGlvbihyb3csIGNvbCk7XG4gICAgY29uc3QgbWF0cml4ID0gbmV3IFRIUkVFLk1hdHJpeDQoKTtcbiAgICBtYXRyaXgubWFrZVRyYW5zbGF0aW9uKHBvc2l0aW9uLngsIFNDQUxFX0hFSUdIVCAvIDIgLSAxLCBwb3NpdGlvbi56KTtcbiAgICBtYXRyaXguc2NhbGUobmV3IFRIUkVFLlZlY3RvcjMoU0NBTEVfQkFTRSwgU0NBTEVfSEVJR0hULCBTQ0FMRV9CQVNFKSk7XG4gICAgdGhpcy53YWxscy5zZXRNYXRyaXhBdCh0aGlzLmN1cnJlbnRXYWxsLCBtYXRyaXgpO1xuXG4gICAgLy8gQWxzbyBnZW5lcmF0ZSBhIGNvbGxpc2lvbiBtYXNrXG4gICAgY29uc3QgYm94ID0gREVGQVVMVF9CT1gzLmNsb25lKCk7XG4gICAgYm94LmFwcGx5TWF0cml4NChtYXRyaXgpO1xuICAgIHRoaXMubWFzay5hZGRNYXNrKG5ldyBCb3hDb2xsaXNpb25NYXNrKGJveCkpO1xuXG4gICAgdGhpcy5jdXJyZW50V2FsbCArPSAxO1xuICB9XG5cbiAgb25DcmVhdGUoZW50aXR5OiBFbnRpdHk8dGhpcz4pOiB2b2lkIHtcbiAgICB0aGlzLmVudGl0eSA9IGVudGl0eTtcblxuICAgIHRoaXMud2FsbHMuaW5zdGFuY2VNYXRyaXgubmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgIHRoaXMuZW50aXR5Lm9iamVjdCA9IHRoaXMud2FsbHM7XG4gICAgdGhpcy5lbnRpdHkubWFzayA9IHRoaXMubWFzaztcbiAgfVxuXG4gIG9uRGVzdHJveSgpOiB2b2lkIHt9XG5cbiAgb25TdGVwKCk6IHZvaWQge31cblxuICBvblRpbWVyKF90aW1lckluZGV4OiBudW1iZXIpOiB2b2lkIHt9XG5cbiAgb25EcmF3KF9nMmQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk6IHZvaWQge31cbn1cbiIsImltcG9ydCB7IEFic3RyYWN0TWF6ZUFyZWEsIFNDQUxFX0JBU0UgfSBmcm9tICdhcmVhcy9BYnN0cmFjdE1hemVBcmVhJztcbmltcG9ydCB7IEVudGl0eSwgRW50aXR5U3RhdGUgfSBmcm9tICdlbmdpbmUvZW50aXR5JztcbmltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcblxuY29uc3QgTUFYX0FOR0xFID0gTWF0aC5QSSAvIDQ7XG5jb25zdCBST1RfU1BFRUQgPSBNYXRoLlBJIC8gNjQ7XG5cbi8qKlxuICogSGFuZGxlcyB0aGUgc3VubGlnaHQgaW5zaWRlIHRoZSBtYXplXG4gKi9cbmV4cG9ydCBjbGFzcyBTdW5saWdodCBpbXBsZW1lbnRzIEVudGl0eVN0YXRlIHtcbiAgcHVibGljIHJlYWRvbmx5IHRhZ3M6IHN0cmluZ1tdID0gWydsaWdodCddO1xuXG4gIHByaXZhdGUgZW50aXR5OiBFbnRpdHk8dGhpcz47XG5cbiAgcHJpdmF0ZSBsaWdodDogVEhSRUUuRGlyZWN0aW9uYWxMaWdodDtcbiAgcHJpdmF0ZSBsaWdodEFuZ2xlID0gKE1hdGguUEkgKiA1KSAvIDEyO1xuICBwcml2YXRlIHJldmVyc2UgPSBmYWxzZTtcbiAgcHJpdmF0ZSBsaWdodERpc3RhbmNlOiBudW1iZXI7XG5cbiAgb25DcmVhdGUoZW50aXR5OiBFbnRpdHk8dGhpcz4pOiB2b2lkIHtcbiAgICB0aGlzLmVudGl0eSA9IGVudGl0eTtcblxuICAgIC8vIEJ1aWxkIHRoZSBzdGF0aWMgbGlnaHRcbiAgICB0aGlzLmxpZ2h0ID0gbmV3IFRIUkVFLkRpcmVjdGlvbmFsTGlnaHQoMHhmZmZmZmYsIDEpO1xuICAgIHRoaXMuY2FsY3VsYXRlTGlnaHQoKTtcbiAgICB0aGlzLmVudGl0eS5vYmplY3QgPSB0aGlzLmxpZ2h0O1xuICB9XG5cbiAgb25EZXN0cm95KCk6IHZvaWQge31cblxuICAvKipcbiAgICogQ29tcHV0ZSBpbmZvcm1hdGlvbiBhYm91dCB0aGUgZGlyZWN0aW9uYWwgbGlnaHRcbiAgICovXG4gIHByaXZhdGUgY2FsY3VsYXRlTGlnaHQoKTogdm9pZCB7XG4gICAgY29uc3QgbWF6ZUFyZWEgPSAodGhpcy5lbnRpdHkuYXJlYS5zdGF0ZSBhcyB1bmtub3duKSBhcyBBYnN0cmFjdE1hemVBcmVhO1xuICAgIGNvbnN0IGxpZ2h0V2lkdGggPSBtYXplQXJlYS5tYXplV2lkdGggKiBTQ0FMRV9CQVNFO1xuICAgIGNvbnN0IGxpZ2h0SGVpZ2h0ID0gbWF6ZUFyZWEubWF6ZUhlaWdodCAqIFNDQUxFX0JBU0U7XG5cbiAgICB0aGlzLmxpZ2h0LmNhc3RTaGFkb3cgPSB0cnVlO1xuXG4gICAgdGhpcy5saWdodC5zaGFkb3cuY2FtZXJhLnRvcCA9IGxpZ2h0SGVpZ2h0IC8gMjtcbiAgICB0aGlzLmxpZ2h0LnNoYWRvdy5jYW1lcmEuYm90dG9tID0gLWxpZ2h0SGVpZ2h0IC8gMjtcbiAgICB0aGlzLmxpZ2h0LnNoYWRvdy5jYW1lcmEubGVmdCA9IC1saWdodFdpZHRoIC8gMjtcbiAgICB0aGlzLmxpZ2h0LnNoYWRvdy5jYW1lcmEucmlnaHQgPSBsaWdodFdpZHRoIC8gMjtcblxuICAgIC8vIFdlIHdhbnQgbGlnaHQgdG8gY292ZXIgc2NlbmUgd2hlbiBhdCB0aGUgNDUgZGVncmVlIGFuZ2xlXG4gICAgLy9cbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICBMaWdodFxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgIC8vIEwgICAgICAgICAgW0NlbnRlcl0gLSAtIC0gLSAtUlxuICAgIHRoaXMubGlnaHREaXN0YW5jZSA9IGxpZ2h0V2lkdGggLyBNYXRoLmNvcyhNYXRoLlBJIC8gNCk7XG4gICAgdGhpcy51cGRhdGVMaWdodEFuZ2xlKCk7XG5cbiAgICAvLyBTcGVlZCB0aGUgc3VuIG1vdmVzXG4gICAgdGhpcy5lbnRpdHkuc2V0VGltZXIoMCwgMTAwMCwgdHJ1ZSk7XG4gIH1cblxuICBvblRpbWVyKHRpbWVySW5kZXg6IG51bWJlcik6IHZvaWQge1xuICAgIGlmICh0aW1lckluZGV4ID09PSAwKSB7XG4gICAgICB0aGlzLmxpZ2h0QW5nbGUgKz0gdGhpcy5yZXZlcnNlID8gLVJPVF9TUEVFRCA6IFJPVF9TUEVFRDtcbiAgICAgIHRoaXMudXBkYXRlTGlnaHRBbmdsZSgpO1xuXG4gICAgICAvLyBSZXZlcnNlIHRoZSBsaWdodCBzbyBpdCBmbGlwLWZsb3BzXG4gICAgICBpZiAodGhpcy5saWdodEFuZ2xlIDwgTUFYX0FOR0xFKSB7XG4gICAgICAgIHRoaXMucmV2ZXJzZSA9IGZhbHNlO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLmxpZ2h0QW5nbGUgPiBNYXRoLlBJIC0gTUFYX0FOR0xFKSB7XG4gICAgICAgIHRoaXMucmV2ZXJzZSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGUgYW5nbGUgb2YgdGhlIHN1bmxpZ2h0IGluIHRoZSBzY2VuZVxuICAgKi9cbiAgcHJpdmF0ZSB1cGRhdGVMaWdodEFuZ2xlKCk6IHZvaWQge1xuICAgIHRoaXMubGlnaHQucG9zaXRpb24ueCA9IDA7XG4gICAgdGhpcy5saWdodC5wb3NpdGlvbi55ID0gdGhpcy5saWdodERpc3RhbmNlICogTWF0aC5zaW4odGhpcy5saWdodEFuZ2xlKTtcbiAgICB0aGlzLmxpZ2h0LnBvc2l0aW9uLnogPSAtdGhpcy5saWdodERpc3RhbmNlICogTWF0aC5jb3ModGhpcy5saWdodEFuZ2xlKTtcbiAgfVxuXG4gIG9uU3RlcCgpOiB2b2lkIHt9XG5cbiAgb25EcmF3KF9nMmQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk6IHZvaWQge31cbn1cbiIsImltcG9ydCB7IFNDQUxFX0JBU0UgfSBmcm9tICdhcmVhcy9BYnN0cmFjdE1hemVBcmVhJztcbmltcG9ydCB7IEVudGl0eSwgRW50aXR5U3RhdGUgfSBmcm9tICdlbmdpbmUvZW50aXR5JztcbmltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcblxuY29uc3QgUExBTkVfR0VPTUVUUlkgPSBuZXcgVEhSRUUuUGxhbmVHZW9tZXRyeSgpO1xuY29uc3QgUExBTkVfTUFURVJJQUwgPSBuZXcgVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWwoKTtcblxuLyoqXG4gKiBSZXByZXNlbnRzIHRoZSBmbG9vciBpbiB0aGUgbWF6ZVxuICovXG5leHBvcnQgY2xhc3MgTWF6ZUZsb29yIGltcGxlbWVudHMgRW50aXR5U3RhdGUge1xuICBwdWJsaWMgcmVhZG9ubHkgdGFnczogc3RyaW5nW10gPSBbJ3dhbGwnXTtcblxuICBwdWJsaWMgcmVhZG9ubHkgd2lkdGg6IG51bWJlcjtcbiAgcHVibGljIHJlYWRvbmx5IGhlaWdodDogbnVtYmVyO1xuXG4gIHByaXZhdGUgZW50aXR5OiBFbnRpdHk8dGhpcz47XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBwbGFuZSBmb3IgdGhlIGZsb29yXG4gICAqXG4gICAqIEBwYXJhbSB3aWR0aCBOdW1iZXIgb2YgdGlsZXMgd2lkZVxuICAgKiBAcGFyYW0gaGVpZ2h0IE51bWJlciBvZiB0aWxlcyBoaWdoXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikge1xuICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgfVxuXG4gIG9uQ3JlYXRlKGVudGl0eTogRW50aXR5PHRoaXM+KTogdm9pZCB7XG4gICAgdGhpcy5lbnRpdHkgPSBlbnRpdHk7XG5cbiAgICAvLyBMb2FkIGFuZCBpbml0aWFsaXplIHRoZSB0ZXh0dXJlXG4gICAgUExBTkVfTUFURVJJQUwubWFwID0gdGhpcy5idWlsZFRleHR1cmUoJ0dyYXNzQ29sb3InKTtcbiAgICBQTEFORV9NQVRFUklBTC5ub3JtYWxNYXAgPSB0aGlzLmJ1aWxkVGV4dHVyZSgnR3Jhc3NOb3JtYWwnKTtcbiAgICBQTEFORV9NQVRFUklBTC5hb01hcCA9IHRoaXMuYnVpbGRUZXh0dXJlKCdHcmFzc09jY2x1c2lvbicpO1xuXG4gICAgLy8gQnVpbGQgdGhlIHBsYW5lIG9iamVjdFxuICAgIHRoaXMuZW50aXR5Lm9iamVjdCA9IG5ldyBUSFJFRS5NZXNoKFBMQU5FX0dFT01FVFJZLCBQTEFORV9NQVRFUklBTCk7XG4gICAgdGhpcy5lbnRpdHkub2JqZWN0LnJvdGF0aW9uLnggPSAoMyAqIE1hdGguUEkpIC8gMjtcbiAgICB0aGlzLmVudGl0eS5vYmplY3Quc2NhbGUuc2V0KHRoaXMuaGVpZ2h0ICogU0NBTEVfQkFTRSArIDIsIHRoaXMud2lkdGggKiBTQ0FMRV9CQVNFICsgMiwgMSk7XG4gICAgdGhpcy5lbnRpdHkub2JqZWN0LmNhc3RTaGFkb3cgPSB0cnVlO1xuICAgIHRoaXMuZW50aXR5Lm9iamVjdC5yZWNlaXZlU2hhZG93ID0gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMb2FkIGEgd2FsbCB0ZXh0dXJlIGFuZCBjb25maWd1cmUgdGV4dHVyZSBzY2FsaW5nIGFuZCByZXBlYXRpbmdcbiAgICovXG4gIHByaXZhdGUgYnVpbGRUZXh0dXJlKG5hbWU6IHN0cmluZyk6IFRIUkVFLlRleHR1cmUge1xuICAgIGNvbnN0IHRleHR1cmUgPSB0aGlzLmVudGl0eS5hcmVhLmdhbWUuYXNzZXRzLmdldFRleHR1cmUobmFtZSk7XG4gICAgdGV4dHVyZS53cmFwUyA9IFRIUkVFLlJlcGVhdFdyYXBwaW5nO1xuICAgIHRleHR1cmUud3JhcFQgPSBUSFJFRS5SZXBlYXRXcmFwcGluZztcbiAgICB0ZXh0dXJlLnJlcGVhdC5zZXQoKFNDQUxFX0JBU0UgKiB0aGlzLndpZHRoKSAvIDIsIChTQ0FMRV9CQVNFICogdGhpcy5oZWlnaHQpIC8gMik7XG4gICAgdGV4dHVyZS5vZmZzZXQuc2V0KDAuNSwgMC41KTtcbiAgICB0ZXh0dXJlLnJvdGF0aW9uID0gTWF0aC5QSSAvIDY7XG4gICAgcmV0dXJuIHRleHR1cmU7XG4gIH1cblxuICBvbkRlc3Ryb3koKTogdm9pZCB7fVxuICBvblN0ZXAoKTogdm9pZCB7fVxuICBvblRpbWVyKF90aW1lckluZGV4OiBudW1iZXIpOiB2b2lkIHt9XG4gIG9uRHJhdyhfZzJkOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpOiB2b2lkIHt9XG59XG4iLCJpbXBvcnQgeyBNYWluQXJlYSB9IGZyb20gJ2FyZWFzL01haW5BcmVhJztcbmltcG9ydCB7IFNDQUxFX0JBU0UgfSBmcm9tICdhcmVhcy9BYnN0cmFjdE1hemVBcmVhJztcbmltcG9ydCB7IEJveENvbGxpc2lvbk1hc2ssIEdyb3VwQ29sbGlzaW9uTWFzayB9IGZyb20gJ2VuZ2luZS9jb2xsaXNpb24nO1xuaW1wb3J0IHsgRW50aXR5LCBFbnRpdHlTdGF0ZSB9IGZyb20gJ2VuZ2luZS9lbnRpdHknO1xuaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuXG4vKipcbiAqIEhhbmRsZXMgYW55IGdlbmVyaWMgdHlwZSBvZiBkb29yIGluIHRoZSBtYXplLlxuICogVGhpcyBpcyBoZWxwZnVsIGJlY2F1c2UgYWxsIGRvb3JzIHVzZSB0aGUgc2FtZSBvcGVuaW5nLCBjbG9zaW5nLCBhbmQgY29sbGlzaW9uIG1hc2sgYmVoYXZpb3IuXG4gKi9cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBBYnN0cmFjdERvb3Ige1xuICBwcm90ZWN0ZWQgZW50aXR5OiBFbnRpdHk8RW50aXR5U3RhdGU+O1xuXG4gIHByb3RlY3RlZCByb3c6IG51bWJlcjtcbiAgcHJvdGVjdGVkIGNvbHVtbjogbnVtYmVyO1xuICBwcml2YXRlIF9vcGVuID0gZmFsc2U7XG5cbiAgLy8gU3RvcmUgcmVmZXJlbmNlcyB0byB0aGUgbWVzaCBvYmplY3RzIGFuZCBjb2xsaXNpb24gbWFzayBjb21wb25lbnRzXG4gIHByaXZhdGUgZG9vck9iamVjdDogc3RyaW5nO1xuICBwcml2YXRlIGxlZnREb29yOiBUSFJFRS5NZXNoO1xuICBwcml2YXRlIGxlZnREb29yTWFzazogQm94Q29sbGlzaW9uTWFzaztcbiAgcHJpdmF0ZSByaWdodERvb3I6IFRIUkVFLk1lc2g7XG4gIHByaXZhdGUgcmlnaHREb29yTWFzazogQm94Q29sbGlzaW9uTWFzaztcblxuICAvLyBBbmltYXRpb25zXG4gIHByaXZhdGUgbWl4ZXI6IFRIUkVFLkFuaW1hdGlvbk1peGVyO1xuICBwcml2YXRlIGxlZnREb29yQWN0aW9uOiBUSFJFRS5BbmltYXRpb25BY3Rpb247XG4gIHByaXZhdGUgcmlnaHREb29yQWN0aW9uOiBUSFJFRS5BbmltYXRpb25BY3Rpb247XG4gIHByaXZhdGUga2V5SG9sZUFjdGlvbjogVEhSRUUuQW5pbWF0aW9uQWN0aW9uO1xuXG4gIGNvbnN0cnVjdG9yKHJvdzogbnVtYmVyLCBjb2x1bW46IG51bWJlciwgZG9vck9iamVjdDogc3RyaW5nKSB7XG4gICAgdGhpcy5yb3cgPSByb3c7XG4gICAgdGhpcy5jb2x1bW4gPSBjb2x1bW47XG4gICAgdGhpcy5kb29yT2JqZWN0ID0gZG9vck9iamVjdDtcbiAgfVxuXG4gIC8vLyBUZXN0IGlmIHRoZSBkb29yIGlzIG9wZW5lZCBvciBub3RcbiAgcHJvdGVjdGVkIGdldCBvcGVuKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLl9vcGVuO1xuICB9XG5cbiAgLy8vIEhhbmRsZXMgb24gY3JlYXRlIG1ldGhvZCBmb3Igc3BlY2lmaWMgZG9vcnNcbiAgcHJvdGVjdGVkIGFic3RyYWN0IG9uQ3JlYXRlRG9vcigpOiB2b2lkO1xuXG4gIC8vLyBIYW5kbGVzIG9uIHN0ZXAgbWV0aG9kIGZvciBzcGVjaWZpYyBkb29yc1xuICBwcm90ZWN0ZWQgYWJzdHJhY3Qgb25TdGVwRG9vcigpOiB2b2lkO1xuXG4gIG9uQ3JlYXRlKGVudGl0eTogRW50aXR5PEVudGl0eVN0YXRlPik6IHZvaWQge1xuICAgIHRoaXMuZW50aXR5ID0gZW50aXR5O1xuXG4gICAgLy8gUHV0IG9iamVjdCBpbiB0aGUgY29ycmVjdCBsb2NhdGlvblxuICAgIGNvbnN0IG9iamVjdCA9IGVudGl0eS5hcmVhLmdhbWUuYXNzZXRzLmdldE9iamVjdCh0aGlzLmRvb3JPYmplY3QpLmNsb25lKCk7XG4gICAgb2JqZWN0LnNjYWxlLnkgPSBTQ0FMRV9CQVNFIC8gMjtcbiAgICBvYmplY3Quc2NhbGUueiA9IFNDQUxFX0JBU0UgLyAyO1xuICAgIG9iamVjdC5wb3NpdGlvbi5jb3B5KChlbnRpdHkuYXJlYS5zdGF0ZSBhcyBNYWluQXJlYSkudGlsZUxvY2F0aW9uVG9Qb3NpdGlvbih0aGlzLnJvdywgdGhpcy5jb2x1bW4pKTtcblxuICAgIC8vIERvb3JzIGluIGV2ZW4tbnVtYmVyZWQgcm93cyBhcmUgaG9yaXpvbnRhbCAoZGVmYXVsdClcbiAgICAvLyBEb29ycyBpbiBvZGQtbnVtYmVyZWQgcm93cyBhcmUgdmVydGljYWxcbiAgICBjb25zdCBpc1ZlcnRpY2FsID0gdGhpcy5yb3cgJSAyICE9PSAwO1xuICAgIGlmIChpc1ZlcnRpY2FsKSB7XG4gICAgICBvYmplY3Qucm90YXRpb24ueSA9IE1hdGguUEkgLyAyO1xuICAgIH1cblxuICAgIC8vIERvb3JzIHNob3VsZCBjYXN0IHNoYWRvd3NcbiAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIG9iamVjdC5jaGlsZHJlbikge1xuICAgICAgY2hpbGQuY2FzdFNoYWRvdyA9IHRydWU7XG4gICAgfVxuICAgIGZvciAoY29uc3Qga2V5Q2hpbGQgb2Ygb2JqZWN0LmNoaWxkcmVuWzBdLmNoaWxkcmVuKSB7XG4gICAgICBrZXlDaGlsZC5jYXN0U2hhZG93ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICB0aGlzLmVudGl0eS5vYmplY3QgPSBvYmplY3Q7XG5cbiAgICAvLyBDb25maWd1cmUgY29sbGlzaW9uIG1hc2tzXG4gICAgdGhpcy5sZWZ0RG9vciA9IHRoaXMuZW50aXR5Lm9iamVjdC5jaGlsZHJlblsyXSBhcyBUSFJFRS5NZXNoO1xuICAgIHRoaXMubGVmdERvb3JNYXNrID0gbmV3IEJveENvbGxpc2lvbk1hc2sodGhpcy5sZWZ0RG9vcik7XG4gICAgdGhpcy5yaWdodERvb3IgPSB0aGlzLmVudGl0eS5vYmplY3QuY2hpbGRyZW5bMV0gYXMgVEhSRUUuTWVzaDtcbiAgICB0aGlzLnJpZ2h0RG9vck1hc2sgPSBuZXcgQm94Q29sbGlzaW9uTWFzayh0aGlzLnJpZ2h0RG9vcik7XG5cbiAgICB0aGlzLmVudGl0eS5tYXNrID0gbmV3IEdyb3VwQ29sbGlzaW9uTWFzayh0aGlzLmxlZnREb29yTWFzaywgdGhpcy5yaWdodERvb3JNYXNrKTtcblxuICAgIC8vIExvYWQgYW5pbWF0aW9uc1xuICAgIHRoaXMubWl4ZXIgPSBuZXcgVEhSRUUuQW5pbWF0aW9uTWl4ZXIob2JqZWN0KTtcbiAgICB0aGlzLmxlZnREb29yQWN0aW9uID0gdGhpcy5taXhlci5jbGlwQWN0aW9uKGVudGl0eS5hcmVhLmdhbWUuYXNzZXRzLmdldEFuaW1hdGlvbignTGVmdERvb3JBY3Rpb24nKSk7XG4gICAgdGhpcy5yaWdodERvb3JBY3Rpb24gPSB0aGlzLm1peGVyLmNsaXBBY3Rpb24oZW50aXR5LmFyZWEuZ2FtZS5hc3NldHMuZ2V0QW5pbWF0aW9uKCdSaWdodERvb3JBY3Rpb24nKSk7XG4gICAgdGhpcy5rZXlIb2xlQWN0aW9uID0gdGhpcy5taXhlci5jbGlwQWN0aW9uKGVudGl0eS5hcmVhLmdhbWUuYXNzZXRzLmdldEFuaW1hdGlvbignS2V5SG9sZUFjdGlvbicpKTtcblxuICAgIEFic3RyYWN0RG9vci5jb25maWd1cmVBbmltYXRpb24odGhpcy5sZWZ0RG9vckFjdGlvbik7XG4gICAgQWJzdHJhY3REb29yLmNvbmZpZ3VyZUFuaW1hdGlvbih0aGlzLnJpZ2h0RG9vckFjdGlvbik7XG4gICAgQWJzdHJhY3REb29yLmNvbmZpZ3VyZUFuaW1hdGlvbih0aGlzLmtleUhvbGVBY3Rpb24pO1xuXG4gICAgLy8gQ2FsbCB0aGUgc3ViY2xhc3MgXCJvbkNyZWF0ZVwiIG1ldGhvZFxuICAgIHRoaXMub25DcmVhdGVEb29yKCk7XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBjb25maWd1cmVBbmltYXRpb24oYWN0aW9uOiBUSFJFRS5BbmltYXRpb25BY3Rpb24pOiB2b2lkIHtcbiAgICBhY3Rpb24ubG9vcCA9IFRIUkVFLkxvb3BPbmNlO1xuICAgIGFjdGlvbi5jbGFtcFdoZW5GaW5pc2hlZCA9IHRydWU7XG4gIH1cblxuICBvblN0ZXAoKTogdm9pZCB7XG4gICAgdGhpcy5taXhlci51cGRhdGUoMC4wMSk7XG5cbiAgICAvLyBTcGVjaWFsIGNhc2U6IG1hc2sgZW50aXJlIGRvb3Igd2hlbiBjbG9zaW5nIHNvIHBsYXllciBkb2VzIG5vdCBnZXQgc3R1Y2sgaW4gZG9vclxuICAgIGlmICghdGhpcy5fb3BlbiAmJiB0aGlzLmlzQW5pbWF0aW9uUGxheWluZygpKSB7XG4gICAgICB0aGlzLmxlZnREb29yTWFzay51cGRhdGUodGhpcy5lbnRpdHkub2JqZWN0KTtcbiAgICAgIHRoaXMucmlnaHREb29yTWFzay51cGRhdGUodGhpcy5lbnRpdHkub2JqZWN0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5sZWZ0RG9vck1hc2sudXBkYXRlKHRoaXMubGVmdERvb3IpO1xuICAgICAgdGhpcy5yaWdodERvb3JNYXNrLnVwZGF0ZSh0aGlzLnJpZ2h0RG9vcik7XG4gICAgfVxuXG4gICAgLy8gQ2FsbCB0aGUgc3ViY2xhc3MgXCJvblN0ZXBcIiBtZXRob2RcbiAgICB0aGlzLm9uU3RlcERvb3IoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQbGF5IHRoZSBvcGVuIGRvb3IgYW5pbWF0aW9uIGFuZCBjbG9zZXMgdGhlIGRvb3IuXG4gICAqIE9wdGlvbmFsbHkgc3BlY2lmeSBhIGN1c3RvbSB0aW1lIHNjYWxlIChyZWxhdGl2ZSBzcGVlZCkgZm9yIHRoZSBkb29yIChTaG91bGQgYmUgPiAwKS5cbiAgICovXG4gIHByb3RlY3RlZCBvcGVuRG9vcih0aW1lU2NhbGUgPSAxKTogdm9pZCB7XG4gICAgdGhpcy5fb3BlbiA9IHRydWU7XG5cbiAgICBBYnN0cmFjdERvb3IucGxheUFjdGlvbih0aGlzLmxlZnREb29yQWN0aW9uLCB0aW1lU2NhbGUpO1xuICAgIEFic3RyYWN0RG9vci5wbGF5QWN0aW9uKHRoaXMucmlnaHREb29yQWN0aW9uLCB0aW1lU2NhbGUpO1xuICAgIEFic3RyYWN0RG9vci5wbGF5QWN0aW9uKHRoaXMua2V5SG9sZUFjdGlvbiwgdGltZVNjYWxlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQbGF5IHRoZSBjbG9zZSBkb29yIGFuaW1hdGlvbiBhbmQgY2xvc2VzIHRoZSBkb29yLlxuICAgKiBPcHRpb25hbGx5IHNwZWNpZnkgYSBjdXN0b20gdGltZSBzY2FsZSAocmVsYXRpdmUgc3BlZWQpIGZvciB0aGUgZG9vciAoU2hvdWxkIGJlID4gMCkuXG4gICAqL1xuICBwcm90ZWN0ZWQgY2xvc2VEb29yKHRpbWVTY2FsZSA9IDEpOiB2b2lkIHtcbiAgICB0aGlzLl9vcGVuID0gZmFsc2U7XG5cbiAgICBBYnN0cmFjdERvb3IucGxheUFjdGlvbkludmVyc2UodGhpcy5sZWZ0RG9vckFjdGlvbiwgdGltZVNjYWxlKTtcbiAgICBBYnN0cmFjdERvb3IucGxheUFjdGlvbkludmVyc2UodGhpcy5yaWdodERvb3JBY3Rpb24sIHRpbWVTY2FsZSk7XG4gICAgQWJzdHJhY3REb29yLnBsYXlBY3Rpb25JbnZlcnNlKHRoaXMua2V5SG9sZUFjdGlvbiwgdGltZVNjYWxlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUZXN0IGlmIHRoZSBhbmltYXRpb24gaXMgY3VycmVudGx5IG9wZW5cbiAgICovXG4gIHByaXZhdGUgaXNBbmltYXRpb25QbGF5aW5nKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmxlZnREb29yQWN0aW9uLmlzUnVubmluZygpIHx8IHRoaXMucmlnaHREb29yQWN0aW9uLmlzUnVubmluZygpIHx8IHRoaXMua2V5SG9sZUFjdGlvbi5pc1J1bm5pbmcoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQbGF5IGFuIGFjdGlvbiBpbiB0aGUgZm9yd2FyZCBkaXJlY3Rpb25cbiAgICovXG4gIHByaXZhdGUgc3RhdGljIHBsYXlBY3Rpb24oYWN0aW9uOiBUSFJFRS5BbmltYXRpb25BY3Rpb24sIHRpbWVTY2FsZTogbnVtYmVyKSB7XG4gICAgYWN0aW9uLnRpbWVTY2FsZSA9IE1hdGguYWJzKHRpbWVTY2FsZSk7XG4gICAgYWN0aW9uLnBhdXNlZCA9IGZhbHNlO1xuICAgIGFjdGlvbi5wbGF5KCk7XG4gIH1cblxuICAvKipcbiAgICogUGxheSBhbiBhY3Rpb24gaW4gdGhlIGludmVyc2UgZGlyZWN0aW9uXG4gICAqL1xuICBwcml2YXRlIHN0YXRpYyBwbGF5QWN0aW9uSW52ZXJzZShhY3Rpb246IFRIUkVFLkFuaW1hdGlvbkFjdGlvbiwgdGltZVNjYWxlOiBudW1iZXIpIHtcbiAgICBhY3Rpb24udGltZVNjYWxlID0gLU1hdGguYWJzKHRpbWVTY2FsZSk7XG4gICAgYWN0aW9uLnBhdXNlZCA9IGZhbHNlO1xuICAgIGFjdGlvbi5wbGF5KCk7XG4gIH1cbn1cbiIsImltcG9ydCB7IFNDQUxFX0hFSUdIVCB9IGZyb20gJ2FyZWFzL0Fic3RyYWN0TWF6ZUFyZWEnO1xuaW1wb3J0IHsgRW50aXR5U3RhdGUgfSBmcm9tICdlbmdpbmUvZW50aXR5JztcbmltcG9ydCB7IEFic3RyYWN0RG9vciB9IGZyb20gJy4vQWJzdHJhY3REb29yJztcblxuLyoqXG4gKiBEb29yIG9iamVjdCBpbiB0aGUgbWF6ZVxuICovXG5leHBvcnQgY2xhc3MgRHVtbXlCaWdEb29yIGV4dGVuZHMgQWJzdHJhY3REb29yIGltcGxlbWVudHMgRW50aXR5U3RhdGUge1xuICBwdWJsaWMgcmVhZG9ubHkgdGFnczogc3RyaW5nW10gPSBbJ3dhbGwnXTtcblxuICBwcml2YXRlIHNob3dNZXNzYWdlID0gZmFsc2U7XG5cbiAgY29uc3RydWN0b3Iocm93OiBudW1iZXIsIGNvbHVtbjogbnVtYmVyKSB7XG4gICAgc3VwZXIocm93LCBjb2x1bW4sICdEb29yJyk7XG4gIH1cblxuICBvbkNyZWF0ZURvb3IoKTogdm9pZCB7XG4gICAgLy8gTWFrZSB0aGUgZG9vciBSRUFMTFkgVEFMTCwgUkVBTExZIFRISUNLLCBhbmQgaGlkZSB0aGUga2V5IGhvbGUgY29sb3JcbiAgICB0aGlzLmVudGl0eS5vYmplY3Quc2NhbGUueSA9IFNDQUxFX0hFSUdIVCAvIDM7XG4gICAgdGhpcy5lbnRpdHkub2JqZWN0LnNjYWxlLnggPSAxMDtcbiAgICB0aGlzLmVudGl0eS5vYmplY3QuY2hpbGRyZW5bMF0udmlzaWJsZSA9IGZhbHNlO1xuXG4gICAgLy8gRm9yY2UgdGhlIGRvb3IgdG8gYmUgb3BlbmVkXG4gICAgdGhpcy5vcGVuRG9vcigxIC8gNik7XG4gIH1cblxuICBvbkRlc3Ryb3koKTogdm9pZCB7fVxuXG4gIG9uU3RlcERvb3IoKTogdm9pZCB7fVxuXG4gIG9uVGltZXIoX3RpbWVySW5kZXg6IG51bWJlcik6IHZvaWQge31cblxuICBvbkRyYXcoX2cyZDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTogdm9pZCB7fVxufVxuIiwiLyoqXG4gKiBSZXByZXNlbnRzIGEga2V5IHRoYXQgY2FuIGJlIHByZXNzZWQgb24gdGhlIGtleWJvYXJkLlxuICpcbiAqIExldHRlciBrZXlzIGFyZSBoYW5kbGVkIGFzIGxvd2VyY2FzZSBpbnB1dCwgZXZlbiBpZiB0aGUgXCJTaGlmdFwiIGtleSBpcyBwcmVzc2VkLlxuICovXG5leHBvcnQgZW51bSBLZXkge1xuICBVcCxcbiAgRG93bixcbiAgTGVmdCxcbiAgUmlnaHQsXG5cbiAgQ29udHJvbCxcbiAgQWx0LFxuICBEZWxldGUsXG4gIEJhY2tzcGFjZSxcbiAgQ2Fwc0xvY2ssXG4gIEVudGVyLFxuICBFc2NhcGUsXG4gIEVuZCxcbiAgU2hpZnQsXG4gIFBhZ2VVcCxcbiAgUGFnZURvd24sXG4gIFBhdXNlLFxuICBDYW5jZWwsXG4gIFNjcm9sbExvY2ssXG5cbiAgQSxcbiAgQixcbiAgQyxcbiAgRCxcbiAgRSxcbiAgRixcbiAgRyxcbiAgSCxcbiAgSSxcbiAgSixcbiAgSyxcbiAgTCxcbiAgTSxcbiAgTixcbiAgTyxcbiAgUCxcbiAgUSxcbiAgUixcbiAgUyxcbiAgVCxcbiAgVSxcbiAgVixcbiAgVyxcbiAgWCxcbiAgWSxcbiAgWixcblxuICBGMSxcbiAgRjIsXG4gIEYzLFxuICBGNCxcbiAgRjUsXG4gIEY2LFxuICBGNyxcbiAgRjgsXG4gIEY5LFxuICBGMTAsXG4gIEYxMSxcbiAgRjEyLFxuXG4gIE51bTEsXG4gIE51bTIsXG4gIE51bTMsXG4gIE51bTQsXG4gIE51bTUsXG4gIE51bTYsXG4gIE51bTcsXG4gIE51bTgsXG4gIE51bTksXG4gIE51bTAsXG5cbiAgQW1wZXJzdGFuZCxcbiAgQXN0ZXJpc2ssXG4gIEF0LFxuICBCYWNrU2xhc2gsXG4gIEJyYWNlTGVmdCxcbiAgQnJhY2VSaWdodCxcbiAgQ2FyZXQsXG4gIENsb3NlQnJhY2tldCxcbiAgQ29sb24sXG4gIENvbW1hLFxuICBEb2xsYXIsXG4gIEVxdWFsU2lnbixcbiAgRXhjbGFtYXRpb25Qb2ludCxcbiAgR3JlYXRlclRoYW4sXG4gIExlZnRQYXJlbixcbiAgTGVzc1RoYW4sXG4gIE1pbnVzLFxuICBIYXNodGFnLFxuICBPcGVuQnJhY2tldCxcbiAgUGVyaW9kLFxuICBRdWVzdGlvbk1hcmssXG4gIFNpbmdsZVF1b3RlLFxuICBEb3VibGVRdW90ZSxcbiAgUmlnaHRQYXJlbixcbiAgU2VtaWNvbG9uLFxuICBGb3J3YXJkU2xhc2gsXG4gIFVuZGVyc2NvcmUsXG4gIFNwYWNlLFxuICBUaWNrLFxuICBUaWxkYSxcbn1cblxuLyoqXG4gKiBSZXByZXNlbnRzIGJ1dHRvbnMgb24gYSBnYW1lcGFkLlxuICogTm90IGFsbCBnYW1lcGFkcyBzdXBwb3J0IGFsbCBidXR0b25zLlxuICovXG5leHBvcnQgZW51bSBHYW1lcGFkQnV0dG9uIHtcbiAgVXAgPSAxMixcbiAgRG93biA9IDEzLFxuICBMZWZ0ID0gMTQsXG4gIFJpZ2h0ID0gMTUsXG4gIEFDcm9zcyA9IDAsXG4gIEJDaXJjbGUgPSAxLFxuICBYU3F1YXJlID0gMixcbiAgWVRyaWFuZ2xlID0gMyxcbiAgU2VsZWN0ID0gOCwgLy8gW1hdICAgICBbIF1cbiAgU3RhcnQgPSA5LCAvLyAgWyBdICAgICBbWF1cbiAgQ2VudGVyID0gMTYsXG4gIExlZnRCdW1wZXIgPSA0LCAvLyBMQiwgVG9wIGJ1dHRvblxuICBSaWdodEJ1bXBlciA9IDUsIC8vIFJCLCBUb3AgYnV0dG9uXG4gIExlZnRTdGlja0NlbnRlciA9IDEwLFxuICBSaWdodFN0aWNrQ2VudGVyID0gMTEsXG59XG5cbi8qKlxuICogUmVwcmVzZW50IGF4ZXMgb24gdGhlIGdhbWVwYWQgc3RpY2tzLlxuICogTm90IGFsbCBnYW1lcGFkcyBzdXBwb3J0IGFsbCBheGVzLlxuICovXG5leHBvcnQgZW51bSBHYW1lcGFkQXhpcyB7XG4gIExlZnRTdGlja1ggPSAwLCAvLyBOZWdhdGl2ZSA9IExlZnQsIFBvc2l0aXZlID0gUmlnaHRcbiAgTGVmdFN0aWNrWSA9IDEsIC8vIE5lZ2F0aXZlID0gVXAsIFBvc2l0aXZlID0gRG93blxuICBSaWdodFN0aWNrWCA9IDIsIC8vIE5lZ2F0aXZlID0gTGVmdCwgUG9zaXRpdmUgPSBSaWdodFxuICBSaWdodFN0aWNrWSA9IDMsIC8vIE5lZ2F0aXZlID0gVXAsIFBvc2l0aXZlID0gRG93blxuICBMZWZ0VHJpZ2dlciA9IDQsIC8vIExULCBCb3R0b20gYnV0dG9uXG4gIFJpZ2h0VHJpZ2dlciA9IDUsIC8vIFJULCBCb3R0b20gYnV0dG9uXG59XG5cbi8qKlxuICogQWxsIG1vdXNlIGJ1dHRvbnNcbiAqL1xuZXhwb3J0IGVudW0gTW91c2VCdXR0b24ge1xuICBMZWZ0LFxuICBNaWRkbGUsXG4gIFJpZ2h0LFxufVxuXG4vKipcbiAqIE1hcCB0aGUgSmF2YVNjcmlwdCBzdHJpbmcgb2YgZXZlbnQua2V5IHRvIGEgS2V5IGVudW1cbiAqL1xuY29uc3QgS0VZX01BUDogUmVjb3JkPHN0cmluZywgS2V5PiA9IHtcbiAgWydBcnJvd1VwJ106IEtleS5VcCxcbiAgWydBcnJvd0Rvd24nXTogS2V5LkRvd24sXG4gIFsnQXJyb3dMZWZ0J106IEtleS5MZWZ0LFxuICBbJ0Fycm93UmlnaHQnXTogS2V5LlJpZ2h0LFxuXG4gIFsnQ29udHJvbCddOiBLZXkuQ29udHJvbCxcbiAgWydBbHQnXTogS2V5LkFsdCxcbiAgWydEZWxldGUnXTogS2V5LkRlbGV0ZSxcbiAgWydCYWNrc3BhY2UnXTogS2V5LkJhY2tzcGFjZSxcbiAgWydDYXBzTG9jayddOiBLZXkuQ2Fwc0xvY2ssXG4gIFsnRW50ZXInXTogS2V5LkVudGVyLFxuICBbJ0VzY2FwZSddOiBLZXkuRXNjYXBlLFxuICBbJ0VuZCddOiBLZXkuRW5kLFxuICBbJ1NoaWZ0J106IEtleS5TaGlmdCxcbiAgWydQYWdlVXAnXTogS2V5LlBhZ2VVcCxcbiAgWydQYWdlRG93biddOiBLZXkuUGFnZURvd24sXG4gIFsnUGF1c2UnXTogS2V5LlBhdXNlLFxuICBbJ0NhbmNlbCddOiBLZXkuQ2FuY2VsLFxuICBbJ1Njcm9sbExvY2snXTogS2V5LlNjcm9sbExvY2ssXG5cbiAgWydhJ106IEtleS5BLFxuICBbJ2InXTogS2V5LkIsXG4gIFsnYyddOiBLZXkuQyxcbiAgWydkJ106IEtleS5ELFxuICBbJ2UnXTogS2V5LkUsXG4gIFsnZiddOiBLZXkuRixcbiAgWydnJ106IEtleS5HLFxuICBbJ2gnXTogS2V5LkgsXG4gIFsnaSddOiBLZXkuSSxcbiAgWydqJ106IEtleS5KLFxuICBbJ2snXTogS2V5LkssXG4gIFsnbCddOiBLZXkuTCxcbiAgWydtJ106IEtleS5NLFxuICBbJ24nXTogS2V5Lk4sXG4gIFsnbyddOiBLZXkuTyxcbiAgWydwJ106IEtleS5QLFxuICBbJ3EnXTogS2V5LlEsXG4gIFsnciddOiBLZXkuUixcbiAgWydzJ106IEtleS5TLFxuICBbJ3QnXTogS2V5LlQsXG4gIFsndSddOiBLZXkuVSxcbiAgWyd2J106IEtleS5WLFxuICBbJ3cnXTogS2V5LlcsXG4gIFsneCddOiBLZXkuWCxcbiAgWyd5J106IEtleS5ZLFxuICBbJ3onXTogS2V5LlosXG5cbiAgWydBJ106IEtleS5BLFxuICBbJ0InXTogS2V5LkIsXG4gIFsnQyddOiBLZXkuQyxcbiAgWydEJ106IEtleS5ELFxuICBbJ0UnXTogS2V5LkUsXG4gIFsnRiddOiBLZXkuRixcbiAgWydHJ106IEtleS5HLFxuICBbJ0gnXTogS2V5LkgsXG4gIFsnSSddOiBLZXkuSSxcbiAgWydKJ106IEtleS5KLFxuICBbJ0snXTogS2V5LkssXG4gIFsnTCddOiBLZXkuTCxcbiAgWydNJ106IEtleS5NLFxuICBbJ04nXTogS2V5Lk4sXG4gIFsnTyddOiBLZXkuTyxcbiAgWydQJ106IEtleS5QLFxuICBbJ1EnXTogS2V5LlEsXG4gIFsnUiddOiBLZXkuUixcbiAgWydTJ106IEtleS5TLFxuICBbJ1QnXTogS2V5LlQsXG4gIFsnVSddOiBLZXkuVSxcbiAgWydWJ106IEtleS5WLFxuICBbJ1cnXTogS2V5LlcsXG4gIFsnWCddOiBLZXkuWCxcbiAgWydZJ106IEtleS5ZLFxuICBbJ1onXTogS2V5LlosXG5cbiAgWydGMSddOiBLZXkuRjEsXG4gIFsnRjInXTogS2V5LkYyLFxuICBbJ0YzJ106IEtleS5GMyxcbiAgWydGNCddOiBLZXkuRjQsXG4gIFsnRjUnXTogS2V5LkY1LFxuICBbJ0Y2J106IEtleS5GNixcbiAgWydGNyddOiBLZXkuRjcsXG4gIFsnRjgnXTogS2V5LkY4LFxuICBbJ0Y5J106IEtleS5GOSxcbiAgWydGMTAnXTogS2V5LkYxMCxcbiAgWydGMTEnXTogS2V5LkYxMSxcbiAgWydGMTInXTogS2V5LkYxMixcblxuICBbJzEnXTogS2V5Lk51bTEsXG4gIFsnMiddOiBLZXkuTnVtMixcbiAgWyczJ106IEtleS5OdW0zLFxuICBbJzQnXTogS2V5Lk51bTQsXG4gIFsnNSddOiBLZXkuTnVtNSxcbiAgWyc2J106IEtleS5OdW02LFxuICBbJzcnXTogS2V5Lk51bTcsXG4gIFsnOCddOiBLZXkuTnVtOCxcbiAgWyc5J106IEtleS5OdW05LFxuICBbJzAnXTogS2V5Lk51bTAsXG5cbiAgWycmJ106IEtleS5BbXBlcnN0YW5kLFxuICBbJyonXTogS2V5LkFzdGVyaXNrLFxuICBbJ0AnXTogS2V5LkF0LFxuICBbJ1xcXFwnXTogS2V5LkJhY2tTbGFzaCxcbiAgWyd7J106IEtleS5CcmFjZUxlZnQsXG4gIFsnfSddOiBLZXkuQnJhY2VSaWdodCxcbiAgWydeJ106IEtleS5DYXJldCxcbiAgWyddJ106IEtleS5DbG9zZUJyYWNrZXQsXG4gIFsnOiddOiBLZXkuQ29sb24sXG4gIFsnLCddOiBLZXkuQ29tbWEsXG4gIFsnJCddOiBLZXkuRG9sbGFyLFxuICBbJz0nXTogS2V5LkVxdWFsU2lnbixcbiAgWychJ106IEtleS5FeGNsYW1hdGlvblBvaW50LFxuICBbJz4nXTogS2V5LkdyZWF0ZXJUaGFuLFxuICBbJygnXTogS2V5LkxlZnRQYXJlbixcbiAgWyc8J106IEtleS5MZXNzVGhhbixcbiAgWyctJ106IEtleS5NaW51cyxcbiAgWycjJ106IEtleS5IYXNodGFnLFxuICBbJ1snXTogS2V5Lk9wZW5CcmFja2V0LFxuICBbJy4nXTogS2V5LlBlcmlvZCxcbiAgWyc/J106IEtleS5RdWVzdGlvbk1hcmssXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBxdW90ZXNcbiAgW1wiJ1wiXTogS2V5LlNpbmdsZVF1b3RlLFxuICBbJ1wiJ106IEtleS5Eb3VibGVRdW90ZSxcbiAgWycpJ106IEtleS5SaWdodFBhcmVuLFxuICBbJzsnXTogS2V5LlNlbWljb2xvbixcbiAgWycvJ106IEtleS5Gb3J3YXJkU2xhc2gsXG4gIFsnXyddOiBLZXkuVW5kZXJzY29yZSxcbiAgWycgJ106IEtleS5TcGFjZSxcbiAgWydgJ106IEtleS5UaWNrLFxuICBbJ34nXTogS2V5LlRpbGRhLFxufTtcblxuLyoqXG4gKiBNYXAgdGhlIEphdmFTY3JpcHQgZXZlbnQuYnV0dG9uIHRvIGEgbW91c2UgYnV0dG9uXG4gKi9cbmNvbnN0IE1PVVNFX01BUDogUmVjb3JkPG51bWJlciwgTW91c2VCdXR0b24+ID0ge1xuICBbMF06IE1vdXNlQnV0dG9uLkxlZnQsXG4gIFsxXTogTW91c2VCdXR0b24uTWlkZGxlLFxuICBbMl06IE1vdXNlQnV0dG9uLlJpZ2h0LFxufTtcblxuLy8gT3RoZXIgaW50ZXJuYWwgY29uc3RhbnRzXG5jb25zdCBMRUZUX1RSSUdHRVJfQlVUVE9OID0gNjtcbmNvbnN0IFJJR0hUX1RSSUdHRVJfQlVUVE9OID0gNztcblxuLy8gU3RvcmUgZGF0YSBhYm91dCBhIHNpbmdsZSBnYW1lcGFkXG5jbGFzcyBHYW1lcGFkU3RhdGUge1xuICBwdWJsaWMgYnV0dG9uc1N0YXJ0OiBTZXQ8R2FtZXBhZEJ1dHRvbj47XG4gIHB1YmxpYyBidXR0b25zRG93bjogU2V0PEdhbWVwYWRCdXR0b24+O1xuICBwdWJsaWMgYnV0dG9uc1JlbGVhc2VkOiBTZXQ8R2FtZXBhZEJ1dHRvbj47XG4gIHB1YmxpYyBheGVzOiBudW1iZXJbXTtcblxuICBwdWJsaWMgc3RhdGljIGZyb21HYW1lcGFkKGdhbWVwYWQ6IEdhbWVwYWQpOiBHYW1lcGFkU3RhdGUge1xuICAgIHJldHVybiB7XG4gICAgICBidXR0b25zU3RhcnQ6IG5ldyBTZXQoKSxcbiAgICAgIGJ1dHRvbnNEb3duOiBuZXcgU2V0KCksXG4gICAgICBidXR0b25zUmVsZWFzZWQ6IG5ldyBTZXQoKSxcbiAgICAgIGF4ZXM6IFsuLi5nYW1lcGFkLmF4ZXMsIGdhbWVwYWQuYnV0dG9uc1tMRUZUX1RSSUdHRVJfQlVUVE9OXS52YWx1ZSwgZ2FtZXBhZC5idXR0b25zW1JJR0hUX1RSSUdHRVJfQlVUVE9OXS52YWx1ZV0sXG4gICAgfTtcbiAgfVxufVxuXG4vKipcbiAqIEhhbmRsZXMgYWxsIHVzZXItaW5wdXQgZnJvbSB0aGUgZ2FtZVxuICovXG5leHBvcnQgY2xhc3MgSW5wdXRNYW5hZ2VyIHtcbiAgcHJpdmF0ZSByZWFkb25seSBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50O1xuXG4gIHByaXZhdGUga2V5c1N0YXJ0OiBTZXQ8S2V5PiA9IG5ldyBTZXQoKTtcbiAgcHJpdmF0ZSBrZXlzRG93bjogU2V0PEtleT4gPSBuZXcgU2V0KCk7XG4gIHByaXZhdGUga2V5c1JlbGVhc2VkOiBTZXQ8S2V5PiA9IG5ldyBTZXQoKTtcblxuICBwcml2YXRlIGdhbWVwYWRTdGF0ZTogUmVjb3JkPG51bWJlciwgR2FtZXBhZFN0YXRlPiA9IHt9O1xuXG4gIHByaXZhdGUgbW91c2VDb29yZHM6IFtudW1iZXIsIG51bWJlcl0gPSBbMCwgMF07XG4gIHByaXZhdGUgbW91c2VNb3ZlbWVudDogW251bWJlciwgbnVtYmVyXSA9IFswLCAwXTsgLy8gVXNlZCB3aXRoIFBvaW50ZXIgTG9ja1xuICBwcml2YXRlIG1vdXNlU3RhcnQ6IFNldDxNb3VzZUJ1dHRvbj4gPSBuZXcgU2V0KCk7XG4gIHByaXZhdGUgbW91c2VEb3duOiBTZXQ8TW91c2VCdXR0b24+ID0gbmV3IFNldCgpO1xuICBwcml2YXRlIG1vdXNlUmVsZWFzZWQ6IFNldDxNb3VzZUJ1dHRvbj4gPSBuZXcgU2V0KCk7XG4gIHByaXZhdGUgX3BvaW50ZXJMb2NrRW5hYmxlZCA9IGZhbHNlO1xuXG4gIGNvbnN0cnVjdG9yKGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQpIHtcbiAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcztcblxuICAgIC8vIEtleWJvYXJkXG4gICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLm9uS2V5RG93bi5iaW5kKHRoaXMpKTtcbiAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLm9uS2V5UmVsZWFzZS5iaW5kKHRoaXMpKTtcblxuICAgIC8vIEdhbWVwYWRcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignZ2FtZXBhZGNvbm5lY3RlZCcsIHRoaXMub25HYW1lcGFkQ29ubmVjdGVkLmJpbmQodGhpcykpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdnYW1lcGFkZGlzY29ubmVjdGVkJywgdGhpcy5vbkdhbWVwYWREaXNjb25uZWN0ZWQuYmluZCh0aGlzKSk7XG5cbiAgICAvLyBNb3VzZVxuICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm9uTW91c2VNb3ZlLmJpbmQodGhpcykpO1xuICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLm9uTW91c2VEb3duLmJpbmQodGhpcykpO1xuICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5vbk1vdXNlVXAuYmluZCh0aGlzKSk7XG4gICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vblBvaW50ZXJMb2NrQ2xpY2suYmluZCh0aGlzKSk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmxvY2tjaGFuZ2UnLCB0aGlzLm9uUG9pbnRlckxvY2tDaGFuZ2UuYmluZCh0aGlzKSk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmxvY2tlcnJvcicsIHRoaXMub25Qb2ludGVyTG9ja0Vycm9yLmJpbmQodGhpcykpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuZXZlciBhIGtleSBpcyBwcmVzc2VkIG9uIHRoZSBrZXlib2FyZC5cbiAgICogRmlyZWQgbXVsdGlwbGUgdGltZXMgaWYgYSBrZXkgaXMgY29udGludWFsbHkgcHJlc3NlZCBpbi5cbiAgICovXG4gIHByaXZhdGUgb25LZXlEb3duKGV2ZW50OiBLZXlib2FyZEV2ZW50KSB7XG4gICAgY29uc3Qga2V5ID0gS0VZX01BUFtldmVudC5rZXldO1xuICAgIGlmICh0eXBlb2Yga2V5ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5rZXlzRG93bi5hZGQoa2V5KTtcblxuICAgICAgaWYgKCFldmVudC5yZXBlYXQpIHtcbiAgICAgICAgdGhpcy5rZXlzU3RhcnQuYWRkKGtleSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIGEga2V5IGlzIHJlbGVhc2VkIGZyb20gYmVpbmcgcHJlc3NlZFxuICAgKi9cbiAgcHJpdmF0ZSBvbktleVJlbGVhc2UoZXZlbnQ6IEtleWJvYXJkRXZlbnQpIHtcbiAgICBjb25zdCBrZXkgPSBLRVlfTUFQW2V2ZW50LmtleV07XG4gICAgaWYgKHR5cGVvZiBrZXkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aGlzLmtleXNEb3duLmRlbGV0ZShrZXkpO1xuICAgICAgdGhpcy5rZXlzUmVsZWFzZWQuYWRkKGtleSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCBpbnRlcm5hbGx5IGJ5IHRoZSBnYW1lIGVuZ2luZSB0byBjbGVhciBhbGwga2V5cyBzdGFydGVkIGFuZCBrZXlzIHJlbGVhc2VkLlxuICAgKi9cbiAgX2NsZWFyS2V5VGljaygpOiB2b2lkIHtcbiAgICB0aGlzLmtleXNTdGFydC5jbGVhcigpO1xuICAgIHRoaXMua2V5c1JlbGVhc2VkLmNsZWFyKCk7XG4gIH1cblxuICAvKipcbiAgICogVGVzdCBpZiBhIGtleSBoYXMganVzdCBiZWVuIHByZXNzZWQgZG93bi5cbiAgICogT25seSByZXR1cm5zIHRydWUgZHVyaW5nIHRoaXMgdGljaywgYW5kIHRoZW4gdGhlIGV2ZW50IGlzIGNsZWFyZWQuXG4gICAqL1xuICBwdWJsaWMgaXNLZXlTdGFydGVkKGtleTogS2V5KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMua2V5c1N0YXJ0LmhhcyhrZXkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRlc3QgaWYgYSBrZXkgaXMgY3VycmVudGx5IHByZXNzZWQgZG93bi5cbiAgICogV2lsbCBjb250aW51ZSB0byByZXR1cm4gdHJ1ZSBhcyBsb25nIGFzIHRoZSBrZXkgaXMgYmVpbmcgcHJlc3NlZCBkb3duLlxuICAgKi9cbiAgcHVibGljIGlzS2V5RG93bihrZXk6IEtleSk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmtleXNEb3duLmhhcyhrZXkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRlc3QgaWYgYSBrZXkgaGFzIGp1c3QgYmVlbiByZWxlYXNlZC5cbiAgICogT25seSByZXR1cm5zIHRydWUgZHVyaW5nIHRoaXMgdGljaywgYW5kIHRoZW4gdGhlIGV2ZW50IGlzIGNsZWFyZWQuXG4gICAqL1xuICBwdWJsaWMgaXNLZXlSZWxlYXNlZChrZXk6IEtleSk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmtleXNSZWxlYXNlZC5oYXMoa2V5KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiBhIGdhbWVwYWQgaXMgY29ubmVjdGVkIHRvIHRoZSBicm93c2VyXG4gICAqL1xuICBwcml2YXRlIG9uR2FtZXBhZENvbm5lY3RlZChldmVudDogR2FtZXBhZEV2ZW50KSB7XG4gICAgY29uc3QgZ2FtZXBhZCA9IGV2ZW50LmdhbWVwYWQ7XG4gICAgaWYgKGdhbWVwYWQubWFwcGluZyAhPT0gJ3N0YW5kYXJkJykge1xuICAgICAgcmV0dXJuOyAvKiBVbnN1cHBvcnRlZCBnYW1lcGFkICovXG4gICAgfVxuXG4gICAgdGhpcy5nYW1lcGFkU3RhdGVbZ2FtZXBhZC5pbmRleF0gPSBHYW1lcGFkU3RhdGUuZnJvbUdhbWVwYWQoZ2FtZXBhZCk7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIGJ5IHRoZSBicm93c2VyIHdoZW4gYSBnYW1lcGFkIGlzIGRpc2Nvbm5lY3RlZCBmcm9tIHRoZSBzeXN0ZW1cbiAgICovXG4gIHByaXZhdGUgb25HYW1lcGFkRGlzY29ubmVjdGVkKGV2ZW50OiBHYW1lcGFkRXZlbnQpIHtcbiAgICBjb25zdCBnYW1lcGFkID0gZXZlbnQuZ2FtZXBhZDtcbiAgICBkZWxldGUgdGhpcy5nYW1lcGFkU3RhdGVbZ2FtZXBhZC5pbmRleF07XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIGludGVybmFsbHkgYnkgdGhlIGdhbWUgZW5naW5lIHRvIHVwZGF0ZSBnYW1lcGFkc1xuICAgKi9cbiAgX3VwZGF0ZUdhbWVwYWQoKTogdm9pZCB7XG4gICAgLy8gTWFrZSBzdXJlIHdlIHN1cHBvcnQgZ2FtZXBhZHNcbiAgICBpZiAodHlwZW9mIG5hdmlnYXRvci5nZXRHYW1lcGFkcyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBVcGRhdGUgdGhlIGluZGl2aWR1YWwgZ2FtZXBhZHMgYnkgcXVlcnJ5aW5nIHRoZSBuZXcgc3RhdGVcbiAgICBmb3IgKGNvbnN0IGdhbWVwYWQgb2YgbmF2aWdhdG9yLmdldEdhbWVwYWRzKCkpIHtcbiAgICAgIGlmIChnYW1lcGFkID09PSBudWxsKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBnYW1lcGFkU3RhdGUgPSB0aGlzLmdhbWVwYWRTdGF0ZVtnYW1lcGFkLmluZGV4XSB8fCBHYW1lcGFkU3RhdGUuZnJvbUdhbWVwYWQoZ2FtZXBhZCk7XG4gICAgICBjb25zdCBidXR0b25zU3RhcnQ6IFNldDxHYW1lcGFkQnV0dG9uPiA9IG5ldyBTZXQoKTtcbiAgICAgIGNvbnN0IGJ1dHRvbnNEb3duOiBTZXQ8R2FtZXBhZEJ1dHRvbj4gPSBuZXcgU2V0KCk7XG4gICAgICBjb25zdCBidXR0b25zUmVsZWFzZWQ6IFNldDxHYW1lcGFkQnV0dG9uPiA9IG5ldyBTZXQoKTtcblxuICAgICAgLy8gTG9vcCBvdmVyIGV2ZXJ5IGJ1dHRvbiBzdXBwb3J0ZWRcbiAgICAgIGZvciAoY29uc3QgYnV0dG9uS2V5IGluIEdhbWVwYWRCdXR0b24pIHtcbiAgICAgICAgaWYgKGlzTmFOKE51bWJlcihidXR0b25LZXkpKSkge1xuICAgICAgICAgIGNvbnRpbnVlOyAvKiBTa2lwIGVudW0gc3RyaW5nIHZhbHVlcyAqL1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYnV0dG9uOiBHYW1lcGFkQnV0dG9uID0gTnVtYmVyKGJ1dHRvbktleSkgYXMgR2FtZXBhZEJ1dHRvbjtcbiAgICAgICAgaWYgKGdhbWVwYWQuYnV0dG9uc1tidXR0b25dLnByZXNzZWQpIHtcbiAgICAgICAgICBidXR0b25zRG93bi5hZGQoYnV0dG9uKTtcblxuICAgICAgICAgIGlmICghZ2FtZXBhZFN0YXRlLmJ1dHRvbnNEb3duLmhhcyhidXR0b24pKSB7XG4gICAgICAgICAgICBidXR0b25zU3RhcnQuYWRkKGJ1dHRvbik7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChnYW1lcGFkU3RhdGUuYnV0dG9uc0Rvd24uaGFzKGJ1dHRvbikpIHtcbiAgICAgICAgICAgIGJ1dHRvbnNSZWxlYXNlZC5hZGQoYnV0dG9uKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gQWxzbyBnZXQgdGhlIGF4ZXMgZm9yIHRoZSBsZWZ0IGFuZCByaWdodCB0cmlnZ2Vyc1xuICAgICAgY29uc3QgYXhlcyA9IFtcbiAgICAgICAgLi4uZ2FtZXBhZC5heGVzLFxuICAgICAgICBnYW1lcGFkLmJ1dHRvbnNbTEVGVF9UUklHR0VSX0JVVFRPTl0udmFsdWUsXG4gICAgICAgIGdhbWVwYWQuYnV0dG9uc1tSSUdIVF9UUklHR0VSX0JVVFRPTl0udmFsdWUsXG4gICAgICBdO1xuXG4gICAgICAvLyBSZXBsYWNlIHRoZSBleGlzdGluZyBzdGF0ZSB3aXRoIHRoZSBuZXcgc3RhdGVcbiAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5nYW1lcGFkU3RhdGVbZ2FtZXBhZC5pbmRleF0sIHsgYnV0dG9uc1N0YXJ0LCBidXR0b25zRG93biwgYnV0dG9uc1JlbGVhc2VkLCBheGVzIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBUZXN0IGlmIGEgYnV0dG9uIGhhcyBqdXN0IGJlZW4gcHJlc3NlZCBkb3duIG9uIGEgZ2FtZXBhZC5cbiAgICogT25seSByZXR1cm5zIHRydWUgZHVyaW5nIHRoaXMgdGljaywgYW5kIHRoZW4gdGhlIGV2ZW50IGlzIGNsZWFyZWQuXG4gICAqL1xuICBwdWJsaWMgaXNHYW1lcGFkQnV0dG9uU3RhcnRlZChnYW1lcGFkOiBudW1iZXIsIGJ1dHRvbjogR2FtZXBhZEJ1dHRvbik6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGdhbWVwYWRTdGF0ZSA9IHRoaXMuZ2FtZXBhZFN0YXRlW2dhbWVwYWRdO1xuICAgIGlmICh0eXBlb2YgZ2FtZXBhZFN0YXRlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiBnYW1lcGFkU3RhdGUuYnV0dG9uc1N0YXJ0LmhhcyhidXR0b24pO1xuICB9XG5cbiAgLyoqXG4gICAqIFRlc3QgaWYgYSBidXR0b24gaXMgY3VycmVudGx5IHByZXNzZWQgZG93biBvbiBhIGdhbWVwYWQuXG4gICAqIFdpbGwgY29udGludWUgdG8gcmV0dXJuIHRydWUgYXMgbG9uZyBhcyB0aGUgYnV0dG9uIGlzIGJlaW5nIHByZXNzZWQgZG93bi5cbiAgICovXG4gIHB1YmxpYyBpc0dhbWVwYWRCdXR0b25Eb3duKGdhbWVwYWQ6IG51bWJlciwgYnV0dG9uOiBHYW1lcGFkQnV0dG9uKTogYm9vbGVhbiB7XG4gICAgY29uc3QgZ2FtZXBhZFN0YXRlID0gdGhpcy5nYW1lcGFkU3RhdGVbZ2FtZXBhZF07XG4gICAgaWYgKHR5cGVvZiBnYW1lcGFkU3RhdGUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIGdhbWVwYWRTdGF0ZS5idXR0b25zRG93bi5oYXMoYnV0dG9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUZXN0IGlmIGEgYnV0dG9uIGhhcyBqdXN0IGJlZW4gcmVsZWFzZWQgb24gYSBnYW1lcGFkLlxuICAgKiBPbmx5IHJldHVybnMgdHJ1ZSBkdXJpbmcgdGhpcyB0aWNrLCBhbmQgdGhlbiB0aGUgZXZlbnQgaXMgY2xlYXJlZC5cbiAgICovXG4gIHB1YmxpYyBpc0dhbWVwYWRCdXR0b25SZWxlYXNlZChnYW1lcGFkOiBudW1iZXIsIGJ1dHRvbjogR2FtZXBhZEJ1dHRvbik6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGdhbWVwYWRTdGF0ZSA9IHRoaXMuZ2FtZXBhZFN0YXRlW2dhbWVwYWRdO1xuICAgIGlmICh0eXBlb2YgZ2FtZXBhZFN0YXRlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiBnYW1lcGFkU3RhdGUuYnV0dG9uc1JlbGVhc2VkLmhhcyhidXR0b24pO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgdmFsdWUgb2YgYW4gYXhpcyBvbiB0aGUgZ2FtZXBhZC5cbiAgICpcbiAgICogVGhlIHJhbmdlIG9mIHZhbHVlcyBmb3IgYSBqb3lzdGlja3dpbGwgYmUgYmV0d2VlbiAtMS4wIGFuZCAxLjAuXG4gICAqIFRoZSByYW5nZSBvZiB2YWx1ZXMgZm9yIHRoZSBMVCBhbmQgUlQgaXMgYmV0d2VlbiAwLjAgYW5kIDEuMC5cbiAgICovXG4gIHB1YmxpYyBnZXRHYW1lcGFkQXhpcyhnYW1lcGFkOiBudW1iZXIsIGF4aXM6IEdhbWVwYWRBeGlzKTogbnVtYmVyIHtcbiAgICBjb25zdCBnYW1lcGFkU3RhdGUgPSB0aGlzLmdhbWVwYWRTdGF0ZVtnYW1lcGFkXTtcbiAgICBpZiAodHlwZW9mIGdhbWVwYWRTdGF0ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIHJldHVybiBnYW1lcGFkU3RhdGUuYXhlc1theGlzXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGN1cnJlbnQgc3RhdHVzIG9mIHRoZSBwb2ludGVyIGxvY2tcbiAgICovXG4gIHB1YmxpYyBnZXQgcG9pbnRlckxvY2tFbmFibGVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLl9wb2ludGVyTG9ja0VuYWJsZWQ7XG4gIH1cblxuICAvKipcbiAgICogRW5hYmxlIG9yIGRpc2FibGUgcG9pbnRlciBsb2NrLCB3aGljaCBmaXhlcyB0aGUgbW91c2UgdG8gdGhlIGNlbnRlciBvZiB0aGUgQ2FudmFzLlxuICAgKi9cbiAgcHVibGljIHNldCBwb2ludGVyTG9ja0VuYWJsZWQoZW5hYmxlZDogYm9vbGVhbikge1xuICAgIHRoaXMuX3BvaW50ZXJMb2NrRW5hYmxlZCA9IGVuYWJsZWQ7XG4gICAgaWYgKCFlbmFibGVkKSB7XG4gICAgICBkb2N1bWVudC5leGl0UG9pbnRlckxvY2soKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gdGhlIG1vdXNlIG1vdmVzIGFjcm9zcyB0aGUgQ2FudmFzIGVsZW1lbnRcbiAgICovXG4gIHByaXZhdGUgb25Nb3VzZU1vdmUoZXZlbnQ6IE1vdXNlRXZlbnQpIHtcbiAgICB0aGlzLm1vdXNlQ29vcmRzID0gW1xuICAgICAgKGV2ZW50LmNsaWVudFggKiB0aGlzLmNhbnZhcy53aWR0aCkgLyB0aGlzLmNhbnZhcy5jbGllbnRXaWR0aCxcbiAgICAgIChldmVudC5jbGllbnRZICogdGhpcy5jYW52YXMuaGVpZ2h0KSAvIHRoaXMuY2FudmFzLmNsaWVudEhlaWdodCxcbiAgICBdO1xuXG4gICAgaWYgKGRvY3VtZW50LnBvaW50ZXJMb2NrRWxlbWVudCA9PT0gdGhpcy5jYW52YXMpIHtcbiAgICAgIHRoaXMubW91c2VNb3ZlbWVudCA9IFtldmVudC5tb3ZlbWVudFgsIGV2ZW50Lm1vdmVtZW50WV07XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubW91c2VNb3ZlbWVudCA9IFswLCAwXTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gYSBtb3VzZSBidXR0b24gaXMgcHJlc3NlZFxuICAgKi9cbiAgcHJpdmF0ZSBvbk1vdXNlRG93bihldmVudDogTW91c2VFdmVudCkge1xuICAgIGNvbnN0IGJ1dHRvbiA9IE1PVVNFX01BUFtldmVudC5idXR0b25dO1xuICAgIGlmICh0eXBlb2YgYnV0dG9uICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5tb3VzZURvd24uYWRkKGJ1dHRvbik7XG4gICAgICB0aGlzLm1vdXNlU3RhcnQuYWRkKGJ1dHRvbik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIGEgbW91c2UgYnV0dG9uIGlzIHJlbGVhc2VkXG4gICAqL1xuICBwcml2YXRlIG9uTW91c2VVcChldmVudDogTW91c2VFdmVudCkge1xuICAgIGNvbnN0IGJ1dHRvbiA9IE1PVVNFX01BUFtldmVudC5idXR0b25dO1xuICAgIGlmICh0eXBlb2YgYnV0dG9uICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5tb3VzZURvd24uZGVsZXRlKGJ1dHRvbik7XG4gICAgICB0aGlzLm1vdXNlUmVsZWFzZWQuZGVsZXRlKGJ1dHRvbik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuZXZlciB0aGUgQ2FudmFzIGVsZW1lbnQgaXMgY2xpY2tlZCB0byBlbmFibGUgdGhlIHBvaW50ZXIgbG9jay5cbiAgICogUHJvYmFibHkgbm90IG5lY2Vzc2FyeSwgYnV0IGp1c3QgaW4gY2FzZS5cbiAgICovXG4gIHByaXZhdGUgb25Qb2ludGVyTG9ja0NsaWNrKCkge1xuICAgIGlmICh0aGlzLl9wb2ludGVyTG9ja0VuYWJsZWQpIHtcbiAgICAgIHRoaXMuY2FudmFzLnJlcXVlc3RQb2ludGVyTG9jaygpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbmV2ZXIgdGhlIHBvaW50ZXIgbG9jayBpcyBjaGFuZ2VkXG4gICAqL1xuICBwcml2YXRlIG9uUG9pbnRlckxvY2tDaGFuZ2UoX2V2ZW50OiBFdmVudCkge1xuICAgIGlmIChkb2N1bWVudC5wb2ludGVyTG9ja0VsZW1lbnQgIT09IHRoaXMuY2FudmFzKSB7XG4gICAgICB0aGlzLm1vdXNlTW92ZW1lbnQgPSBbMCwgMF07XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCBvbiBhIHBvaW50ZXIgbG9jayBlcnJvclxuICAgKiBTb21ldGltZXMsIHRoZSB1c2VyIG1pZ2h0IG5lZWQgdG8gY2xpY2sgbXVsdGlwbGUgdGltZXMgYmVmb3JlIHBvaW50ZXIgbG9jayBpcyByZS1lbmdhZ2VkXG4gICAqL1xuICBwcml2YXRlIG9uUG9pbnRlckxvY2tFcnJvcihfZXJyb3I6IEV2ZW50KSB7fVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgaW50ZXJuYWxseSBieSB0aGUgZ2FtZSBlbmdpbmUgdG8gY2xlYXIgYWxsIGtleXMgc3RhcnRlZCBhbmQga2V5cyByZWxlYXNlZC5cbiAgICovXG4gIF9jbGVhck1vdXNlVGljaygpOiB2b2lkIHtcbiAgICB0aGlzLm1vdXNlU3RhcnQuY2xlYXIoKTtcbiAgICB0aGlzLm1vdXNlUmVsZWFzZWQuY2xlYXIoKTtcbiAgICB0aGlzLm1vdXNlTW92ZW1lbnQgPSBbMCwgMF07XG4gIH1cblxuICAvKipcbiAgICogVGVzdCBpZiBhIG1vdXNlIGJ1dHRvbiBoYXMganVzdCBiZWVuIHByZXNzZWRcbiAgICogT25seSByZXR1cm5zIHRydWUgZHVyaW5nIHRoaXMgdGljaywgYW5kIHRoZW4gdGhlIGV2ZW50IGlzIGNsZWFyZWQuXG4gICAqL1xuICBwdWJsaWMgaXNNb3VzZUJ1dHRvblN0YXJ0ZWQoYnV0dG9uOiBNb3VzZUJ1dHRvbik6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLm1vdXNlU3RhcnQuaGFzKGJ1dHRvbik7XG4gIH1cblxuICAvKipcbiAgICogVGVzdCBpZiBhIG1vdXNlIGJ1dHRvbiBpcyBjdXJyZW50bHkgcHJlc3NlZCBkb3duLlxuICAgKiBXaWxsIGNvbnRpbnVlIHRvIHJldHVybiB0cnVlIGFzIGxvbmcgYXMgdGhlIGJ1dHRvbiBpcyBiZWluZyBwcmVzc2VkIGRvd24uXG4gICAqL1xuICBwdWJsaWMgaXNNb3VzZUJ1dHRvbkRvd24oYnV0dG9uOiBNb3VzZUJ1dHRvbik6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLm1vdXNlRG93bi5oYXMoYnV0dG9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUZXN0IGlmIGEgbW91c2UgYnV0dG9uIGhhcyBqdXN0IGJlZW4gcmVsZWFzZWQuXG4gICAqIE9ubHkgcmV0dXJucyB0cnVlIGR1cmluZyB0aGlzIHRpY2ssIGFuZCB0aGVuIHRoZSBldmVudCBpcyBjbGVhcmVkLlxuICAgKi9cbiAgcHVibGljIGlzTW91c2VCdXR0b25SZWxlYXNlZChidXR0b246IE1vdXNlQnV0dG9uKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMubW91c2VSZWxlYXNlZC5oYXMoYnV0dG9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIFggcG9zaXRpb24gb2YgdGhlIG1vdXNlIHJlbGF0aXZlIHRvIHRoZSBsb2NhdGlvbiBpbnNpZGUgdGhlIGNhbnZhcy5cbiAgICpcbiAgICogQ29vcmRpbmF0ZXMgYXJlIGNhbGN1bGF0ZWQgZnJvbSB0aGUgdG9wLWxlZnQgY29ybmVyIG9mIHRoZSBDYW52YXNcbiAgICovXG4gIHB1YmxpYyBnZXRNb3VzZVgoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5tb3VzZUNvb3Jkc1swXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIFkgcG9zaXRpb24gb2YgdGhlIG1vdXNlIHJlbGF0aXZlIHRvIHRoZSBsb2NhdGlvbiBpbnNpZGUgdGhlIGNhbnZhc1xuICAgKlxuICAgKiBDb29yZGluYXRlcyBhcmUgY2FsY3VsYXRlZCBmcm9tIHRoZSB0b3AtbGVmdCBjb3JuZXIgb2YgdGhlIENhbnZhc1xuICAgKi9cbiAgcHVibGljIGdldE1vdXNlWSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLm1vdXNlQ29vcmRzWzFdO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgWCBtb3ZlbWVudCBvZiB0aGUgbW91c2Ugc2luY2UgdGhlIGxhc3QgbW92ZW1lbnQgZXZlbnRcbiAgICpcbiAgICogQ29vcmRpbmF0ZXMgYXJlIGNhbGN1bGF0ZWQgZnJvbSB0aGUgdG9wLWxlZnQgY29ybmVyIG9mIHRoZSBDYW52YXNcbiAgICpcbiAgICogUmV0dXJucyAwIGlmIHBvaW50ZXIgbG9jayBpcyBub3QgZW5hYmxlZFxuICAgKi9cbiAgcHVibGljIGdldE1vdXNlTW92ZW1lbnRYKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMubW91c2VNb3ZlbWVudFswXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIFkgbW92ZW1lbnQgb2YgdGhlIG1vdXNlIHNpbmNlIHRoZSBsYXN0IG1vdmVtZW50IGV2ZW50XG4gICAqXG4gICAqIENvb3JkaW5hdGVzIGFyZSBjYWxjdWxhdGVkIGZyb20gdGhlIHRvcC1sZWZ0IGNvcm5lciBvZiB0aGUgQ2FudmFzXG4gICAqXG4gICAqIFJldHVybnMgMCBpZiBwb2ludGVyIGxvY2sgaXMgbm90IGVuYWJsZWRcbiAgICovXG4gIHB1YmxpYyBnZXRNb3VzZU1vdmVtZW50WSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLm1vdXNlTW92ZW1lbnRbMV07XG4gIH1cbn1cbiIsIi8qKlxuICogR2VuZXJhdGUgYSByYW5kb20gZmxvYXQgW21pbiwgbWF4KVxuICpcbiAqIENvZGUgZnJvbTogaHR0cHM6Ly93d3cuY29kZWdyZXBwZXIuY29tL2NvZGUtZXhhbXBsZXMvamF2YXNjcmlwdC9nZW5lcmF0ZStyYW5kb20rZmxvYXQrbnVtYmVyK2luK3JhbmdlK2phdmFzY3JpcHRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbUZsb2F0KG1pbjogbnVtYmVyLCBtYXg6IG51bWJlcik6IG51bWJlciB7XG4gIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkgKyBtaW4pO1xufVxuXG4vKipcbiAqIEdlbmVyYXRlIGEgcmFuZG9tIGludGVnZXIgW21pbiwgbWF4XVxuICpcbiAqIENvZGUgZnJvbTogaHR0cHM6Ly93d3cuY29kZWdyZXBwZXIuY29tL2NvZGUtZXhhbXBsZXMvamF2YXNjcmlwdC9nZW5lcmF0ZStyYW5kb20rZmxvYXQrbnVtYmVyK2luK3JhbmdlK2phdmFzY3JpcHRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbUludChtaW46IG51bWJlciwgbWF4OiBudW1iZXIpOiBudW1iZXIge1xuICBtaW4gPSBNYXRoLmNlaWwobWluKTtcbiAgbWF4ID0gTWF0aC5mbG9vcihtYXgpO1xuICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpKSArIG1pbjtcbn1cblxuLyoqXG4gKiBQaWNrIGEgcmFuZG9tIHZhbHVlIGZyb20gYW4gYXJyYXlcbiAqXG4gKiBAcGFyYW0gdmFsdWVzIEFycmF5IHRvIHBpY2sgYSByYW5kb20gdmFsdWUgZnJvbVxuICogQHJldHVybnMgUmFuZG9tIHZhbHVlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwaWNrUmFuZG9tQXJyYXk8VD4odmFsdWVzOiBUW10pOiBUIHtcbiAgcmV0dXJuIHZhbHVlc1tyYW5kb21JbnQoMCwgdmFsdWVzLmxlbmd0aCAtIDEpXTtcbn1cblxuLyoqXG4gKiBXcmFwIGEgbnVtYmVyIHRvIGEgZ2l2ZW4gcmFuZ2UuXG4gKlxuICogQ29kZSBpcyBmcm9tOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy81MDA1NDY3Ni93aGF0LWlzLXRoZS1jb3JyZWN0LXdheS10by1nZXQtYS1udW1iZXItbW9kdWxvLXJhbmdlLXN1Y2gtdGhhdC10aGUtcmV0dXJuZWQtdmFsdVxuICpcbiAqIEBwYXJhbSB4IE51bWJlciB0byB3cmFwXG4gKiBAcGFyYW0gbWluIE1pbmltdW0gbnVtYmVyIGluIHJhbmdlXG4gKiBAcGFyYW0gbWF4IE1heGltdW0gbnVtYmVyIGluIHJhbmdlXG4gKiBAcGFyYW0gaW5jbHVkZU1heCBJZiBzZXQgdG8gdHJ1ZSwgdGhlIG1heGltdW0gdmFsdWUgaXMgaW5jbHVkZWQgaW4gdGhpcyByYW5nZS4gVGhlIGRlZmF1bHQgaXMgdHJ1ZS5cbiAqIEByZXR1cm5zIFdyYXBwZWQgdmFsdWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdyYXBOdW1iZXIoeDogbnVtYmVyLCBtaW46IG51bWJlciwgbWF4OiBudW1iZXIsIGluY2x1ZGVNYXggPSB0cnVlKTogbnVtYmVyIHtcbiAgY29uc3QgZCA9IG1heCAtIG1pbjtcbiAgcmV0dXJuIHggPT09IG1heCAmJiBpbmNsdWRlTWF4ID8geCA6ICgoKCh4IC0gbWluKSAlIGQpICsgZCkgJSBkKSArIG1pbjtcbn1cblxuLyoqXG4gKiBDbGFtcCBhIHZhbHVlIGJldHdlZW4gdHdvIG51bWJlcnMsIHNvIG1pbiA8PSB4IDw9IG1heFxuICpcbiAqIEBwYXJhbSB4IE51bWJlciB0byBjbGFtcFxuICogQHBhcmFtIG1pbiBNaW5pbXVtIHZhbHVlXG4gKiBAcGFyYW0gbWF4IE1heGltdW0gdmFsdWVcbiAqIEByZXR1cm5zIENsYW1wZWQgbnVtYmVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGFtcCh4OiBudW1iZXIsIG1pbjogbnVtYmVyLCBtYXg6IG51bWJlcik6IG51bWJlciB7XG4gIHJldHVybiBNYXRoLm1pbihNYXRoLm1heCh4LCBtaW4pLCBtYXgpO1xufVxuXG4vKipcbiAqIFRlc3QgaWYgYSBudW1iZXIgaXMgYmV0d2VlbiB0d28gdmFsdWVzXG4gKlxuICogQHBhcmFtIHggTnVtYmVyIHRvIHRlc3RcbiAqIEBwYXJhbSBtaW4gTWluaW11bSB2YWx1ZVxuICogQHBhcmFtIG1heCBNYXhpbXVtIHZhbHVlXG4gKiBAcmV0dXJucyBUcnVlIGlmIG1pbiA8PSB4IDw9IG1heFxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNCZXR3ZWVuKHg6IG51bWJlciwgbWluOiBudW1iZXIsIG1heDogbnVtYmVyKTogYm9vbGVhbiB7XG4gIHJldHVybiB4ID49IG1pbiAmJiB4IDw9IG1heDtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSBudW1iZXIgaXMgYmFzaWNhbGx5IGFuIGludGVnZXJcbiAqXG4gKiBAcGFyYW0geCBUaGUgbnVtYmVyXG4gKiBAcGFyYW0gdGhyZXNoaG9sZCBUaHJlc2hzaG9sZCB0byB1c2VcbiAqIEByZXR1cm5zIFRydWUgaWYgWCBpcyBiYXNpY2FsbHkgYW4gaW50ZWdlclxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNCYXNpY2FsbHlJbnRlZ2VyKHg6IG51bWJlciwgdGhyZXNoaG9sZCA9IDApOiBib29sZWFuIHtcbiAgcmV0dXJuIGlzQmV0d2Vlbih4LCBNYXRoLnJvdW5kKHgpIC0gdGhyZXNoaG9sZCwgTWF0aC5yb3VuZCh4KSArIHRocmVzaGhvbGQpO1xufVxuXG4vKipcbiAqIFRlc3QgaWYgYW4gYW5nZWwgaXMgYmV0d2VlbiB0d28gb3RoZXIgYW5nbGVzXG4gKlxuICogQHBhcmFtIGFuZ2xlICAgQW5nbGUgdG8gdGVzdFxuICogQHBhcmFtIGEgICAgICAgRmlyc3QgYW5nbGUgdG8gdGVzdCBhZ2FpbnN0XG4gKiBAcGFyYW0gYiAgICAgICBTZWNvbmQgYW5nbGUgdG8gdGVzdCBhZ2FpbnN0XG4gKiBAcmV0dXJucyAgICAgICBUcnVlIGlmIHRoZSBhbmdsZSBpcyBiZXR3ZWVuIHRoZSB0d28gYW5nbGVzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0FuZ2xlQmV0d2VlbihhbmdsZTogbnVtYmVyLCBhOiBudW1iZXIsIGI6IG51bWJlcik6IGJvb2xlYW4ge1xuICBjb25zdCBtYXhEaXN0YW5jZSA9IG5vcm1hbGl6ZUFuZ2xlKGIgLSBhKTsgLy8gOTAgZGVncmVlc1xuICByZXR1cm4gTWF0aC5hYnMobm9ybWFsaXplQW5nbGUoYSAtIGFuZ2xlKSkgPCBtYXhEaXN0YW5jZSAmJiBNYXRoLmFicyhub3JtYWxpemVBbmdsZShiIC0gYW5nbGUpKSA8IG1heERpc3RhbmNlO1xufVxuXG4vKipcbiAqIE5vcm1hbGl6ZSBhbmdsZSBiZXR3ZWVuIC1QSSBhbmQgK1BJIHJhZGlhbnNcbiAqXG4gKiBAcGFyYW0gYW5nbGUgICAgIEFuZ2xlIHRvIG5vcm1hbGl6ZVxuICogQHJldHVybiAgICAgICAgICBOb3JtYWxpemVkIGFuZ2xlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemVBbmdsZShhbmdsZTogbnVtYmVyKTogbnVtYmVyIHtcbiAgcmV0dXJuIE1hdGguYXRhbjIoTWF0aC5zaW4oYW5nbGUpLCBNYXRoLmNvcyhhbmdsZSkpO1xufVxuXG4vKipcbiAqIFBpY2sgdGhlIG51bWJlciB0aGF0IGlzIGNsb3Nlc3QgdG8gdGhlIHRhcmdldCBudW1iZXJcbiAqXG4gKiBAcGFyYW0gaW5wdXQgTnVtYmVyIHRvIGdldFxuICogQHBhcmFtIHZhbHVlcyBMaXN0IG9mIHRhcmdldCBudW1iZXJzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwaWNrQ2xvc2VzdChpbnB1dDogbnVtYmVyLCB2YWx1ZXM6IG51bWJlcltdKTogbnVtYmVyIHtcbiAgbGV0IG1pbkRpc3RhbmNlID0gSW5maW5pdHk7XG4gIGxldCBjbG9zZXN0VmFsdWUgPSBpbnB1dDtcbiAgZm9yIChjb25zdCBudW1iZXIgb2YgdmFsdWVzKSB7XG4gICAgY29uc3QgZGlzdGFuY2UgPSBNYXRoLmFicyhpbnB1dCAtIG51bWJlcik7XG4gICAgaWYgKGRpc3RhbmNlIDwgbWluRGlzdGFuY2UpIHtcbiAgICAgIG1pbkRpc3RhbmNlID0gZGlzdGFuY2U7XG4gICAgICBjbG9zZXN0VmFsdWUgPSBudW1iZXI7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGNsb3Nlc3RWYWx1ZTtcbn1cbiIsImltcG9ydCB7IEVudGl0eSwgRW50aXR5U3RhdGUgfSBmcm9tICdlbmdpbmUvZW50aXR5JztcbmltcG9ydCB7IGlzQmV0d2VlbiB9IGZyb20gJ2VuZ2luZS9oZWxwZXJzJztcbmltcG9ydCB7IE1vdXNlQnV0dG9uIH0gZnJvbSAnZW5naW5lL2lucHV0JztcbmltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcblxuLyoqXG4gKiBBYnN0cmFjdCBidXR0b24gY2xhc3MgZm9yIGRyYXdpbmdcbiAqL1xuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEFic3RyYWN0QnV0dG9uIHtcbiAgLy8gUHJvcGVydGllcyB0aGF0IGNhbiBiZSBhZGp1c3RlZFxuICBwdWJsaWMgeCA9IDA7XG4gIHB1YmxpYyB5ID0gMDtcbiAgcHVibGljIHdpZHRoID0gMTA7XG4gIHB1YmxpYyBoZWlnaHQgPSAxMDtcblxuICBwdWJsaWMgdGV4dDogc3RyaW5nO1xuICBwdWJsaWMgZm9udCA9ICcxMnB0IHNhbnMtc2VyaWYnO1xuICBwdWJsaWMgdGV4dENvbG9yID0gbmV3IFRIUkVFLkNvbG9yKCd3aGl0ZScpO1xuICBwdWJsaWMgYmFja2dyb3VuZENvbG9yID0gbmV3IFRIUkVFLkNvbG9yKCdibGFjaycpO1xuICBwdWJsaWMgYm9yZGVyQ29sb3IgPSBuZXcgVEhSRUUuQ29sb3IoJ3doaXRlJyk7XG5cbiAgcHJvdGVjdGVkIGVudGl0eTogRW50aXR5PEVudGl0eVN0YXRlPjtcbiAgcHJpdmF0ZSBob3ZlcmluZ092ZXIgPSBmYWxzZTtcblxuICBjb25zdHJ1Y3Rvcih0ZXh0OiBzdHJpbmcpIHtcbiAgICB0aGlzLnRleHQgPSB0ZXh0O1xuICB9XG5cbiAgLyoqXG4gICAqIEV2ZW50IGhhbmRsZXIgZm9yIGNsaWNraW5nIG9uIHRoZSBidXR0b25cbiAgICovXG4gIGFic3RyYWN0IG9uQ2xpY2soKTogdm9pZDtcblxuICAvKipcbiAgICogSW50ZXJuYWwgd3JhcHBlciBmb3Igc3RlcHBpbmcgdGhlIGJ1dHRvblxuICAgKi9cbiAgYWJzdHJhY3Qgb25DcmVhdGVCdXR0b24oKTogdm9pZDtcblxuICAvKipcbiAgICogSW50ZXJuYWwgd3JhcHBlciBmb3Igc3RlcHBpbmcgdGhlIGJ1dHRvblxuICAgKi9cbiAgYWJzdHJhY3Qgb25TdGVwQnV0dG9uKCk6IHZvaWQ7XG5cbiAgb25DcmVhdGUoZW50aXR5OiBFbnRpdHk8RW50aXR5U3RhdGU+KTogdm9pZCB7XG4gICAgdGhpcy5lbnRpdHkgPSBlbnRpdHk7XG4gICAgdGhpcy5vbkNyZWF0ZUJ1dHRvbigpO1xuICB9XG5cbiAgb25TdGVwKCk6IHZvaWQge1xuICAgIC8vIFRlc3QgaWYgdGhlIG1vdXNlIGlzIGhvdmVyaW5nXG4gICAgY29uc3QgaW5wdXQgPSB0aGlzLmVudGl0eS5hcmVhLmdhbWUuaW5wdXQ7XG4gICAgdGhpcy5ob3ZlcmluZ092ZXIgPVxuICAgICAgaXNCZXR3ZWVuKGlucHV0LmdldE1vdXNlWCgpLCB0aGlzLngsIHRoaXMueCArIHRoaXMud2lkdGgpICYmXG4gICAgICBpc0JldHdlZW4oaW5wdXQuZ2V0TW91c2VZKCksIHRoaXMueSwgdGhpcy55ICsgdGhpcy5oZWlnaHQpO1xuXG4gICAgLy8gVGVzdCBmb3Igb24tY2xpY2tcbiAgICBpZiAodGhpcy5ob3ZlcmluZ092ZXIgJiYgaW5wdXQuaXNNb3VzZUJ1dHRvblN0YXJ0ZWQoTW91c2VCdXR0b24uTGVmdCkpIHtcbiAgICAgIHRoaXMub25DbGljaygpO1xuICAgIH1cblxuICAgIHRoaXMub25TdGVwQnV0dG9uKCk7XG4gIH1cblxuICBvbkRyYXcoZzJkOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpOiB2b2lkIHtcbiAgICAvLyBDb21wdXRlIG9wYWNpdHlcbiAgICBnMmQuZ2xvYmFsQWxwaGEgPSB0aGlzLmhvdmVyaW5nT3ZlciA/IDEgOiAwLjU7XG5cbiAgICAvLyBCYWNrZ3JvdW5kXG4gICAgZzJkLmZpbGxTdHlsZSA9IGAjJHt0aGlzLmJhY2tncm91bmRDb2xvci5nZXRIZXhTdHJpbmcoKX1gO1xuICAgIGcyZC5maWxsUmVjdCh0aGlzLngsIHRoaXMueSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuXG4gICAgLy8gVGVzdFxuICAgIGcyZC5mb250ID0gdGhpcy5mb250O1xuICAgIGcyZC50ZXh0QWxpZ24gPSAnY2VudGVyJztcbiAgICBnMmQudGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7XG4gICAgZzJkLmZpbGxTdHlsZSA9IGAjJHt0aGlzLnRleHRDb2xvci5nZXRIZXhTdHJpbmcoKX1gO1xuICAgIGcyZC5maWxsVGV4dCh0aGlzLnRleHQsIHRoaXMueCArIHRoaXMud2lkdGggLyAyLCB0aGlzLnkgKyB0aGlzLmhlaWdodCAvIDIpO1xuXG4gICAgLy9PdXRsaW5lXG4gICAgZzJkLmJlZ2luUGF0aCgpO1xuICAgIGcyZC5yZWN0KHRoaXMueCwgdGhpcy55LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgZzJkLmxpbmVXaWR0aCA9IDE7XG4gICAgZzJkLnN0cm9rZVN0eWxlID0gYCMke3RoaXMuYm9yZGVyQ29sb3IuZ2V0SGV4U3RyaW5nKCl9YDtcbiAgICBnMmQuc3Ryb2tlKCk7XG5cbiAgICAvLyBSZXNldCBsYXBoYVxuICAgIGcyZC5nbG9iYWxBbHBoYSA9IDE7XG4gIH1cbn1cbiIsImltcG9ydCB7IFRpdGxlQXJlYSB9IGZyb20gJ2FyZWFzL1RpdGxlQXJlYSc7XG5pbXBvcnQgeyBBYnN0cmFjdEJ1dHRvbiB9IGZyb20gJy4vQWJzdHJhY3RCdXR0b24nO1xuaW1wb3J0IHsgRW50aXR5U3RhdGUgfSBmcm9tICdlbmdpbmUvZW50aXR5JztcblxuY29uc3QgV0lEVEggPSAyMDA7XG5jb25zdCBIRUlHSFQgPSAzMDtcblxuLyoqXG4gKiBCdXR0b24gdG8gc3RhcnQgdGhlIGdhbWVcbiAqL1xuZXhwb3J0IGNsYXNzIFN0YXJ0QnV0dG9uIGV4dGVuZHMgQWJzdHJhY3RCdXR0b24gaW1wbGVtZW50cyBFbnRpdHlTdGF0ZSB7XG4gIHB1YmxpYyByZWFkb25seSB0YWdzOiBzdHJpbmdbXSA9IFsnc3RhcnQtYnV0dG9uJ107XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ1N0YXJ0IEdhbWUnKTtcbiAgfVxuXG4gIG9uQ3JlYXRlQnV0dG9uKCk6IHZvaWQge1xuICAgIHRoaXMueCA9IHRoaXMuZW50aXR5LmFyZWEub3ZlcmxheVdpZHRoIC8gMiAtIFdJRFRIIC8gMjtcbiAgICB0aGlzLnkgPSB0aGlzLmVudGl0eS5hcmVhLm92ZXJsYXlIZWlnaHQgLSAoSEVJR0hUICsgNDApO1xuICAgIHRoaXMud2lkdGggPSBXSURUSDtcbiAgICB0aGlzLmhlaWdodCA9IEhFSUdIVDtcbiAgfVxuXG4gIG9uRGVzdHJveSgpOiB2b2lkIHt9XG5cbiAgb25DbGljaygpOiB2b2lkIHtcbiAgICAodGhpcy5lbnRpdHkuYXJlYS5zdGF0ZSBhcyBUaXRsZUFyZWEpLnN0YXJ0R2FtZSgpO1xuICB9XG5cbiAgb25TdGVwQnV0dG9uKCk6IHZvaWQge31cblxuICBvblRpbWVyKF90aW1lckluZGV4OiBudW1iZXIpOiB2b2lkIHt9XG59XG4iLCJpbXBvcnQgeyBFbnRpdHksIEVudGl0eVN0YXRlIH0gZnJvbSAnZW5naW5lL2VudGl0eSc7XG5pbXBvcnQgeyBjbGFtcCB9IGZyb20gJ2VuZ2luZS9oZWxwZXJzJztcblxuLyoqXG4gKiBGYWRlIHRoZSBzY3JlZW4gZnJvbSBibGFjayB0byBjbGVhclxuICovXG5leHBvcnQgY2xhc3MgRmFkZUluRWZmZWN0IGltcGxlbWVudHMgRW50aXR5U3RhdGUge1xuICBwdWJsaWMgcmVhZG9ubHkgdGFnczogc3RyaW5nW10gPSBbXTtcblxuICBwcm90ZWN0ZWQgZW50aXR5OiBFbnRpdHk8dGhpcz47XG5cbiAgcHJpdmF0ZSB0aWNrczogbnVtYmVyO1xuICBwcml2YXRlIGZhZGU6IG51bWJlcjtcbiAgcHJpdmF0ZSBhbHBoYSA9IDE7XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdCBhIG5ldyBmYWRlIGVmZmVjdFxuICAgKlxuICAgKiBAcGFyYW0gdGlja3MgTnVtYmVyIG9mIHRpY2tzIGJldHdlZW4gZWFjaCBmYWRlXG4gICAqIEBwYXJhbSBmYWRlIEFtb3VudCB0byBmYWRlIG9uIGVhY2ggdGlja1xuICAgKi9cbiAgY29uc3RydWN0b3IodGlja3MgPSAxMCwgZmFkZSA9IDAuMSkge1xuICAgIHRoaXMudGlja3MgPSBNYXRoLmFicyh0aWNrcyk7XG4gICAgdGhpcy5mYWRlID0gTWF0aC5hYnMoZmFkZSk7XG4gIH1cblxuICBvbkNyZWF0ZShlbnRpdHk6IEVudGl0eTx0aGlzPik6IHZvaWQge1xuICAgIHRoaXMuZW50aXR5ID0gZW50aXR5O1xuICAgIHRoaXMuZW50aXR5LnNldFRpbWVyKDEsIHRoaXMudGlja3MsIHRydWUpO1xuICB9XG5cbiAgb25EZXN0cm95KCk6IHZvaWQge31cblxuICBvblN0ZXAoKTogdm9pZCB7fVxuXG4gIG9uVGltZXIodGltZXJJbmRleDogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKHRpbWVySW5kZXggPT09IDEpIHtcbiAgICAgIHRoaXMub25UaWNrKHRoaXMuYWxwaGEpO1xuICAgICAgdGhpcy5mYWRlSW4oKTtcbiAgICB9XG4gIH1cblxuICAvLy8gQ2FuIGJlIG92ZXJyaWRkZW5cbiAgcHJvdGVjdGVkIG9uVGljayhfYWxwaGE6IG51bWJlcik6IHZvaWQge31cblxuICAvKipcbiAgICogU2xvd2x5IGZhZGUgb3V0IHRvIGJsYWNrXG4gICAqL1xuICBwcml2YXRlIGZhZGVJbigpOiB2b2lkIHtcbiAgICB0aGlzLmFscGhhID0gY2xhbXAodGhpcy5hbHBoYSAtIHRoaXMuZmFkZSwgMCwgMSk7XG4gICAgaWYgKHRoaXMuYWxwaGEgPD0gMCkge1xuICAgICAgdGhpcy5lbnRpdHkuY2xlYXJUaW1lcigxKTtcbiAgICAgIHRoaXMub25GaW5pc2goKTtcbiAgICB9XG4gIH1cblxuICAvLy8gQ2FuIGJlIG92ZXJyaWRkZW5cbiAgcHJvdGVjdGVkIG9uRmluaXNoKCk6IHZvaWQge31cblxuICBvbkRyYXcoZzJkOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpOiB2b2lkIHtcbiAgICBnMmQuZ2xvYmFsQWxwaGEgPSB0aGlzLmFscGhhO1xuICAgIGcyZC5maWxsU3R5bGUgPSAnYmxhY2snO1xuICAgIGcyZC5maWxsUmVjdCgwLCAwLCB0aGlzLmVudGl0eS5hcmVhLm92ZXJsYXlXaWR0aCwgdGhpcy5lbnRpdHkuYXJlYS5vdmVybGF5SGVpZ2h0KTtcbiAgICBnMmQuZ2xvYmFsQWxwaGEgPSAxO1xuICB9XG59XG4iLCJpbXBvcnQgeyBBYnN0cmFjdEJ1dHRvbiB9IGZyb20gJy4vQWJzdHJhY3RCdXR0b24nO1xuaW1wb3J0IHsgRW50aXR5U3RhdGUgfSBmcm9tICdlbmdpbmUvZW50aXR5JztcbmltcG9ydCB7IE1haW5BcmVhIH0gZnJvbSAnYXJlYXMvTWFpbkFyZWEnO1xuaW1wb3J0IHsgS2V5LCBHYW1lcGFkQXhpcywgR2FtZXBhZEJ1dHRvbiB9IGZyb20gJ2VuZ2luZS9pbnB1dCc7XG5cbmNvbnN0IFdJRFRIID0gMjAwO1xuY29uc3QgSEVJR0hUID0gMzA7XG5cbi8qKlxuICogQnV0dG9uIHRvIHN0YXJ0IHRoZSBnYW1lXG4gKi9cbmV4cG9ydCBjbGFzcyBSZXN0YXJ0QnV0dG9uIGV4dGVuZHMgQWJzdHJhY3RCdXR0b24gaW1wbGVtZW50cyBFbnRpdHlTdGF0ZSB7XG4gIHB1YmxpYyByZWFkb25seSB0YWdzOiBzdHJpbmdbXSA9IFsncmVzdGFydC1idXR0b24nXTtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignUmVzdGFydCcpO1xuICB9XG5cbiAgb25DcmVhdGVCdXR0b24oKTogdm9pZCB7XG4gICAgdGhpcy54ID0gdGhpcy5lbnRpdHkuYXJlYS5vdmVybGF5V2lkdGggLyAyIC0gV0lEVEggLyAyO1xuICAgIHRoaXMueSA9IHRoaXMuZW50aXR5LmFyZWEub3ZlcmxheUhlaWdodCAtIChIRUlHSFQgKyA0MCk7XG4gICAgdGhpcy53aWR0aCA9IFdJRFRIO1xuICAgIHRoaXMuaGVpZ2h0ID0gSEVJR0hUO1xuICB9XG5cbiAgb25EZXN0cm95KCk6IHZvaWQge31cblxuICBvbkNsaWNrKCk6IHZvaWQge1xuICAgIHRoaXMuZW50aXR5LmFyZWEuZ2FtZS5zZXRBcmVhKG5ldyBNYWluQXJlYSgpKTtcbiAgfVxuXG4gIG9uU3RlcEJ1dHRvbigpOiB2b2lkIHtcbiAgICBjb25zdCBpbnB1dCA9IHRoaXMuZW50aXR5LmFyZWEuZ2FtZS5pbnB1dDtcbiAgICBpZiAoXG4gICAgICBpbnB1dC5pc0tleVN0YXJ0ZWQoS2V5LkVudGVyKSB8fFxuICAgICAgaW5wdXQuaXNLZXlTdGFydGVkKEtleS5TcGFjZSkgfHxcbiAgICAgIGlucHV0LmlzR2FtZXBhZEJ1dHRvblN0YXJ0ZWQoMCwgR2FtZXBhZEJ1dHRvbi5BQ3Jvc3MpIHx8XG4gICAgICBpbnB1dC5pc0dhbWVwYWRCdXR0b25TdGFydGVkKDAsIEdhbWVwYWRCdXR0b24uWFNxdWFyZSkgfHxcbiAgICAgIGlucHV0LmlzR2FtZXBhZEJ1dHRvblN0YXJ0ZWQoMCwgR2FtZXBhZEJ1dHRvbi5ZVHJpYW5nbGUpIHx8XG4gICAgICBpbnB1dC5pc0dhbWVwYWRCdXR0b25TdGFydGVkKDAsIEdhbWVwYWRCdXR0b24uU3RhcnQpIHx8XG4gICAgICBpbnB1dC5nZXRHYW1lcGFkQXhpcygwLCBHYW1lcGFkQXhpcy5SaWdodFRyaWdnZXIpID4gMC41XG4gICAgKSB7XG4gICAgICB0aGlzLm9uQ2xpY2soKTtcbiAgICB9XG4gIH1cblxuICBvblRpbWVyKF90aW1lckluZGV4OiBudW1iZXIpOiB2b2lkIHt9XG59XG4iLCJpbXBvcnQgeyBBcmVhLCBBcmVhU3RhdGUgfSBmcm9tICdlbmdpbmUvYXJlYSc7XG5pbXBvcnQgeyBSZXN0YXJ0QnV0dG9uIH0gZnJvbSAnZW50aXRpZXMvdWkvUmVzdGFydEJ1dHRvbic7XG5cbi8qKlxuICogR2FtZSBvdmVyIHNjcmVlbiBpbiB0aGUgZ2FtZVxuICovXG5leHBvcnQgY2xhc3MgR2FtZU92ZXJBcmVhIGltcGxlbWVudHMgQXJlYVN0YXRlIHtcbiAgcHJpdmF0ZSBhcmVhOiBBcmVhPHRoaXM+O1xuXG4gIG9uQ3JlYXRlKGFyZWE6IEFyZWE8dGhpcz4pOiB2b2lkIHtcbiAgICB0aGlzLmFyZWEgPSBhcmVhO1xuICAgIHRoaXMuYXJlYS5jcmVhdGVFbnRpdHkobmV3IFJlc3RhcnRCdXR0b24oKSk7XG5cbiAgICB0aGlzLmFyZWEuZ2FtZS5pbnB1dC5wb2ludGVyTG9ja0VuYWJsZWQgPSBmYWxzZTtcbiAgfVxuXG4gIG9uVGltZXIoX3RpbWVySW5kZXg6IG51bWJlcik6IHZvaWQge31cblxuICBvblN0ZXAoKTogdm9pZCB7fVxuXG4gIG9uRHJhdyhnMmQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk6IHZvaWQge1xuICAgIGcyZC5mb250ID0gJzQ4cHQgc2Fucy1zZXJpZic7XG4gICAgZzJkLnRleHRBbGlnbiA9ICdjZW50ZXInO1xuICAgIGcyZC50ZXh0QmFzZWxpbmUgPSAndG9wJztcbiAgICBnMmQuZmlsbFN0eWxlID0gJ3JlZCc7XG5cbiAgICBnMmQuZmlsbFRleHQoJ0dhbWUgT3ZlcicsIHRoaXMuYXJlYS5vdmVybGF5V2lkdGggLyAyLCA0MCk7XG4gIH1cbn1cbiIsImltcG9ydCB7IEVudGl0eSwgRW50aXR5U3RhdGUgfSBmcm9tICdlbmdpbmUvZW50aXR5JztcbmltcG9ydCB7IGNsYW1wIH0gZnJvbSAnZW5naW5lL2hlbHBlcnMnO1xuXG4vKipcbiAqIEZhZGUgdGhlIHNjcmVlbiB0byBibGFja1xuICovXG5leHBvcnQgY2xhc3MgRmFkZU91dEVmZmVjdCBpbXBsZW1lbnRzIEVudGl0eVN0YXRlIHtcbiAgcHVibGljIHJlYWRvbmx5IHRhZ3M6IHN0cmluZ1tdID0gW107XG5cbiAgcHJvdGVjdGVkIGVudGl0eTogRW50aXR5PHRoaXM+O1xuXG4gIHByaXZhdGUgdGlja3M6IG51bWJlcjtcbiAgcHJpdmF0ZSBmYWRlOiBudW1iZXI7XG4gIHByaXZhdGUgYWxwaGEgPSAwO1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3QgYSBuZXcgZmFkZSBlZmZlY3RcbiAgICpcbiAgICogQHBhcmFtIHRpY2tzIE51bWJlciBvZiB0aWNrcyBiZXR3ZWVuIGVhY2ggZmFkZVxuICAgKiBAcGFyYW0gZmFkZSBBbW91bnQgdG8gZmFkZSBvbiBlYWNoIHRpY2tcbiAgICovXG4gIGNvbnN0cnVjdG9yKHRpY2tzID0gMTAsIGZhZGUgPSAwLjEpIHtcbiAgICB0aGlzLnRpY2tzID0gTWF0aC5hYnModGlja3MpO1xuICAgIHRoaXMuZmFkZSA9IE1hdGguYWJzKGZhZGUpO1xuICB9XG5cbiAgb25DcmVhdGUoZW50aXR5OiBFbnRpdHk8dGhpcz4pOiB2b2lkIHtcbiAgICB0aGlzLmVudGl0eSA9IGVudGl0eTtcbiAgICB0aGlzLmVudGl0eS5zZXRUaW1lcigxLCB0aGlzLnRpY2tzLCB0cnVlKTtcbiAgfVxuXG4gIG9uRGVzdHJveSgpOiB2b2lkIHt9XG5cbiAgb25TdGVwKCk6IHZvaWQge31cblxuICBvblRpbWVyKHRpbWVySW5kZXg6IG51bWJlcik6IHZvaWQge1xuICAgIGlmICh0aW1lckluZGV4ID09PSAxKSB7XG4gICAgICB0aGlzLm9uVGljayh0aGlzLmFscGhhKTtcbiAgICAgIHRoaXMuZmFkZU91dCgpO1xuICAgIH1cbiAgfVxuXG4gIC8vLyBDYW4gYmUgb3ZlcnJpZGRlblxuICBwcm90ZWN0ZWQgb25UaWNrKF9hbHBoYTogbnVtYmVyKTogdm9pZCB7fVxuXG4gIC8qKlxuICAgKiBTbG93bHkgZmFkZSBvdXQgdG8gYmxhY2tcbiAgICovXG4gIHByaXZhdGUgZmFkZU91dCgpOiB2b2lkIHtcbiAgICB0aGlzLmFscGhhID0gY2xhbXAodGhpcy5hbHBoYSArIHRoaXMuZmFkZSwgMCwgMSk7XG4gICAgaWYgKHRoaXMuYWxwaGEgPj0gMSkge1xuICAgICAgdGhpcy5lbnRpdHkuY2xlYXJUaW1lcigxKTtcbiAgICAgIHRoaXMub25GaW5pc2goKTtcbiAgICB9XG4gIH1cblxuICAvLy8gQ2FuIGJlIG92ZXJyaWRkZW5cbiAgcHJvdGVjdGVkIG9uRmluaXNoKCk6IHZvaWQge31cblxuICBvbkRyYXcoZzJkOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpOiB2b2lkIHtcbiAgICBnMmQuZ2xvYmFsQWxwaGEgPSB0aGlzLmFscGhhO1xuICAgIGcyZC5maWxsU3R5bGUgPSAnYmxhY2snO1xuICAgIGcyZC5maWxsUmVjdCgwLCAwLCB0aGlzLmVudGl0eS5hcmVhLm92ZXJsYXlXaWR0aCwgdGhpcy5lbnRpdHkuYXJlYS5vdmVybGF5SGVpZ2h0KTtcbiAgICBnMmQuZ2xvYmFsQWxwaGEgPSAxO1xuICB9XG59XG4iLCJpbXBvcnQgeyBHYW1lT3ZlckFyZWEgfSBmcm9tICdhcmVhcy9HYW1lT3ZlckFyZWEnO1xuaW1wb3J0IHsgTWFpbkFyZWEgfSBmcm9tICdhcmVhcy9NYWluQXJlYSc7XG5pbXBvcnQgeyBGYWRlT3V0RWZmZWN0IH0gZnJvbSAnLi9GYWRlT3V0RWZmZWN0JztcblxuLyoqXG4gKiBGYWRlIHRoZSBzY3JlZW4gdG8gYmxhY2sgaWYgdGhlIHBsYXllciBkaWVzXG4gKi9cbmV4cG9ydCBjbGFzcyBEZWF0aEFuaW1hdGlvbiBleHRlbmRzIEZhZGVPdXRFZmZlY3Qge1xuICBwcm90ZWN0ZWQgb25UaWNrKGFscGhhOiBudW1iZXIpOiB2b2lkIHtcbiAgICBjb25zdCBtYWluQXJlYSA9IHRoaXMuZW50aXR5LmFyZWEuc3RhdGUgYXMgTWFpbkFyZWE7XG4gICAgbWFpbkFyZWEuZm9yZXN0QW1iaWVuY2Uudm9sdW1lID0gMSAtIGFscGhhO1xuICB9XG5cbiAgcHJvdGVjdGVkIG9uRmluaXNoKCk6IHZvaWQge1xuICAgIGNvbnN0IG1haW5BcmVhID0gdGhpcy5lbnRpdHkuYXJlYS5zdGF0ZSBhcyBNYWluQXJlYTtcbiAgICBtYWluQXJlYS5mb3Jlc3RBbWJpZW5jZS5zdG9wKCk7XG4gICAgdGhpcy5lbnRpdHkuYXJlYS5nYW1lLnNldEFyZWEobmV3IEdhbWVPdmVyQXJlYSgpKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgU3BoZXJlQ29sbGlzaW9uTWFzayB9IGZyb20gJ2VuZ2luZS9jb2xsaXNpb24nO1xuaW1wb3J0IHsgRW50aXR5LCBFbnRpdHlTdGF0ZSB9IGZyb20gJ2VuZ2luZS9lbnRpdHknO1xuaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuXG5jb25zdCBNT1ZFTUVOVF9TUEVFRCA9IDAuODtcbmNvbnN0IERFU1RST1lfVElDS1MgPSAyNTA7XG5cbmNvbnN0IEJVTExFVF9NRVNIID0gbmV3IFRIUkVFLk1lc2gobmV3IFRIUkVFLkN5bGluZGVyR2VvbWV0cnkoKSwgbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHsgY29sb3I6IDB4ZmZmZjAwIH0pKTtcbkJVTExFVF9NRVNILnNjYWxlLnNldCgwLjEsIDIsIDAuMSk7XG5cbi8qKlxuICogQnVsbGV0IHRoYXQgaXMgc2hvdCBmcm9tIHRoZSBwbGF5ZXIgb2JqZWN0XG4gKi9cbmV4cG9ydCBjbGFzcyBQbGF5ZXJCdWxsZXQgaW1wbGVtZW50cyBFbnRpdHlTdGF0ZSB7XG4gIHB1YmxpYyByZWFkb25seSB0YWdzOiBzdHJpbmdbXSA9IFsncGxheWVyLWJ1bGxldCddO1xuXG4gIHByaXZhdGUgZW50aXR5OiBFbnRpdHk8dGhpcz47XG4gIHByaXZhdGUgcG9zaXRpb246IFRIUkVFLlZlY3RvcjM7XG4gIHByaXZhdGUgcm90YXRpb246IFRIUkVFLlZlY3RvcjM7XG5cbiAgY29uc3RydWN0b3Ioc2hvb3RGcm9tOiBUSFJFRS5PYmplY3QzRCwgZGlyZWN0aW9uOiBUSFJFRS5WZWN0b3IzKSB7XG4gICAgdGhpcy5wb3NpdGlvbiA9IHNob290RnJvbS5nZXRXb3JsZFBvc2l0aW9uKG5ldyBUSFJFRS5WZWN0b3IzKCkpO1xuICAgIHRoaXMucm90YXRpb24gPSBkaXJlY3Rpb247XG4gIH1cblxuICBvbkNyZWF0ZShlbnRpdHk6IEVudGl0eTx0aGlzPik6IHZvaWQge1xuICAgIHRoaXMuZW50aXR5ID0gZW50aXR5O1xuXG4gICAgLy8gQnVpbGQgdGhlIG9iamVjdFxuICAgIGNvbnN0IG9iamVjdCA9IEJVTExFVF9NRVNILmNsb25lKCk7XG4gICAgb2JqZWN0LnBvc2l0aW9uLmNvcHkodGhpcy5wb3NpdGlvbik7XG4gICAgb2JqZWN0LnJvdGF0aW9uLnNldEZyb21WZWN0b3IzKHRoaXMucm90YXRpb24pO1xuICAgIG9iamVjdC51cGRhdGVNYXRyaXgoKTtcbiAgICBvYmplY3Qucm90YXRlWihNYXRoLlBJIC8gMik7XG4gICAgb2JqZWN0LnRyYW5zbGF0ZVkoLTAuOCk7XG4gICAgdGhpcy5lbnRpdHkub2JqZWN0ID0gb2JqZWN0O1xuXG4gICAgLy8gQnVpbGQgdGhlIG1hc2tcbiAgICB0aGlzLmVudGl0eS5tYXNrID0gbmV3IFNwaGVyZUNvbGxpc2lvbk1hc2sodGhpcy5lbnRpdHkub2JqZWN0KTtcblxuICAgIC8vIFRpbWVyIHRvIHNwZWNpZnkgd2hlbiB0byBkZXN0cm95IHRoZSBidWxsZXRcbiAgICB0aGlzLmVudGl0eS5zZXRUaW1lcigwLCBERVNUUk9ZX1RJQ0tTKTtcbiAgfVxuXG4gIG9uRGVzdHJveSgpOiB2b2lkIHt9XG5cbiAgb25TdGVwKCk6IHZvaWQge1xuICAgIHRoaXMuZW50aXR5Lm9iamVjdC50cmFuc2xhdGVZKC1NT1ZFTUVOVF9TUEVFRCk7XG4gICAgdGhpcy5lbnRpdHkubWFzay51cGRhdGUodGhpcy5lbnRpdHkub2JqZWN0KTtcbiAgICAodGhpcy5lbnRpdHkubWFzayBhcyBTcGhlcmVDb2xsaXNpb25NYXNrKS5zcGhlcmUucmFkaXVzIC89IDY7XG5cbiAgICB0aGlzLnRlc3RGb3JXYWxsQ29sbGlzaW9uKCk7XG4gIH1cblxuICAvKipcbiAgICogRGVzdHJveSBhIGJ1bGxldCBpZiBpdCBoaXRzIGEgd2FsbFxuICAgKi9cbiAgcHJpdmF0ZSB0ZXN0Rm9yV2FsbENvbGxpc2lvbigpIHtcbiAgICBpZiAodGhpcy5pc0NvbGxpZGluZ1dpdGhXYWxscygpKSB7XG4gICAgICB0aGlzLmVudGl0eS5kZXN0cm95KCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRlc3QgaWYgdGhlIGVudGl0eSBpcyBjb2xsaWRpbmcgd2l0aCBhbnkgd2FsbHNcbiAgICovXG4gIHByaXZhdGUgaXNDb2xsaWRpbmdXaXRoV2FsbHMoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuZW50aXR5LmFyZWEuZmluZEVudGl0aWVzKCd3YWxsJykuc29tZSgod2FsbCkgPT4gdGhpcy5lbnRpdHkuaXNDb2xsaWRpbmdXaXRoKHdhbGwpKTtcbiAgfVxuXG4gIG9uVGltZXIoX3RpbWVySW5kZXg6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuZW50aXR5LmRlc3Ryb3koKTtcbiAgfVxuXG4gIG9uRHJhdyhfZzJkOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpOiB2b2lkIHt9XG59XG4iLCJpbXBvcnQgeyBFbnRpdHksIEVudGl0eVN0YXRlIH0gZnJvbSAnZW5naW5lL2VudGl0eSc7XG5pbXBvcnQgeyBHYW1lcGFkQXhpcywgR2FtZXBhZEJ1dHRvbiwgS2V5LCBNb3VzZUJ1dHRvbiB9IGZyb20gJ2VuZ2luZS9pbnB1dCc7XG5pbXBvcnQgeyBjbGFtcCwgd3JhcE51bWJlciB9IGZyb20gJ2VuZ2luZS9oZWxwZXJzJztcbmltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcbmltcG9ydCB7IEJveENvbGxpc2lvbk1hc2sgfSBmcm9tICdlbmdpbmUvY29sbGlzaW9uJztcbmltcG9ydCB7IE1haW5BcmVhIH0gZnJvbSAnYXJlYXMvTWFpbkFyZWEnO1xuaW1wb3J0IHsgRGVhdGhBbmltYXRpb24gfSBmcm9tICcuL2VmZmVjdHMvRGVhdGhBbmltYXRpb24nO1xuaW1wb3J0IHsgSGVhbHRoIH0gZnJvbSAncmVzb3VyY2VzL0hlYWx0aCc7XG5pbXBvcnQgeyBQbGF5ZXJCdWxsZXQgfSBmcm9tICcuL1BsYXllckJ1bGxldCc7XG5pbXBvcnQgeyBJbnZlbnRvcnkgfSBmcm9tICdyZXNvdXJjZXMvSW52ZW50b3J5JztcblxuY29uc3QgUk9UQVRJT05fU1BFRUQgPSAwLjAwMjtcbmNvbnN0IEdBTUVQQURfUk9UQVRJT05fU1BFRUQgPSAwLjAyO1xuY29uc3QgU0xPV19HQU1FUEFEX1JPVEFUSU9OX1NQRUVEID0gMC4wMTtcbmNvbnN0IE1PVkVNRU5UX1NQRUVEID0gMC4xO1xuY29uc3QgTUFYX1ZFUlRfQU5HTEUgPSAwLjc1ICogKE1hdGguUEkgLyAyKTtcbmNvbnN0IERFQURfWk9ORSA9IDAuNTtcblxuY29uc3QgUExBWUVSX0JPWDNfTUFTSyA9IG5ldyBUSFJFRS5Cb3gzKG5ldyBUSFJFRS5WZWN0b3IzKC0wLjUsIDAsIC0wLjUpLCBuZXcgVEhSRUUuVmVjdG9yMygwLjUsIDMsIDAuNSkpO1xuXG4vKipcbiAqIFJlcHJlc2VudHMgdGhlIHBsYXllciBpbiB0aGUgZ2FtZVxuICovXG5leHBvcnQgY2xhc3MgUGxheWVyIGltcGxlbWVudHMgRW50aXR5U3RhdGUge1xuICBwdWJsaWMgcmVhZG9ubHkgdGFnczogc3RyaW5nW10gPSBbJ3BsYXllciddO1xuXG4gIHByaXZhdGUgZW50aXR5OiBFbnRpdHk8dGhpcz47XG4gIHByaXZhdGUgbWFzazogQm94Q29sbGlzaW9uTWFzaztcbiAgcHJpdmF0ZSBjYW1lcmE6IFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhO1xuICBwcml2YXRlIGd1bjogVEhSRUUuT2JqZWN0M0Q7XG4gIHByaXZhdGUgZ3VuQ29sbGVjdGVkID0gZmFsc2U7XG5cbiAgcHJpdmF0ZSBzdGFydFJvdzogbnVtYmVyO1xuICBwcml2YXRlIHN0YXJ0Q29sOiBudW1iZXI7XG5cbiAgcHJpdmF0ZSBob3JEaXIgPSBNYXRoLlBJIC8gMjtcbiAgcHJpdmF0ZSB2ZXJ0RGlyID0gMDtcbiAgcHJpdmF0ZSByaWdodFRyaWdnZXJQcmVzc2VkID0gZmFsc2U7XG5cbiAgY29uc3RydWN0b3Ioc3RhcnRSb3c6IG51bWJlciwgc3RhcnRDb2w6IG51bWJlcikge1xuICAgIHRoaXMuc3RhcnRSb3cgPSBzdGFydFJvdztcbiAgICB0aGlzLnN0YXJ0Q29sID0gc3RhcnRDb2w7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBhbmdsZSB0aGF0IHRoZSBwbGF5ZXIgaXMgZmFjaW5nXG4gICAqL1xuICBwdWJsaWMgZ2V0RmFjaW5nQW5nbGUoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gd3JhcE51bWJlcih0aGlzLmhvckRpciwgMCwgMiAqIE1hdGguUEksIGZhbHNlKTtcbiAgfVxuXG4gIG9uQ3JlYXRlKGVudGl0eTogRW50aXR5PHRoaXM+KTogdm9pZCB7XG4gICAgdGhpcy5lbnRpdHkgPSBlbnRpdHk7XG5cbiAgICAvLyBFbmFibGUgcG9pbnRlciBsb2NrIGZvciB1c2VyIGlucHV0XG4gICAgdGhpcy5lbnRpdHkuYXJlYS5nYW1lLmlucHV0LnBvaW50ZXJMb2NrRW5hYmxlZCA9IHRydWU7XG5cbiAgICAvLyBCdWlsZCB0aGUgY2FtZXJhXG4gICAgdGhpcy5jYW1lcmEgPSBuZXcgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEoXG4gICAgICA1MCxcbiAgICAgIGVudGl0eS5hcmVhLmdhbWUuY2FudmFzV2lkdGggLyBlbnRpdHkuYXJlYS5nYW1lLmNhbnZhc0hlaWdodCxcbiAgICAgIDAuMDAxLFxuICAgICAgMTAwMCxcbiAgICApO1xuICAgIHRoaXMuZW50aXR5LmFyZWEuY2FtZXJhID0gdGhpcy5jYW1lcmE7XG4gICAgdGhpcy5lbnRpdHkub2JqZWN0ID0gdGhpcy5jYW1lcmE7XG5cbiAgICAvLyBBZGQgYSBndW4gdG8gdGhlIGNhbWVyYVxuICAgIGNvbnN0IGd1biA9IGVudGl0eS5hcmVhLmdhbWUuYXNzZXRzLmdldE9iamVjdCgnR3VuJykuY2xvbmUoKTtcbiAgICBndW4uc2NhbGUuc2V0KDAuMSwgMC4xLCAwLjEpO1xuICAgIGd1bi5wb3NpdGlvbi5zZXQoMC4xNSwgLTAuMDQsIDAuMDUpO1xuICAgIGd1bi5yb3RhdGlvbi55ID0gTWF0aC5hdGFuMihJbmZpbml0eSwgMS44KTtcbiAgICBndW4udmlzaWJsZSA9IGZhbHNlO1xuICAgIHRoaXMuY2FtZXJhLmFkZChndW4pO1xuICAgIHRoaXMuZ3VuID0gZ3VuO1xuXG4gICAgLy8gU2V0IHRoZSBzdGFydCBwb3NpdGlvbiBpbiB0aGUgbWF6ZVxuICAgIGNvbnN0IHBvc2l0aW9uID0gKHRoaXMuZW50aXR5LmFyZWEuc3RhdGUgYXMgTWFpbkFyZWEpLnRpbGVMb2NhdGlvblRvUG9zaXRpb24odGhpcy5zdGFydFJvdywgdGhpcy5zdGFydENvbCk7XG4gICAgdGhpcy5jYW1lcmEucG9zaXRpb24uY29weShwb3NpdGlvbik7XG4gICAgdGhpcy5jYW1lcmEucG9zaXRpb24ueSA9IDI7XG5cbiAgICAvLyBCb3ggbWFzayB0byBkZXRlY3QgY29sbGlzaW9uc1xuICAgIHRoaXMubWFzayA9IG5ldyBCb3hDb2xsaXNpb25NYXNrKFBMQVlFUl9CT1gzX01BU0spO1xuICAgIHRoaXMuZW50aXR5Lm1hc2sgPSB0aGlzLm1hc2s7XG4gICAgdGhpcy5tYXNrLmJveC50cmFuc2xhdGUocG9zaXRpb24pO1xuICB9XG5cbiAgb25EZXN0cm95KCk6IHZvaWQge31cblxuICBvblN0ZXAoKTogdm9pZCB7XG4gICAgLy8gTWFrZSBzdXJlIHRoZSBjYW1lcmEgaXMgc2NhbGVkIHByb3Blcmx5XG4gICAgdGhpcy5jYW1lcmEuYXNwZWN0ID0gdGhpcy5lbnRpdHkuYXJlYS5nYW1lLmNhbnZhc1dpZHRoIC8gdGhpcy5lbnRpdHkuYXJlYS5nYW1lLmNhbnZhc0hlaWdodDtcbiAgICB0aGlzLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG5cbiAgICAvLyBDYW5ub3Qgc2hvb3QgdW50aWwgZ3VuIGlzIGNvbGxlY3RlZFxuICAgIHRoaXMudGVzdEZvckd1bkNvbGxlY3RlZCgpO1xuXG4gICAgLy8gTW92ZSB0aGUgcGxheWVyXG4gICAgdGhpcy5oYW5kbGVJbnB1dCgpO1xuXG4gICAgLy8gVGVzdCBmb3IgZGVhdGhcbiAgICB0aGlzLnRlc3RGb3JEZWF0aCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRlc3QgaWYgdGhlIGd1biBoYXMgYmVlbiBjb2xsZWN0ZWQgeWV0XG4gICAqL1xuICBwcml2YXRlIHRlc3RGb3JHdW5Db2xsZWN0ZWQoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuZ3VuQ29sbGVjdGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgaW52ZW50b3J5ID0gdGhpcy5lbnRpdHkuYXJlYS5nYW1lLnJlc291cmNlcy5nZXRSZXNvdXJjZTxJbnZlbnRvcnk+KCdpbnZlbnRvcnknKTtcbiAgICBpZiAoaW52ZW50b3J5Lmhhc0NvbGxlY3RlZEd1bigpKSB7XG4gICAgICB0aGlzLmd1bkNvbGxlY3RlZCA9IHRydWU7XG4gICAgICB0aGlzLmd1bi52aXNpYmxlID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIGFsbCBpbnB1dCB0byBtb3ZlIHRoZSBwbGF5ZXJcbiAgICovXG4gIHByaXZhdGUgaGFuZGxlSW5wdXQoKTogdm9pZCB7XG4gICAgY29uc3QgaW5wdXQgPSB0aGlzLmVudGl0eS5hcmVhLmdhbWUuaW5wdXQ7XG5cbiAgICAvLyBUZXN0IGZvciBtb3VzZSBjYW1lcmEgc3BpblxuICAgIGNvbnN0IG1vdXNlWCA9IGlucHV0LmdldE1vdXNlTW92ZW1lbnRYKCk7XG4gICAgaWYgKE1hdGguYWJzKG1vdXNlWCkgPiAyKSB7XG4gICAgICB0aGlzLmhvckRpciArPSAtbW91c2VYICogUk9UQVRJT05fU1BFRUQ7XG4gICAgfVxuXG4gICAgLy8gVGVzdCBmb3IgbW91c2UgY2FtZXJhIHZlcnRpY2FsIHVwLWRvd25cbiAgICBjb25zdCBtb3VzZVkgPSBpbnB1dC5nZXRNb3VzZU1vdmVtZW50WSgpO1xuICAgIGlmIChNYXRoLmFicyhtb3VzZVkpID4gMikge1xuICAgICAgdGhpcy52ZXJ0RGlyICs9IC1tb3VzZVkgKiBST1RBVElPTl9TUEVFRDtcbiAgICAgIHRoaXMudmVydERpciA9IGNsYW1wKHRoaXMudmVydERpciwgLU1BWF9WRVJUX0FOR0xFLCBNQVhfVkVSVF9BTkdMRSk7XG4gICAgfVxuXG4gICAgLy8gTGVmdCB0cmlnZ2VyIGlzIHVzZWQgZm9yIHNsb3cgbW90aW9uXG4gICAgY29uc3Qgc2xvd0NvbnRyb2xsZXJSb3RhdGlvbjogYm9vbGVhbiA9IGlucHV0LmdldEdhbWVwYWRBeGlzKDAsIEdhbWVwYWRBeGlzLkxlZnRUcmlnZ2VyKSA+IERFQURfWk9ORTtcbiAgICBjb25zdCBjb250cm9sbGVyUm90YXRpb24gPSBzbG93Q29udHJvbGxlclJvdGF0aW9uID8gU0xPV19HQU1FUEFEX1JPVEFUSU9OX1NQRUVEIDogR0FNRVBBRF9ST1RBVElPTl9TUEVFRDtcbiAgICBpZiAoc2xvd0NvbnRyb2xsZXJSb3RhdGlvbikge1xuICAgICAgdGhpcy5jYW1lcmEuZm92ID0gNDU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY2FtZXJhLmZvdiA9IDUwO1xuICAgIH1cblxuICAgIC8vIEhhbmRsZSBnYW1lcGFkIHNwaW5cbiAgICBjb25zdCBjb250cm9sbGVyWCA9IGlucHV0LmdldEdhbWVwYWRBeGlzKDAsIEdhbWVwYWRBeGlzLlJpZ2h0U3RpY2tYKTtcbiAgICBpZiAoTWF0aC5hYnMoY29udHJvbGxlclgpID4gREVBRF9aT05FKSB7XG4gICAgICB0aGlzLmhvckRpciArPSAtY29udHJvbGxlclggKiAxLjUgKiBjb250cm9sbGVyUm90YXRpb247XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIGdhbWVwYWQgdmVydGljYWwgdXAtZG93blxuICAgIGNvbnN0IGNvbnRyb2xsZXJZID0gaW5wdXQuZ2V0R2FtZXBhZEF4aXMoMCwgR2FtZXBhZEF4aXMuUmlnaHRTdGlja1kpO1xuICAgIGlmIChNYXRoLmFicyhjb250cm9sbGVyWSkgPiBERUFEX1pPTkUpIHtcbiAgICAgIHRoaXMudmVydERpciArPSAtY29udHJvbGxlclkgKiBjb250cm9sbGVyUm90YXRpb247XG4gICAgICB0aGlzLnZlcnREaXIgPSBjbGFtcCh0aGlzLnZlcnREaXIsIC1NQVhfVkVSVF9BTkdMRSwgTUFYX1ZFUlRfQU5HTEUpO1xuICAgIH1cblxuICAgIHRoaXMudXBkYXRlQ2FtZXJhUm90YXRpb24oKTtcblxuICAgIC8vIEhhbmRsZSBub3JtYWwgV1NBRCBjb250cm9sc1xuICAgIC8vICAgWCA9IEZvcndhcmQgKCspIGFuZCBCYWNrICgtKVxuICAgIC8vICAgWiA9IExlZnQgKC0pIGFuZCBSaWdodCAoKylcbiAgICBsZXQgZGVsdGFYID0gMCxcbiAgICAgIGRlbHRhWiA9IDA7XG4gICAgaWYgKGlucHV0LmlzS2V5RG93bihLZXkuVykpIHtcbiAgICAgIGRlbHRhWCArPSBNT1ZFTUVOVF9TUEVFRDtcbiAgICB9XG4gICAgaWYgKGlucHV0LmlzS2V5RG93bihLZXkuUykpIHtcbiAgICAgIGRlbHRhWCAtPSBNT1ZFTUVOVF9TUEVFRDtcbiAgICB9XG4gICAgaWYgKGlucHV0LmlzS2V5RG93bihLZXkuQSkpIHtcbiAgICAgIGRlbHRhWiArPSBNT1ZFTUVOVF9TUEVFRDtcbiAgICB9XG4gICAgaWYgKGlucHV0LmlzS2V5RG93bihLZXkuRCkpIHtcbiAgICAgIGRlbHRhWiAtPSBNT1ZFTUVOVF9TUEVFRDtcbiAgICB9XG5cbiAgICAvLyBUZXN0IGZvciB0aGUgYW5nbGUgb2YgdGhlIGxlZnQgam95c3RpY2tcbiAgICBjb25zdCBwb3NYID0gaW5wdXQuZ2V0R2FtZXBhZEF4aXMoMCwgR2FtZXBhZEF4aXMuTGVmdFN0aWNrWCk7XG4gICAgY29uc3QgcG9zWSA9IC1pbnB1dC5nZXRHYW1lcGFkQXhpcygwLCBHYW1lcGFkQXhpcy5MZWZ0U3RpY2tZKTtcblxuICAgIC8vIE1ha2Ugc3VyZSBsZWZ0IGpveXN0aWNrIGlzIG91dHNpZGUgb2YgdGhlIFwiZGVhZFwiIHpvbmVcbiAgICBpZiAocG9zWCA8IC1ERUFEX1pPTkUgfHwgcG9zWCA+IERFQURfWk9ORSB8fCBwb3NZIDwgLURFQURfWk9ORSB8fCBwb3NZID4gREVBRF9aT05FKSB7XG4gICAgICBjb25zdCByb3RhdGlvbkFuZ2xlID0gTWF0aC5hdGFuMihwb3NZLCBwb3NYKTtcbiAgICAgIGRlbHRhWCA9IE1PVkVNRU5UX1NQRUVEICogTWF0aC5zaW4ocm90YXRpb25BbmdsZSk7XG4gICAgICBkZWx0YVogPSAtTU9WRU1FTlRfU1BFRUQgKiBNYXRoLmNvcyhyb3RhdGlvbkFuZ2xlKTtcbiAgICB9XG5cbiAgICB0aGlzLnVwZGF0ZVBvc2l0aW9uKGRlbHRhWCwgZGVsdGFaKTtcblxuICAgIC8vIFNob290IGd1biFcbiAgICBjb25zdCByaWdodFRyaWdnZXJQcmVzc2VkID0gaW5wdXQuZ2V0R2FtZXBhZEF4aXMoMCwgR2FtZXBhZEF4aXMuUmlnaHRUcmlnZ2VyKSA+IERFQURfWk9ORTtcbiAgICBjb25zdCByaWdodFRyaWdnZXJTdGFydGVkID0gIXRoaXMucmlnaHRUcmlnZ2VyUHJlc3NlZCAmJiByaWdodFRyaWdnZXJQcmVzc2VkO1xuICAgIHRoaXMucmlnaHRUcmlnZ2VyUHJlc3NlZCA9IHJpZ2h0VHJpZ2dlclByZXNzZWQ7XG4gICAgaWYgKFxuICAgICAgaW5wdXQuaXNNb3VzZUJ1dHRvblN0YXJ0ZWQoTW91c2VCdXR0b24uTGVmdCkgfHxcbiAgICAgIGlucHV0LmlzR2FtZXBhZEJ1dHRvblN0YXJ0ZWQoMCwgR2FtZXBhZEJ1dHRvbi5BQ3Jvc3MpIHx8XG4gICAgICByaWdodFRyaWdnZXJTdGFydGVkXG4gICAgKSB7XG4gICAgICB0aGlzLnNob290KCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGUgY2FtZXJhIHJvdGF0aW9uIHVzaW5nIHRoZSBjdXJyZW50IHJvdGF0aW9uIGFuZ2xlc1xuICAgKi9cbiAgcHJpdmF0ZSB1cGRhdGVDYW1lcmFSb3RhdGlvbigpOiB2b2lkIHtcbiAgICBjb25zdCBldWxlciA9IG5ldyBUSFJFRS5FdWxlcih0aGlzLnZlcnREaXIsIHRoaXMuaG9yRGlyLCAwLCAnWVhaJyk7XG4gICAgdGhpcy5jYW1lcmEucXVhdGVybmlvbi5zZXRGcm9tRXVsZXIoZXVsZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGUgcG9zaXRpb24gb2YgdGhlIHBsYXllclxuICAgKlxuICAgKiBAcGFyYW0gZGVsdGFYIEZvcndhcmQgKCspIGFuZCBCYWNrICgtKVxuICAgKiBAcGFyYW0gZGVsdGFaIExlZnQgKC0pIGFuZCBSaWdodCAoKylcbiAgICovXG4gIHByaXZhdGUgdXBkYXRlUG9zaXRpb24oZGVsdGFYOiBudW1iZXIsIGRlbHRhWjogbnVtYmVyKTogdm9pZCB7XG4gICAgLy8gTXVzdCBjb252ZXJ0IGxvY2FsIHRvIGdsb2JhbCBheGlzXG4gICAgY29uc3QgbW92ZW1lbnRWZWN0b3IgPSBuZXcgVEhSRUUuVmVjdG9yMygtZGVsdGFaLCAwLCAtZGVsdGFYKTtcbiAgICBtb3ZlbWVudFZlY3Rvci5hcHBseUF4aXNBbmdsZShuZXcgVEhSRUUuVmVjdG9yMygwLCAxLCAwKSwgdGhpcy5ob3JEaXIpO1xuXG4gICAgY29uc3QgbW92ZVggPSBuZXcgVEhSRUUuVmVjdG9yMyhtb3ZlbWVudFZlY3Rvci54LCAwLCAwKTtcbiAgICBjb25zdCBtb3ZlWiA9IG5ldyBUSFJFRS5WZWN0b3IzKDAsIDAsIG1vdmVtZW50VmVjdG9yLnopO1xuXG4gICAgLy8gVHJ5IHRvIG1vdmUgYWxvbmcgWFxuICAgIC8vIFVuZG8gdGhlIG1vdmUgaWYgY29sbGlkaW5nIHdpdGggd2FsbHNcbiAgICB0aGlzLm1hc2suYm94LnRyYW5zbGF0ZShtb3ZlWCk7XG4gICAgaWYgKHRoaXMuaXNDb2xsaWRpbmdXaXRoV2FsbHMoKSkge1xuICAgICAgdGhpcy5tYXNrLmJveC50cmFuc2xhdGUobW92ZVgubmVnYXRlKCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNhbWVyYS5wb3NpdGlvbi5hZGQobW92ZVgpO1xuICAgIH1cblxuICAgIC8vIFRyeSB0byBtb3ZlIGFsb25nIFpcbiAgICAvLyBVbmRvIHRoZSBtb3ZlIGlmIGNvbGxpZGluZyB3aXRoIHdhbGxzXG4gICAgdGhpcy5tYXNrLmJveC50cmFuc2xhdGUobW92ZVopO1xuICAgIGlmICh0aGlzLmlzQ29sbGlkaW5nV2l0aFdhbGxzKCkpIHtcbiAgICAgIHRoaXMubWFzay5ib3gudHJhbnNsYXRlKG1vdmVaLm5lZ2F0ZSgpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jYW1lcmEucG9zaXRpb24uYWRkKG1vdmVaKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVGVzdCBpZiB0aGUgcGxheWVyIGlzIGN1cnJlbnRseSBjb2xsaWRpbmcgd2l0aCBhbnkgd2FsbHNcbiAgICovXG4gIHByaXZhdGUgaXNDb2xsaWRpbmdXaXRoV2FsbHMoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMuZW50aXR5LmFyZWEuZmluZEVudGl0aWVzKCd3YWxsJykuc29tZSgod2FsbCkgPT4gdGhpcy5lbnRpdHkuaXNDb2xsaWRpbmdXaXRoKHdhbGwpKSB8fFxuICAgICAgdGhpcy5lbnRpdHkuYXJlYS5maW5kRW50aXRpZXMoJ3JvY2snKS5zb21lKChyb2NrKSA9PiB0aGlzLmVudGl0eS5pc0NvbGxpZGluZ1dpdGgocm9jaykpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTaG9vdCB0aGUgZ3VuIVxuICAgKi9cbiAgcHJpdmF0ZSBzaG9vdCgpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuZ3VuQ29sbGVjdGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgcm90YXRpb24gPSBuZXcgVEhSRUUuRXVsZXIoMCwgdGhpcy5ob3JEaXIgKyBNYXRoLlBJIC8gMiwgdGhpcy52ZXJ0RGlyLCAnWVhaJyk7XG4gICAgdGhpcy5lbnRpdHkuYXJlYS5jcmVhdGVFbnRpdHkobmV3IFBsYXllckJ1bGxldCh0aGlzLmd1biwgcm90YXRpb24udG9WZWN0b3IzKCkpKTtcblxuICAgIGNvbnN0IG1haW5BcmVhID0gdGhpcy5lbnRpdHkuYXJlYS5zdGF0ZSBhcyBNYWluQXJlYTtcbiAgICBtYWluQXJlYS5wbGF5ZXJTaG9vdC52b2x1bWUgPSAwLjEyNTtcbiAgICBtYWluQXJlYS5wbGF5ZXJTaG9vdC5wbGF5KCk7XG4gIH1cblxuICAvKipcbiAgICogVGVzdCBpZiB0aGUgcGxheWVyIGhhcyBkaWVkIGFuZCBoYW5kbGUgaXQhXG4gICAqL1xuICBwcml2YXRlIHRlc3RGb3JEZWF0aCgpOiB2b2lkIHtcbiAgICBjb25zdCBoZWFsdGggPSB0aGlzLmVudGl0eS5hcmVhLmdhbWUucmVzb3VyY2VzLmdldFJlc291cmNlPEhlYWx0aD4oJ2hlYWx0aCcpO1xuICAgIGlmICghaGVhbHRoLmhhc0hlYWx0aExlZnQoKSkge1xuICAgICAgdGhpcy5lbnRpdHkuZGVzdHJveSgpO1xuXG4gICAgICAvLyBEZXN0cm95IHRoZSBIVURcbiAgICAgIGZvciAoY29uc3QgaHVkIG9mIHRoaXMuZW50aXR5LmFyZWEuZmluZEVudGl0aWVzKCdodWQnKSkge1xuICAgICAgICBodWQuZGVzdHJveSgpO1xuICAgICAgfVxuXG4gICAgICAvLyBQcmVwYXJlIHRoZSBkZWF0aCBhbmltYXRpb25cbiAgICAgIHRoaXMuZW50aXR5LmFyZWEuY3JlYXRlRW50aXR5KG5ldyBEZWF0aEFuaW1hdGlvbigpKTtcbiAgICB9XG4gIH1cblxuICBvblRpbWVyKF90aW1lckluZGV4OiBudW1iZXIpOiB2b2lkIHt9XG5cbiAgb25EcmF3KF9nMmQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk6IHZvaWQge31cbn1cbiIsImV4cG9ydCBlbnVtIERvb3JDb2xvciB7XG4gIFJlZCxcbiAgWWVsbG93LFxuICBHcmVlbixcbiAgQmx1ZSxcbn1cbiIsImltcG9ydCB7IE1haW5BcmVhIH0gZnJvbSAnYXJlYXMvTWFpbkFyZWEnO1xuaW1wb3J0IHsgU3BoZXJlQ29sbGlzaW9uTWFzayB9IGZyb20gJ2VuZ2luZS9jb2xsaXNpb24nO1xuaW1wb3J0IHsgRW50aXR5LCBFbnRpdHlTdGF0ZSB9IGZyb20gJ2VuZ2luZS9lbnRpdHknO1xuaW1wb3J0IHsgR2FtZXBhZEJ1dHRvbiwgS2V5IH0gZnJvbSAnZW5naW5lL2lucHV0JztcbmltcG9ydCB7IERvb3JDb2xvciB9IGZyb20gJ2VudGl0aWVzL0Rvb3JDb2xvcic7XG5pbXBvcnQgeyBIVUQgfSBmcm9tICdlbnRpdGllcy9IVUQnO1xuaW1wb3J0IHsgSW52ZW50b3J5IH0gZnJvbSAncmVzb3VyY2VzL0ludmVudG9yeSc7XG5pbXBvcnQgeyBBYnN0cmFjdERvb3IgfSBmcm9tICcuL0Fic3RyYWN0RG9vcic7XG5pbXBvcnQgeyBEb29yU3RhdGUgfSBmcm9tICdyZXNvdXJjZXMvRG9vclN0YXRlJztcbmltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcblxuY29uc3QgRE9PUl9DT0xPUl9NQVRFUklBTFM6IFJlY29yZDxEb29yQ29sb3IsIFRIUkVFLk1hdGVyaWFsPiA9IHtcbiAgW0Rvb3JDb2xvci5SZWRdOiBuZXcgVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWwoeyBjb2xvcjogMHhmZjAwMDAsIGVtaXNzaXZlOiAweGZmMDAwMCwgZW1pc3NpdmVJbnRlbnNpdHk6IDEgfSksXG4gIFtEb29yQ29sb3IuWWVsbG93XTogbmV3IFRIUkVFLk1lc2hTdGFuZGFyZE1hdGVyaWFsKHsgY29sb3I6IDB4ZmZmZjAwLCBlbWlzc2l2ZTogMHhmZmZmMDAsIGVtaXNzaXZlSW50ZW5zaXR5OiAxIH0pLFxuICBbRG9vckNvbG9yLkdyZWVuXTogbmV3IFRIUkVFLk1lc2hTdGFuZGFyZE1hdGVyaWFsKHsgY29sb3I6IDB4MDBmZjAwLCBlbWlzc2l2ZTogMHgwMGZmMDAsIGVtaXNzaXZlSW50ZW5zaXR5OiAxIH0pLFxuICBbRG9vckNvbG9yLkJsdWVdOiBuZXcgVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWwoeyBjb2xvcjogMHgwMDAwZmYsIGVtaXNzaXZlOiAweDAwMDBmZiwgZW1pc3NpdmVJbnRlbnNpdHk6IDEgfSksXG59O1xuXG4vKipcbiAqIERvb3Igb2JqZWN0IGluIHRoZSBtYXplXG4gKi9cbmV4cG9ydCBjbGFzcyBDb2xvckRvb3IgZXh0ZW5kcyBBYnN0cmFjdERvb3IgaW1wbGVtZW50cyBFbnRpdHlTdGF0ZSB7XG4gIHB1YmxpYyByZWFkb25seSB0YWdzOiBzdHJpbmdbXSA9IFsnd2FsbCddO1xuXG4gIHB1YmxpYyByZWFkb25seSBkb29yQ29sb3I6IERvb3JDb2xvcjtcbiAgcHJpdmF0ZSBpbnRlcmFjdE1hc2s6IFNwaGVyZUNvbGxpc2lvbk1hc2s7XG5cbiAgY29uc3RydWN0b3Iocm93OiBudW1iZXIsIGNvbHVtbjogbnVtYmVyLCBjb2xvcjogRG9vckNvbG9yKSB7XG4gICAgc3VwZXIocm93LCBjb2x1bW4sICdEb29yJyk7XG4gICAgdGhpcy5kb29yQ29sb3IgPSBjb2xvcjtcbiAgfVxuXG4gIG9uQ3JlYXRlRG9vcigpOiB2b2lkIHtcbiAgICAvLyBVcGRhdGUgdGhlIG1hdGVyaWFsIHRvIG1hdGNoIHRoZSBrZXkgY29sb3JcbiAgICB0aGlzLmNvbmZpZ3VyZU1hdGVyaWFsQ29sb3IodGhpcy5lbnRpdHkub2JqZWN0LmNoaWxkcmVuWzBdLmNoaWxkcmVuWzFdIGFzIFRIUkVFLk1lc2gpO1xuXG4gICAgLy8gQ29uZmlndXJlIGludGVyYWN0aW9uIG1hc2tzXG4gICAgdGhpcy5pbnRlcmFjdE1hc2sgPSBuZXcgU3BoZXJlQ29sbGlzaW9uTWFzayh0aGlzLmVudGl0eS5vYmplY3QpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGUgZG9vciBtYXRlcmlhbCB0byBtYXRjaCB0aGUga2V5IGNvbG9yXG4gICAqL1xuICBwcml2YXRlIGNvbmZpZ3VyZU1hdGVyaWFsQ29sb3Ioa2V5OiBUSFJFRS5NZXNoKTogdm9pZCB7XG4gICAgY29uc3QgbWF0ZXJpYWwgPSBET09SX0NPTE9SX01BVEVSSUFMU1t0aGlzLmRvb3JDb2xvcl07XG4gICAgaWYgKHR5cGVvZiBtYXRlcmlhbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGtleS5tYXRlcmlhbCA9IG1hdGVyaWFsO1xuICAgIH1cbiAgfVxuXG4gIG9uRGVzdHJveSgpOiB2b2lkIHt9XG5cbiAgb25TdGVwRG9vcigpOiB2b2lkIHtcbiAgICB0aGlzLnRlc3RGb3JQbGF5ZXJJbnRlcmFjdGlvbigpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNlZSBpZiB0aGUgcGxheWVyIGlzIGNvbGxpZGluZyBzbyBpdCBjYW4gaGFuZGxlIHVzZXIgaW50ZXJhY3Rpb25cbiAgICovXG4gIHByaXZhdGUgdGVzdEZvclBsYXllckludGVyYWN0aW9uKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLm9wZW4pIHtcbiAgICAgIHJldHVybjsgLy8gTm8gbW9yZSBuZWVkIHRvIGNoZWNrXG4gICAgfVxuXG4gICAgY29uc3QgcGxheWVyID0gdGhpcy5lbnRpdHkuYXJlYS5maW5kRmlyc3RFbnRpdHkoJ3BsYXllcicpO1xuICAgIGlmIChwbGF5ZXIgPT09IG51bGwgfHwgIXRoaXMuaW50ZXJhY3RNYXNrLmlzQ29sbGlkaW5nV2l0aChwbGF5ZXIubWFzaykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBTaG93IEhVRCBtZXNzYWdlXG4gICAgY29uc3QgaHVkID0gdGhpcy5lbnRpdHkuYXJlYS5maW5kRmlyc3RFbnRpdHkoJ2h1ZCcpIGFzIEVudGl0eTxIVUQ+O1xuICAgIGNvbnN0IGludmVudG9yeSA9IHRoaXMuZW50aXR5LmFyZWEuZ2FtZS5yZXNvdXJjZXMuZ2V0UmVzb3VyY2U8SW52ZW50b3J5PignaW52ZW50b3J5Jyk7XG4gICAgY29uc3Qga2V5QXZhaWxhYmxlID0gaW52ZW50b3J5Lmhhc0tleUF2YWlsYWJsZSh0aGlzLmRvb3JDb2xvcik7XG4gICAgaWYgKGh1ZCAhPT0gbnVsbCkge1xuICAgICAgaWYgKGh1ZC5zdGF0ZS5tZXNzYWdlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBjb2xvciA9IERvb3JDb2xvclt0aGlzLmRvb3JDb2xvcl0udG9Mb3dlckNhc2UoKTtcbiAgICAgIGh1ZC5zdGF0ZS5tZXNzYWdlID0ga2V5QXZhaWxhYmxlID8gYEFjdGlvbjogVXNlICR7Y29sb3J9IGtleWAgOiBgTmVlZHMgYSAke2NvbG9yfSBrZXlgO1xuICAgIH1cblxuICAgIC8vIFRlc3QgZm9yIHRoZSBhY3R1YWwgYWN0aW9uXG4gICAgY29uc3QgaW5wdXQgPSB0aGlzLmVudGl0eS5hcmVhLmdhbWUuaW5wdXQ7XG4gICAgaWYgKChpbnB1dC5pc0tleVN0YXJ0ZWQoS2V5LkUpIHx8IGlucHV0LmlzR2FtZXBhZEJ1dHRvblN0YXJ0ZWQoMCwgR2FtZXBhZEJ1dHRvbi5YU3F1YXJlKSkgJiYga2V5QXZhaWxhYmxlKSB7XG4gICAgICAvLyBVc2UgdGhlIGtleVxuICAgICAgaW52ZW50b3J5LnVzZUtleSh0aGlzLmRvb3JDb2xvcik7XG4gICAgICB0aGlzLm9wZW5Eb29yKCk7XG5cbiAgICAgIC8vIE1hcmsgdGhlIGRvb3IgYXMgb3BlbiBpbiB0aGUgc3RhdGVcbiAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5lbnRpdHkuYXJlYS5nYW1lLnJlc291cmNlcy5nZXRSZXNvdXJjZTxEb29yU3RhdGU+KCdkb29yLXN0YXRlJyk7XG4gICAgICBzdGF0ZS5zZXRDb2xvcmVkRG9vck9wZW5lZCh0aGlzLnJvdywgdGhpcy5jb2x1bW4pO1xuXG4gICAgICAvLyBQbGF5IHRoZSBzb3VuZFxuICAgICAgY29uc3QgbWFpbkFyZWEgPSB0aGlzLmVudGl0eS5hcmVhLnN0YXRlIGFzIE1haW5BcmVhO1xuICAgICAgbWFpbkFyZWEub3BlbkRvb3IucGxheSgpO1xuICAgIH1cbiAgfVxuXG4gIG9uVGltZXIoX3RpbWVySW5kZXg6IG51bWJlcik6IHZvaWQge31cblxuICBvbkRyYXcoX2cyZDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTogdm9pZCB7fVxufVxuIiwiaW1wb3J0IHsgTWFpbkFyZWEgfSBmcm9tICdhcmVhcy9NYWluQXJlYSc7XG5pbXBvcnQgeyBFbnRpdHksIEVudGl0eVN0YXRlIH0gZnJvbSAnZW5naW5lL2VudGl0eSc7XG5pbXBvcnQgeyBEb29yQ29sb3IgfSBmcm9tICdlbnRpdGllcy9Eb29yQ29sb3InO1xuaW1wb3J0IHsgU3BoZXJlQ29sbGlzaW9uTWFzayB9IGZyb20gJ2VuZ2luZS9jb2xsaXNpb24nO1xuaW1wb3J0IHsgcmFuZG9tRmxvYXQgfSBmcm9tICdlbmdpbmUvaGVscGVycyc7XG5pbXBvcnQgeyBJbnZlbnRvcnkgfSBmcm9tICdyZXNvdXJjZXMvSW52ZW50b3J5JztcbmltcG9ydCB7IE1hemVPYmplY3QgfSBmcm9tICdhcmVhcy9NYXplT2JqZWN0JztcbmltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcblxuY29uc3QgS0VZX0NPTE9SX01BVEVSSUFMUzogUmVjb3JkPERvb3JDb2xvciwgVEhSRUUuTWF0ZXJpYWw+ID0ge1xuICBbRG9vckNvbG9yLlJlZF06IG5ldyBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbCh7IGNvbG9yOiAweGZmMDAwMCwgZW1pc3NpdmU6IDB4ZmYwMDAwLCBlbWlzc2l2ZUludGVuc2l0eTogMC4yNSB9KSxcbiAgW0Rvb3JDb2xvci5ZZWxsb3ddOiBuZXcgVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWwoeyBjb2xvcjogMHhmZmZmMDAsIGVtaXNzaXZlOiAweGZmZmYwMCwgZW1pc3NpdmVJbnRlbnNpdHk6IDAuMjUgfSksXG4gIFtEb29yQ29sb3IuR3JlZW5dOiBuZXcgVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWwoeyBjb2xvcjogMHgwMGZmMDAsIGVtaXNzaXZlOiAweDAwZmYwMCwgZW1pc3NpdmVJbnRlbnNpdHk6IDAuMjUgfSksXG4gIFtEb29yQ29sb3IuQmx1ZV06IG5ldyBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbCh7IGNvbG9yOiAweDAwMDBmZiwgZW1pc3NpdmU6IDB4MDAwMGZmLCBlbWlzc2l2ZUludGVuc2l0eTogMC4yNSB9KSxcbn07XG5cbi8qKlxuICogS2V5IHRoYXQgY2FuIG9wZW4gZG9vcnNcbiAqL1xuZXhwb3J0IGNsYXNzIEtleSBpbXBsZW1lbnRzIEVudGl0eVN0YXRlIHtcbiAgcHVibGljIHJlYWRvbmx5IHRhZ3M6IHN0cmluZ1tdID0gWydrZXknXTtcblxuICBwdWJsaWMgcmVhZG9ubHkgY29sb3I6IERvb3JDb2xvcjtcblxuICBwcml2YXRlIGVudGl0eTogRW50aXR5PHRoaXM+O1xuICBwcml2YXRlIHJvdzogbnVtYmVyO1xuICBwcml2YXRlIGNvbHVtbjogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKHJvdzogbnVtYmVyLCBjb2x1bW46IG51bWJlciwgY29sb3I6IERvb3JDb2xvcikge1xuICAgIHRoaXMucm93ID0gcm93O1xuICAgIHRoaXMuY29sdW1uID0gY29sdW1uO1xuICAgIHRoaXMuY29sb3IgPSBjb2xvcjtcbiAgfVxuXG4gIG9uQ3JlYXRlKGVudGl0eTogRW50aXR5PHRoaXM+KTogdm9pZCB7XG4gICAgdGhpcy5lbnRpdHkgPSBlbnRpdHk7XG5cbiAgICAvLyBDb25maWd1cmUgdGhlIG9iamVjdFxuICAgIGNvbnN0IG9iamVjdCA9IGVudGl0eS5hcmVhLmdhbWUuYXNzZXRzLmdldE9iamVjdCgnS2V5JykuY2xvbmUoKSBhcyBUSFJFRS5NZXNoO1xuICAgIG9iamVjdC5wb3NpdGlvbi5jb3B5KChlbnRpdHkuYXJlYS5zdGF0ZSBhcyBNYWluQXJlYSkudGlsZUxvY2F0aW9uVG9Qb3NpdGlvbih0aGlzLnJvdywgdGhpcy5jb2x1bW4pKTtcbiAgICBvYmplY3QucG9zaXRpb24ueSA9IDI7XG4gICAgb2JqZWN0LnJvdGF0aW9uLnkgPSByYW5kb21GbG9hdCgwLCAyICogTWF0aC5QSSk7XG4gICAgb2JqZWN0LnNjYWxlLnNldCgwLjUsIDAuMjUsIDAuMjUpO1xuICAgIG9iamVjdC5jYXN0U2hhZG93ID0gdHJ1ZTtcbiAgICB0aGlzLmVudGl0eS5vYmplY3QgPSBvYmplY3Q7XG5cbiAgICAvLyBDb25maWd1cmUgb2JqZWN0IG1hdGVyaWFsXG4gICAgY29uc3QgbWF0ZXJpYWwgPSBLRVlfQ09MT1JfTUFURVJJQUxTW3RoaXMuY29sb3JdO1xuICAgIGlmICh0eXBlb2YgbWF0ZXJpYWwgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBvYmplY3QubWF0ZXJpYWwgPSBtYXRlcmlhbDtcbiAgICB9XG5cbiAgICAvLyBDb25maWd1cmUgb2JqZWN0IG1hc2tcbiAgICB0aGlzLmVudGl0eS5tYXNrID0gbmV3IFNwaGVyZUNvbGxpc2lvbk1hc2sodGhpcy5lbnRpdHkub2JqZWN0KTtcbiAgfVxuXG4gIG9uRGVzdHJveSgpOiB2b2lkIHtcbiAgICAvLyBSZW1vdmUgdGhlIGtleSBmcm9tIHRoZSBtYXplXG4gICAgY29uc3QgbWFpbkFyZWEgPSB0aGlzLmVudGl0eS5hcmVhLnN0YXRlIGFzIE1haW5BcmVhO1xuICAgIG1haW5BcmVhLm1hemVbdGhpcy5yb3ddW3RoaXMuY29sdW1uXSA9IE1hemVPYmplY3QuRW1wdHk7XG5cbiAgICAvLyBVcGRhdGUgdGhlIGludmVudG9yeVxuICAgIGNvbnN0IGludmVudG9yeSA9IHRoaXMuZW50aXR5LmFyZWEuZ2FtZS5yZXNvdXJjZXMuZ2V0UmVzb3VyY2U8SW52ZW50b3J5PignaW52ZW50b3J5Jyk7XG4gICAgaW52ZW50b3J5LmNvbGxlY3RLZXkodGhpcy5jb2xvcik7XG5cbiAgICAvLyBQbGF5IHRoZSBzb3VuZFxuICAgIG1haW5BcmVhLmNvbGxlY3RJdGVtLnBsYXkoKTtcbiAgfVxuXG4gIG9uU3RlcCgpOiB2b2lkIHtcbiAgICAvLyBTcGluIHRvIG1ha2UgdGhlIGtleSBtb3JlIG5vdGljYWJsZVxuICAgIHRoaXMuZW50aXR5Lm9iamVjdC5yb3RhdGVZKE1hdGguUEkgLyAyNTYpO1xuXG4gICAgLy8gVGVzdCBmb3IgcGxheWVyIGNvbGxpc2lvbiB0byBjb2xsZWN0IHRoZSBrZXlcbiAgICBjb25zdCBwbGF5ZXIgPSB0aGlzLmVudGl0eS5hcmVhLmZpbmRGaXJzdEVudGl0eSgncGxheWVyJyk7XG4gICAgaWYgKHBsYXllciAhPT0gbnVsbCAmJiB0aGlzLmVudGl0eS5pc0NvbGxpZGluZ1dpdGgocGxheWVyKSkge1xuICAgICAgdGhpcy5lbnRpdHkuZGVzdHJveSgpO1xuICAgIH1cbiAgfVxuXG4gIG9uVGltZXIoX3RpbWVySW5kZXg6IG51bWJlcik6IHZvaWQge31cblxuICBvbkRyYXcoX2cyZDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTogdm9pZCB7fVxufVxuIiwiaW1wb3J0IHsgTWFpbkFyZWEgfSBmcm9tICdhcmVhcy9NYWluQXJlYSc7XG5pbXBvcnQgeyBFbnRpdHksIEVudGl0eVN0YXRlIH0gZnJvbSAnZW5naW5lL2VudGl0eSc7XG5cbmV4cG9ydCBjbGFzcyBIaXRBbmltYXRpb24gaW1wbGVtZW50cyBFbnRpdHlTdGF0ZSB7XG4gIHB1YmxpYyByZWFkb25seSB0YWdzOiBzdHJpbmdbXSA9IFsnaGl0LWFuaW1hdGlvbiddO1xuXG4gIHByaXZhdGUgZW50aXR5OiBFbnRpdHk8dGhpcz47XG5cbiAgb25DcmVhdGUoZW50aXR5OiBFbnRpdHk8dGhpcz4pOiB2b2lkIHtcbiAgICB0aGlzLmVudGl0eSA9IGVudGl0eTtcbiAgICB0aGlzLmVudGl0eS5zZXRUaW1lcigxLCA1LCBmYWxzZSk7XG5cbiAgICAvLyBQbGF5IHRoZSBzb3VuZCBlZmZlY3RcbiAgICBjb25zdCBtYWluQXJlYSA9IHRoaXMuZW50aXR5LmFyZWEuc3RhdGUgYXMgTWFpbkFyZWE7XG4gICAgbWFpbkFyZWEub29mU291bmQudm9sdW1lID0gMC41O1xuICAgIGlmICghbWFpbkFyZWEub29mU291bmQuaXNQbGF5aW5nKSB7XG4gICAgICBtYWluQXJlYS5vb2ZTb3VuZC5wbGF5KCk7XG4gICAgfVxuICB9XG5cbiAgb25EZXN0cm95KCk6IHZvaWQge31cblxuICBvblN0ZXAoKTogdm9pZCB7fVxuXG4gIG9uVGltZXIoX3RpbWVySW5kZXg6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuZW50aXR5LmRlc3Ryb3koKTtcbiAgfVxuXG4gIG9uRHJhdyhnMmQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk6IHZvaWQge1xuICAgIC8vIERyYXcgYSByZWQgYm9yZGVyIGFyb3VuZCB0aGUgc2NyZWVuXG4gICAgZzJkLmdsb2JhbEFscGhhID0gMC41O1xuICAgIGcyZC5zdHJva2VTdHlsZSA9ICdyZWQnO1xuICAgIGcyZC5saW5lV2lkdGggPSAyMDtcblxuICAgIGcyZC5iZWdpblBhdGgoKTtcbiAgICBnMmQucmVjdCgwLCAwLCB0aGlzLmVudGl0eS5hcmVhLm92ZXJsYXlXaWR0aCwgdGhpcy5lbnRpdHkuYXJlYS5vdmVybGF5SGVpZ2h0KTtcbiAgICBnMmQuc3Ryb2tlKCk7XG4gIH1cbn1cbiIsImltcG9ydCB7IFNwaGVyZUNvbGxpc2lvbk1hc2sgfSBmcm9tICdlbmdpbmUvY29sbGlzaW9uJztcbmltcG9ydCB7IEVudGl0eSwgRW50aXR5U3RhdGUgfSBmcm9tICdlbmdpbmUvZW50aXR5JztcbmltcG9ydCB7IERyb25lIH0gZnJvbSAnLi9Ecm9uZSc7XG5pbXBvcnQgeyBIZWFsdGggfSBmcm9tICdyZXNvdXJjZXMvSGVhbHRoJztcbmltcG9ydCB7IEhpdEFuaW1hdGlvbiB9IGZyb20gJ2VudGl0aWVzL2VmZmVjdHMvSGl0QW5pbWF0aW9uJztcbmltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcblxuY29uc3QgTU9WRU1FTlRfU1BFRUQgPSAwLjU7XG5jb25zdCBERVNUUk9ZX1RJQ0tTID0gMjUwO1xuY29uc3QgREFNQUdFID0gMTtcblxuY29uc3QgQlVMTEVUX01FU0ggPSBuZXcgVEhSRUUuTWVzaChuZXcgVEhSRUUuU3BoZXJlR2VvbWV0cnkoKSwgbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHsgY29sb3I6IDB4ZmZhYTAwIH0pKTtcbkJVTExFVF9NRVNILnNjYWxlLnNldCgwLjE1LCAwLjE1LCAwLjE1KTtcblxuLyoqXG4gKiBCdWxsZXQgdGhhdCBpcyBzaG90IGZyb20gYSBkcm9uZVxuICovXG5leHBvcnQgY2xhc3MgRHJvbmVCdWxsZXQgaW1wbGVtZW50cyBFbnRpdHlTdGF0ZSB7XG4gIHB1YmxpYyByZWFkb25seSB0YWdzOiBzdHJpbmdbXSA9IFsnYnVsbGV0J107XG5cbiAgcHJpdmF0ZSBlbnRpdHk6IEVudGl0eTx0aGlzPjtcbiAgcHJpdmF0ZSBwb3NpdGlvbjogVEhSRUUuVmVjdG9yMztcbiAgcHJpdmF0ZSByb3RhdGlvbjogVEhSRUUuRXVsZXI7XG5cbiAgY29uc3RydWN0b3Ioc2hvb3RGcm9tOiBFbnRpdHk8RHJvbmU+KSB7XG4gICAgdGhpcy5wb3NpdGlvbiA9IHNob290RnJvbS5vYmplY3QucG9zaXRpb24uY2xvbmUoKTtcbiAgICB0aGlzLnJvdGF0aW9uID0gc2hvb3RGcm9tLm9iamVjdC5yb3RhdGlvbi5jbG9uZSgpO1xuICB9XG5cbiAgb25DcmVhdGUoZW50aXR5OiBFbnRpdHk8dGhpcz4pOiB2b2lkIHtcbiAgICB0aGlzLmVudGl0eSA9IGVudGl0eTtcblxuICAgIC8vIEJ1aWxkIHRoZSBvYmplY3RcbiAgICBjb25zdCBvYmplY3QgPSBCVUxMRVRfTUVTSC5jbG9uZSgpO1xuICAgIG9iamVjdC5wb3NpdGlvbi5jb3B5KHRoaXMucG9zaXRpb24pO1xuICAgIG9iamVjdC5yb3RhdGlvbi5jb3B5KHRoaXMucm90YXRpb24pO1xuICAgIG9iamVjdC51cGRhdGVNYXRyaXgoKTtcbiAgICB0aGlzLmVudGl0eS5vYmplY3QgPSBvYmplY3Q7XG5cbiAgICAvLyBCdWlsZCB0aGUgbWFza1xuICAgIHRoaXMuZW50aXR5Lm1hc2sgPSBuZXcgU3BoZXJlQ29sbGlzaW9uTWFzayh0aGlzLmVudGl0eS5vYmplY3QpO1xuXG4gICAgLy8gVGltZXIgdG8gc3BlY2lmeSB3aGVuIHRvIGRlc3Ryb3kgdGhlIGJ1bGxldFxuICAgIHRoaXMuZW50aXR5LnNldFRpbWVyKDAsIERFU1RST1lfVElDS1MpO1xuICB9XG5cbiAgb25EZXN0cm95KCk6IHZvaWQge31cblxuICBvblN0ZXAoKTogdm9pZCB7XG4gICAgdGhpcy5lbnRpdHkub2JqZWN0LnRyYW5zbGF0ZVgoTU9WRU1FTlRfU1BFRUQpO1xuXG4gICAgdGhpcy5lbnRpdHkubWFzay51cGRhdGUodGhpcy5lbnRpdHkub2JqZWN0KTtcbiAgICAodGhpcy5lbnRpdHkubWFzayBhcyBTcGhlcmVDb2xsaXNpb25NYXNrKS5zcGhlcmUucmFkaXVzIC89IDM7XG4gICAgdGhpcy50ZXN0Rm9yUGxheWVyQ29sbGlzaW9uKCk7XG4gICAgdGhpcy50ZXN0Rm9yV2FsbENvbGxpc2lvbigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBwbGF5ZXIgY29sbGlzaW9uIGZvciBoZWFsdGhcbiAgICovXG4gIHByaXZhdGUgdGVzdEZvclBsYXllckNvbGxpc2lvbigpIHtcbiAgICBjb25zdCBwbGF5ZXIgPSB0aGlzLmVudGl0eS5hcmVhLmZpbmRGaXJzdEVudGl0eSgncGxheWVyJyk7XG4gICAgaWYgKHBsYXllciA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmVudGl0eS5pc0NvbGxpZGluZ1dpdGgocGxheWVyKSkge1xuICAgICAgY29uc3QgaGVhbHRoID0gdGhpcy5lbnRpdHkuYXJlYS5nYW1lLnJlc291cmNlcy5nZXRSZXNvdXJjZTxIZWFsdGg+KCdoZWFsdGgnKTtcbiAgICAgIGhlYWx0aC5oaXQoREFNQUdFKTtcbiAgICAgIHRoaXMuZW50aXR5LmFyZWEuY3JlYXRlRW50aXR5KG5ldyBIaXRBbmltYXRpb24oKSk7XG4gICAgICB0aGlzLmVudGl0eS5kZXN0cm95KCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERlc3Ryb3kgYSBidWxsZXQgaWYgaXQgaGl0cyBhIHdhbGxcbiAgICovXG4gIHByaXZhdGUgdGVzdEZvcldhbGxDb2xsaXNpb24oKSB7XG4gICAgZm9yIChjb25zdCB3YWxsIG9mIHRoaXMuZW50aXR5LmFyZWEuZmluZEVudGl0aWVzKCd3YWxsJykpIHtcbiAgICAgIGlmICh0aGlzLmVudGl0eS5pc0NvbGxpZGluZ1dpdGgod2FsbCkpIHtcbiAgICAgICAgdGhpcy5lbnRpdHkuZGVzdHJveSgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgb25UaW1lcihfdGltZXJJbmRleDogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5lbnRpdHkuZGVzdHJveSgpO1xuICB9XG5cbiAgb25EcmF3KF9nMmQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk6IHZvaWQge31cbn1cbiIsImltcG9ydCB7IE1haW5BcmVhIH0gZnJvbSAnYXJlYXMvTWFpbkFyZWEnO1xuaW1wb3J0IHsgRW50aXR5LCBFbnRpdHlTdGF0ZSB9IGZyb20gJ2VuZ2luZS9lbnRpdHknO1xuXG4vKipcbiAqIEV4cGxvc2lvbiBFZmZlY3RcbiAqL1xuZXhwb3J0IGNsYXNzIEV4cGxvc2lvbiBpbXBsZW1lbnRzIEVudGl0eVN0YXRlIHtcbiAgcHVibGljIHJlYWRvbmx5IHRhZ3M6IHN0cmluZ1tdID0gWydleHBsb3Npb24nXTtcblxuICBwcml2YXRlIGVudGl0eTogRW50aXR5PHRoaXM+O1xuICBwcml2YXRlIHBvc2l0aW9uOiBUSFJFRS5WZWN0b3IzO1xuICBwcml2YXRlIHNjYWxlOiBudW1iZXI7XG4gIHByaXZhdGUgc2NhbGVBbmltYXRpb24gPSBNYXRoLlBJIC8gMjtcblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IGV4cGxvc2lvbiBlZmZlY3RcbiAgICpcbiAgICogQHBhcmFtIHBvc2l0aW9uIFdvcmxkIChYLFksWikgbG9jYXRpb24gb2YgdGhlIGV4cGxvc2lvblxuICAgKiBAcGFyYW0gc2NhbGUgU2l6ZSBvZiB0aGUgZXhwbG9zaW9uXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihwb3NpdGlvbjogVEhSRUUuVmVjdG9yMywgc2NhbGU6IG51bWJlcikge1xuICAgIHRoaXMucG9zaXRpb24gPSBwb3NpdGlvbjtcbiAgICB0aGlzLnNjYWxlID0gc2NhbGU7XG4gIH1cblxuICBvbkNyZWF0ZShlbnRpdHk6IEVudGl0eTx0aGlzPik6IHZvaWQge1xuICAgIHRoaXMuZW50aXR5ID0gZW50aXR5O1xuXG4gICAgY29uc3Qgb2JqZWN0ID0gdGhpcy5lbnRpdHkuYXJlYS5nYW1lLmFzc2V0cy5nZXRPYmplY3QoJ0V4cGxvc2lvbicpLmNsb25lKCk7XG4gICAgb2JqZWN0LnBvc2l0aW9uLmNvcHkodGhpcy5wb3NpdGlvbik7XG4gICAgb2JqZWN0LnNjYWxlLnNldCh0aGlzLnNjYWxlLCB0aGlzLnNjYWxlLCB0aGlzLnNjYWxlKTtcbiAgICB0aGlzLmVudGl0eS5vYmplY3QgPSBvYmplY3Q7XG5cbiAgICAvLyBQbGF5IHRoZSBzb3VuZCBlZmZlY3RcbiAgICBjb25zdCBtYWluQXJlYSA9IHRoaXMuZW50aXR5LmFyZWEuc3RhdGUgYXMgTWFpbkFyZWE7XG4gICAgbWFpbkFyZWEuZXhwbG9zaW9uLmF1ZGlvLnBsYXliYWNrUmF0ZSA9IDI7XG4gICAgbWFpbkFyZWEuZXhwbG9zaW9uLnBsYXkoKTtcbiAgfVxuXG4gIG9uRGVzdHJveSgpOiB2b2lkIHt9XG5cbiAgb25TdGVwKCk6IHZvaWQge1xuICAgIC8vIFNjYWxlIHRoZSBleHBsb3Npb24gdG8gY3JlYXRlIGEgY29vbCBhbmltYXRpb25cbiAgICBjb25zdCBuZXdTY2FsZSA9IHRoaXMuc2NhbGUgKiBNYXRoLnNpbih0aGlzLnNjYWxlQW5pbWF0aW9uKTtcbiAgICB0aGlzLmVudGl0eS5vYmplY3Quc2NhbGUuc2V0KG5ld1NjYWxlLCBuZXdTY2FsZSwgbmV3U2NhbGUpO1xuICAgIHRoaXMuc2NhbGVBbmltYXRpb24gKz0gTWF0aC5QSSAvIDI0O1xuXG4gICAgLy8gRGVzdG9yeSBhZnRlciBhIGdpdmVuIGFtb3VudCBvZiB0aW1lXG4gICAgaWYgKHRoaXMuc2NhbGVBbmltYXRpb24gPiBNYXRoLlBJKSB7XG4gICAgICB0aGlzLmVudGl0eS5kZXN0cm95KCk7XG4gICAgfVxuICB9XG5cbiAgb25UaW1lcihfdGltZXJJbmRleDogbnVtYmVyKTogdm9pZCB7fVxuXG4gIG9uRHJhdyhfZzJkOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpOiB2b2lkIHt9XG59XG4iLCJpbXBvcnQgeyBNYWluQXJlYSB9IGZyb20gJ2FyZWFzL01haW5BcmVhJztcbmltcG9ydCB7IFNDQUxFX0JBU0UgfSBmcm9tICdhcmVhcy9BYnN0cmFjdE1hemVBcmVhJztcbmltcG9ydCB7IEJveENvbGxpc2lvbk1hc2sgfSBmcm9tICdlbmdpbmUvY29sbGlzaW9uJztcbmltcG9ydCB7IEVudGl0eSwgRW50aXR5U3RhdGUgfSBmcm9tICdlbmdpbmUvZW50aXR5JztcbmltcG9ydCB7IGlzQW5nbGVCZXR3ZWVuLCBpc0Jhc2ljYWxseUludGVnZXIsIHBpY2tSYW5kb21BcnJheSB9IGZyb20gJ2VuZ2luZS9oZWxwZXJzJztcbmltcG9ydCB7IE1hemVPYmplY3QgfSBmcm9tICdhcmVhcy9NYXplT2JqZWN0JztcbmltcG9ydCB7IERyb25lQnVsbGV0IH0gZnJvbSAnLi9Ecm9uZUJ1bGxldCc7XG5pbXBvcnQgeyBFeHBsb3Npb24gfSBmcm9tICdlbnRpdGllcy9lZmZlY3RzL0V4cGxvc2lvbic7XG5pbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XG5cbmNvbnN0IEhFQUxUSCA9IDMwO1xuY29uc3QgTUFYX1JBTkdFID0gNDA7XG5jb25zdCBNT1ZFTUVOVF9TUEVFRCA9IDAuMTtcbmNvbnN0IFJPVEFUSU9OX1NQRUVEID0gTWF0aC5QSSAvIDY0O1xuXG5jb25zdCBDTEFNUF9USFJFU0hIT0xEID0gMC4wMDAxO1xuY29uc3QgUk9UQVRJT05fVEhSRVNISE9MRCA9IDAuMDAwMTtcblxuLy8gU2V0IG9mIG9iamVjdCB0aGF0IGJsb2NrIHRoZSBkcm9uZVxuY29uc3QgQ0FOTk9UX01PVkVfVEhST1VHSCA9IG5ldyBTZXQoW01hemVPYmplY3QuV2FsbCwgTWF6ZU9iamVjdC5CaWdEb29yXSk7XG5cbi8vIERyb25lIFN0YXRlOlxuLy9cbi8vIFtNb3ZpbmddIC0+IFtUdXJuaW5nXVxuLy8gICAgXFwtLS0tLS08LS0tLS0vXG5lbnVtIE1vdmVtZW50U3RhdGUge1xuICBNb3ZpbmcsXG4gIFR1cm5pbmcsXG59XG5cbi8vIERpcmVjdGlvbiBjdXJyZW50bHkgbW92aW5nXG5lbnVtIERpcmVjdGlvbiB7XG4gIFVwLFxuICBEb3duLFxuICBMZWZ0LFxuICBSaWdodCxcbn1cblxuLy8gRGF0YSB0byBtYWtlIHNvbWUgb2YgdGhlIHJvdGF0aW9uIGFsZ29yaXRobXMgZWFzaWVyXG5pbnRlcmZhY2UgRGlyZWN0aW9uRGF0YSB7XG4gIG9wcG9zaXRlOiBEaXJlY3Rpb247IC8vIE9wcG9zaXRlIGFuZ2xlIHRvIHRoaXMgZGlyZWN0aW9uXG4gIGFuZ2xlOiBudW1iZXI7IC8vIEFuZ2xlIGZvciB0aGlzIGRpcmVjdGlvblxuICByZXZlcnNlOiBEaXJlY3Rpb247IC8vIFdoaWNoIG5ldyBkaXJlY3Rpb24gc2hvdWxkIHNwaW4gY2xvY2t3aXNlP1xufVxuXG5jb25zdCBESVJFQ1RJT05fREFUQTogUmVjb3JkPERpcmVjdGlvbiwgRGlyZWN0aW9uRGF0YT4gPSB7XG4gIFtEaXJlY3Rpb24uVXBdOiB7IG9wcG9zaXRlOiBEaXJlY3Rpb24uRG93biwgYW5nbGU6IE1hdGguUEksIHJldmVyc2U6IERpcmVjdGlvbi5SaWdodCB9LFxuICBbRGlyZWN0aW9uLkRvd25dOiB7IG9wcG9zaXRlOiBEaXJlY3Rpb24uVXAsIGFuZ2xlOiAwLCByZXZlcnNlOiBEaXJlY3Rpb24uTGVmdCB9LFxuICBbRGlyZWN0aW9uLkxlZnRdOiB7IG9wcG9zaXRlOiBEaXJlY3Rpb24uUmlnaHQsIGFuZ2xlOiAoMyAqIE1hdGguUEkpIC8gMiwgcmV2ZXJzZTogRGlyZWN0aW9uLlVwIH0sXG4gIFtEaXJlY3Rpb24uUmlnaHRdOiB7IG9wcG9zaXRlOiBEaXJlY3Rpb24uTGVmdCwgYW5nbGU6IE1hdGguUEkgLyAyLCByZXZlcnNlOiBEaXJlY3Rpb24uRG93biB9LFxufTtcblxuLyoqXG4gKiBEcm9uZSBlbmVteSB0aGF0IGZsaWVzIGFyb3VuZCB0aGUgbWF6ZVxuICovXG5leHBvcnQgY2xhc3MgRHJvbmUgaW1wbGVtZW50cyBFbnRpdHlTdGF0ZSB7XG4gIHB1YmxpYyByZWFkb25seSB0YWdzOiBzdHJpbmdbXSA9IFsnZHJvbmUnXTtcblxuICBwcml2YXRlIGVudGl0eTogRW50aXR5PHRoaXM+O1xuXG4gIC8vIFBvc2l0aW9uIGluIHRoZSBtYXplXG4gIHByaXZhdGUgcm93OiBudW1iZXI7XG4gIHByaXZhdGUgY29sdW1uOiBudW1iZXI7XG5cbiAgLy8gSGFuZGxlIHRoZSBtb3ZlbWVudCBsb2dpY1xuICBwcml2YXRlIHN0YXRlOiBNb3ZlbWVudFN0YXRlID0gTW92ZW1lbnRTdGF0ZS5UdXJuaW5nO1xuICBwcml2YXRlIGRpcjogRGlyZWN0aW9uID0gRGlyZWN0aW9uLkRvd247XG4gIHByaXZhdGUgcm90RGlyID0gUk9UQVRJT05fU1BFRUQ7IC8vIERpcmVjdGlvbiBvZiByb3RhdGlvblxuICBwcml2YXRlIGFuZ2xlID0gMDtcblxuICBwcml2YXRlIGhlYWx0aCA9IEhFQUxUSDtcblxuICAvKipcbiAgICogQ3JlYXRlIGEgZHJvbmUgYXQgYSBnaXZlbiBwb3NpdGlvbiBpbnNpZGUgdGhlIG1hemVcbiAgICovXG4gIGNvbnN0cnVjdG9yKHJvdzogbnVtYmVyLCBjb2x1bW46IG51bWJlcikge1xuICAgIHRoaXMucm93ID0gcm93O1xuICAgIHRoaXMuY29sdW1uID0gY29sdW1uO1xuICB9XG5cbiAgb25DcmVhdGUoZW50aXR5OiBFbnRpdHk8dGhpcz4pOiB2b2lkIHtcbiAgICB0aGlzLmVudGl0eSA9IGVudGl0eTtcblxuICAgIC8vIERyb25lIG9iamVjdFxuICAgIGNvbnN0IG9iamVjdCA9IGVudGl0eS5hcmVhLmdhbWUuYXNzZXRzLmdldE9iamVjdCgnRHJvbmUnKS5jbG9uZSgpO1xuICAgIG9iamVjdC5wb3NpdGlvbi5jb3B5KChlbnRpdHkuYXJlYS5zdGF0ZSBhcyBNYWluQXJlYSkudGlsZUxvY2F0aW9uVG9Qb3NpdGlvbih0aGlzLnJvdywgdGhpcy5jb2x1bW4pKTtcbiAgICBvYmplY3QucG9zaXRpb24ueSA9IDEwO1xuICAgIG9iamVjdC5jaGlsZHJlblswXS5jYXN0U2hhZG93ID0gdHJ1ZTtcbiAgICB0aGlzLmVudGl0eS5vYmplY3QgPSBvYmplY3Q7XG5cbiAgICAvLyBDb2xsaXNpb24gTWFza1xuICAgIHRoaXMuZW50aXR5Lm1hc2sgPSBuZXcgQm94Q29sbGlzaW9uTWFzayhvYmplY3QuY2hpbGRyZW5bNF0pO1xuXG4gICAgLy8gVGltZXIgdG8gc2hvb3QgbWFza1xuICAgIHRoaXMuZW50aXR5LnNldFRpbWVyKDAsIDEwLCB0cnVlKTtcblxuICAgIC8vIFN0YXJ0IHRoZSBtYXplIG1vdmVtZW50XG4gICAgdGhpcy5waWNrTmV3RGlyZWN0aW9uKCk7XG4gIH1cblxuICBvbkRlc3Ryb3koKTogdm9pZCB7fVxuXG4gIG9uU3RlcCgpOiB2b2lkIHtcbiAgICB0aGlzLmVudGl0eS5tYXNrLnVwZGF0ZSh0aGlzLmVudGl0eS5vYmplY3QuY2hpbGRyZW5bNF0pO1xuICAgIHRoaXMudXBkYXRlTWF6ZVBvc2l0aW9uKCk7XG5cbiAgICBpZiAodGhpcy5jYW5TZWVQbGF5ZXIoKSAmJiB0aGlzLmluQ2VudGVyT2ZUaWxlKCkpIHtcbiAgICAgIHRoaXMucG9pbnRUb3dhcmRzUGxheWVyKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubW92ZURyb25lKCk7XG4gICAgfVxuXG4gICAgdGhpcy5jaGVja0ZvckJ1bGxldENvbGxpc2lvbigpO1xuICAgIHRoaXMuY2hlY2tIZWFsdGgoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb21wdXRlIHRoZSB0aWxlIHBvc2l0aW9uIG9mIHRoZSBlbnRpdHkgaW4gdGhlIG1hemVcbiAgICovXG4gIHByaXZhdGUgdXBkYXRlTWF6ZVBvc2l0aW9uKCk6IHZvaWQge1xuICAgIGNvbnN0IG1haW5BcmVhID0gdGhpcy5lbnRpdHkuYXJlYS5zdGF0ZSBhcyBNYWluQXJlYTtcbiAgICBbdGhpcy5yb3csIHRoaXMuY29sdW1uXSA9IG1haW5BcmVhLnBvc2l0aW9uVG9UaWxlTG9jYXRpb24odGhpcy5lbnRpdHkub2JqZWN0LnBvc2l0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUZXN0IGlmIHRoZSBvYmplY3QgY2FuIHNlZSB0aGUgcGxheWVyXG4gICAqL1xuICBwcml2YXRlIGNhblNlZVBsYXllcigpOiBib29sZWFuIHtcbiAgICBjb25zdCBwbGF5ZXIgPSB0aGlzLmVudGl0eS5hcmVhLmZpbmRGaXJzdEVudGl0eSgncGxheWVyJyk7XG4gICAgaWYgKHBsYXllciA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIENvbXB1dGUgYSB2ZWN0b3IgZnJvbSB0aGUgZHJvbmUgdG8gdGhlIHBsYXllclxuICAgIGNvbnN0IHZlY3RvciA9IHBsYXllci5vYmplY3QucG9zaXRpb24uY2xvbmUoKTtcbiAgICB2ZWN0b3Iuc3ViKHRoaXMuZW50aXR5Lm9iamVjdC5wb3NpdGlvbik7XG5cbiAgICAvLyBDYW4gb25seSBzZWUgcGxheWVyIHdpdGhpbiBhIGRpc3RhbmNlXG4gICAgY29uc3QgZGlzdGFuY2UgPSB2ZWN0b3IubGVuZ3RoKCk7XG4gICAgaWYgKGRpc3RhbmNlID49IE1BWF9SQU5HRSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIE1ha2Ugc3VyZSB0aGUgcmF5IGRvZXNuJ3QgY29sbGlkZSB3aXRoIGFueSB3YWxscyBiZWZvcmUgdGhlIHBsYXllclxuICAgIGNvbnN0IHJheWNhc3RlciA9IG5ldyBUSFJFRS5SYXljYXN0ZXIodGhpcy5lbnRpdHkub2JqZWN0LnBvc2l0aW9uLCB2ZWN0b3Iubm9ybWFsaXplKCksIDAsIGRpc3RhbmNlKTtcbiAgICByZXR1cm4gdGhpcy5lbnRpdHkuYXJlYS5maW5kRW50aXRpZXMoJ3dhbGwnKS5ldmVyeSgod2FsbCkgPT4ge1xuICAgICAgY29uc3QgaW50ZXJzZWN0aW9uID0gd2FsbC5tYXNrLmludGVyc2VjdFJheShyYXljYXN0ZXIucmF5KTtcbiAgICAgIGlmIChpbnRlcnNlY3Rpb24gPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJheURpc3RhbmNlID0gaW50ZXJzZWN0aW9uLmRpc3RhbmNlVG8odGhpcy5lbnRpdHkub2JqZWN0LnBvc2l0aW9uKTtcbiAgICAgIHJldHVybiByYXlEaXN0YW5jZSA+PSBkaXN0YW5jZTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUZXN0IGlmIHRoZSBkcm9uZSBpcyBpbiB0aGUgY2VudGVyIG9mIGEgdGlsZVxuICAgKi9cbiAgcHJpdmF0ZSBpbkNlbnRlck9mVGlsZSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gKFxuICAgICAgaXNCYXNpY2FsbHlJbnRlZ2VyKHRoaXMuZW50aXR5Lm9iamVjdC5wb3NpdGlvbi54IC8gU0NBTEVfQkFTRSwgQ0xBTVBfVEhSRVNISE9MRCkgJiZcbiAgICAgIGlzQmFzaWNhbGx5SW50ZWdlcih0aGlzLmVudGl0eS5vYmplY3QucG9zaXRpb24ueiAvIFNDQUxFX0JBU0UsIENMQU1QX1RIUkVTSEhPTEQpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQb2ludCB0b3dhcmRzIHRoZSBwbGF5ZXJcbiAgICovXG4gIHByaXZhdGUgcG9pbnRUb3dhcmRzUGxheWVyKCk6IHZvaWQge1xuICAgIGNvbnN0IHBsYXllciA9IHRoaXMuZW50aXR5LmFyZWEuZmluZEZpcnN0RW50aXR5KCdwbGF5ZXInKTtcbiAgICBpZiAocGxheWVyID09PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgdmVjdG9yID0gdGhpcy5lbnRpdHkub2JqZWN0LnBvc2l0aW9uLmNsb25lKCk7XG4gICAgdmVjdG9yLnN1YihwbGF5ZXIub2JqZWN0LnBvc2l0aW9uKTtcblxuICAgIGNvbnN0IGhvckFuZ2xlID0gTWF0aC5hdGFuMigtdmVjdG9yLnosIHZlY3Rvci54KSArIE1hdGguUEk7XG4gICAgY29uc3QgaG9yRGlzdCA9IE1hdGguc3FydCh2ZWN0b3IueiAqIHZlY3Rvci56ICsgdmVjdG9yLnggKiB2ZWN0b3IueCk7XG4gICAgY29uc3QgdmVyQW5nbGUgPSAtTWF0aC5hdGFuMih2ZWN0b3IueSwgaG9yRGlzdCk7XG5cbiAgICBjb25zdCBldWxlciA9IG5ldyBUSFJFRS5FdWxlcigwLCBob3JBbmdsZSwgdmVyQW5nbGUsICdZWFonKTtcbiAgICB0aGlzLmVudGl0eS5vYmplY3QucXVhdGVybmlvbi5zZXRGcm9tRXVsZXIoZXVsZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBkcm9uZSBtb3ZlbWVudFxuICAgKi9cbiAgcHJpdmF0ZSBtb3ZlRHJvbmUoKSB7XG4gICAgLy8gR28gYmFjayB0byB0aGUgZGVmYXVsdCByb3RhdGlvblxuICAgIHRoaXMuZW50aXR5Lm9iamVjdC5yb3RhdGlvbi5zZXQoMCwgdGhpcy5hbmdsZSwgMCk7XG5cbiAgICBzd2l0Y2ggKHRoaXMuc3RhdGUpIHtcbiAgICAgIC8vIE1vdmUgdGhlIGVudGl0eSBmb3J3YXJkXG4gICAgICBjYXNlIE1vdmVtZW50U3RhdGUuTW92aW5nOiB7XG4gICAgICAgIHRoaXMuZW50aXR5Lm9iamVjdC50cmFuc2xhdGVYKE1PVkVNRU5UX1NQRUVEKTtcblxuICAgICAgICAvLyBQaWNrIGEgbmV3IGRpcmVjdGlvbiBhdCBldmVyeSB0aWxlXG4gICAgICAgIGlmICh0aGlzLmluQ2VudGVyT2ZUaWxlKCkpIHtcbiAgICAgICAgICBjb25zdCBtYWluQXJlYSA9IHRoaXMuZW50aXR5LmFyZWEuc3RhdGUgYXMgTWFpbkFyZWE7XG4gICAgICAgICAgY29uc3QgcG9zaXRpb24gPSBtYWluQXJlYS50aWxlTG9jYXRpb25Ub1Bvc2l0aW9uKHRoaXMucm93LCB0aGlzLmNvbHVtbik7XG4gICAgICAgICAgdGhpcy5lbnRpdHkub2JqZWN0LnBvc2l0aW9uLnggPSBwb3NpdGlvbi54O1xuICAgICAgICAgIHRoaXMuZW50aXR5Lm9iamVjdC5wb3NpdGlvbi56ID0gcG9zaXRpb24uejtcblxuICAgICAgICAgIHRoaXMucGlja05ld0RpcmVjdGlvbigpO1xuICAgICAgICAgIHRoaXMuc3RhdGUgPSBNb3ZlbWVudFN0YXRlLlR1cm5pbmc7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIC8vIFR1cm4gdGhlIGVudGl0eVxuICAgICAgY2FzZSBNb3ZlbWVudFN0YXRlLlR1cm5pbmc6IHtcbiAgICAgICAgY29uc3QgZGlyQW5nbGUgPSBESVJFQ1RJT05fREFUQVt0aGlzLmRpcl0uYW5nbGU7XG4gICAgICAgIGlmIChpc0FuZ2xlQmV0d2Vlbih0aGlzLmFuZ2xlLCBkaXJBbmdsZSAtIFJPVEFUSU9OX1RIUkVTSEhPTEQsIGRpckFuZ2xlICsgUk9UQVRJT05fVEhSRVNISE9MRCkpIHtcbiAgICAgICAgICAvLyBDbGFtcCB0byB0aGUgY29ycmVjdCBhbmdsZVxuICAgICAgICAgIHRoaXMuYW5nbGUgPSBkaXJBbmdsZTtcblxuICAgICAgICAgIC8vIE5vdyBtb3ZlIGluIHRoYXQgZGlyZWN0aW9uXG4gICAgICAgICAgdGhpcy5zdGF0ZSA9IE1vdmVtZW50U3RhdGUuTW92aW5nO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIEtlZXAgc3Bpbm5pbmdcbiAgICAgICAgICB0aGlzLmFuZ2xlICs9IHRoaXMucm90RGlyO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBQaWNrIGEgbmV3IHJhbmRvbSBkaXJlY3Rpb24gZm9yIHRoZSBlbnRpdHlcbiAgICovXG4gIHByaXZhdGUgcGlja05ld0RpcmVjdGlvbigpIHtcbiAgICAvLyBGaWd1cmUgb3V0IGRpcmVjdGlvbnMgYXZhaWxhYmxlXG4gICAgY29uc3QgbWFpbkFyZWEgPSB0aGlzLmVudGl0eS5hcmVhLnN0YXRlIGFzIE1haW5BcmVhO1xuICAgIGNvbnN0IGF2YWlsYWJsZSA9IFtdO1xuICAgIGlmICghQ0FOTk9UX01PVkVfVEhST1VHSC5oYXMobWFpbkFyZWEubWF6ZVt0aGlzLnJvdyAtIDFdW3RoaXMuY29sdW1uXSkpIHtcbiAgICAgIGF2YWlsYWJsZS5wdXNoKERpcmVjdGlvbi5VcCk7XG4gICAgfVxuICAgIGlmICghQ0FOTk9UX01PVkVfVEhST1VHSC5oYXMobWFpbkFyZWEubWF6ZVt0aGlzLnJvdyArIDFdW3RoaXMuY29sdW1uXSkpIHtcbiAgICAgIGF2YWlsYWJsZS5wdXNoKERpcmVjdGlvbi5Eb3duKTtcbiAgICB9XG4gICAgaWYgKCFDQU5OT1RfTU9WRV9USFJPVUdILmhhcyhtYWluQXJlYS5tYXplW3RoaXMucm93XVt0aGlzLmNvbHVtbiAtIDFdKSkge1xuICAgICAgYXZhaWxhYmxlLnB1c2goRGlyZWN0aW9uLkxlZnQpO1xuICAgIH1cbiAgICBpZiAoIUNBTk5PVF9NT1ZFX1RIUk9VR0guaGFzKG1haW5BcmVhLm1hemVbdGhpcy5yb3ddW3RoaXMuY29sdW1uICsgMV0pKSB7XG4gICAgICBhdmFpbGFibGUucHVzaChEaXJlY3Rpb24uUmlnaHQpO1xuICAgIH1cblxuICAgIC8vIE9ubHkgb3B0aW9uIGF2YWlsYWJsZSwgc28gcGljayBpdFxuICAgIC8vICBTcGVjaWFsIGNhc2UgaWYgdGhlcmUgYXJlIE5PIGRpcmVjdGlvbnMsIHJvdGF0ZSBmb3JldmVyXG4gICAgaWYgKGF2YWlsYWJsZS5sZW5ndGggPD0gMSkge1xuICAgICAgdGhpcy5kaXIgPSBhdmFpbGFibGVbMF0gfHwgRElSRUNUSU9OX0RBVEFbdGhpcy5kaXJdLm9wcG9zaXRlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFBpY2sgYSByYW5kb20gbmV3IGRpcmVjdGlvblxuICAgIC8vIE5vdCBhbGxvd2VkIHRvIG1ha2UgMTgwIGRlZ3JlZSB0dXJuIGluIGEgaGFsbHdheVxuICAgIGNvbnN0IGN1cnJlbnREaXIgPSB0aGlzLmRpcjtcbiAgICBjb25zdCBvcHBvc2l0ZURpciA9IERJUkVDVElPTl9EQVRBW3RoaXMuZGlyXS5vcHBvc2l0ZTtcbiAgICBjb25zdCBuZXdEaXIgPSBwaWNrUmFuZG9tQXJyYXkoYXZhaWxhYmxlLmZpbHRlcigoZGlyKSA9PiBkaXIgIT09IG9wcG9zaXRlRGlyKSk7XG5cbiAgICAvLyBXaGVuIHRvIHJvdGF0ZSBjbG9ja3dpc2UgdmVyc3VzIGNvdW50ZXItY2xvY2t3aXNlXG4gICAgdGhpcy5yb3REaXIgPSBESVJFQ1RJT05fREFUQVtjdXJyZW50RGlyXS5yZXZlcnNlID09PSBuZXdEaXIgPyAtUk9UQVRJT05fU1BFRUQgOiBST1RBVElPTl9TUEVFRDtcbiAgICB0aGlzLmRpciA9IG5ld0RpcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBmb3IgY29sbGlzaW9ucyB3aXRoIGFueSBvZiB0aGUgcGxheWVyIGJ1bGxldHNcbiAgICovXG4gIHByaXZhdGUgY2hlY2tGb3JCdWxsZXRDb2xsaXNpb24oKTogdm9pZCB7XG4gICAgZm9yIChjb25zdCBidWxsZXQgb2YgdGhpcy5lbnRpdHkuYXJlYS5maW5kRW50aXRpZXMoJ3BsYXllci1idWxsZXQnKSkge1xuICAgICAgaWYgKHRoaXMuZW50aXR5LmlzQ29sbGlkaW5nV2l0aChidWxsZXQpKSB7XG4gICAgICAgIGJ1bGxldC5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuaGVhbHRoIC09IDE7XG5cbiAgICAgICAgLy8gUGxheSB0aGUgc291bmRcbiAgICAgICAgY29uc3QgbWFpbkFyZWEgPSB0aGlzLmVudGl0eS5hcmVhLnN0YXRlIGFzIE1haW5BcmVhO1xuICAgICAgICBtYWluQXJlYS5oaXRPYmplY3Qudm9sdW1lID0gMC4xMjU7XG4gICAgICAgIG1haW5BcmVhLmhpdE9iamVjdC5wbGF5KCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIHRoZSBoZWFsdGggaGFzIGRlc3Ryb3llZCB0aGUgcm9ja1xuICAgKi9cbiAgcHJpdmF0ZSBjaGVja0hlYWx0aCgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5oZWFsdGggPD0gMCkge1xuICAgICAgdGhpcy5lbnRpdHkuZGVzdHJveSgpO1xuXG4gICAgICAvLyBTcGF3biB0aGUgZXhwbG9zaW9uXG4gICAgICB0aGlzLmVudGl0eS5hcmVhLmNyZWF0ZUVudGl0eShuZXcgRXhwbG9zaW9uKHRoaXMuZW50aXR5Lm9iamVjdC5wb3NpdGlvbiwgMikpO1xuICAgIH1cbiAgfVxuXG4gIG9uVGltZXIodGltZXJJbmRleDogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKHRpbWVySW5kZXggPT09IDAgJiYgdGhpcy5jYW5TZWVQbGF5ZXIoKSAmJiB0aGlzLmluQ2VudGVyT2ZUaWxlKCkpIHtcbiAgICAgIC8vIFNob290IGF0IHRoZSBwbGF5ZXJcbiAgICAgIHRoaXMuZW50aXR5LmFyZWEuY3JlYXRlRW50aXR5KG5ldyBEcm9uZUJ1bGxldCh0aGlzLmVudGl0eSkpO1xuXG4gICAgICAvLyBQbGF5IHRoZSBzb3VuZFxuICAgICAgY29uc3QgbWFpbkFyZWEgPSB0aGlzLmVudGl0eS5hcmVhLnN0YXRlIGFzIE1haW5BcmVhO1xuICAgICAgbWFpbkFyZWEuZHJvbmVTaG9vdC52b2x1bWUgPSAwLjEyNTtcbiAgICAgIG1haW5BcmVhLmRyb25lU2hvb3QucGxheSgpO1xuICAgIH1cbiAgfVxuXG4gIG9uRHJhdyhfZzJkOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpOiB2b2lkIHt9XG59XG4iLCJleHBvcnQgZW51bSBFbGVjdHJpY0JveFR5cGUge1xuICBBLFxuICBCLFxuICBDLFxufVxuIiwiaW1wb3J0IHsgTWFpbkFyZWEgfSBmcm9tICdhcmVhcy9NYWluQXJlYSc7XG5pbXBvcnQgeyBNYXplT2JqZWN0IH0gZnJvbSAnYXJlYXMvTWF6ZU9iamVjdCc7XG5pbXBvcnQgeyBFbnRpdHksIEVudGl0eVN0YXRlIH0gZnJvbSAnZW5naW5lL2VudGl0eSc7XG5pbXBvcnQgeyBjbGFtcCB9IGZyb20gJ2VuZ2luZS9oZWxwZXJzJztcbmltcG9ydCB7IEdhbWVwYWRCdXR0b24sIEtleSB9IGZyb20gJ2VuZ2luZS9pbnB1dCc7XG5pbXBvcnQgeyBIZWFsdGggfSBmcm9tICdyZXNvdXJjZXMvSGVhbHRoJztcbmltcG9ydCB7IEludmVudG9yeSB9IGZyb20gJ3Jlc291cmNlcy9JbnZlbnRvcnknO1xuaW1wb3J0IHsgRG9vckNvbG9yIH0gZnJvbSAnLi9Eb29yQ29sb3InO1xuaW1wb3J0IHsgRG9vclN0YXRlIH0gZnJvbSAncmVzb3VyY2VzL0Rvb3JTdGF0ZSc7XG5pbXBvcnQgeyBFbGVjdHJpY0JveFR5cGUgfSBmcm9tICcuL0VsZWN0cmljQm94VHlwZSc7XG5pbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XG5cbi8vIE1hcCBkcmF3aW5nIGZsYWdzXG5jb25zdCBUSUxFX1NJWkVfUFggPSAxNjtcbmNvbnN0IE1BUkdJTl9QWCA9IDQ7XG5jb25zdCBNQVBfVElMRVNfVklTSUJMRSA9IDk7IC8qIDl4OSBTcXVhcmUgVGlsZXMgKi9cbmNvbnN0IE1BUF9USUxFU19WSVNJVCA9IDM7IC8qIFBsYXllciB1bmNvdmVycyBueG4gdGlsZXMgKi9cblxuLy8gQW5jaG9ycyBmb3IgdGhlIGRpc3BsYXlcbmNvbnN0IEhVRF9MRUZUID0gMTA7XG5jb25zdCBIVURfVE9QID0gMTA7XG5jb25zdCBIVURfUklHSFQgPSAxMDtcbmNvbnN0IEhVRF9CT1RUT00gPSAyMDtcbmNvbnN0IE1BUF9NQVJHSU4gPSAxNTtcblxuLy8gQ29sb3JzXG5jb25zdCBHUkFTU19DT0xPUiA9ICcjYTBkOTE0JztcbmNvbnN0IE9VVFNJREVfQ09MT1IgPSAnI2EwYTkxNCc7XG5jb25zdCBXQUxMX0NPTE9SID0gJyM2YjY3NjQnO1xuY29uc3QgVU5WSVNJVEVEX0NPTE9SID0gJyMzYjNiM2InO1xuY29uc3QgRFJPTkVfQ09MT1IgPSAnbGlnaHRncmV5JztcblxuLy8gTG9va3VwIHRhYmxlIGZvciBtYXAgb2JqZWN0c1xudHlwZSBEcmF3RnVuY3Rpb24gPSAoXG4gIGcyZDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELFxuICB4OiBudW1iZXIsXG4gIHk6IG51bWJlcixcbiAgcm93OiBudW1iZXIsXG4gIGNvbDogbnVtYmVyLFxuICBlbnRpdHk6IEVudGl0eTxIVUQ+LFxuKSA9PiB2b2lkO1xuXG5jb25zdCBNQVBfRFJBV19GVU5DVElPTlM6IHsgW0sgaW4gTWF6ZU9iamVjdF0/OiBEcmF3RnVuY3Rpb24gfSA9IHtcbiAgW01hemVPYmplY3QuV2FsbF06IG1hcERyYXdXYWxsLFxuICBbTWF6ZU9iamVjdC5FbmVyZ3ldOiBtYXBEcmF3SWNvbignRW5lcmd5JyksXG4gIFtNYXplT2JqZWN0LlJlZERvb3JdOiBtYXBEcmF3RG9vcigncmVkJywgY2hlY2tDb2xvcmVkRG9vciksXG4gIFtNYXplT2JqZWN0LlllbGxvd0Rvb3JdOiBtYXBEcmF3RG9vcigneWVsbG93JywgY2hlY2tDb2xvcmVkRG9vciksXG4gIFtNYXplT2JqZWN0LkdyZWVuRG9vcl06IG1hcERyYXdEb29yKCdncmVlbicsIGNoZWNrQ29sb3JlZERvb3IpLFxuICBbTWF6ZU9iamVjdC5CbHVlRG9vcl06IG1hcERyYXdEb29yKCdibHVlJywgY2hlY2tDb2xvcmVkRG9vciksXG4gIFtNYXplT2JqZWN0LlJlZEtleV06IG1hcERyYXdJY29uKCdSZWRLZXknKSxcbiAgW01hemVPYmplY3QuWWVsbG93S2V5XTogbWFwRHJhd0ljb24oJ1llbGxvd0tleScpLFxuICBbTWF6ZU9iamVjdC5HcmVlbktleV06IG1hcERyYXdJY29uKCdHcmVlbktleScpLFxuICBbTWF6ZU9iamVjdC5CbHVlS2V5XTogbWFwRHJhd0ljb24oJ0JsdWVLZXknKSxcbiAgW01hemVPYmplY3QuQmF0dGVyeV06IG1hcERyYXdJY29uKCdCYXR0ZXJ5JyksXG4gIFtNYXplT2JqZWN0LkxldmVyXTogbWFwRHJhd0xldmVySWNvbigpLFxuICBbTWF6ZU9iamVjdC5Ub2dnbGVEb29yXTogbWFwRHJhd0Rvb3IoJ29yYW5nZScsIGNoZWNrVG9nZ2xlRG9vcigpKSxcbiAgW01hemVPYmplY3QuSW52ZXJzZVRvZ2dsZURvb3JdOiBtYXBEcmF3RG9vcignb3JhbmdlJywgY2hlY2tUb2dnbGVEb29yKHRydWUpKSxcbiAgW01hemVPYmplY3QuQURvb3JdOiBtYXBEcmF3RG9vcignZ3JleScsIGNoZWNrRWxlY3RyaWNEb29yKEVsZWN0cmljQm94VHlwZS5BKSksXG4gIFtNYXplT2JqZWN0LkJEb29yXTogbWFwRHJhd0Rvb3IoJ2dyZXknLCBjaGVja0VsZWN0cmljRG9vcihFbGVjdHJpY0JveFR5cGUuQikpLFxuICBbTWF6ZU9iamVjdC5DRG9vcl06IG1hcERyYXdEb29yKCdncmV5JywgY2hlY2tFbGVjdHJpY0Rvb3IoRWxlY3RyaWNCb3hUeXBlLkMpKSxcbiAgW01hemVPYmplY3QuQUJveF06IG1hcERyYXdJY29uKCdFbGVjdHJpY0JveCcpLFxuICBbTWF6ZU9iamVjdC5CQm94XTogbWFwRHJhd0ljb24oJ0VsZWN0cmljQm94JyksXG4gIFtNYXplT2JqZWN0LkNCb3hdOiBtYXBEcmF3SWNvbignRWxlY3RyaWNCb3gnKSxcbiAgW01hemVPYmplY3QuQmlnRG9vcl06IG1hcERyYXdEb29yKCcjNjU0MzIxJywgY2hlY2tCaWdEb29yKSxcbiAgW01hemVPYmplY3QuUG9ydGFsXTogbWFwRHJhd1BvcnRhbCgpLFxuICBbTWF6ZU9iamVjdC5HdW5dOiBtYXBEcmF3SWNvbignR3VuJyksXG4gIFtNYXplT2JqZWN0Lk1hcF06IG1hcERyYXdJY29uKCdNYXAnKSxcbn07XG5cbmNvbnN0IEtFWV9DT0xPUl9JQ09OOiBSZWNvcmQ8RG9vckNvbG9yLCBzdHJpbmc+ID0ge1xuICBbRG9vckNvbG9yLlJlZF06ICdSZWRLZXknLFxuICBbRG9vckNvbG9yLlllbGxvd106ICdZZWxsb3dLZXknLFxuICBbRG9vckNvbG9yLkdyZWVuXTogJ0dyZWVuS2V5JyxcbiAgW0Rvb3JDb2xvci5CbHVlXTogJ0JsdWVLZXknLFxufTtcblxuLyoqXG4gKiBEcmF3IHRoZSBoZWFkcy11cCBkaXNwbGF5XG4gKi9cbmV4cG9ydCBjbGFzcyBIVUQgaW1wbGVtZW50cyBFbnRpdHlTdGF0ZSB7XG4gIHB1YmxpYyByZWFkb25seSB0YWdzOiBzdHJpbmdbXSA9IFsnaHVkJ107XG5cbiAgcHJpdmF0ZSBlbnRpdHk6IEVudGl0eTx0aGlzPjtcblxuICAvLy8gQ2FudmFzIGZvciB0aGUgbWFwXG4gIHByaXZhdGUgbWFwQ2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudDtcbiAgcHJpdmF0ZSBtYXBWaXNpdGVkOiBib29sZWFuW11bXTtcbiAgcHJpdmF0ZSBzaG91bGREcmF3TWFwID0gZmFsc2U7XG5cbiAgLy8gTWVzc2FnZSB0byBzaG93IGR1cmluZyBhIGZyYW1lXG4gIHB1YmxpYyBtZXNzYWdlID0gJyc7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5tYXBDYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgfVxuXG4gIG9uQ3JlYXRlKGVudGl0eTogRW50aXR5PHRoaXM+KTogdm9pZCB7XG4gICAgdGhpcy5lbnRpdHkgPSBlbnRpdHk7XG5cbiAgICBjb25zdCBtYWluQXJlYSA9IGVudGl0eS5hcmVhLnN0YXRlIGFzIE1haW5BcmVhO1xuICAgIHRoaXMubWFwVmlzaXRlZCA9IEFycmF5KG1haW5BcmVhLm1hemVIZWlnaHQpXG4gICAgICAuZmlsbChudWxsKVxuICAgICAgLm1hcCgoKSA9PlxuICAgICAgICBBcnJheShtYWluQXJlYS5tYXplV2lkdGgpXG4gICAgICAgICAgLmZpbGwobnVsbClcbiAgICAgICAgICAubWFwKCgpID0+IGZhbHNlKSxcbiAgICAgICk7XG5cbiAgICAvLyBPbmx5IGRyYXcgbWFwIGV2ZXJ5IGZldyBmcmFtZXMsIGFzIHRoaXMgaXMgYW4gZXhwZW5zaXZlIG9wZXJhdGlvblxuICAgIHRoaXMuZW50aXR5LnNldFRpbWVyKDAsIDI0LCB0cnVlKTtcbiAgICB0aGlzLnJlZHJhd01hcCgpO1xuICB9XG5cbiAgb25EZXN0cm95KCk6IHZvaWQge31cblxuICBvblN0ZXAoKTogdm9pZCB7XG4gICAgdGhpcy51cGRhdGVWaXNpdGVkKCk7XG5cbiAgICBjb25zdCBpbnB1dCA9IHRoaXMuZW50aXR5LmFyZWEuZ2FtZS5pbnB1dDtcbiAgICB0aGlzLnNob3VsZERyYXdNYXAgPVxuICAgICAgaW5wdXQuaXNLZXlEb3duKEtleS5TcGFjZSkgfHxcbiAgICAgIGlucHV0LmlzR2FtZXBhZEJ1dHRvbkRvd24oMCwgR2FtZXBhZEJ1dHRvbi5MZWZ0QnVtcGVyKSB8fFxuICAgICAgaW5wdXQuaXNHYW1lcGFkQnV0dG9uRG93bigwLCBHYW1lcGFkQnV0dG9uLllUcmlhbmdsZSk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIHRoZSB2aXNpdGVkIHRpbGVzXG4gICAqL1xuICBwcml2YXRlIHVwZGF0ZVZpc2l0ZWQoKTogdm9pZCB7XG4gICAgY29uc3QgbWFpbkFyZWEgPSB0aGlzLmVudGl0eS5hcmVhLnN0YXRlIGFzIE1haW5BcmVhO1xuICAgIGNvbnN0IFtwbGF5ZXJUaWxlUm93LCBwbGF5ZXJUaWxlQ29sXSA9IG1haW5BcmVhLmdldFBsYXllclRpbGVMb2NhdGlvbigpO1xuXG4gICAgZm9yIChsZXQgcm93ID0gLU1BUF9USUxFU19WSVNJVDsgcm93IDw9IE1BUF9USUxFU19WSVNJVDsgcm93ICs9IDEpIHtcbiAgICAgIGZvciAobGV0IGNvbCA9IC1NQVBfVElMRVNfVklTSVQ7IGNvbCA8PSBNQVBfVElMRVNfVklTSVQ7IGNvbCArPSAxKSB7XG4gICAgICAgIHRoaXMubWFwVmlzaXRlZFtjbGFtcChwbGF5ZXJUaWxlUm93ICsgcm93LCAwLCBtYWluQXJlYS5tYXplSGVpZ2h0IC0gMSldW1xuICAgICAgICAgIGNsYW1wKHBsYXllclRpbGVDb2wgKyBjb2wsIDAsIG1haW5BcmVhLm1hemVXaWR0aCAtIDEpXG4gICAgICAgIF0gPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBEeW5hbWljYWxseSByZWRyYXcgdGhlIG1hcCBldmVyeSBmcmFtZVxuICAgKi9cbiAgcHJpdmF0ZSByZWRyYXdNYXAoKTogdm9pZCB7XG4gICAgY29uc3QgbWFpbkFyZWEgPSB0aGlzLmVudGl0eS5hcmVhLnN0YXRlIGFzIE1haW5BcmVhO1xuICAgIGNvbnN0IGcyZCA9IHRoaXMubWFwQ2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICBjb25zdCBpbWFnZVdpZHRoID0gbWFpbkFyZWEubWF6ZVdpZHRoICogVElMRV9TSVpFX1BYICsgMiAqIE1BUkdJTl9QWDtcbiAgICBjb25zdCBpbWFnZUhlaWdodCA9IG1haW5BcmVhLm1hemVIZWlnaHQgKiBUSUxFX1NJWkVfUFggKyAyICogTUFSR0lOX1BYO1xuICAgIHRoaXMubWFwQ2FudmFzLndpZHRoID0gaW1hZ2VXaWR0aDtcbiAgICB0aGlzLm1hcENhbnZhcy5oZWlnaHQgPSBpbWFnZUhlaWdodDtcblxuICAgIC8vIENsZWFyIHRoZSBtYXBcbiAgICBnMmQuZmlsbFN0eWxlID0gR1JBU1NfQ09MT1I7XG4gICAgZzJkLmZpbGxSZWN0KDAsIDAsIGltYWdlV2lkdGgsIGltYWdlSGVpZ2h0KTtcblxuICAgIC8vIERyYXcgdGhlIGluZGl2aWR1YWwgZ3JpZCBjZWxsc1xuICAgIGZvciAobGV0IHJvdyA9IDA7IHJvdyA8IG1haW5BcmVhLm1hemVIZWlnaHQ7IHJvdyArPSAxKSB7XG4gICAgICBmb3IgKGxldCBjb2wgPSAwOyBjb2wgPCBtYWluQXJlYS5tYXplV2lkdGg7IGNvbCArPSAxKSB7XG4gICAgICAgIGNvbnN0IHggPSBNQVJHSU5fUFggKyBjb2wgKiBUSUxFX1NJWkVfUFg7XG4gICAgICAgIGNvbnN0IHkgPSBNQVJHSU5fUFggKyByb3cgKiBUSUxFX1NJWkVfUFg7XG5cbiAgICAgICAgaWYgKCF0aGlzLm1hcFZpc2l0ZWRbcm93XVtjb2xdKSB7XG4gICAgICAgICAgZzJkLmZpbGxTdHlsZSA9IFVOVklTSVRFRF9DT0xPUjtcbiAgICAgICAgICBnMmQuZmlsbFJlY3QoeCwgeSwgVElMRV9TSVpFX1BYLCBUSUxFX1NJWkVfUFgpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZHJhd0Z1bmMgPSBNQVBfRFJBV19GVU5DVElPTlNbbWFpbkFyZWEubWF6ZVtyb3ddW2NvbF1dO1xuICAgICAgICBpZiAodHlwZW9mIGRyYXdGdW5jICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIGRyYXdGdW5jKGcyZCwgeCwgeSwgcm93LCBjb2wsIHRoaXMuZW50aXR5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIERyYXcgYW55IGRyb25lcyBpbiB0aGUgbWF6ZVxuICAgIGZvciAoY29uc3QgZHJvbmUgb2YgdGhpcy5lbnRpdHkuYXJlYS5maW5kRW50aXRpZXMoJ2Ryb25lJykpIHtcbiAgICAgIGNvbnN0IFtyb3csIGNvbF0gPSBtYWluQXJlYS5wb3NpdGlvblRvVGlsZUxvY2F0aW9uKGRyb25lLm9iamVjdC5wb3NpdGlvbik7XG5cbiAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgcGxheWVyIGNhbiBhY3R1YWxseSBzZWUgdGhlIHRpbGVcbiAgICAgIGlmICghdGhpcy5tYXBWaXNpdGVkW3Jvd11bY29sXSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgeCA9IE1BUkdJTl9QWCArIGNvbCAqIFRJTEVfU0laRV9QWDtcbiAgICAgIGNvbnN0IHkgPSBNQVJHSU5fUFggKyByb3cgKiBUSUxFX1NJWkVfUFg7XG5cbiAgICAgIGcyZC5maWxsU3R5bGUgPSBEUk9ORV9DT0xPUjtcbiAgICAgIGcyZC5iZWdpblBhdGgoKTtcbiAgICAgIGcyZC5hcmMoeCArIFRJTEVfU0laRV9QWCAvIDIsIHkgKyBUSUxFX1NJWkVfUFggLyAyLCBUSUxFX1NJWkVfUFggLyAzLCAwLCAyICogTWF0aC5QSSk7XG4gICAgICBnMmQuZmlsbCgpO1xuICAgICAgZzJkLnN0cm9rZVN0eWxlID0gJ2JsYWNrJztcbiAgICAgIGcyZC5saW5lV2lkdGggPSAxO1xuICAgICAgZzJkLnN0cm9rZSgpO1xuICAgIH1cbiAgfVxuXG4gIG9uVGltZXIodGltZXJJbmRleDogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKHRpbWVySW5kZXggPT09IDApIHtcbiAgICAgIHRoaXMucmVkcmF3TWFwKCk7XG4gICAgfVxuICB9XG5cbiAgb25EcmF3KGcyZDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuc2hvdWxkRHJhd01hcCkge1xuICAgICAgdGhpcy5kcmF3RnVsbE1hcChnMmQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRyYXdIVUQoZzJkKTtcbiAgICB9XG5cbiAgICAvLyBDbGVhciBhbnkgbWVzc2FnZXMgZXZlcnkgZnJhbWVcbiAgICB0aGlzLm1lc3NhZ2UgPSAnJztcbiAgfVxuXG4gIC8qKlxuICAgKiBEcmF3IHRoZSBtYWluIGhlYWRzLXVwIGRpc3BsYXlcbiAgICovXG4gIHByaXZhdGUgZHJhd0hVRChnMmQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkge1xuICAgIGNvbnN0IGludmVudG9yeSA9IHRoaXMuZW50aXR5LmFyZWEuZ2FtZS5yZXNvdXJjZXMuZ2V0UmVzb3VyY2U8SW52ZW50b3J5PignaW52ZW50b3J5Jyk7XG4gICAgaWYgKGludmVudG9yeS5oYXNDb2xsZWN0ZWRNYXAoKSkge1xuICAgICAgdGhpcy5kcmF3SGVhbHRoQmFyKGcyZCk7XG4gICAgICB0aGlzLmRyYXdNYXBTdWJzZXQoZzJkKTtcbiAgICB9XG5cbiAgICBpZiAoaW52ZW50b3J5Lmhhc0NvbGxlY3RlZE1hcCgpICYmIGludmVudG9yeS5oYXNDb2xsZWN0ZWRHdW4oKSkge1xuICAgICAgdGhpcy5kcmF3SW52ZW50b3J5KGcyZCk7XG4gICAgICB0aGlzLmRyYXdNZXNzYWdlKGcyZCk7XG4gICAgfVxuXG4gICAgaWYgKGludmVudG9yeS5oYXNDb2xsZWN0ZWRHdW4oKSkge1xuICAgICAgdGhpcy5kcmF3VGFyZ2V0KGcyZCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERyYXcgdGhlIHBsYXllciBoZWFsdGggYmFyIGluIHRoZSB0b3AgbGVmdCBjb3JuZXJcbiAgICovXG4gIHByaXZhdGUgZHJhd0hlYWx0aEJhcihnMmQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk6IHZvaWQge1xuICAgIC8vIERyYXcgXCJIZWFsdGhcIiBUZXh0XG4gICAgZzJkLnRleHRBbGlnbiA9ICdsZWZ0JztcbiAgICBnMmQudGV4dEJhc2VsaW5lID0gJ3RvcCc7XG4gICAgZzJkLmZvbnQgPSAnMzBweCBzYW5zLXNlcmlmJztcbiAgICBnMmQuZmlsbFN0eWxlID0gJyNmZmZmZmYnO1xuICAgIGcyZC5maWxsVGV4dCgnSGVhbHRoOicsIEhVRF9MRUZULCBIVURfVE9QKTtcblxuICAgIC8vIERyYXcgdGhlIFwiaGVhbHRoIGJhclwiXG4gICAgY29uc3QgaGVhbHRoID0gdGhpcy5lbnRpdHkuYXJlYS5nYW1lLnJlc291cmNlcy5nZXRSZXNvdXJjZTxIZWFsdGg+KCdoZWFsdGgnKTtcbiAgICBkcmF3SGVhbHRoQmFyKFxuICAgICAgZzJkLFxuICAgICAgaGVhbHRoLmdldEhlYWx0aFBlcmNlbnRMZWZ0KCksXG4gICAgICBIVURfTEVGVCArIGcyZC5tZWFzdXJlVGV4dCgnSGVhbHRoOicpLndpZHRoICsgMTAsXG4gICAgICBIVURfVE9QLFxuICAgICAgMTAwLCAvLyBXaWR0aFxuICAgICAgMjUsIC8vIEhlaWdodFxuICAgICAgbmV3IFRIUkVFLkNvbG9yKDAsIDEsIDApLFxuICAgICAgbmV3IFRIUkVFLkNvbG9yKDEsIDAsIDApLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogRHJhdyB0aGUgbWluaW1hcCBvbiB0aGUgSFVEXG4gICAqL1xuICBwcml2YXRlIGRyYXdNYXBTdWJzZXQoZzJkOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpOiB2b2lkIHtcbiAgICBjb25zdCBtYWluQXJlYSA9IHRoaXMuZW50aXR5LmFyZWEuc3RhdGUgYXMgTWFpbkFyZWE7XG5cbiAgICBjb25zdCBbcGxheWVyVGlsZVJvdywgcGxheWVyVGlsZUNvbF0gPSBtYWluQXJlYS5nZXRQbGF5ZXJUaWxlTG9jYXRpb24oKTtcbiAgICBjb25zdCBsZWZ0VGlsZVggPSBwbGF5ZXJUaWxlQ29sIC0gTWF0aC5mbG9vcihNQVBfVElMRVNfVklTSUJMRSAvIDIpO1xuICAgIGNvbnN0IHRvcFRpbGVZID0gcGxheWVyVGlsZVJvdyAtIE1hdGguZmxvb3IoTUFQX1RJTEVTX1ZJU0lCTEUgLyAyKTtcbiAgICBjb25zdCBsZWZ0WCA9IGxlZnRUaWxlWCAqIFRJTEVfU0laRV9QWDtcbiAgICBjb25zdCB0b3BZID0gdG9wVGlsZVkgKiBUSUxFX1NJWkVfUFg7XG4gICAgY29uc3QgaW1hZ2VTaXplID0gVElMRV9TSVpFX1BYICogTUFQX1RJTEVTX1ZJU0lCTEUgKyAyICogTUFSR0lOX1BYO1xuICAgIGNvbnN0IGxlZnRWYWx1ZVggPSB0aGlzLmVudGl0eS5hcmVhLm92ZXJsYXlXaWR0aCAtIChIVURfUklHSFQgKyBpbWFnZVNpemUpO1xuXG4gICAgLy8gRmlsbCB3aXRoIHRoZSBkZWZhdWx0IGNvbG9yXG4gICAgZzJkLmZpbGxTdHlsZSA9IE9VVFNJREVfQ09MT1I7XG4gICAgZzJkLmZpbGxSZWN0KGxlZnRWYWx1ZVgsIEhVRF9UT1AsIGltYWdlU2l6ZSwgaW1hZ2VTaXplKTtcblxuICAgIC8vIERyYXcgdGhlIG1hcCBzdWJzZXRcbiAgICBnMmQuZHJhd0ltYWdlKHRoaXMubWFwQ2FudmFzLCBsZWZ0WCwgdG9wWSwgaW1hZ2VTaXplLCBpbWFnZVNpemUsIGxlZnRWYWx1ZVgsIEhVRF9UT1AsIGltYWdlU2l6ZSwgaW1hZ2VTaXplKTtcblxuICAgIC8vIEFkZCBhIGJvcmRlclxuICAgIGcyZC5iZWdpblBhdGgoKTtcbiAgICBnMmQucmVjdChsZWZ0VmFsdWVYLCBIVURfVE9QLCBpbWFnZVNpemUsIGltYWdlU2l6ZSk7XG4gICAgZzJkLnN0cm9rZVN0eWxlID0gJ2Jyb3duJztcbiAgICBnMmQubGluZVdpZHRoID0gNDtcbiAgICBnMmQuc3Ryb2tlKCk7XG5cbiAgICAvLyAvLyBEcmF3IHRoZSBjb21wYXNzIGxldHRlcnMgKE4sUyxFLFcpXG4gICAgY29uc3QgY29tcGFzc01hcmdpbiA9IDE1O1xuICAgIGcyZC5maWxsU3R5bGUgPSAncmVkJztcbiAgICBnMmQuZm9udCA9ICcxMHB0IHNhbnMtc2VyaWYnO1xuICAgIGcyZC50ZXh0QWxpZ24gPSAnY2VudGVyJztcbiAgICBnMmQudGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7XG4gICAgZzJkLmZpbGxUZXh0KCdOJywgbGVmdFZhbHVlWCArIGltYWdlU2l6ZSAvIDIsIEhVRF9UT1AgKyBjb21wYXNzTWFyZ2luKTtcbiAgICBnMmQuZmlsbFN0eWxlID0gJ3doaXRlJztcbiAgICBnMmQuZmlsbFRleHQoJ1MnLCBsZWZ0VmFsdWVYICsgaW1hZ2VTaXplIC8gMiwgSFVEX1RPUCArIGltYWdlU2l6ZSAtIGNvbXBhc3NNYXJnaW4pO1xuICAgIGcyZC5maWxsVGV4dCgnVycsIGxlZnRWYWx1ZVggKyBjb21wYXNzTWFyZ2luLCBIVURfVE9QICsgaW1hZ2VTaXplIC8gMik7XG4gICAgZzJkLmZpbGxUZXh0KCdFJywgbGVmdFZhbHVlWCArIGltYWdlU2l6ZSAtIGNvbXBhc3NNYXJnaW4sIEhVRF9UT1AgKyBpbWFnZVNpemUgLyAyKTtcblxuICAgIC8vIERyYXcgYW4gYXJyb3cgdG8gcmVwcmVzZW50IHRoZSBwbGF5ZXJcbiAgICBnMmQuc3Ryb2tlU3R5bGUgPSAncmVkJztcbiAgICBnMmQubGluZVdpZHRoID0gMi4wO1xuICAgIGRyYXdBcnJvdyhnMmQsIGxlZnRWYWx1ZVggKyBpbWFnZVNpemUgLyAyLCBIVURfVE9QICsgaW1hZ2VTaXplIC8gMiwgbWFpbkFyZWEuZ2V0UGxheWVyQW5nbGUoKSwgVElMRV9TSVpFX1BYKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEcmF3IHRoZSBjb2xsZWN0ZWQgaW52ZW50b3J5IGl0ZW1zXG4gICAqL1xuICBwcml2YXRlIGRyYXdJbnZlbnRvcnkoZzJkOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpOiB2b2lkIHtcbiAgICBjb25zdCBtYWluQXJlYSA9IHRoaXMuZW50aXR5LmFyZWEuc3RhdGUgYXMgTWFpbkFyZWE7XG4gICAgY29uc3QgaW52ZW50b3J5ID0gdGhpcy5lbnRpdHkuYXJlYS5nYW1lLnJlc291cmNlcy5nZXRSZXNvdXJjZTxJbnZlbnRvcnk+KCdpbnZlbnRvcnknKTtcbiAgICBjb25zdCBhc3NldHMgPSB0aGlzLmVudGl0eS5hcmVhLmdhbWUuYXNzZXRzO1xuXG4gICAgY29uc3Qgc2xvdFNpemUgPSAzMjtcbiAgICBjb25zdCBzcGFjaW5nID0gc2xvdFNpemUgLyA0O1xuXG4gICAgLy8gQWx3YXlzIGRyYXcgdGhlIGVuZXJneSBsZWZ0XG4gICAgZzJkLmRyYXdJbWFnZShhc3NldHMuZ2V0SW1hZ2UoJ0VuZXJneScpLCBIVURfTEVGVCwgSFVEX1RPUCArIDMwLCBzbG90U2l6ZSwgc2xvdFNpemUpO1xuICAgIGcyZC5mb250ID0gJzEwcHQgc2Fucy1zZXJpZic7XG4gICAgZzJkLmZpbGxTdHlsZSA9ICd3aGl0ZSc7XG4gICAgZzJkLnRleHRBbGlnbiA9ICdjZW50ZXInO1xuICAgIGcyZC50ZXh0QmFzZWxpbmUgPSAndG9wJztcbiAgICBnMmQuZmlsbFRleHQoXG4gICAgICBgJHttYWluQXJlYS50b3RhbEVuZXJneSAtIG1haW5BcmVhLmVuZXJneUxlZnR9IC8gJHttYWluQXJlYS50b3RhbEVuZXJneX1gLFxuICAgICAgSFVEX0xFRlQgKyBzbG90U2l6ZSAvIDIsXG4gICAgICBIVURfVE9QICsgMzAgKyBzbG90U2l6ZSxcbiAgICApO1xuXG4gICAgbGV0IGN1cnJlbnRYID0gSFVEX0xFRlQgKyBzbG90U2l6ZSArIHNwYWNpbmc7XG5cbiAgICAvLyBEbyBhbGwgb2YgdGhlIGtleXNcbiAgICBmb3IgKGNvbnN0IGtleUNvbG9yIG9mIFtEb29yQ29sb3IuUmVkLCBEb29yQ29sb3IuWWVsbG93LCBEb29yQ29sb3IuR3JlZW4sIERvb3JDb2xvci5CbHVlXSkge1xuICAgICAgaWYgKCFpbnZlbnRvcnkuaGFzS2V5QXZhaWxhYmxlKGtleUNvbG9yKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgaWNvbiA9IGFzc2V0cy5nZXRJbWFnZShLRVlfQ09MT1JfSUNPTltrZXlDb2xvcl0pO1xuICAgICAgZzJkLmRyYXdJbWFnZShpY29uLCBjdXJyZW50WCwgSFVEX1RPUCArIDMwLCBzbG90U2l6ZSwgc2xvdFNpemUpO1xuICAgICAgZzJkLmZpbGxUZXh0KGB4JHtpbnZlbnRvcnkuZ2V0S2V5Q291bnQoa2V5Q29sb3IpfWAsIGN1cnJlbnRYICsgc2xvdFNpemUgLyAyLCBIVURfVE9QICsgMzAgKyBzbG90U2l6ZSk7XG4gICAgICBjdXJyZW50WCArPSBzbG90U2l6ZSArIHNwYWNpbmc7XG4gICAgfVxuXG4gICAgLy8gQWxzbyBkbyB0aGUgYmF0dGVyeVxuICAgIGlmIChpbnZlbnRvcnkuaGFzQ29sbGVjdGVkQmF0dGVyeSgpKSB7XG4gICAgICBjb25zdCBpY29uID0gYXNzZXRzLmdldEltYWdlKCdCYXR0ZXJ5Jyk7XG4gICAgICBnMmQuZHJhd0ltYWdlKGljb24sIGN1cnJlbnRYLCBIVURfVE9QICsgMzAsIHNsb3RTaXplLCBzbG90U2l6ZSk7XG4gICAgICBnMmQuZmlsbFRleHQoYHgke2ludmVudG9yeS5nZXRCYXR0ZXJ5Q291bnQoKX1gLCBjdXJyZW50WCArIHNsb3RTaXplIC8gMiwgSFVEX1RPUCArIDMwICsgc2xvdFNpemUpO1xuICAgICAgY3VycmVudFggKz0gc2xvdFNpemUgKyBzcGFjaW5nO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBEcmF3IHRoZSBtZXNzYWdlIGFsb25nIHRoZSBib3R0b20gb2YgdGhlIHNjcmVlblxuICAgKi9cbiAgcHJpdmF0ZSBkcmF3TWVzc2FnZShnMmQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk6IHZvaWQge1xuICAgIGlmICh0aGlzLm1lc3NhZ2UubGVuZ3RoIDw9IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBnMmQuZm9udCA9ICcyNHB0IHNhbnMtc2VyaWYnO1xuICAgIGcyZC50ZXh0QWxpZ24gPSAnY2VudGVyJztcbiAgICBnMmQudGV4dEJhc2VsaW5lID0gJ2JvdHRvbSc7XG5cbiAgICBjb25zdCBtZXRyaWNzID0gZzJkLm1lYXN1cmVUZXh0KHRoaXMubWVzc2FnZSk7XG4gICAgY29uc3QgbWFyZ2luID0gMTA7XG4gICAgY29uc3Qgd2lkdGggPSBtZXRyaWNzLndpZHRoICsgbWFyZ2luO1xuICAgIGNvbnN0IGhlaWdodCA9IG1ldHJpY3MuYWN0dWFsQm91bmRpbmdCb3hBc2NlbnQgLSBtZXRyaWNzLmZvbnRCb3VuZGluZ0JveERlc2NlbnQgKyBtYXJnaW47XG5cbiAgICBjb25zdCBjZW50ZXJYID0gdGhpcy5lbnRpdHkuYXJlYS5vdmVybGF5V2lkdGggLyAyO1xuICAgIGNvbnN0IGNlbnRlclkgPSB0aGlzLmVudGl0eS5hcmVhLm92ZXJsYXlIZWlnaHQgLSBIVURfQk9UVE9NO1xuXG4gICAgZzJkLmZpbGxTdHlsZSA9ICdibGFjayc7XG4gICAgZzJkLmZpbGxSZWN0KGNlbnRlclggLSB3aWR0aCAvIDIsIGNlbnRlclkgLSBoZWlnaHQsIHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgZzJkLmxpbmVXaWR0aCA9IDI7XG4gICAgZzJkLnN0cm9rZVN0eWxlID0gJ29yYW5nZSc7XG4gICAgZzJkLmJlZ2luUGF0aCgpO1xuICAgIGcyZC5yZWN0KGNlbnRlclggLSB3aWR0aCAvIDIsIGNlbnRlclkgLSBoZWlnaHQsIHdpZHRoLCBoZWlnaHQpO1xuICAgIGcyZC5zdHJva2UoKTtcblxuICAgIGcyZC5maWxsU3R5bGUgPSAnd2hpdGUnO1xuICAgIGcyZC5maWxsVGV4dCh0aGlzLm1lc3NhZ2UsIGNlbnRlclgsIGNlbnRlclkpO1xuICB9XG5cbiAgLyoqXG4gICAqIERyYXcgYSBkb3QgaW4gdGhlIGNlbnRlciBmb3IgdGhlIGd1biB0YXJnZXRcbiAgICovXG4gIHByaXZhdGUgZHJhd1RhcmdldChnMmQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk6IHZvaWQge1xuICAgIGNvbnN0IGNlbnRlclggPSB0aGlzLmVudGl0eS5hcmVhLm92ZXJsYXlXaWR0aCAvIDI7XG4gICAgY29uc3QgY2VudGVyWSA9IHRoaXMuZW50aXR5LmFyZWEub3ZlcmxheUhlaWdodCAvIDI7XG4gICAgY29uc3QgbGVuZ3RoID0gNTtcblxuICAgIGcyZC5saW5lV2lkdGggPSAxO1xuICAgIGcyZC5zdHJva2VTdHlsZSA9ICd3aGl0ZSc7XG5cbiAgICBnMmQuYmVnaW5QYXRoKCk7XG4gICAgZzJkLm1vdmVUbyhjZW50ZXJYIC0gbGVuZ3RoLCBjZW50ZXJZKTtcbiAgICBnMmQubGluZVRvKGNlbnRlclggKyBsZW5ndGgsIGNlbnRlclkpO1xuICAgIGcyZC5tb3ZlVG8oY2VudGVyWCwgY2VudGVyWSAtIGxlbmd0aCk7XG4gICAgZzJkLmxpbmVUbyhjZW50ZXJYLCBjZW50ZXJZICsgbGVuZ3RoKTtcbiAgICBnMmQuc3Ryb2tlKCk7XG4gIH1cblxuICAvKipcbiAgICogRHJhdyB0aGUgZnVsbHNjcmVlbiBtYXAgY2VudGVyZWRcbiAgICovXG4gIHByaXZhdGUgZHJhd0Z1bGxNYXAoZzJkOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpOiB2b2lkIHtcbiAgICBjb25zdCBpbnZlbnRvcnkgPSB0aGlzLmVudGl0eS5hcmVhLmdhbWUucmVzb3VyY2VzLmdldFJlc291cmNlPEludmVudG9yeT4oJ2ludmVudG9yeScpO1xuICAgIGlmICghaW52ZW50b3J5Lmhhc0NvbGxlY3RlZE1hcCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgbWFpbkFyZWEgPSB0aGlzLmVudGl0eS5hcmVhLnN0YXRlIGFzIE1haW5BcmVhO1xuICAgIGNvbnN0IFtwbGF5ZXJUaWxlUm93LCBwbGF5ZXJUaWxlQ29sXSA9IG1haW5BcmVhLmdldFBsYXllclRpbGVMb2NhdGlvbigpO1xuXG4gICAgY29uc3QgbWF4V2lkdGggPSB0aGlzLmVudGl0eS5hcmVhLm92ZXJsYXlXaWR0aCAtIE1BUF9NQVJHSU4gKiAyO1xuICAgIGNvbnN0IG1heEhlaWdodCA9IHRoaXMuZW50aXR5LmFyZWEub3ZlcmxheUhlaWdodCAtIE1BUF9NQVJHSU4gKiAyO1xuICAgIGNvbnN0IGltZ1dpZHRoID0gTWF0aC5taW4obWF4V2lkdGgsIHRoaXMubWFwQ2FudmFzLndpZHRoKTtcbiAgICBjb25zdCBpbWdIZWlnaHQgPSBNYXRoLm1pbihtYXhIZWlnaHQsIHRoaXMubWFwQ2FudmFzLmhlaWdodCk7XG5cbiAgICBjb25zdCBsZWZ0SW1nWCA9IHBsYXllclRpbGVDb2wgKiBUSUxFX1NJWkVfUFggKyBUSUxFX1NJWkVfUFggLyAyICsgTUFSR0lOX1BYO1xuICAgIGNvbnN0IGxlZnRJbWdZID0gcGxheWVyVGlsZVJvdyAqIFRJTEVfU0laRV9QWCArIFRJTEVfU0laRV9QWCAvIDIgKyBNQVJHSU5fUFg7XG4gICAgY29uc3QgY2VudGVyWCA9IHRoaXMuZW50aXR5LmFyZWEub3ZlcmxheVdpZHRoIC8gMjtcbiAgICBjb25zdCBjZW50ZXJZID0gdGhpcy5lbnRpdHkuYXJlYS5vdmVybGF5SGVpZ2h0IC8gMjtcbiAgICBjb25zdCBsZWZ0WCA9IGNlbnRlclggLSBpbWdXaWR0aCAvIDI7XG4gICAgY29uc3QgdG9wWSA9IGNlbnRlclkgLSBpbWdIZWlnaHQgLyAyO1xuXG4gICAgLy8gRmlsbCB3aXRoIGEgZGVmYXVsdCBjb2xvclxuICAgIGcyZC5maWxsU3R5bGUgPSBPVVRTSURFX0NPTE9SO1xuICAgIGcyZC5maWxsUmVjdChsZWZ0WCwgdG9wWSwgaW1nV2lkdGgsIGltZ0hlaWdodCk7XG5cbiAgICAvLyBEcmF3IHRoZSBpbWFnZSBzdWJzZXRcbiAgICBnMmQuZHJhd0ltYWdlKFxuICAgICAgdGhpcy5tYXBDYW52YXMsXG4gICAgICBsZWZ0SW1nWCAtIGltZ1dpZHRoIC8gMixcbiAgICAgIGxlZnRJbWdZIC0gaW1nSGVpZ2h0IC8gMixcbiAgICAgIGltZ1dpZHRoLFxuICAgICAgaW1nSGVpZ2h0LFxuICAgICAgbGVmdFgsXG4gICAgICB0b3BZLFxuICAgICAgaW1nV2lkdGgsXG4gICAgICBpbWdIZWlnaHQsXG4gICAgKTtcblxuICAgIC8vIEFkZCBhIGJvcmRlclxuICAgIGcyZC5iZWdpblBhdGgoKTtcbiAgICBnMmQucmVjdChsZWZ0WCwgdG9wWSwgaW1nV2lkdGgsIGltZ0hlaWdodCk7XG4gICAgZzJkLnN0cm9rZVN0eWxlID0gJ2Jyb3duJztcbiAgICBnMmQubGluZVdpZHRoID0gNDtcbiAgICBnMmQuc3Ryb2tlKCk7XG5cbiAgICAvLyAvLyBEcmF3IHRoZSBjb21wYXNzIGxldHRlcnMgKE4sUyxFLFcpXG4gICAgY29uc3QgY29tcGFzc01hcmdpbiA9IDI1O1xuICAgIGcyZC5maWxsU3R5bGUgPSAncmVkJztcbiAgICBnMmQuZm9udCA9ICcyNHB0IHNhbnMtc2VyaWYnO1xuICAgIGcyZC50ZXh0QWxpZ24gPSAnY2VudGVyJztcbiAgICBnMmQudGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7XG4gICAgZzJkLmZpbGxUZXh0KCdOJywgbGVmdFggKyBpbWdXaWR0aCAvIDIsIHRvcFkgKyBjb21wYXNzTWFyZ2luKTtcbiAgICBnMmQuZmlsbFN0eWxlID0gJ3doaXRlJztcbiAgICBnMmQuZmlsbFRleHQoJ1MnLCBsZWZ0WCArIGltZ1dpZHRoIC8gMiwgdG9wWSArIGltZ0hlaWdodCAtIGNvbXBhc3NNYXJnaW4pO1xuICAgIGcyZC5maWxsVGV4dCgnVycsIGxlZnRYICsgY29tcGFzc01hcmdpbiwgdG9wWSArIGltZ0hlaWdodCAvIDIpO1xuICAgIGcyZC5maWxsVGV4dCgnRScsIGxlZnRYICsgaW1nV2lkdGggLSBjb21wYXNzTWFyZ2luLCB0b3BZICsgaW1nSGVpZ2h0IC8gMik7XG5cbiAgICAvLyBEcmF3IGFuIGFycm93IHRvIHJlcHJlc2VudCB0aGUgcGxheWVyXG4gICAgZzJkLnN0cm9rZVN0eWxlID0gJ3JlZCc7XG4gICAgZzJkLmxpbmVXaWR0aCA9IDIuMDtcbiAgICBkcmF3QXJyb3coZzJkLCBsZWZ0WCArIGltZ1dpZHRoIC8gMiwgdG9wWSArIGltZ0hlaWdodCAvIDIsIG1haW5BcmVhLmdldFBsYXllckFuZ2xlKCksIFRJTEVfU0laRV9QWCk7XG4gIH1cbn1cblxuLyoqXG4gKiBEcmF3IGEgaGVhbHRoIGJhciB0byB0aGUgc2NlbmVcbiAqL1xuZnVuY3Rpb24gZHJhd0hlYWx0aEJhcihcbiAgZzJkOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsXG4gIGhlYWx0aDogbnVtYmVyLFxuICB4OiBudW1iZXIsXG4gIHk6IG51bWJlcixcbiAgd2lkdGg6IG51bWJlcixcbiAgaGVpZ2h0OiBudW1iZXIsXG4gIGZ1bGxIZWFsdGg6IFRIUkVFLkNvbG9yLFxuICBub0hlYWx0aDogVEhSRUUuQ29sb3IsXG4pIHtcbiAgaGVhbHRoID0gY2xhbXAoaGVhbHRoLCAwLCAxKTtcblxuICBjb25zdCBjb2xvciA9IG5ldyBUSFJFRS5Db2xvcigpO1xuICBjb2xvci5sZXJwQ29sb3JzKG5vSGVhbHRoLCBmdWxsSGVhbHRoLCBoZWFsdGgpO1xuXG4gIC8vIEluc2lkZSBiYXJcbiAgZzJkLmZpbGxTdHlsZSA9ICcjJyArIGNvbG9yLmdldEhleFN0cmluZygpO1xuICBnMmQuZmlsbFJlY3QoeCwgeSwgd2lkdGggKiBoZWFsdGgsIGhlaWdodCk7XG5cbiAgLy8gT3V0bGluZVxuICBnMmQuYmVnaW5QYXRoKCk7XG4gIGcyZC5zdHJva2VTdHlsZSA9ICdibGFjayc7XG4gIGcyZC5yZWN0KHgsIHksIHdpZHRoLCBoZWlnaHQpO1xuICBnMmQuc3Ryb2tlKCk7XG59XG5cbi8qKlxuICogRHJhdyBhbiBhcnJvdywgY2VudGVyZWQgYXQgKHgseSksIHdpdGggYSBnaXZlbiBkaXJlY3Rpb24gYW5kIG1hZ25pdHVkZVxuICovXG5mdW5jdGlvbiBkcmF3QXJyb3coZzJkOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGNlbnRlclg6IG51bWJlciwgY2VudGVyWTogbnVtYmVyLCBhbmdsZTogbnVtYmVyLCByOiBudW1iZXIpIHtcbiAgY29uc3QgaGVhZFggPSBjZW50ZXJYICsgKHIgLyAyKSAqIE1hdGguY29zKGFuZ2xlKTtcbiAgY29uc3QgaGVhZFkgPSBjZW50ZXJZIC0gKHIgLyAyKSAqIE1hdGguc2luKGFuZ2xlKTtcbiAgY29uc3QgdGFpbFggPSBjZW50ZXJYIC0gKHIgLyAyKSAqIE1hdGguY29zKGFuZ2xlKTtcbiAgY29uc3QgdGFpbFkgPSBjZW50ZXJZICsgKHIgLyAyKSAqIE1hdGguc2luKGFuZ2xlKTtcblxuICBjb25zdCBoZWFkTGVuID0gNjtcbiAgY29uc3QgaGVhZEFuZ2xlID0gTWF0aC5QSSAvIDY7XG5cbiAgZzJkLmJlZ2luUGF0aCgpO1xuICBnMmQubW92ZVRvKHRhaWxYLCB0YWlsWSk7XG4gIGcyZC5saW5lVG8oaGVhZFgsIGhlYWRZKTtcbiAgZzJkLmxpbmVUbyhoZWFkWCAtIGhlYWRMZW4gKiBNYXRoLmNvcyhhbmdsZSAtIGhlYWRBbmdsZSksIGhlYWRZICsgaGVhZExlbiAqIE1hdGguc2luKGFuZ2xlIC0gaGVhZEFuZ2xlKSk7XG4gIGcyZC5tb3ZlVG8oaGVhZFgsIGhlYWRZKTtcbiAgZzJkLmxpbmVUbyhoZWFkWCAtIGhlYWRMZW4gKiBNYXRoLmNvcyhhbmdsZSArIGhlYWRBbmdsZSksIGhlYWRZICsgaGVhZExlbiAqIE1hdGguc2luKGFuZ2xlICsgaGVhZEFuZ2xlKSk7XG4gIGcyZC5zdHJva2UoKTtcbn1cblxuLyoqXG4gKiBNYXAgZHJhd2luZyBmdW5jdGlvbnNcbiAqL1xuZnVuY3Rpb24gbWFwRHJhd1dhbGwoZzJkOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHg6IG51bWJlciwgeTogbnVtYmVyKTogdm9pZCB7XG4gIGcyZC5maWxsU3R5bGUgPSBXQUxMX0NPTE9SO1xuICBnMmQuZmlsbFJlY3QoeCwgeSwgVElMRV9TSVpFX1BYLCBUSUxFX1NJWkVfUFgpO1xufVxuXG5mdW5jdGlvbiBtYXBEcmF3SWNvbihuYW1lOiBzdHJpbmcpOiBEcmF3RnVuY3Rpb24ge1xuICByZXR1cm4gKGcyZCwgeCwgeSwgX3JvdywgX2NvbCwgZW50aXR5KSA9PiB7XG4gICAgY29uc3QgaWNvbkltYWdlID0gZW50aXR5LmFyZWEuZ2FtZS5hc3NldHMuZ2V0SW1hZ2UobmFtZSk7XG4gICAgZzJkLmRyYXdJbWFnZShpY29uSW1hZ2UsIHgsIHksIFRJTEVfU0laRV9QWCwgVElMRV9TSVpFX1BYKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gbWFwRHJhd0Nsb3NlZERvb3IoY29sb3I6IHN0cmluZyk6IERyYXdGdW5jdGlvbiB7XG4gIHJldHVybiAoZzJkLCB4LCB5LCByb3cpID0+IHtcbiAgICBnMmQuZmlsbFN0eWxlID0gY29sb3I7XG5cbiAgICBpZiAocm93ICUgMiA9PT0gMSkge1xuICAgICAgZzJkLmZpbGxSZWN0KHggKyBUSUxFX1NJWkVfUFggLyA0LCB5LCBUSUxFX1NJWkVfUFggLyAyLCBUSUxFX1NJWkVfUFgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBnMmQuZmlsbFJlY3QoeCwgeSArIFRJTEVfU0laRV9QWCAvIDQsIFRJTEVfU0laRV9QWCwgVElMRV9TSVpFX1BYIC8gMik7XG4gICAgfVxuICB9O1xufVxuXG5mdW5jdGlvbiBtYXBEcmF3T3BlbmVkRG9vcihjb2xvcjogc3RyaW5nKTogRHJhd0Z1bmN0aW9uIHtcbiAgcmV0dXJuIChnMmQsIHgsIHksIHJvdykgPT4ge1xuICAgIGcyZC5maWxsU3R5bGUgPSBjb2xvcjtcblxuICAgIGNvbnN0IG1hcmdpbiA9IDI7XG4gICAgaWYgKHJvdyAlIDIgPT09IDEpIHtcbiAgICAgIGcyZC5maWxsUmVjdCh4ICsgVElMRV9TSVpFX1BYIC8gNCwgeSwgVElMRV9TSVpFX1BYIC8gMiwgbWFyZ2luKTtcbiAgICAgIGcyZC5maWxsUmVjdCh4ICsgVElMRV9TSVpFX1BYIC8gNCwgeSArIFRJTEVfU0laRV9QWCAtIG1hcmdpbiwgVElMRV9TSVpFX1BYIC8gMiwgbWFyZ2luKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZzJkLmZpbGxSZWN0KHgsIHkgKyBUSUxFX1NJWkVfUFggLyA0LCBtYXJnaW4sIFRJTEVfU0laRV9QWCAvIDIpO1xuICAgICAgZzJkLmZpbGxSZWN0KHggKyBUSUxFX1NJWkVfUFggLSBtYXJnaW4sIHkgKyBUSUxFX1NJWkVfUFggLyA0LCBtYXJnaW4sIFRJTEVfU0laRV9QWCAvIDIpO1xuICAgIH1cbiAgfTtcbn1cblxudHlwZSBUb2dnbGVGdW5jdGlvbiA9IChlbnRpdHk6IEVudGl0eTxIVUQ+LCByb3c6IG51bWJlciwgY29sOiBudW1iZXIpID0+IGJvb2xlYW47XG5cbmZ1bmN0aW9uIG1hcERyYXdEb29yKGNvbG9yOiBzdHJpbmcsIGlzT3BlbjogVG9nZ2xlRnVuY3Rpb24pOiBEcmF3RnVuY3Rpb24ge1xuICByZXR1cm4gKGcyZCwgeCwgeSwgcm93LCBjb2wsIGVudGl0eSkgPT4ge1xuICAgIGlmIChpc09wZW4oZW50aXR5LCByb3csIGNvbCkpIHtcbiAgICAgIG1hcERyYXdPcGVuZWREb29yKGNvbG9yKShnMmQsIHgsIHksIHJvdywgY29sLCBlbnRpdHkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBtYXBEcmF3Q2xvc2VkRG9vcihjb2xvcikoZzJkLCB4LCB5LCByb3csIGNvbCwgZW50aXR5KTtcbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIGNoZWNrQmlnRG9vcihlbnRpdHk6IEVudGl0eTxIVUQ+KTogYm9vbGVhbiB7XG4gIGNvbnN0IHN0YXRlID0gZW50aXR5LmFyZWEuZ2FtZS5yZXNvdXJjZXMuZ2V0UmVzb3VyY2U8RG9vclN0YXRlPignZG9vci1zdGF0ZScpO1xuICByZXR1cm4gc3RhdGUuaXNCaWdEb29yT3BlbmVkKCk7XG59XG5cbmZ1bmN0aW9uIGNoZWNrQ29sb3JlZERvb3IoZW50aXR5OiBFbnRpdHk8SFVEPiwgcm93OiBudW1iZXIsIGNvbDogbnVtYmVyKTogYm9vbGVhbiB7XG4gIGNvbnN0IHN0YXRlID0gZW50aXR5LmFyZWEuZ2FtZS5yZXNvdXJjZXMuZ2V0UmVzb3VyY2U8RG9vclN0YXRlPignZG9vci1zdGF0ZScpO1xuICByZXR1cm4gc3RhdGUuaXNDb2xvcmVkRG9vck9wZW5lZChyb3csIGNvbCk7XG59XG5cbmZ1bmN0aW9uIGNoZWNrVG9nZ2xlRG9vcihyZXZlcnNlID0gZmFsc2UpOiBUb2dnbGVGdW5jdGlvbiB7XG4gIHJldHVybiAoZW50aXR5KSA9PiB7XG4gICAgY29uc3Qgc3RhdGUgPSBlbnRpdHkuYXJlYS5nYW1lLnJlc291cmNlcy5nZXRSZXNvdXJjZTxEb29yU3RhdGU+KCdkb29yLXN0YXRlJyk7XG4gICAgcmV0dXJuIHN0YXRlLmdldFRvZ2dsZVN0YXRlKCkgIT09IHJldmVyc2U7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGNoZWNrRWxlY3RyaWNEb29yKHR5cGU6IEVsZWN0cmljQm94VHlwZSk6IFRvZ2dsZUZ1bmN0aW9uIHtcbiAgcmV0dXJuIChlbnRpdHkpID0+IHtcbiAgICBjb25zdCBzdGF0ZSA9IGVudGl0eS5hcmVhLmdhbWUucmVzb3VyY2VzLmdldFJlc291cmNlPERvb3JTdGF0ZT4oJ2Rvb3Itc3RhdGUnKTtcbiAgICByZXR1cm4gc3RhdGUuaXNEb29yUG93ZXJlZCh0eXBlKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gbWFwRHJhd0xldmVySWNvbigpOiBEcmF3RnVuY3Rpb24ge1xuICByZXR1cm4gKGcyZCwgeCwgeSwgcm93LCBjb2wsIGVudGl0eSkgPT4ge1xuICAgIGNvbnN0IHN0YXRlID0gZW50aXR5LmFyZWEuZ2FtZS5yZXNvdXJjZXMuZ2V0UmVzb3VyY2U8RG9vclN0YXRlPignZG9vci1zdGF0ZScpO1xuICAgIGNvbnN0IGljb24gPSBzdGF0ZS5nZXRUb2dnbGVTdGF0ZSgpID8gJ0xldmVyUmV2ZXJzZScgOiAnTGV2ZXInO1xuICAgIG1hcERyYXdJY29uKGljb24pKGcyZCwgeCwgeSwgcm93LCBjb2wsIGVudGl0eSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIG1hcERyYXdQb3J0YWwoKTogRHJhd0Z1bmN0aW9uIHtcbiAgcmV0dXJuIChnMmQsIHgsIHksIF9yb3csIF9jb2wsIGVudGl0eSkgPT4ge1xuICAgIGNvbnN0IG1haW5BcmVhID0gZW50aXR5LmFyZWEuc3RhdGUgYXMgTWFpbkFyZWE7XG4gICAgaWYgKG1haW5BcmVhLmVuZXJneUxlZnQgPT09IDApIHtcbiAgICAgIGcyZC5maWxsU3R5bGUgPSAnIzVCMDBFNyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGcyZC5maWxsU3R5bGUgPSAnIzUxMWYxZic7XG4gICAgfVxuXG4gICAgZzJkLmZpbGxSZWN0KHggLSAoMiAqIFRJTEVfU0laRV9QWCkgLyAzLCB5ICsgVElMRV9TSVpFX1BYIC8gNCwgKDcgKiBUSUxFX1NJWkVfUFgpIC8gMywgVElMRV9TSVpFX1BYIC8gMik7XG5cbiAgICAvLyBPbmx5IGRyYXcgdGhlIGVuZXJneSBvbiB0b3Agb25jZSBhY3RpdmF0ZWRcbiAgICBpZiAobWFpbkFyZWEuZW5lcmd5TGVmdCA9PT0gMCkge1xuICAgICAgY29uc3QgaWNvbkltYWdlID0gZW50aXR5LmFyZWEuZ2FtZS5hc3NldHMuZ2V0SW1hZ2UoJ0VuZXJneScpO1xuICAgICAgZzJkLmRyYXdJbWFnZShpY29uSW1hZ2UsIHggKyBUSUxFX1NJWkVfUFggLyA0LCB5ICsgVElMRV9TSVpFX1BYIC8gNCwgVElMRV9TSVpFX1BYIC8gMiwgVElMRV9TSVpFX1BYIC8gMik7XG4gICAgfVxuICB9O1xufVxuIiwiY29uc3QgTUFYX0hFQUxUSCA9IDEwMDtcblxuLyoqXG4gKiBTdG9yZXMgaW5mb3JtYXRpb24gYWJvdXQgdGhlIHBsYXllciBoZWFsdGhcbiAqL1xuZXhwb3J0IGNsYXNzIEhlYWx0aCB7XG4gIHByaXZhdGUgaGVhbHRoID0gTUFYX0hFQUxUSDtcblxuICBwdWJsaWMgZ2V0SGVhbHRoUGVyY2VudExlZnQoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5oZWFsdGggLyBNQVhfSEVBTFRIO1xuICB9XG5cbiAgcHVibGljIGhlYWwoYW1vdW50OiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLmhlYWx0aCA9IE1hdGgubWluKHRoaXMuaGVhbHRoICsgYW1vdW50LCBNQVhfSEVBTFRIKTtcbiAgfVxuXG4gIHB1YmxpYyBoaXQoYW1vdW50OiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLmhlYWx0aCA9IE1hdGgubWF4KHRoaXMuaGVhbHRoIC0gYW1vdW50LCAwKTtcbiAgfVxuXG4gIHB1YmxpYyBoYXNIZWFsdGhMZWZ0KCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmhlYWx0aCA+IDA7XG4gIH1cbn1cbiIsImltcG9ydCB7IERvb3JDb2xvciB9IGZyb20gJ2VudGl0aWVzL0Rvb3JDb2xvcic7XG5cbi8qKlxuICogU3RvcmVzIGluZm9ybWF0aW9uIGFib3V0IHRoZSBpbi1nYW1lIGludmVudG9yeVxuICovXG5leHBvcnQgY2xhc3MgSW52ZW50b3J5IHtcbiAgcHJpdmF0ZSBtYXBDb2xsZWN0ZWQgPSBmYWxzZTtcbiAgcHJpdmF0ZSBndW5Db2xsZWN0ZWQgPSBmYWxzZTtcblxuICBwcml2YXRlIGtleXNDb2xsZWN0ZWQ6IFJlY29yZDxEb29yQ29sb3IsIG51bWJlcj4gPSB7XG4gICAgW0Rvb3JDb2xvci5SZWRdOiAwLFxuICAgIFtEb29yQ29sb3IuWWVsbG93XTogMCxcbiAgICBbRG9vckNvbG9yLkdyZWVuXTogMCxcbiAgICBbRG9vckNvbG9yLkJsdWVdOiAwLFxuICB9O1xuXG4gIHByaXZhdGUgYmF0dGVyeUNvbGxlY3RlZCA9IDA7XG5cbiAgcHVibGljIGNvbGxlY3RNYXAoKTogdm9pZCB7XG4gICAgdGhpcy5tYXBDb2xsZWN0ZWQgPSB0cnVlO1xuICB9XG5cbiAgcHVibGljIGhhc0NvbGxlY3RlZE1hcCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5tYXBDb2xsZWN0ZWQ7XG4gIH1cblxuICBwdWJsaWMgY29sbGVjdEd1bigpOiB2b2lkIHtcbiAgICB0aGlzLmd1bkNvbGxlY3RlZCA9IHRydWU7XG4gIH1cblxuICBwdWJsaWMgaGFzQ29sbGVjdGVkR3VuKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmd1bkNvbGxlY3RlZDtcbiAgfVxuXG4gIHB1YmxpYyBjb2xsZWN0S2V5KGNvbG9yOiBEb29yQ29sb3IpOiB2b2lkIHtcbiAgICB0aGlzLmtleXNDb2xsZWN0ZWRbY29sb3JdICs9IDE7XG4gIH1cblxuICBwdWJsaWMgZ2V0S2V5Q291bnQoY29sb3I6IERvb3JDb2xvcik6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMua2V5c0NvbGxlY3RlZFtjb2xvcl07XG4gIH1cblxuICBwdWJsaWMgaGFzS2V5QXZhaWxhYmxlKGNvbG9yOiBEb29yQ29sb3IpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5nZXRLZXlDb3VudChjb2xvcikgPiAwO1xuICB9XG5cbiAgcHVibGljIHVzZUtleShjb2xvcjogRG9vckNvbG9yKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMua2V5c0NvbGxlY3RlZFtjb2xvcl0gPiAwKSB7XG4gICAgICB0aGlzLmtleXNDb2xsZWN0ZWRbY29sb3JdIC09IDE7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBjb2xsZWN0QmF0dGVyeSgpOiB2b2lkIHtcbiAgICB0aGlzLmJhdHRlcnlDb2xsZWN0ZWQgKz0gMTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRCYXR0ZXJ5Q291bnQoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5iYXR0ZXJ5Q29sbGVjdGVkO1xuICB9XG5cbiAgcHVibGljIGhhc0NvbGxlY3RlZEJhdHRlcnkoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuYmF0dGVyeUNvbGxlY3RlZCA+IDA7XG4gIH1cblxuICBwdWJsaWMgdXNlQmF0dGVyeSgpOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy5iYXR0ZXJ5Q29sbGVjdGVkID4gMCkge1xuICAgICAgdGhpcy5iYXR0ZXJ5Q29sbGVjdGVkIC09IDE7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgTWFpbkFyZWEgfSBmcm9tICdhcmVhcy9NYWluQXJlYSc7XG5pbXBvcnQgeyBNYXplT2JqZWN0IH0gZnJvbSAnYXJlYXMvTWF6ZU9iamVjdCc7XG5pbXBvcnQgeyBCb3hDb2xsaXNpb25NYXNrIH0gZnJvbSAnZW5naW5lL2NvbGxpc2lvbic7XG5pbXBvcnQgeyBFbnRpdHksIEVudGl0eVN0YXRlIH0gZnJvbSAnZW5naW5lL2VudGl0eSc7XG5pbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XG5cbmNvbnN0IEVORVJHWV9HRU9NRVRSWSA9IG5ldyBUSFJFRS5JY29zYWhlZHJvbkdlb21ldHJ5KDEsIDMpO1xuY29uc3QgRU5FUkdZX01BVEVSSUFMID0gbmV3IFRIUkVFLk1lc2hTdGFuZGFyZE1hdGVyaWFsKHtcbiAgY29sb3I6IDB4ZmY4MDAwLFxuICBlbWlzc2l2ZTogMHhmZjAwMDAsXG59KTtcblxuY29uc3QgU0NBTEVfU1BFRUQgPSBNYXRoLlBJIC8gMjQ7XG5jb25zdCBNQVhfU0NBTEUgPSAwLjE7XG5cbi8qKlxuICogRW5lcmd5IHRoYXQgbmVlZHMgdG8gYmUgY29sbGVjdGVkIHRvIHBvd2VyIHRoZSBleGl0IHBvcnRhbFxuICovXG5leHBvcnQgY2xhc3MgRW5lcmd5IGltcGxlbWVudHMgRW50aXR5U3RhdGUge1xuICBwdWJsaWMgcmVhZG9ubHkgdGFnczogc3RyaW5nW10gPSBbJ2VuZXJneSddO1xuXG4gIHByaXZhdGUgZW50aXR5OiBFbnRpdHk8dGhpcz47XG5cbiAgcHJpdmF0ZSByb3c6IG51bWJlcjtcbiAgcHJpdmF0ZSBjb2x1bW46IG51bWJlcjtcbiAgcHJpdmF0ZSBzY2FsZSA9IDA7XG5cbiAgY29uc3RydWN0b3Iocm93OiBudW1iZXIsIGNvbHVtbjogbnVtYmVyKSB7XG4gICAgdGhpcy5yb3cgPSByb3c7XG4gICAgdGhpcy5jb2x1bW4gPSBjb2x1bW47XG4gIH1cblxuICBvbkNyZWF0ZShlbnRpdHk6IEVudGl0eTx0aGlzPik6IHZvaWQge1xuICAgIHRoaXMuZW50aXR5ID0gZW50aXR5O1xuXG4gICAgY29uc3Qgb2JqZWN0ID0gbmV3IFRIUkVFLk1lc2goRU5FUkdZX0dFT01FVFJZLCBFTkVSR1lfTUFURVJJQUwpO1xuICAgIG9iamVjdC5wb3NpdGlvbi5jb3B5KChlbnRpdHkuYXJlYS5zdGF0ZSBhcyBNYWluQXJlYSkudGlsZUxvY2F0aW9uVG9Qb3NpdGlvbih0aGlzLnJvdywgdGhpcy5jb2x1bW4pKTtcbiAgICBvYmplY3QucG9zaXRpb24ueSA9IDIuNTtcbiAgICBvYmplY3QuY2FzdFNoYWRvdyA9IHRydWU7XG5cbiAgICB0aGlzLmVudGl0eS5vYmplY3QgPSBvYmplY3Q7XG4gICAgdGhpcy5lbnRpdHkubWFzayA9IG5ldyBCb3hDb2xsaXNpb25NYXNrKG9iamVjdCk7XG4gIH1cblxuICBvbkRlc3Ryb3koKTogdm9pZCB7XG4gICAgY29uc3QgbWFpbkFyZWEgPSB0aGlzLmVudGl0eS5hcmVhLnN0YXRlIGFzIE1haW5BcmVhO1xuICAgIG1haW5BcmVhLm1hemVbdGhpcy5yb3ddW3RoaXMuY29sdW1uXSA9IE1hemVPYmplY3QuRW1wdHk7XG5cbiAgICAvLyBQbGF5IHRoZSBzb3VuZFxuICAgIGlmIChtYWluQXJlYS5lbmVyZ3lMZWZ0ID09PSAwKSB7XG4gICAgICBtYWluQXJlYS5hY3RpdmF0ZVBvcnRhbC52b2x1bWUgPSAwLjU7XG4gICAgICBtYWluQXJlYS5hY3RpdmF0ZVBvcnRhbC5wbGF5KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1haW5BcmVhLmNvbGxlY3RJdGVtLnBsYXkoKTtcbiAgICB9XG4gIH1cblxuICBvblN0ZXAoKTogdm9pZCB7XG4gICAgdGhpcy5wbGF5U2NhbGVBbmltYXRpb24oKTtcbiAgICB0aGlzLmNoZWNrRm9yUGxheWVyQ29sbGlzaW9uKCk7XG4gIH1cblxuICAvKipcbiAgICogU2NhbGUgdGhlIGVuZXJneSB0byBtYWtlIGl0IGxvb2sgY29vbFxuICAgKi9cbiAgcHJpdmF0ZSBwbGF5U2NhbGVBbmltYXRpb24oKTogdm9pZCB7XG4gICAgY29uc3QgbmV3U2NhbGUgPSAxICsgTUFYX1NDQUxFICogTWF0aC5zaW4odGhpcy5zY2FsZSk7XG4gICAgdGhpcy5zY2FsZSArPSBTQ0FMRV9TUEVFRDtcbiAgICB0aGlzLmVudGl0eS5vYmplY3Quc2NhbGUuc2V0KG5ld1NjYWxlLCBuZXdTY2FsZSwgbmV3U2NhbGUpO1xuICAgIHRoaXMuZW50aXR5Lm1hc2sudXBkYXRlKHRoaXMuZW50aXR5Lm9iamVjdCk7XG4gIH1cblxuICAvKipcbiAgICogRGVzdHJveSB0aGlzIG9iamVjdCBpZiBpdCBpcyBjb2xsaWRpbmcgd2l0aCB0aGUgcGxheWVyXG4gICAqL1xuICBwcml2YXRlIGNoZWNrRm9yUGxheWVyQ29sbGlzaW9uKCk6IHZvaWQge1xuICAgIGNvbnN0IHBsYXllciA9IHRoaXMuZW50aXR5LmFyZWEuZmluZEZpcnN0RW50aXR5KCdwbGF5ZXInKTtcbiAgICBpZiAocGxheWVyICE9PSBudWxsICYmIHRoaXMuZW50aXR5LmlzQ29sbGlkaW5nV2l0aChwbGF5ZXIpKSB7XG4gICAgICB0aGlzLmVudGl0eS5kZXN0cm95KCk7XG4gICAgfVxuICB9XG5cbiAgb25UaW1lcihfdGltZXJJbmRleDogbnVtYmVyKTogdm9pZCB7fVxuXG4gIG9uRHJhdyhfZzJkOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpOiB2b2lkIHt9XG59XG4iLCJpbXBvcnQgeyBNYWluQXJlYSB9IGZyb20gJ2FyZWFzL01haW5BcmVhJztcbmltcG9ydCB7IFNwaGVyZUNvbGxpc2lvbk1hc2sgfSBmcm9tICdlbmdpbmUvY29sbGlzaW9uJztcbmltcG9ydCB7IEVudGl0eSwgRW50aXR5U3RhdGUgfSBmcm9tICdlbmdpbmUvZW50aXR5JztcbmltcG9ydCB7IEdhbWVwYWRCdXR0b24sIEtleSB9IGZyb20gJ2VuZ2luZS9pbnB1dCc7XG5pbXBvcnQgeyBIVUQgfSBmcm9tICdlbnRpdGllcy9IVUQnO1xuaW1wb3J0IHsgRG9vclN0YXRlIH0gZnJvbSAncmVzb3VyY2VzL0Rvb3JTdGF0ZSc7XG5pbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XG5cbi8qKlxuICogTGV2ZXIgdGhhdCB1cGRhdGVzIHRoZSB0b2dnbGUgZG9vcnNcbiAqL1xuZXhwb3J0IGNsYXNzIExldmVyIGltcGxlbWVudHMgRW50aXR5U3RhdGUge1xuICBwdWJsaWMgcmVhZG9ubHkgdGFnczogc3RyaW5nW10gPSBbJ2xldmVyJ107XG5cbiAgcHJpdmF0ZSBlbnRpdHk6IEVudGl0eTx0aGlzPjtcbiAgcHJpdmF0ZSByb3c6IG51bWJlcjtcbiAgcHJpdmF0ZSBjb2x1bW46IG51bWJlcjtcblxuICAvLyBBbmltYXRpb25zXG4gIHByaXZhdGUgbWl4ZXI6IFRIUkVFLkFuaW1hdGlvbk1peGVyO1xuICBwcml2YXRlIGxldmVyQWN0aW9uOiBUSFJFRS5BbmltYXRpb25BY3Rpb247XG4gIHByaXZhdGUgb3BlbiA9IGZhbHNlO1xuXG4gIGNvbnN0cnVjdG9yKHJvdzogbnVtYmVyLCBjb2x1bW46IG51bWJlcikge1xuICAgIHRoaXMucm93ID0gcm93O1xuICAgIHRoaXMuY29sdW1uID0gY29sdW1uO1xuICB9XG5cbiAgb25DcmVhdGUoZW50aXR5OiBFbnRpdHk8dGhpcz4pOiB2b2lkIHtcbiAgICB0aGlzLmVudGl0eSA9IGVudGl0eTtcblxuICAgIC8vIENvbmZpZ3VyZSBvYmplY3QgbW9kZWxcbiAgICBjb25zdCBvYmplY3QgPSB0aGlzLmVudGl0eS5hcmVhLmdhbWUuYXNzZXRzLmdldE9iamVjdCgnTGV2ZXInKS5jbG9uZSgpO1xuICAgIG9iamVjdC5wb3NpdGlvbi5jb3B5KChlbnRpdHkuYXJlYS5zdGF0ZSBhcyBNYWluQXJlYSkudGlsZUxvY2F0aW9uVG9Qb3NpdGlvbih0aGlzLnJvdywgdGhpcy5jb2x1bW4pKTtcbiAgICBvYmplY3Quc2NhbGUuc2V0KDEuNSwgMS41LCAxLjUpO1xuICAgIG9iamVjdC5jYXN0U2hhZG93ID0gdHJ1ZTtcbiAgICBvYmplY3QuY2hpbGRyZW5bMF0uY2FzdFNoYWRvdyA9IHRydWU7XG4gICAgdGhpcy5lbnRpdHkub2JqZWN0ID0gb2JqZWN0O1xuXG4gICAgLy8gQ29uZmlndXJlIGNvbGxpc2lvbiBtYXNrXG4gICAgdGhpcy5lbnRpdHkubWFzayA9IG5ldyBTcGhlcmVDb2xsaXNpb25NYXNrKG9iamVjdCk7XG5cbiAgICAvLyBMb2FkIGFuaW1hdGlvbnNcbiAgICB0aGlzLm1peGVyID0gbmV3IFRIUkVFLkFuaW1hdGlvbk1peGVyKG9iamVjdCk7XG4gICAgdGhpcy5sZXZlckFjdGlvbiA9IHRoaXMubWl4ZXIuY2xpcEFjdGlvbihlbnRpdHkuYXJlYS5nYW1lLmFzc2V0cy5nZXRBbmltYXRpb24oJ0xldmVyQWN0aW9uJykpO1xuICAgIHRoaXMubGV2ZXJBY3Rpb24ubG9vcCA9IFRIUkVFLkxvb3BPbmNlO1xuICAgIHRoaXMubGV2ZXJBY3Rpb24ucmVwZXRpdGlvbnMgPSAxO1xuICAgIHRoaXMubGV2ZXJBY3Rpb24uY2xhbXBXaGVuRmluaXNoZWQgPSB0cnVlO1xuICB9XG5cbiAgb25EZXN0cm95KCk6IHZvaWQge31cblxuICBvblN0ZXAoKTogdm9pZCB7XG4gICAgdGhpcy5taXhlci51cGRhdGUoMC4wMik7XG4gICAgdGhpcy50ZXN0Rm9yUGxheWVySW50ZXJhY3Rpb24oKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZWUgaWYgdGhlIHBsYXllciBpcyBjb2xsaWRpbmcgc28gaXQgY2FuIGhhbmRsZSB1c2VyIGludGVyYWN0aW9uXG4gICAqL1xuICBwcml2YXRlIHRlc3RGb3JQbGF5ZXJJbnRlcmFjdGlvbigpOiB2b2lkIHtcbiAgICBjb25zdCBwbGF5ZXIgPSB0aGlzLmVudGl0eS5hcmVhLmZpbmRGaXJzdEVudGl0eSgncGxheWVyJyk7XG4gICAgaWYgKHBsYXllciA9PT0gbnVsbCB8fCAhdGhpcy5lbnRpdHkuaXNDb2xsaWRpbmdXaXRoKHBsYXllcikpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBEcmF3IHRoZSBtZXNzYWdlXG4gICAgY29uc3QgaHVkID0gdGhpcy5lbnRpdHkuYXJlYS5maW5kRmlyc3RFbnRpdHkoJ2h1ZCcpIGFzIEVudGl0eTxIVUQ+O1xuICAgIGlmIChodWQgIT09IG51bGwpIHtcbiAgICAgIGlmIChodWQuc3RhdGUubWVzc2FnZS5sZW5ndGggPiAwIHx8IHRoaXMubGV2ZXJBY3Rpb24uaXNSdW5uaW5nKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBodWQuc3RhdGUubWVzc2FnZSA9ICdBY3Rpb246IFB1bGwgTGV2ZXInO1xuICAgIH1cblxuICAgIC8vIFRlc3QgaWYgdGhlIHBsYXllciBjYW4gaW50ZXJhY3Qgd2l0aCB0aGUgbGV2ZXJcbiAgICBpZiAoIXRoaXMubGV2ZXJBY3Rpb24uaXNSdW5uaW5nKCkpIHtcbiAgICAgIHRoaXMuY2hlY2tJbnRlcmFjdGlvbklucHV0KCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRvZ2dsZSB0aGUgYWN0aW9uIGlmIGEga2V5IGlzIHByZXNzZWRcbiAgICovXG4gIHByaXZhdGUgY2hlY2tJbnRlcmFjdGlvbklucHV0KCk6IHZvaWQge1xuICAgIGNvbnN0IGlucHV0ID0gdGhpcy5lbnRpdHkuYXJlYS5nYW1lLmlucHV0O1xuICAgIGlmIChpbnB1dC5pc0tleVN0YXJ0ZWQoS2V5LkUpIHx8IGlucHV0LmlzR2FtZXBhZEJ1dHRvblN0YXJ0ZWQoMCwgR2FtZXBhZEJ1dHRvbi5YU3F1YXJlKSkge1xuICAgICAgaWYgKHRoaXMub3Blbikge1xuICAgICAgICB0aGlzLmNsb3NlTGV2ZXIoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMub3BlbkxldmVyKCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5lbnRpdHkuYXJlYS5nYW1lLnJlc291cmNlcy5nZXRSZXNvdXJjZTxEb29yU3RhdGU+KCdkb29yLXN0YXRlJyk7XG4gICAgICBzdGF0ZS50b2dnbGVEb29ycygpO1xuXG4gICAgICAvLyBQbGF5IHRoZSBzb3VuZFxuICAgICAgY29uc3QgbWFpbkFyZWEgPSB0aGlzLmVudGl0eS5hcmVhLnN0YXRlIGFzIE1haW5BcmVhO1xuICAgICAgbWFpbkFyZWEudG9nZ2xlTGV2ZXIucGxheSgpO1xuICAgICAgbWFpbkFyZWEub3BlbkRvb3IucGxheSgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBQbGF5IGFuaW1hdGlvbiB0byBcIm9wZW5cIiB0aGUgbGV2ZXJcbiAgICovXG4gIHByaXZhdGUgb3BlbkxldmVyKCk6IHZvaWQge1xuICAgIHRoaXMub3BlbiA9IHRydWU7XG5cbiAgICB0aGlzLmxldmVyQWN0aW9uLnRpbWVTY2FsZSA9IDE7XG4gICAgdGhpcy5sZXZlckFjdGlvbi5wYXVzZWQgPSBmYWxzZTtcbiAgICB0aGlzLmxldmVyQWN0aW9uLnBsYXkoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQbGF5IGFuaW1hdGlvbiB0byBcImNsb3NlXCIgdGhlIGxldmVyXG4gICAqL1xuICBwcml2YXRlIGNsb3NlTGV2ZXIoKTogdm9pZCB7XG4gICAgdGhpcy5vcGVuID0gZmFsc2U7XG5cbiAgICB0aGlzLmxldmVyQWN0aW9uLnRpbWVTY2FsZSA9IC0xO1xuICAgIHRoaXMubGV2ZXJBY3Rpb24udGltZSA9IHRoaXMubGV2ZXJBY3Rpb24uZ2V0Q2xpcCgpLmR1cmF0aW9uO1xuICAgIHRoaXMubGV2ZXJBY3Rpb24ucGF1c2VkID0gZmFsc2U7XG4gICAgdGhpcy5sZXZlckFjdGlvbi5wbGF5KCk7XG4gIH1cblxuICBvblRpbWVyKF90aW1lckluZGV4OiBudW1iZXIpOiB2b2lkIHt9XG5cbiAgb25EcmF3KF9nMmQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk6IHZvaWQge31cbn1cbiIsImltcG9ydCB7IE1haW5BcmVhIH0gZnJvbSAnYXJlYXMvTWFpbkFyZWEnO1xuaW1wb3J0IHsgU0NBTEVfQkFTRSB9IGZyb20gJ2FyZWFzL0Fic3RyYWN0TWF6ZUFyZWEnO1xuaW1wb3J0IHsgTWF6ZU9iamVjdCB9IGZyb20gJ2FyZWFzL01hemVPYmplY3QnO1xuaW1wb3J0IHsgQm94Q29sbGlzaW9uTWFzayB9IGZyb20gJ2VuZ2luZS9jb2xsaXNpb24nO1xuaW1wb3J0IHsgRW50aXR5LCBFbnRpdHlTdGF0ZSB9IGZyb20gJ2VuZ2luZS9lbnRpdHknO1xuaW1wb3J0IHsgRXhwbG9zaW9uIH0gZnJvbSAnZW50aXRpZXMvZWZmZWN0cy9FeHBsb3Npb24nO1xuXG5jb25zdCBIRUFMVEggPSAxMDtcblxuLyoqXG4gKiBSb2NrIGJsb2NraW5nIHRoZSBtYXplXG4gKi9cbmV4cG9ydCBjbGFzcyBSb2NrIGltcGxlbWVudHMgRW50aXR5U3RhdGUge1xuICBwdWJsaWMgcmVhZG9ubHkgdGFnczogc3RyaW5nW10gPSBbJ3JvY2snXTtcblxuICBwcml2YXRlIGVudGl0eTogRW50aXR5PHRoaXM+O1xuICBwcml2YXRlIHJvdzogbnVtYmVyO1xuICBwcml2YXRlIGNvbHVtbjogbnVtYmVyO1xuXG4gIHByaXZhdGUgaGVhbHRoID0gSEVBTFRIO1xuXG4gIGNvbnN0cnVjdG9yKHJvdzogbnVtYmVyLCBjb2x1bW46IG51bWJlcikge1xuICAgIHRoaXMucm93ID0gcm93O1xuICAgIHRoaXMuY29sdW1uID0gY29sdW1uO1xuICB9XG5cbiAgb25DcmVhdGUoZW50aXR5OiBFbnRpdHk8dGhpcz4pOiB2b2lkIHtcbiAgICB0aGlzLmVudGl0eSA9IGVudGl0eTtcblxuICAgIGNvbnN0IG9iamVjdCA9IGVudGl0eS5hcmVhLmdhbWUuYXNzZXRzLmdldE9iamVjdCgnUm9jaycpLmNsb25lKCk7XG4gICAgb2JqZWN0LnNjYWxlLnNldChTQ0FMRV9CQVNFIC8gMiwgU0NBTEVfQkFTRSAvIDIsIFNDQUxFX0JBU0UgLyAyKTtcbiAgICBvYmplY3QucG9zaXRpb24uY29weSgoZW50aXR5LmFyZWEuc3RhdGUgYXMgTWFpbkFyZWEpLnRpbGVMb2NhdGlvblRvUG9zaXRpb24odGhpcy5yb3csIHRoaXMuY29sdW1uKSk7XG4gICAgb2JqZWN0LmNhc3RTaGFkb3cgPSB0cnVlO1xuXG4gICAgdGhpcy5lbnRpdHkub2JqZWN0ID0gb2JqZWN0O1xuICAgIHRoaXMuZW50aXR5Lm1hc2sgPSBuZXcgQm94Q29sbGlzaW9uTWFzayhvYmplY3QpO1xuICB9XG5cbiAgb25EZXN0cm95KCk6IHZvaWQge1xuICAgIGNvbnN0IG1haW5BcmVhID0gdGhpcy5lbnRpdHkuYXJlYS5zdGF0ZSBhcyBNYWluQXJlYTtcbiAgICBtYWluQXJlYS5tYXplW3RoaXMucm93XVt0aGlzLmNvbHVtbl0gPSBNYXplT2JqZWN0LkVtcHR5O1xuICB9XG5cbiAgb25TdGVwKCk6IHZvaWQge1xuICAgIHRoaXMuY2hlY2tGb3JCdWxsZXRDb2xsaXNpb24oKTtcbiAgICB0aGlzLmNoZWNrSGVhbHRoKCk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgZm9yIGNvbGxpc2lvbnMgd2l0aCBhbnkgb2YgdGhlIHBsYXllciBidWxsZXRzXG4gICAqL1xuICBwcml2YXRlIGNoZWNrRm9yQnVsbGV0Q29sbGlzaW9uKCk6IHZvaWQge1xuICAgIGZvciAoY29uc3QgYnVsbGV0IG9mIHRoaXMuZW50aXR5LmFyZWEuZmluZEVudGl0aWVzKCdwbGF5ZXItYnVsbGV0JykpIHtcbiAgICAgIGlmICh0aGlzLmVudGl0eS5pc0NvbGxpZGluZ1dpdGgoYnVsbGV0KSkge1xuICAgICAgICBjb25zdCBtYWluQXJlYSA9IHRoaXMuZW50aXR5LmFyZWEuc3RhdGUgYXMgTWFpbkFyZWE7XG4gICAgICAgIG1haW5BcmVhLmhpdE9iamVjdC52b2x1bWUgPSAwLjEyNTtcbiAgICAgICAgbWFpbkFyZWEuaGl0T2JqZWN0LnBsYXkoKTtcblxuICAgICAgICBidWxsZXQuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLmhlYWx0aCAtPSAxO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiB0aGUgaGVhbHRoIGhhcyBkZXN0cm95ZWQgdGhlIHJvY2tcbiAgICovXG4gIHByaXZhdGUgY2hlY2tIZWFsdGgoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuaGVhbHRoIDw9IDApIHtcbiAgICAgIHRoaXMuZW50aXR5LmRlc3Ryb3koKTtcblxuICAgICAgLy8gU3Bhd24gdGhlIGV4cGxvc2lvblxuICAgICAgY29uc3QgZXhwbG9zaW9uUG9zID0gdGhpcy5lbnRpdHkub2JqZWN0LnBvc2l0aW9uLmNsb25lKCk7XG4gICAgICBleHBsb3Npb25Qb3MueSArPSBTQ0FMRV9CQVNFIC8gNDtcbiAgICAgIHRoaXMuZW50aXR5LmFyZWEuY3JlYXRlRW50aXR5KG5ldyBFeHBsb3Npb24oZXhwbG9zaW9uUG9zLCBTQ0FMRV9CQVNFIC8gMikpO1xuICAgIH1cbiAgfVxuXG4gIG9uVGltZXIoX3RpbWVySW5kZXg6IG51bWJlcik6IHZvaWQge31cblxuICBvbkRyYXcoX2cyZDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTogdm9pZCB7fVxufVxuIiwiaW1wb3J0IHsgTWFpbkFyZWEgfSBmcm9tICdhcmVhcy9NYWluQXJlYSc7XG5pbXBvcnQgeyBNYXplT2JqZWN0IH0gZnJvbSAnYXJlYXMvTWF6ZU9iamVjdCc7XG5pbXBvcnQgeyBCb3hDb2xsaXNpb25NYXNrIH0gZnJvbSAnZW5naW5lL2NvbGxpc2lvbic7XG5pbXBvcnQgeyBFbnRpdHksIEVudGl0eVN0YXRlIH0gZnJvbSAnZW5naW5lL2VudGl0eSc7XG5pbXBvcnQgeyBJbnZlbnRvcnkgfSBmcm9tICdyZXNvdXJjZXMvSW52ZW50b3J5JztcblxuLyoqXG4gKiBDb2xsZWN0YWJsZSBiYXR0ZXJ5IGluIHRoZSBtYXplXG4gKi9cbmV4cG9ydCBjbGFzcyBCYXR0ZXJ5IGltcGxlbWVudHMgRW50aXR5U3RhdGUge1xuICBwdWJsaWMgcmVhZG9ubHkgdGFnczogc3RyaW5nW10gPSBbJ2JhdHRlcnknXTtcblxuICBwcml2YXRlIGVudGl0eTogRW50aXR5PHRoaXM+O1xuICBwcml2YXRlIHJvdzogbnVtYmVyO1xuICBwcml2YXRlIGNvbHVtbjogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKHJvdzogbnVtYmVyLCBjb2x1bW46IG51bWJlcikge1xuICAgIHRoaXMucm93ID0gcm93O1xuICAgIHRoaXMuY29sdW1uID0gY29sdW1uO1xuICB9XG5cbiAgb25DcmVhdGUoZW50aXR5OiBFbnRpdHk8dGhpcz4pOiB2b2lkIHtcbiAgICB0aGlzLmVudGl0eSA9IGVudGl0eTtcblxuICAgIGNvbnN0IG9iamVjdCA9IHRoaXMuZW50aXR5LmFyZWEuZ2FtZS5hc3NldHMuZ2V0T2JqZWN0KCdCYXR0ZXJ5JykuY2xvbmUoKTtcbiAgICBvYmplY3QucG9zaXRpb24uY29weSgoZW50aXR5LmFyZWEuc3RhdGUgYXMgTWFpbkFyZWEpLnRpbGVMb2NhdGlvblRvUG9zaXRpb24odGhpcy5yb3csIHRoaXMuY29sdW1uKSk7XG4gICAgb2JqZWN0LnBvc2l0aW9uLnkgPSAyO1xuICAgIG9iamVjdC5zY2FsZS5zZXQoMiwgMiwgMik7XG4gICAgb2JqZWN0LmNoaWxkcmVuWzJdLmNhc3RTaGFkb3cgPSB0cnVlO1xuICAgIHRoaXMuZW50aXR5Lm9iamVjdCA9IG9iamVjdDtcblxuICAgIHRoaXMuZW50aXR5Lm1hc2sgPSBuZXcgQm94Q29sbGlzaW9uTWFzayhvYmplY3QpO1xuICB9XG5cbiAgb25EZXN0cm95KCk6IHZvaWQge1xuICAgIC8vIFJlbW92ZSB0aGUgYmF0dGVyeSBmcm9tIHRoZSBtYXplXG4gICAgY29uc3QgbWFpbkFyZWEgPSB0aGlzLmVudGl0eS5hcmVhLnN0YXRlIGFzIE1haW5BcmVhO1xuICAgIG1haW5BcmVhLm1hemVbdGhpcy5yb3ddW3RoaXMuY29sdW1uXSA9IE1hemVPYmplY3QuRW1wdHk7XG5cbiAgICAvLyBVcGRhdGUgdGhlIGludmVudG9yeVxuICAgIGNvbnN0IGludmVudG9yeSA9IHRoaXMuZW50aXR5LmFyZWEuZ2FtZS5yZXNvdXJjZXMuZ2V0UmVzb3VyY2U8SW52ZW50b3J5PignaW52ZW50b3J5Jyk7XG4gICAgaW52ZW50b3J5LmNvbGxlY3RCYXR0ZXJ5KCk7XG5cbiAgICAvLyBQbGF5IHRoZSBzb3VuZFxuICAgIG1haW5BcmVhLmNvbGxlY3RJdGVtLnBsYXkoKTtcbiAgfVxuXG4gIG9uU3RlcCgpOiB2b2lkIHtcbiAgICAvLyBUZXN0IGZvciBwbGF5ZXIgY29sbGlzaW9uIHRvIGNvbGxlY3QgdGhlIGJhdHRlcnlcbiAgICBjb25zdCBwbGF5ZXIgPSB0aGlzLmVudGl0eS5hcmVhLmZpbmRGaXJzdEVudGl0eSgncGxheWVyJyk7XG4gICAgaWYgKHBsYXllciAhPT0gbnVsbCAmJiB0aGlzLmVudGl0eS5pc0NvbGxpZGluZ1dpdGgocGxheWVyKSkge1xuICAgICAgdGhpcy5lbnRpdHkuZGVzdHJveSgpO1xuICAgIH1cbiAgfVxuXG4gIG9uVGltZXIoX3RpbWVySW5kZXg6IG51bWJlcik6IHZvaWQge31cblxuICBvbkRyYXcoX2cyZDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTogdm9pZCB7fVxufVxuIiwiaW1wb3J0IHsgTWFpbkFyZWEgfSBmcm9tICdhcmVhcy9NYWluQXJlYSc7XG5pbXBvcnQgeyBCb3hDb2xsaXNpb25NYXNrLCBTcGhlcmVDb2xsaXNpb25NYXNrIH0gZnJvbSAnZW5naW5lL2NvbGxpc2lvbic7XG5pbXBvcnQgeyBFbnRpdHksIEVudGl0eVN0YXRlIH0gZnJvbSAnZW5naW5lL2VudGl0eSc7XG5pbXBvcnQgeyBFbGVjdHJpY0JveFR5cGUgfSBmcm9tICdlbnRpdGllcy9FbGVjdHJpY0JveFR5cGUnO1xuaW1wb3J0IHsgR2FtZXBhZEJ1dHRvbiwgS2V5IH0gZnJvbSAnZW5naW5lL2lucHV0JztcbmltcG9ydCB7IEhVRCB9IGZyb20gJ2VudGl0aWVzL0hVRCc7XG5pbXBvcnQgeyBJbnZlbnRvcnkgfSBmcm9tICdyZXNvdXJjZXMvSW52ZW50b3J5JztcbmltcG9ydCB7IERvb3JTdGF0ZSB9IGZyb20gJ3Jlc291cmNlcy9Eb29yU3RhdGUnO1xuaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuXG4vKipcbiAqIEJveCB0byBvcGVuIGFuZCBjbG9zZSBlbGVjdHJpYyBkb29yc1xuICovXG5leHBvcnQgY2xhc3MgRWxlY3RyaWNCb3ggaW1wbGVtZW50cyBFbnRpdHlTdGF0ZSB7XG4gIHB1YmxpYyByZWFkb25seSB0YWdzOiBzdHJpbmdbXSA9IFsnZWxlY3RyaWMtYm94JywgJ3dhbGwnXTtcblxuICBwcml2YXRlIGVudGl0eTogRW50aXR5PHRoaXM+O1xuXG4gIHByaXZhdGUgcm93OiBudW1iZXI7XG4gIHByaXZhdGUgY29sdW1uOiBudW1iZXI7XG4gIHByaXZhdGUgdHlwZTogRWxlY3RyaWNCb3hUeXBlO1xuXG4gIC8vIEZsYWcgdG8gaW5kaWNhdGUgaWYgYmF0dGVyeSBpcyBpbiB0aGUgc3lzdGVtXG4gIHByaXZhdGUgaGFzQmF0dGVyeSA9IGZhbHNlO1xuICBwcml2YXRlIGludGVyYWN0TWFzazogU3BoZXJlQ29sbGlzaW9uTWFzaztcblxuICAvLyBBbmltYXRpb25zXG4gIHByaXZhdGUgbWl4ZXI6IFRIUkVFLkFuaW1hdGlvbk1peGVyO1xuICBwcml2YXRlIGluc2VydEJhdHRlcnk6IFRIUkVFLkFuaW1hdGlvbkFjdGlvbjtcbiAgcHJpdmF0ZSBzcGluV2hlZWw6IFRIUkVFLkFuaW1hdGlvbkFjdGlvbjtcbiAgcHJpdmF0ZSBiYXR0ZXJ5T2JqZWN0OiBUSFJFRS5PYmplY3QzRDtcblxuICBjb25zdHJ1Y3Rvcihyb3c6IG51bWJlciwgY29sdW1uOiBudW1iZXIsIHR5cGU6IEVsZWN0cmljQm94VHlwZSkge1xuICAgIHRoaXMucm93ID0gcm93O1xuICAgIHRoaXMuY29sdW1uID0gY29sdW1uO1xuICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gIH1cblxuICBvbkNyZWF0ZShlbnRpdHk6IEVudGl0eTx0aGlzPik6IHZvaWQge1xuICAgIHRoaXMuZW50aXR5ID0gZW50aXR5O1xuXG4gICAgLy8gQ29uZmlndXJlIG9iamVjdCBtb2RlbFxuICAgIGNvbnN0IG9iamVjdCA9IHRoaXMuZW50aXR5LmFyZWEuZ2FtZS5hc3NldHMuZ2V0T2JqZWN0KCdFbGVjdHJpY0JveCcpLmNsb25lKCk7XG4gICAgb2JqZWN0LnBvc2l0aW9uLmNvcHkoKGVudGl0eS5hcmVhLnN0YXRlIGFzIE1haW5BcmVhKS50aWxlTG9jYXRpb25Ub1Bvc2l0aW9uKHRoaXMucm93LCB0aGlzLmNvbHVtbikpO1xuICAgIG9iamVjdC5jaGlsZHJlblswXS5jYXN0U2hhZG93ID0gdHJ1ZTtcbiAgICBvYmplY3QuY2hpbGRyZW5bM10uY2FzdFNoYWRvdyA9IHRydWU7XG4gICAgdGhpcy5iYXR0ZXJ5T2JqZWN0ID0gb2JqZWN0LmNoaWxkcmVuWzJdO1xuICAgIHRoaXMuYmF0dGVyeU9iamVjdC52aXNpYmxlID0gZmFsc2U7XG4gICAgdGhpcy5lbnRpdHkub2JqZWN0ID0gb2JqZWN0O1xuXG4gICAgLy8gQ29uZmlndXJlIG9iamVjdCBtYXNrc1xuICAgIHRoaXMuZW50aXR5Lm1hc2sgPSBuZXcgQm94Q29sbGlzaW9uTWFzayhvYmplY3QpO1xuICAgIHRoaXMuaW50ZXJhY3RNYXNrID0gbmV3IFNwaGVyZUNvbGxpc2lvbk1hc2sob2JqZWN0KTtcbiAgICB0aGlzLmludGVyYWN0TWFzay5zcGhlcmUucmFkaXVzICo9IDEuNTtcblxuICAgIC8vIExvYWQgYW5pbWF0aW9uc1xuICAgIHRoaXMubWl4ZXIgPSBuZXcgVEhSRUUuQW5pbWF0aW9uTWl4ZXIob2JqZWN0KTtcblxuICAgIHRoaXMuaW5zZXJ0QmF0dGVyeSA9IHRoaXMubWl4ZXIuY2xpcEFjdGlvbihlbnRpdHkuYXJlYS5nYW1lLmFzc2V0cy5nZXRBbmltYXRpb24oJ0JhdHRlcnlBY3Rpb24nKSk7XG4gICAgdGhpcy5pbnNlcnRCYXR0ZXJ5Lmxvb3AgPSBUSFJFRS5Mb29wT25jZTtcbiAgICB0aGlzLmluc2VydEJhdHRlcnkuY2xhbXBXaGVuRmluaXNoZWQgPSB0cnVlO1xuXG4gICAgdGhpcy5zcGluV2hlZWwgPSB0aGlzLm1peGVyLmNsaXBBY3Rpb24oZW50aXR5LmFyZWEuZ2FtZS5hc3NldHMuZ2V0QW5pbWF0aW9uKCdXaGVlbEFjdGlvbicpKTtcbiAgICB0aGlzLnNwaW5XaGVlbC5sb29wID0gVEhSRUUuTG9vcFJlcGVhdDtcbiAgICB0aGlzLnNwaW5XaGVlbC5yZXBldGl0aW9ucyA9IEluZmluaXR5O1xuICAgIHRoaXMuc3BpbldoZWVsLnBhdXNlZCA9IHRydWU7XG4gICAgdGhpcy5zcGluV2hlZWwucGxheSgpO1xuICB9XG5cbiAgb25EZXN0cm95KCk6IHZvaWQge31cblxuICBvblN0ZXAoKTogdm9pZCB7XG4gICAgdGhpcy5taXhlci51cGRhdGUoMC4wMSk7XG4gICAgdGhpcy50ZXN0Rm9yUGxheWVySW50ZXJhY3Rpb24oKTtcblxuICAgIC8vIFRyaWdnZXI6IGNhbGxlZCBPTkUgdGltZSBhZnRlciB0aGUgYmF0dGVyeSBoYXMgYmVlbiBpbnNlcnRlZFxuICAgIGlmICh0aGlzLmhhc0JhdHRlcnkgJiYgIXRoaXMuaW5zZXJ0QmF0dGVyeS5pc1J1bm5pbmcoKSAmJiAhdGhpcy5zcGluV2hlZWwuaXNSdW5uaW5nKCkpIHtcbiAgICAgIC8vIFN0YXJ0IHRoZSBhbmltYXRpb25cbiAgICAgIHRoaXMuc3BpbldoZWVsLnBhdXNlZCA9IGZhbHNlO1xuXG4gICAgICAvLyBNYXJrIGRvb3IgYXMgcG93ZXJlZFxuICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLmVudGl0eS5hcmVhLmdhbWUucmVzb3VyY2VzLmdldFJlc291cmNlPERvb3JTdGF0ZT4oJ2Rvb3Itc3RhdGUnKTtcbiAgICAgIHN0YXRlLnNldERvb3JQb3dlcmVkKHRoaXMudHlwZSwgdHJ1ZSk7XG5cbiAgICAgIC8vIFBsYXkgdGhlIHBvd2VyLXVwIHNvdW5kXG4gICAgICBjb25zdCBtYWluQXJlYSA9IHRoaXMuZW50aXR5LmFyZWEuc3RhdGUgYXMgTWFpbkFyZWE7XG4gICAgICBtYWluQXJlYS5lbGVjdHJpY0JveC52b2x1bWUgPSAwLjI1O1xuICAgICAgbWFpbkFyZWEuZWxlY3RyaWNCb3gucGxheSgpO1xuICAgIH1cblxuICAgIC8vIFRyaWdnZXI6IGNhbGxlZCBPTkUgdGltZSBhZnRlciB0aGUgYmF0dGVyeSBoYXMgYmVlbiByZW1vdmVkXG4gICAgaWYgKCF0aGlzLmhhc0JhdHRlcnkgJiYgIXRoaXMuaW5zZXJ0QmF0dGVyeS5pc1J1bm5pbmcoKSAmJiB0aGlzLmJhdHRlcnlPYmplY3QudmlzaWJsZSkge1xuICAgICAgLy8gSGlkZSB0aGUgYmF0dGVyeVxuICAgICAgdGhpcy5iYXR0ZXJ5T2JqZWN0LnZpc2libGUgPSBmYWxzZTtcblxuICAgICAgLy8gQ29sbGVjdCB0aGUgYmF0dGVyeSBhZ2FpblxuICAgICAgY29uc3QgaW52ZW50b3J5ID0gdGhpcy5lbnRpdHkuYXJlYS5nYW1lLnJlc291cmNlcy5nZXRSZXNvdXJjZTxJbnZlbnRvcnk+KCdpbnZlbnRvcnknKTtcbiAgICAgIGludmVudG9yeS5jb2xsZWN0QmF0dGVyeSgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZWUgaWYgdGhlIHBsYXllciBpcyBjb2xsaWRpbmcgc28gaXQgY2FuIGhhbmRsZSB1c2VyIGludGVyYWN0aW9uXG4gICAqL1xuICBwcml2YXRlIHRlc3RGb3JQbGF5ZXJJbnRlcmFjdGlvbigpOiB2b2lkIHtcbiAgICBjb25zdCBwbGF5ZXIgPSB0aGlzLmVudGl0eS5hcmVhLmZpbmRGaXJzdEVudGl0eSgncGxheWVyJyk7XG4gICAgaWYgKHBsYXllciA9PT0gbnVsbCB8fCAhdGhpcy5pbnRlcmFjdE1hc2suaXNDb2xsaWRpbmdXaXRoKHBsYXllci5tYXNrKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIERyYXcgdGhlIG1lc3NhZ2VcbiAgICBjb25zdCBodWQgPSB0aGlzLmVudGl0eS5hcmVhLmZpbmRGaXJzdEVudGl0eSgnaHVkJykgYXMgRW50aXR5PEhVRD47XG4gICAgaWYgKGh1ZCAhPT0gbnVsbCkge1xuICAgICAgY29uc3QgaW52ZW50b3J5ID0gdGhpcy5lbnRpdHkuYXJlYS5nYW1lLnJlc291cmNlcy5nZXRSZXNvdXJjZTxJbnZlbnRvcnk+KCdpbnZlbnRvcnknKTtcbiAgICAgIGlmIChodWQuc3RhdGUubWVzc2FnZS5sZW5ndGggPiAwIHx8IHRoaXMuaW5zZXJ0QmF0dGVyeS5pc1J1bm5pbmcoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmhhc0JhdHRlcnkpIHtcbiAgICAgICAgaHVkLnN0YXRlLm1lc3NhZ2UgPSAnQWN0aW9uOiBUYWtlIEJhdHRlcnknO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaHVkLnN0YXRlLm1lc3NhZ2UgPSBpbnZlbnRvcnkuaGFzQ29sbGVjdGVkQmF0dGVyeSgpID8gJ0FjdGlvbjogSW5zZXJ0IEJhdHRlcnknIDogJ05lZWRzIGEgYmF0dGVyeSBmb3IgcG93ZXInO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFRlc3QgaWYgdGhlIHBsYXllciBjYW4gaW50ZXJhY3Qgd2l0aCB0aGUgYm94XG4gICAgaWYgKCF0aGlzLmluc2VydEJhdHRlcnkuaXNSdW5uaW5nKCkpIHtcbiAgICAgIHRoaXMuY2hlY2tJbnRlcmFjdGlvbklucHV0KCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRvZ2dsZSB0aGUgYWN0aW9uIGlmIGEga2V5IGlzIHByZXNzZWRcbiAgICovXG4gIHByaXZhdGUgY2hlY2tJbnRlcmFjdGlvbklucHV0KCk6IHZvaWQge1xuICAgIGNvbnN0IGlucHV0ID0gdGhpcy5lbnRpdHkuYXJlYS5nYW1lLmlucHV0O1xuICAgIGlmIChpbnB1dC5pc0tleVN0YXJ0ZWQoS2V5LkUpIHx8IGlucHV0LmlzR2FtZXBhZEJ1dHRvblN0YXJ0ZWQoMCwgR2FtZXBhZEJ1dHRvbi5YU3F1YXJlKSkge1xuICAgICAgY29uc3QgaW52ZW50b3J5ID0gdGhpcy5lbnRpdHkuYXJlYS5nYW1lLnJlc291cmNlcy5nZXRSZXNvdXJjZTxJbnZlbnRvcnk+KCdpbnZlbnRvcnknKTtcbiAgICAgIGlmICh0aGlzLmhhc0JhdHRlcnkpIHtcbiAgICAgICAgLy8gU3RvcCBzcGlubmluZyB0aGUgd2hlZWxcbiAgICAgICAgdGhpcy5zcGluV2hlZWwucGF1c2VkID0gdHJ1ZTtcblxuICAgICAgICAvLyBSZXZlcnNlIGFuaW1hdGlvblxuICAgICAgICB0aGlzLmluc2VydEJhdHRlcnkudGltZVNjYWxlID0gLTE7XG4gICAgICAgIHRoaXMuaW5zZXJ0QmF0dGVyeS5wYXVzZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pbnNlcnRCYXR0ZXJ5LnBsYXkoKTtcblxuICAgICAgICAvLyBNYXJrIGRvb3IgYXMgdW5wb3dlcmVkXG4gICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5lbnRpdHkuYXJlYS5nYW1lLnJlc291cmNlcy5nZXRSZXNvdXJjZTxEb29yU3RhdGU+KCdkb29yLXN0YXRlJyk7XG4gICAgICAgIHN0YXRlLnNldERvb3JQb3dlcmVkKHRoaXMudHlwZSwgZmFsc2UpO1xuXG4gICAgICAgIC8vIEluZGljYXRlIG5vIGJhdHRlcnlcbiAgICAgICAgdGhpcy5oYXNCYXR0ZXJ5ID0gZmFsc2U7XG5cbiAgICAgICAgLy8gUGxheSB0aGUgcG93ZXItb2ZmIHNvdW5kXG4gICAgICAgIGNvbnN0IG1haW5BcmVhID0gdGhpcy5lbnRpdHkuYXJlYS5zdGF0ZSBhcyBNYWluQXJlYTtcbiAgICAgICAgbWFpbkFyZWEudG9nZ2xlTGV2ZXIucGxheSgpO1xuICAgICAgICBtYWluQXJlYS5vcGVuRG9vci5wbGF5KCk7XG4gICAgICB9IGVsc2UgaWYgKGludmVudG9yeS5oYXNDb2xsZWN0ZWRCYXR0ZXJ5KCkpIHtcbiAgICAgICAgLy8gSW5zZXJ0IGFuaW1hdGlvblxuICAgICAgICB0aGlzLmluc2VydEJhdHRlcnkudGltZVNjYWxlID0gMTtcbiAgICAgICAgdGhpcy5iYXR0ZXJ5T2JqZWN0LnZpc2libGUgPSB0cnVlO1xuICAgICAgICB0aGlzLmluc2VydEJhdHRlcnkucGF1c2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaW5zZXJ0QmF0dGVyeS5wbGF5KCk7XG5cbiAgICAgICAgLy8gSW5kaWNhdGUgYmF0dGVyeVxuICAgICAgICBpbnZlbnRvcnkudXNlQmF0dGVyeSgpO1xuICAgICAgICB0aGlzLmhhc0JhdHRlcnkgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIG9uVGltZXIoX3RpbWVySW5kZXg6IG51bWJlcik6IHZvaWQge31cblxuICBvbkRyYXcoX2cyZDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTogdm9pZCB7fVxufVxuIiwiaW1wb3J0IHsgRWxlY3RyaWNCb3hUeXBlIH0gZnJvbSAnZW50aXRpZXMvRWxlY3RyaWNCb3hUeXBlJztcblxuLyoqXG4gKiBIYW5kbGVzIHRoZSBzdGF0ZSBvZiB0aGUgZG9vcnMgaW4gdGhlIHJvb21cbiAqL1xuZXhwb3J0IGNsYXNzIERvb3JTdGF0ZSB7XG4gIC8vLyBCaWcgRG9vciFcbiAgcHJpdmF0ZSBiaWdEb29yT3BlbmVkID0gZmFsc2U7XG5cbiAgLy8gQ29sb3JlZCBkb29yc1xuICBwcml2YXRlIGNvbG9yZWREb29yczogU2V0PHN0cmluZz4gPSBuZXcgU2V0KCk7XG5cbiAgLy8gVG9nZ2xlZCBkb29yc1xuICBwcml2YXRlIHRvZ2dsZSA9IGZhbHNlO1xuXG4gIC8vIFBvd2VyZWQgZG9vcnNcbiAgcHJpdmF0ZSBwb3dlcmVkOiBSZWNvcmQ8RWxlY3RyaWNCb3hUeXBlLCBib29sZWFuPiA9IHtcbiAgICBbRWxlY3RyaWNCb3hUeXBlLkFdOiBmYWxzZSxcbiAgICBbRWxlY3RyaWNCb3hUeXBlLkJdOiBmYWxzZSxcbiAgICBbRWxlY3RyaWNCb3hUeXBlLkNdOiBmYWxzZSxcbiAgfTtcblxuICBwdWJsaWMgaXNCaWdEb29yT3BlbmVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmJpZ0Rvb3JPcGVuZWQ7XG4gIH1cblxuICBwdWJsaWMgb3BlbkJpZ0Rvb3IoKTogdm9pZCB7XG4gICAgdGhpcy5iaWdEb29yT3BlbmVkID0gdHJ1ZTtcbiAgfVxuXG4gIHB1YmxpYyBpc0NvbG9yZWREb29yT3BlbmVkKHJvdzogbnVtYmVyLCBjb2w6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmNvbG9yZWREb29ycy5oYXMoYCR7cm93fS0ke2NvbH1gKTtcbiAgfVxuXG4gIHB1YmxpYyBzZXRDb2xvcmVkRG9vck9wZW5lZChyb3c6IG51bWJlciwgY29sOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLmNvbG9yZWREb29ycy5hZGQoYCR7cm93fS0ke2NvbH1gKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRUb2dnbGVTdGF0ZSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy50b2dnbGU7XG4gIH1cblxuICBwdWJsaWMgdG9nZ2xlRG9vcnMoKTogdm9pZCB7XG4gICAgdGhpcy50b2dnbGUgPSAhdGhpcy50b2dnbGU7XG4gIH1cblxuICBwdWJsaWMgaXNEb29yUG93ZXJlZCh0eXBlOiBFbGVjdHJpY0JveFR5cGUpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5wb3dlcmVkW3R5cGVdO1xuICB9XG5cbiAgcHVibGljIHNldERvb3JQb3dlcmVkKHR5cGU6IEVsZWN0cmljQm94VHlwZSwgcG93ZXJlZDogYm9vbGVhbik6IHZvaWQge1xuICAgIHRoaXMucG93ZXJlZFt0eXBlXSA9IHBvd2VyZWQ7XG4gIH1cbn1cbiIsImltcG9ydCB7IFNwaGVyZUNvbGxpc2lvbk1hc2sgfSBmcm9tICdlbmdpbmUvY29sbGlzaW9uJztcbmltcG9ydCB7IEVudGl0eSwgRW50aXR5U3RhdGUgfSBmcm9tICdlbmdpbmUvZW50aXR5JztcbmltcG9ydCB7IEhVRCB9IGZyb20gJ2VudGl0aWVzL0hVRCc7XG5pbXBvcnQgeyBEb29yU3RhdGUgfSBmcm9tICdyZXNvdXJjZXMvRG9vclN0YXRlJztcbmltcG9ydCB7IEFic3RyYWN0RG9vciB9IGZyb20gJy4vQWJzdHJhY3REb29yJztcblxuLyoqXG4gKiBEb29yIG9iamVjdCBpbiB0aGUgbWF6ZVxuICovXG5leHBvcnQgY2xhc3MgVG9nZ2xlRG9vciBleHRlbmRzIEFic3RyYWN0RG9vciBpbXBsZW1lbnRzIEVudGl0eVN0YXRlIHtcbiAgcHVibGljIHJlYWRvbmx5IHRhZ3M6IHN0cmluZ1tdID0gWyd3YWxsJ107XG5cbiAgcHJpdmF0ZSByZWFkb25seSByZXZlcnNlOiBib29sZWFuO1xuICBwcml2YXRlIGludGVyYWN0TWFzazogU3BoZXJlQ29sbGlzaW9uTWFzaztcblxuICAvKipcbiAgICogU3Bhd24gYSB3YWxsIGluIGEgdGlsZSBpbnNpZGUgdGhlIG1hemVcbiAgICovXG4gIGNvbnN0cnVjdG9yKHJvdzogbnVtYmVyLCBjb2x1bW46IG51bWJlciwgcmV2ZXJzZSA9IGZhbHNlKSB7XG4gICAgc3VwZXIocm93LCBjb2x1bW4sICdUb2dnbGVEb29yJyk7XG4gICAgdGhpcy5yZXZlcnNlID0gcmV2ZXJzZTtcbiAgfVxuXG4gIG9uQ3JlYXRlRG9vcigpOiB2b2lkIHtcbiAgICB0aGlzLmludGVyYWN0TWFzayA9IG5ldyBTcGhlcmVDb2xsaXNpb25NYXNrKHRoaXMuZW50aXR5Lm9iamVjdCk7XG4gIH1cblxuICBvbkRlc3Ryb3koKTogdm9pZCB7fVxuXG4gIG9uU3RlcERvb3IoKTogdm9pZCB7XG4gICAgdGhpcy5zeW5jV2l0aFN0YXRlKCk7XG4gICAgdGhpcy50ZXN0Rm9yUGxheWVySW50ZXJhY3Rpb24oKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNYWtlIHN1cmUgdGhlIGRvb3IgbWF0Y2hlcyB0aGUgZ2xvYmFsIHN0YXRlXG4gICAqL1xuICBwcml2YXRlIHN5bmNXaXRoU3RhdGUoKTogdm9pZCB7XG4gICAgY29uc3Qgc3RhdGUgPSB0aGlzLmVudGl0eS5hcmVhLmdhbWUucmVzb3VyY2VzLmdldFJlc291cmNlPERvb3JTdGF0ZT4oJ2Rvb3Itc3RhdGUnKTtcbiAgICBjb25zdCBleHBlY3RlZFN0YXRlID0gdGhpcy5yZXZlcnNlID8gIXN0YXRlLmdldFRvZ2dsZVN0YXRlKCkgOiBzdGF0ZS5nZXRUb2dnbGVTdGF0ZSgpO1xuICAgIGlmICh0aGlzLm9wZW4gIT09IGV4cGVjdGVkU3RhdGUpIHtcbiAgICAgIGlmICh0aGlzLm9wZW4pIHtcbiAgICAgICAgdGhpcy5jbG9zZURvb3IoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMub3BlbkRvb3IoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2VlIGlmIHRoZSBwbGF5ZXIgaXMgY29sbGlkaW5nIHNvIGl0IGNhbiBoYW5kbGUgdXNlciBpbnRlcmFjdGlvblxuICAgKi9cbiAgcHJpdmF0ZSB0ZXN0Rm9yUGxheWVySW50ZXJhY3Rpb24oKTogdm9pZCB7XG4gICAgaWYgKHRoaXMub3Blbikge1xuICAgICAgcmV0dXJuOyAvLyBEb24ndCBzaG93IG1lc3NhZ2UgZm9yIG9wZW4gZG9vclxuICAgIH1cblxuICAgIGNvbnN0IHBsYXllciA9IHRoaXMuZW50aXR5LmFyZWEuZmluZEZpcnN0RW50aXR5KCdwbGF5ZXInKTtcbiAgICBpZiAocGxheWVyID09PSBudWxsIHx8ICF0aGlzLmludGVyYWN0TWFzay5pc0NvbGxpZGluZ1dpdGgocGxheWVyLm1hc2spKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gU2hvdyBIVUQgbWVzc2FnZVxuICAgIGNvbnN0IGh1ZCA9IHRoaXMuZW50aXR5LmFyZWEuZmluZEZpcnN0RW50aXR5KCdodWQnKSBhcyBFbnRpdHk8SFVEPjtcbiAgICBpZiAoaHVkICE9PSBudWxsICYmIGh1ZC5zdGF0ZS5tZXNzYWdlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgaHVkLnN0YXRlLm1lc3NhZ2UgPSAnRmxpcCBsZXZlciB0byB0b2dnbGUgZG9vcic7XG4gICAgfVxuICB9XG5cbiAgb25UaW1lcihfdGltZXJJbmRleDogbnVtYmVyKTogdm9pZCB7fVxuXG4gIG9uRHJhdyhfZzJkOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpOiB2b2lkIHt9XG59XG4iLCJpbXBvcnQgeyBFbnRpdHksIEVudGl0eVN0YXRlIH0gZnJvbSAnZW5naW5lL2VudGl0eSc7XG5pbXBvcnQgeyBEb29yU3RhdGUgfSBmcm9tICdyZXNvdXJjZXMvRG9vclN0YXRlJztcbmltcG9ydCB7IEFic3RyYWN0RG9vciB9IGZyb20gJ2VudGl0aWVzL21hemUtb2JqZWN0cy9BYnN0cmFjdERvb3InO1xuaW1wb3J0IHsgRWxlY3RyaWNCb3hUeXBlIH0gZnJvbSAnZW50aXRpZXMvRWxlY3RyaWNCb3hUeXBlJztcbmltcG9ydCB7IFNwaGVyZUNvbGxpc2lvbk1hc2sgfSBmcm9tICdlbmdpbmUvY29sbGlzaW9uJztcbmltcG9ydCB7IEhVRCB9IGZyb20gJ2VudGl0aWVzL0hVRCc7XG5cbi8qKlxuICogRG9vciBvYmplY3QgaW4gdGhlIG1hemVcbiAqL1xuZXhwb3J0IGNsYXNzIEVsZWN0cmljRG9vciBleHRlbmRzIEFic3RyYWN0RG9vciBpbXBsZW1lbnRzIEVudGl0eVN0YXRlIHtcbiAgcHVibGljIHJlYWRvbmx5IHRhZ3M6IHN0cmluZ1tdID0gWyd3YWxsJ107XG5cbiAgcHJpdmF0ZSByZWFkb25seSB0eXBlOiBFbGVjdHJpY0JveFR5cGU7XG4gIHByaXZhdGUgaW50ZXJhY3RNYXNrOiBTcGhlcmVDb2xsaXNpb25NYXNrO1xuXG4gIGNvbnN0cnVjdG9yKHJvdzogbnVtYmVyLCBjb2x1bW46IG51bWJlciwgdHlwZTogRWxlY3RyaWNCb3hUeXBlKSB7XG4gICAgc3VwZXIocm93LCBjb2x1bW4sICdFbGVjdHJpY0Rvb3InKTtcbiAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICB9XG5cbiAgb25DcmVhdGVEb29yKCk6IHZvaWQge1xuICAgIC8vIENvbmZpZ3VyZSBpbnRlcmFjdGlvbiBtYXNrc1xuICAgIHRoaXMuaW50ZXJhY3RNYXNrID0gbmV3IFNwaGVyZUNvbGxpc2lvbk1hc2sodGhpcy5lbnRpdHkub2JqZWN0KTtcbiAgfVxuXG4gIG9uRGVzdHJveSgpOiB2b2lkIHt9XG5cbiAgb25TdGVwRG9vcigpOiB2b2lkIHtcbiAgICB0aGlzLnN5bmNXaXRoU3RhdGUoKTtcbiAgICB0aGlzLnRlc3RGb3JQbGF5ZXJJbnRlcmFjdGlvbigpO1xuICB9XG5cbiAgLyoqXG4gICAqIE1ha2Ugc3VyZSB0aGUgZG9vciBtYXRjaGVzIHRoZSBnbG9iYWwgc3RhdGVcbiAgICovXG4gIHByaXZhdGUgc3luY1dpdGhTdGF0ZSgpOiB2b2lkIHtcbiAgICBjb25zdCBzdGF0ZSA9IHRoaXMuZW50aXR5LmFyZWEuZ2FtZS5yZXNvdXJjZXMuZ2V0UmVzb3VyY2U8RG9vclN0YXRlPignZG9vci1zdGF0ZScpO1xuICAgIGlmICh0aGlzLm9wZW4gIT09IHN0YXRlLmlzRG9vclBvd2VyZWQodGhpcy50eXBlKSkge1xuICAgICAgaWYgKHRoaXMub3Blbikge1xuICAgICAgICB0aGlzLmNsb3NlRG9vcigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5vcGVuRG9vcigpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZWUgaWYgdGhlIHBsYXllciBpcyBjb2xsaWRpbmcgc28gaXQgY2FuIGhhbmRsZSB1c2VyIGludGVyYWN0aW9uXG4gICAqL1xuICBwcml2YXRlIHRlc3RGb3JQbGF5ZXJJbnRlcmFjdGlvbigpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5vcGVuKSB7XG4gICAgICByZXR1cm47IC8vIERvbid0IHNob3cgbWVzc2FnZSBmb3Igb3BlbiBkb29yXG4gICAgfVxuXG4gICAgY29uc3QgcGxheWVyID0gdGhpcy5lbnRpdHkuYXJlYS5maW5kRmlyc3RFbnRpdHkoJ3BsYXllcicpO1xuICAgIGlmIChwbGF5ZXIgPT09IG51bGwgfHwgIXRoaXMuaW50ZXJhY3RNYXNrLmlzQ29sbGlkaW5nV2l0aChwbGF5ZXIubWFzaykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBTaG93IEhVRCBtZXNzYWdlXG4gICAgY29uc3QgaHVkID0gdGhpcy5lbnRpdHkuYXJlYS5maW5kRmlyc3RFbnRpdHkoJ2h1ZCcpIGFzIEVudGl0eTxIVUQ+O1xuICAgIGlmIChodWQgIT09IG51bGwgJiYgaHVkLnN0YXRlLm1lc3NhZ2UubGVuZ3RoID09PSAwKSB7XG4gICAgICBodWQuc3RhdGUubWVzc2FnZSA9ICdEb29yIG5lZWRzIHRvIGJlIHBvd2VyZWQnO1xuICAgIH1cbiAgfVxuXG4gIG9uVGltZXIoX3RpbWVySW5kZXg6IG51bWJlcik6IHZvaWQge31cblxuICBvbkRyYXcoX2cyZDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTogdm9pZCB7fVxufVxuIiwiaW1wb3J0IHsgQXJlYSwgQXJlYVN0YXRlIH0gZnJvbSAnZW5naW5lL2FyZWEnO1xuaW1wb3J0IHsgQXVkaW9XcmFwcGVyIH0gZnJvbSAnZW5naW5lL2F1ZGlvJztcbmltcG9ydCB7IE1vdXNlQnV0dG9uIH0gZnJvbSAnZW5naW5lL2lucHV0JztcbmltcG9ydCB7IFRpdGxlQXJlYSB9IGZyb20gJy4vVGl0bGVBcmVhJztcblxuY29uc3QgTElORTEgPSAnR29vZCBuZXdzOiB0aGUgb3BlcmF0aW9uIHdhcyBzdWNjZXNzZnVsISc7XG5jb25zdCBMSU5FMiA9ICdZb3UganVzdCB3b2tlIHVwIGZyb20gdGhlIGNvbWEuJztcbmNvbnN0IExJTkUzID0gJ1dlIGV4cGVjdCB5b3UgdG8gbWFrZSBhIGZ1bGwgcmVjb3ZlcnkuJztcblxuLyoqXG4gKiBFbmRpbmcgbWVzc2FnZSBmb3IgdGhlIGdhbWVcbiAqL1xuZXhwb3J0IGNsYXNzIEVuZGluZ0FyZWEgaW1wbGVtZW50cyBBcmVhU3RhdGUge1xuICBwcml2YXRlIGFyZWE6IEFyZWE8dGhpcz47XG5cbiAgcHJpdmF0ZSBoZWFydE1vbml0b3I6IEF1ZGlvV3JhcHBlcjtcbiAgcHJpdmF0ZSBzdGFydFRpbWU6IG51bWJlcjtcbiAgcHJpdmF0ZSBhbHBoYSA9IDA7XG5cbiAgb25DcmVhdGUoYXJlYTogQXJlYTx0aGlzPik6IHZvaWQge1xuICAgIHRoaXMuYXJlYSA9IGFyZWE7XG5cbiAgICAvLyBMb2FkIGFueSBzb3VuZHNcbiAgICB0aGlzLmhlYXJ0TW9uaXRvciA9IHRoaXMuYXJlYS5jcmVhdGVBdWRpbygnSGVhcnRNb25pdG9yJyk7XG4gICAgdGhpcy5oZWFydE1vbml0b3Iudm9sdW1lID0gMDtcbiAgICB0aGlzLmhlYXJ0TW9uaXRvci5wbGF5KHRydWUpO1xuICAgIHRoaXMuc3RhcnRUaW1lID0gdGhpcy5oZWFydE1vbml0b3IuYXVkaW8uY29udGV4dC5jdXJyZW50VGltZTtcbiAgICB0aGlzLmFyZWEuc2V0VGltZXIoMSwgMTAsIHRydWUpO1xuXG4gICAgLy8gRmFkZSBpbiB0aGUgdGV4dFxuICAgIHRoaXMuYXJlYS5zZXRUaW1lcigyLCAzMDAsIGZhbHNlKTtcbiAgfVxuXG4gIG9uVGltZXIodGltZXJJbmRleDogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKHRpbWVySW5kZXggPT09IDEpIHtcbiAgICAgIHRoaXMuZmFkZUluU291bmQoKTtcbiAgICB9XG4gICAgaWYgKHRpbWVySW5kZXggPT09IDIpIHtcbiAgICAgIHRoaXMuZmFkZUluVGV4dCgpO1xuICAgIH1cbiAgICBpZiAodGltZXJJbmRleCA9PT0gMykge1xuICAgICAgdGhpcy5mYWRlT3V0VGV4dCgpO1xuICAgIH1cbiAgICBpZiAodGltZXJJbmRleCA9PT0gNCkge1xuICAgICAgdGhpcy5hcmVhLmdhbWUuc2V0QXJlYShuZXcgVGl0bGVBcmVhKCkpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBGYWRlIGluIHRoZSBoZWFydCBtb25pdG9yIHNvdW5kXG4gICAqL1xuICBwcml2YXRlIGZhZGVJblNvdW5kKCk6IHZvaWQge1xuICAgIHRoaXMuaGVhcnRNb25pdG9yLnZvbHVtZSA9IE1hdGgubWluKDEsIHRoaXMuaGVhcnRNb25pdG9yLnZvbHVtZSArIDAuMDUpO1xuICAgIGlmICh0aGlzLmhlYXJ0TW9uaXRvci52b2x1bWUgPj0gMSkge1xuICAgICAgdGhpcy5hcmVhLmNsZWFyVGltZXIoMSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEZhZGUgaW4gdGhlIGNvbmNsdXNpb24gdGV4dFxuICAgKi9cbiAgcHJpdmF0ZSBmYWRlSW5UZXh0KCk6IHZvaWQge1xuICAgIHRoaXMuYWxwaGEgPSBNYXRoLm1pbigxLCB0aGlzLmFscGhhICsgMC4xKTtcbiAgICBpZiAodGhpcy5hbHBoYSA+PSAxKSB7XG4gICAgICB0aGlzLmFyZWEuY2xlYXJUaW1lcigyKTtcbiAgICAgIHRoaXMuYXJlYS5zZXRUaW1lcigzLCA1MDAsIGZhbHNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5hcmVhLnNldFRpbWVyKDIsIDEwLCBmYWxzZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEZhZGUgb3V0IHRoZSBjb25jbHVzaW9uIHRleHRcbiAgICovXG4gIHByaXZhdGUgZmFkZU91dFRleHQoKTogdm9pZCB7XG4gICAgdGhpcy5hbHBoYSA9IE1hdGgubWF4KDAsIHRoaXMuYWxwaGEgLSAwLjA1KTtcbiAgICB0aGlzLmhlYXJ0TW9uaXRvci52b2x1bWUgPSBNYXRoLm1heCgwLCB0aGlzLmhlYXJ0TW9uaXRvci52b2x1bWUgLSAwLjA1KTtcblxuICAgIGlmICh0aGlzLmFscGhhIDw9IDAgJiYgdGhpcy5oZWFydE1vbml0b3Iudm9sdW1lIDw9IDApIHtcbiAgICAgIHRoaXMuYXJlYS5jbGVhclRpbWVyKDMpO1xuICAgICAgdGhpcy5oZWFydE1vbml0b3Iuc3RvcCgpO1xuICAgICAgdGhpcy5oZWFydE1vbml0b3Iudm9sdW1lID0gMDtcblxuICAgICAgdGhpcy5hcmVhLnNldFRpbWVyKDQsIDIwMCwgZmFsc2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFyZWEuc2V0VGltZXIoMywgMTUsIGZhbHNlKTtcbiAgICB9XG4gIH1cblxuICBvblN0ZXAoKTogdm9pZCB7XG4gICAgLy8gRml4IGZvciBhdWRpbyBwbGF5aW5nXG4gICAgY29uc3QgaW5wdXQgPSB0aGlzLmFyZWEuZ2FtZS5pbnB1dDtcbiAgICBpZiAoaW5wdXQuaXNNb3VzZUJ1dHRvbkRvd24oTW91c2VCdXR0b24uTGVmdCkpIHtcbiAgICAgIHRoaXMuaGVhcnRNb25pdG9yLmF1ZGlvLmNvbnRleHQucmVzdW1lKCk7XG4gICAgfVxuICB9XG5cbiAgb25EcmF3KGcyZDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTogdm9pZCB7XG4gICAgZzJkLmZvbnQgPSAnMjBwdCBzYW5zLXNlcmlmJztcbiAgICBnMmQudGV4dEFsaWduID0gJ2NlbnRlcic7XG4gICAgZzJkLnRleHRCYXNlbGluZSA9ICdtaWRkbGUnO1xuICAgIGcyZC5maWxsU3R5bGUgPSAnd2hpdGUnO1xuXG4gICAgLy8gRHJhdyB0aGUgdGV4dFxuICAgIGcyZC5nbG9iYWxBbHBoYSA9IHRoaXMuYWxwaGE7XG4gICAgZzJkLmZpbGxUZXh0KExJTkUxLCB0aGlzLmFyZWEub3ZlcmxheVdpZHRoIC8gMiwgdGhpcy5hcmVhLm92ZXJsYXlIZWlnaHQgLyA0KTtcbiAgICBnMmQuZmlsbFRleHQoTElORTIsIHRoaXMuYXJlYS5vdmVybGF5V2lkdGggLyAyLCB0aGlzLmFyZWEub3ZlcmxheUhlaWdodCAvIDIpO1xuICAgIGcyZC5maWxsVGV4dChMSU5FMywgdGhpcy5hcmVhLm92ZXJsYXlXaWR0aCAvIDIsICgzICogdGhpcy5hcmVhLm92ZXJsYXlIZWlnaHQpIC8gNCk7XG5cbiAgICAvLyBEaXNwbGF5IHRoZSBoZWFydGJlYXQgYXMgYSBib3JkZXJcbiAgICBjb25zdCBjdXJyZW50VGltZSA9XG4gICAgICAodGhpcy5oZWFydE1vbml0b3IuYXVkaW8uY29udGV4dC5jdXJyZW50VGltZSAtIHRoaXMuc3RhcnRUaW1lKSAlIHRoaXMuaGVhcnRNb25pdG9yLmF1ZGlvLmJ1ZmZlci5kdXJhdGlvbjtcbiAgICBpZiAoY3VycmVudFRpbWUgPj0gMC41ICYmIGN1cnJlbnRUaW1lIDwgMSAmJiB0aGlzLmhlYXJ0TW9uaXRvci52b2x1bWUgPiAwKSB7XG4gICAgICBnMmQuZ2xvYmFsQWxwaGEgPSB0aGlzLmhlYXJ0TW9uaXRvci52b2x1bWU7XG4gICAgICBnMmQuYmVnaW5QYXRoKCk7XG4gICAgICBnMmQuc3Ryb2tlU3R5bGUgPSAnZ3JlZW4nO1xuICAgICAgZzJkLmxpbmVXaWR0aCA9IDIwO1xuICAgICAgZzJkLnN0cm9rZVJlY3QoMCwgMCwgdGhpcy5hcmVhLm92ZXJsYXlXaWR0aCwgdGhpcy5hcmVhLm92ZXJsYXlIZWlnaHQpO1xuICAgICAgZzJkLnN0cm9rZSgpO1xuICAgIH1cblxuICAgIGcyZC5nbG9iYWxBbHBoYSA9IDE7XG4gIH1cbn1cbiIsImltcG9ydCB7IEVuZGluZ0FyZWEgfSBmcm9tICdhcmVhcy9FbmRpbmdBcmVhJztcbmltcG9ydCB7IE1haW5BcmVhIH0gZnJvbSAnYXJlYXMvTWFpbkFyZWEnO1xuaW1wb3J0IHsgRW50aXR5LCBFbnRpdHlTdGF0ZSB9IGZyb20gJ2VuZ2luZS9lbnRpdHknO1xuaW1wb3J0IHsgY2xhbXAgfSBmcm9tICdlbmdpbmUvaGVscGVycyc7XG5cbi8qKlxuICogRmFkZSB0aGUgc2NyZWVuIGFzIHlvdSBlbnRlciB0aGUgcG9ydGFsXG4gKi9cbmV4cG9ydCBjbGFzcyBFbnRlclBvcnRhbEVmZmVjdCBpbXBsZW1lbnRzIEVudGl0eVN0YXRlIHtcbiAgcHVibGljIHJlYWRvbmx5IHRhZ3M6IHN0cmluZ1tdID0gW107XG5cbiAgcHJvdGVjdGVkIGVudGl0eTogRW50aXR5PHRoaXM+O1xuXG4gIHByaXZhdGUgZmFkZUFscGhhID0gMDtcbiAgcHJpdmF0ZSBibGFja0FscGhhID0gMDtcblxuICBvbkNyZWF0ZShlbnRpdHk6IEVudGl0eTx0aGlzPik6IHZvaWQge1xuICAgIHRoaXMuZW50aXR5ID0gZW50aXR5O1xuICAgIHRoaXMuZW50aXR5LnNldFRpbWVyKDEsIDE1LCB0cnVlKTtcblxuICAgIC8vIFBsYXkgdGhlIHNvdW5kXG4gICAgY29uc3QgbWFpbkFyZWEgPSB0aGlzLmVudGl0eS5hcmVhLnN0YXRlIGFzIE1haW5BcmVhO1xuICAgIG1haW5BcmVhLmVudGVyUG9ydGFsLnBsYXkoKTtcbiAgfVxuXG4gIG9uRGVzdHJveSgpOiB2b2lkIHt9XG5cbiAgb25TdGVwKCk6IHZvaWQge31cblxuICBvblRpbWVyKHRpbWVySW5kZXg6IG51bWJlcik6IHZvaWQge1xuICAgIGlmICh0aW1lckluZGV4ID09PSAxKSB7XG4gICAgICB0aGlzLmZhZGVGb3Jlc3RBbWJpZW5jZSgpO1xuICAgICAgdGhpcy5mYWRlT3V0KCk7XG4gICAgfVxuICAgIGlmICh0aW1lckluZGV4ID09PSAyKSB7XG4gICAgICB0aGlzLmZhZGVUb0JsYWNrKCk7XG4gICAgfVxuICAgIGlmICh0aW1lckluZGV4ID09PSAzKSB7XG4gICAgICB0aGlzLmVudGl0eS5hcmVhLmdhbWUuc2V0QXJlYShuZXcgRW5kaW5nQXJlYSgpKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRmFkZSBvdXQgdGhlIGZvcmVzdCBzb3VuZHMgYXMgeW91IGVudGVyIHRoZSBwcm90YWxcbiAgICovXG4gIHByaXZhdGUgZmFkZUZvcmVzdEFtYmllbmNlKCk6IHZvaWQge1xuICAgIGNvbnN0IG1haW5BcmVhID0gdGhpcy5lbnRpdHkuYXJlYS5zdGF0ZSBhcyBNYWluQXJlYTtcbiAgICBtYWluQXJlYS5mb3Jlc3RBbWJpZW5jZS52b2x1bWUgPSAxIC0gdGhpcy5mYWRlQWxwaGE7XG4gIH1cblxuICAvKipcbiAgICogU2xvd2x5IGZhZGUgb3V0IHRvIGJsYWNrXG4gICAqL1xuICBwcml2YXRlIGZhZGVPdXQoKTogdm9pZCB7XG4gICAgdGhpcy5mYWRlQWxwaGEgPSBjbGFtcCh0aGlzLmZhZGVBbHBoYSArIDAuMSwgMCwgMSk7XG4gICAgaWYgKHRoaXMuZmFkZUFscGhhID49IDEpIHtcbiAgICAgIHRoaXMuZW50aXR5LmNsZWFyVGltZXIoMSk7XG4gICAgICAodGhpcy5lbnRpdHkuYXJlYS5zdGF0ZSBhcyBNYWluQXJlYSkuZm9yZXN0QW1iaWVuY2Uuc3RvcCgpO1xuICAgICAgdGhpcy5lbnRpdHkuc2V0VGltZXIoMiwgMTAsIHRydWUpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBGYWRlIHRvIGJsYWNrIGFmdGVyIGVudGVyaW5nIHRoZSBwb3J0YWxcbiAgICovXG4gIHByaXZhdGUgZmFkZVRvQmxhY2soKTogdm9pZCB7XG4gICAgdGhpcy5ibGFja0FscGhhID0gY2xhbXAodGhpcy5ibGFja0FscGhhICsgMC4xLCAwLCAxKTtcbiAgICBpZiAodGhpcy5ibGFja0FscGhhID49IDEpIHtcbiAgICAgIHRoaXMuZW50aXR5LmNsZWFyVGltZXIoMik7XG4gICAgICB0aGlzLmVudGl0eS5zZXRUaW1lcigzLCAyMDAsIGZhbHNlKTtcbiAgICB9XG4gIH1cblxuICBvbkRyYXcoZzJkOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpOiB2b2lkIHtcbiAgICBnMmQuZ2xvYmFsQWxwaGEgPSB0aGlzLmZhZGVBbHBoYTtcbiAgICBnMmQuZmlsbFN0eWxlID0gJyMyOTAwNGEnO1xuICAgIGcyZC5maWxsUmVjdCgwLCAwLCB0aGlzLmVudGl0eS5hcmVhLm92ZXJsYXlXaWR0aCwgdGhpcy5lbnRpdHkuYXJlYS5vdmVybGF5SGVpZ2h0KTtcblxuICAgIGcyZC5nbG9iYWxBbHBoYSA9IHRoaXMuYmxhY2tBbHBoYTtcbiAgICBnMmQuZmlsbFN0eWxlID0gJ2JsYWNrJztcbiAgICBnMmQuZmlsbFJlY3QoMCwgMCwgdGhpcy5lbnRpdHkuYXJlYS5vdmVybGF5V2lkdGgsIHRoaXMuZW50aXR5LmFyZWEub3ZlcmxheUhlaWdodCk7XG5cbiAgICBnMmQuZ2xvYmFsQWxwaGEgPSAxO1xuICB9XG59XG4iLCJpbXBvcnQgeyBNYWluQXJlYSB9IGZyb20gJ2FyZWFzL01haW5BcmVhJztcbmltcG9ydCB7IEJveENvbGxpc2lvbk1hc2ssIEdyb3VwQ29sbGlzaW9uTWFzaywgU3BoZXJlQ29sbGlzaW9uTWFzayB9IGZyb20gJ2VuZ2luZS9jb2xsaXNpb24nO1xuaW1wb3J0IHsgRW50aXR5LCBFbnRpdHlTdGF0ZSB9IGZyb20gJ2VuZ2luZS9lbnRpdHknO1xuaW1wb3J0IHsgRW50ZXJQb3J0YWxFZmZlY3QgfSBmcm9tICdlbnRpdGllcy9lZmZlY3RzL0VudGVyUG9ydGFsRWZmZWN0JztcbmltcG9ydCB7IEhVRCB9IGZyb20gJ2VudGl0aWVzL0hVRCc7XG5pbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XG5cbmNvbnN0IE9GRl9DT0xPUiA9IDB4MzIzMjMyO1xuY29uc3QgT05fQ09MT1IgPSAweGNjNDMwMDtcblxuLyoqXG4gKiBQb3J0YWwgRXhpdFxuICovXG5leHBvcnQgY2xhc3MgUG9ydGFsIGltcGxlbWVudHMgRW50aXR5U3RhdGUge1xuICBwdWJsaWMgcmVhZG9ubHkgdGFnczogc3RyaW5nW10gPSBbJ3dhbGwnXTtcblxuICBwcml2YXRlIGVudGl0eTogRW50aXR5PHRoaXM+O1xuICBwcml2YXRlIHJvdzogbnVtYmVyO1xuICBwcml2YXRlIGNvbHVtbjogbnVtYmVyO1xuXG4gIC8vIEludGVyYWN0aW9uIG1hc2tzXG4gIHByaXZhdGUgaW50ZXJhY3RNYXNrOiBTcGhlcmVDb2xsaXNpb25NYXNrO1xuICBwcml2YXRlIGV4aXRNYXNrOiBCb3hDb2xsaXNpb25NYXNrO1xuICBwcml2YXRlIHBvcnRhbE9iamVjdDogVEhSRUUuT2JqZWN0M0Q7XG4gIHByaXZhdGUgYmFsbE1hdDogVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWw7XG5cbiAgLy8gQW5pbWF0aW9uc1xuICBwcml2YXRlIG1peGVyOiBUSFJFRS5BbmltYXRpb25NaXhlcjtcbiAgcHJpdmF0ZSBwb3J0YWxBY3Rpb246IFRIUkVFLkFuaW1hdGlvbkFjdGlvbjtcblxuICBjb25zdHJ1Y3Rvcihyb3c6IG51bWJlciwgY29sdW1uOiBudW1iZXIpIHtcbiAgICB0aGlzLnJvdyA9IHJvdztcbiAgICB0aGlzLmNvbHVtbiA9IGNvbHVtbjtcbiAgfVxuXG4gIG9uQ3JlYXRlKGVudGl0eTogRW50aXR5PHRoaXM+KTogdm9pZCB7XG4gICAgdGhpcy5lbnRpdHkgPSBlbnRpdHk7XG5cbiAgICAvLyBCdWlsZCB0aGUgb2JqZWN0IG1vZGVsXG4gICAgY29uc3Qgb2JqZWN0ID0gdGhpcy5lbnRpdHkuYXJlYS5nYW1lLmFzc2V0cy5nZXRPYmplY3QoJ1BvcnRhbCcpLmNsb25lKCk7XG4gICAgb2JqZWN0LnBvc2l0aW9uLmNvcHkoKGVudGl0eS5hcmVhLnN0YXRlIGFzIE1haW5BcmVhKS50aWxlTG9jYXRpb25Ub1Bvc2l0aW9uKHRoaXMucm93LCB0aGlzLmNvbHVtbikpO1xuICAgIG9iamVjdC5wb3NpdGlvbi55ID0gLTAuNTtcbiAgICBvYmplY3Quc2NhbGUuc2V0KDIsIDIsIDIpO1xuICAgIG9iamVjdC51cGRhdGVXb3JsZE1hdHJpeChmYWxzZSwgdHJ1ZSk7XG4gICAgZm9yIChjb25zdCBjaGlsZCBvZiBvYmplY3QuY2hpbGRyZW4pIHtcbiAgICAgIGNoaWxkLmNhc3RTaGFkb3cgPSB0cnVlO1xuICAgIH1cbiAgICB0aGlzLmVudGl0eS5vYmplY3QgPSBvYmplY3Q7XG4gICAgdGhpcy5wb3J0YWxPYmplY3QgPSBvYmplY3QuY2hpbGRyZW5bMl07XG4gICAgdGhpcy5wb3J0YWxPYmplY3QudmlzaWJsZSA9IGZhbHNlO1xuICAgIHRoaXMuYmFsbE1hdCA9IChvYmplY3QuY2hpbGRyZW5bNF0gYXMgVEhSRUUuTWVzaCkubWF0ZXJpYWwgYXMgVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWw7XG4gICAgdGhpcy5iYWxsTWF0LmNvbG9yLnNldChPRkZfQ09MT1IpO1xuXG4gICAgLy8gQnVpbGQgY29sbGlzaW9uIG1hc2tzXG4gICAgY29uc3QgbGVmdE1hc2sgPSBuZXcgQm94Q29sbGlzaW9uTWFzayhvYmplY3QuY2hpbGRyZW5bMV0pO1xuICAgIGNvbnN0IHJpZ2h0TWFzayA9IG5ldyBCb3hDb2xsaXNpb25NYXNrKG9iamVjdC5jaGlsZHJlblszXSk7XG4gICAgdGhpcy5lbnRpdHkubWFzayA9IG5ldyBHcm91cENvbGxpc2lvbk1hc2sobGVmdE1hc2ssIHJpZ2h0TWFzayk7XG4gICAgdGhpcy5pbnRlcmFjdE1hc2sgPSBuZXcgU3BoZXJlQ29sbGlzaW9uTWFzayhvYmplY3QuY2hpbGRyZW5bMl0pO1xuICAgIHRoaXMuZXhpdE1hc2sgPSBuZXcgQm94Q29sbGlzaW9uTWFzayhvYmplY3QuY2hpbGRyZW5bMl0pO1xuXG4gICAgLy8gTG9hZCBhbmltYXRpb25zXG4gICAgdGhpcy5taXhlciA9IG5ldyBUSFJFRS5BbmltYXRpb25NaXhlcihvYmplY3QpO1xuICAgIHRoaXMucG9ydGFsQWN0aW9uID0gdGhpcy5taXhlci5jbGlwQWN0aW9uKGVudGl0eS5hcmVhLmdhbWUuYXNzZXRzLmdldEFuaW1hdGlvbignUG9ydGFsRW5lcmd5QWN0aW9uJykpO1xuICAgIHRoaXMucG9ydGFsQWN0aW9uLmxvb3AgPSBUSFJFRS5Mb29wUGluZ1Bvbmc7XG4gIH1cblxuICBvbkRlc3Ryb3koKTogdm9pZCB7fVxuXG4gIG9uU3RlcCgpOiB2b2lkIHtcbiAgICB0aGlzLm1peGVyLnVwZGF0ZSgwLjAxKTtcblxuICAgIGlmICghdGhpcy5wb3J0YWxPYmplY3QudmlzaWJsZSkge1xuICAgICAgdGhpcy50ZXN0QWN0aXZhdGVQb3J0YWwoKTtcbiAgICAgIHRoaXMuaGFuZGxlVXNlck1lc3NhZ2UoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy50ZXN0UGxheWVyRW50ZXJzUG9ydGFsKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRlc3QgaWYgdGhlIHBvcnRhbCBzaG91bGQgYmUgYWN0aXZhdGVkIChBbGwgZW5lcmd5IGNvbGxlY3RlZClcbiAgICovXG4gIHByaXZhdGUgdGVzdEFjdGl2YXRlUG9ydGFsKCk6IHZvaWQge1xuICAgIGNvbnN0IG1haW5BcmVhID0gdGhpcy5lbnRpdHkuYXJlYS5zdGF0ZSBhcyBNYWluQXJlYTtcbiAgICBpZiAobWFpbkFyZWEuZW5lcmd5TGVmdCA9PT0gMCkge1xuICAgICAgdGhpcy5wb3J0YWxPYmplY3QudmlzaWJsZSA9IHRydWU7XG4gICAgICB0aGlzLmJhbGxNYXQuY29sb3Iuc2V0KE9OX0NPTE9SKTtcbiAgICAgIHRoaXMucG9ydGFsQWN0aW9uLnBsYXkoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogV2hlbiB0byBzaG93IG1lc3NhZ2UgdG8gdGhlIHVzZXJcbiAgICovXG4gIHByaXZhdGUgaGFuZGxlVXNlck1lc3NhZ2UoKTogdm9pZCB7XG4gICAgY29uc3QgcGxheWVyID0gdGhpcy5lbnRpdHkuYXJlYS5maW5kRmlyc3RFbnRpdHkoJ3BsYXllcicpO1xuICAgIGlmIChwbGF5ZXIgPT09IG51bGwgfHwgIXRoaXMuaW50ZXJhY3RNYXNrLmlzQ29sbGlkaW5nV2l0aChwbGF5ZXIubWFzaykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBtYWluQXJlYSA9IHRoaXMuZW50aXR5LmFyZWEuc3RhdGUgYXMgTWFpbkFyZWE7XG4gICAgY29uc3QgaHVkID0gdGhpcy5lbnRpdHkuYXJlYS5maW5kRmlyc3RFbnRpdHkoJ2h1ZCcpIGFzIEVudGl0eTxIVUQ+O1xuICAgIGlmIChodWQgIT09IG51bGwgJiYgaHVkLnN0YXRlLm1lc3NhZ2UubGVuZ3RoID09PSAwKSB7XG4gICAgICBodWQuc3RhdGUubWVzc2FnZSA9ICdQb3J0YWwgcmVxdWlyZXMgJyArIG1haW5BcmVhLnRvdGFsRW5lcmd5ICsgJyB0b3RhbCBlbmVyZ3kgdG8gYWN0aXZhdGUnO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBUZXN0IGlmIHRoZSBwbGF5ZXIgaGFzIGVudGVyZWQgdGhlIHBvcnRhbCB0byBjb21wbGV0ZSB0aGUgZ2FtZVxuICAgKi9cbiAgcHJpdmF0ZSB0ZXN0UGxheWVyRW50ZXJzUG9ydGFsKCk6IHZvaWQge1xuICAgIGNvbnN0IHBsYXllciA9IHRoaXMuZW50aXR5LmFyZWEuZmluZEZpcnN0RW50aXR5KCdwbGF5ZXInKTtcbiAgICBpZiAocGxheWVyID09PSBudWxsIHx8ICF0aGlzLmV4aXRNYXNrLmlzQ29sbGlkaW5nV2l0aChwbGF5ZXIubWFzaykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBEZXN0cm95IGFsbCBvZiB0aGUgaW50ZXJhY3Rpb24gb2JqZWN0c1xuICAgIHBsYXllci5kZXN0cm95KCk7XG4gICAgZm9yIChjb25zdCBodWQgb2YgdGhpcy5lbnRpdHkuYXJlYS5maW5kRW50aXRpZXMoJ2h1ZCcpKSB7XG4gICAgICBodWQuZGVzdHJveSgpO1xuICAgIH1cblxuICAgIC8vIEVudGVyIHRoZSBwb3J0YWwgZWZmZWN0XG4gICAgdGhpcy5lbnRpdHkuYXJlYS5jcmVhdGVFbnRpdHkobmV3IEVudGVyUG9ydGFsRWZmZWN0KCkpO1xuICB9XG5cbiAgb25UaW1lcihfdGltZXJJbmRleDogbnVtYmVyKTogdm9pZCB7fVxuXG4gIG9uRHJhdyhfZzJkOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpOiB2b2lkIHt9XG59XG4iLCJpbXBvcnQgeyBTQ0FMRV9IRUlHSFQgfSBmcm9tICdhcmVhcy9BYnN0cmFjdE1hemVBcmVhJztcbmltcG9ydCB7IEVudGl0eVN0YXRlIH0gZnJvbSAnZW5naW5lL2VudGl0eSc7XG5pbXBvcnQgeyBEb29yU3RhdGUgfSBmcm9tICdyZXNvdXJjZXMvRG9vclN0YXRlJztcbmltcG9ydCB7IEludmVudG9yeSB9IGZyb20gJ3Jlc291cmNlcy9JbnZlbnRvcnknO1xuaW1wb3J0IHsgQWJzdHJhY3REb29yIH0gZnJvbSAnLi9BYnN0cmFjdERvb3InO1xuaW1wb3J0IHsgSFVEIH0gZnJvbSAnZW50aXRpZXMvSFVEJztcbmltcG9ydCB7IE1haW5BcmVhIH0gZnJvbSAnYXJlYXMvTWFpbkFyZWEnO1xuXG4vKipcbiAqIERvb3Igb2JqZWN0IGluIHRoZSBtYXplXG4gKi9cbmV4cG9ydCBjbGFzcyBCaWdEb29yIGV4dGVuZHMgQWJzdHJhY3REb29yIGltcGxlbWVudHMgRW50aXR5U3RhdGUge1xuICBwdWJsaWMgcmVhZG9ubHkgdGFnczogc3RyaW5nW10gPSBbJ3dhbGwnXTtcblxuICBwcml2YXRlIHNob3dNZXNzYWdlID0gZmFsc2U7XG5cbiAgY29uc3RydWN0b3Iocm93OiBudW1iZXIsIGNvbHVtbjogbnVtYmVyKSB7XG4gICAgc3VwZXIocm93LCBjb2x1bW4sICdEb29yJyk7XG4gIH1cblxuICBvbkNyZWF0ZURvb3IoKTogdm9pZCB7XG4gICAgLy8gTWFrZSB0aGUgZG9vciBSRUFMTFkgVEFMTCwgUkVBTExZIFRISUNLLCBhbmQgaGlkZSB0aGUga2V5IGhvbGUgY29sb3JcbiAgICB0aGlzLmVudGl0eS5vYmplY3Quc2NhbGUueSA9IFNDQUxFX0hFSUdIVCAvIDM7XG4gICAgdGhpcy5lbnRpdHkub2JqZWN0LnNjYWxlLnggPSAxMDtcbiAgICB0aGlzLmVudGl0eS5vYmplY3QuY2hpbGRyZW5bMF0udmlzaWJsZSA9IGZhbHNlO1xuICB9XG5cbiAgb25EZXN0cm95KCk6IHZvaWQge31cblxuICBvblN0ZXBEb29yKCk6IHZvaWQge1xuICAgIHRoaXMudGVzdElmQWxsSXRlbXNDb2xsZWN0ZWQoKTtcblxuICAgIC8vIERyYXcgdGhlIG1lc3NhZ2Ugd2hlbiB0aGUgZ2FtZSBmaXJzdCBzdGFydHNcbiAgICBpZiAodGhpcy5zaG93TWVzc2FnZSkge1xuICAgICAgY29uc3QgaHVkID0gdGhpcy5lbnRpdHkuYXJlYS5maW5kRmlyc3RFbnRpdHkoJ2h1ZCcpO1xuICAgICAgaWYgKGh1ZCAhPT0gbnVsbCkge1xuICAgICAgICAoaHVkLnN0YXRlIGFzIEhVRCkubWVzc2FnZSA9ICdDb2xsZWN0IGFsbCBlbmVyZ3kgdG8gYWN0aXZhdGUgdGhlIHBvcnRhbCEnO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBPcGVuIHRoZSBiaWcgZG9vciBvbmNlIGFsbCBvZiB0aGUgaXRlbXMgaGF2ZSBiZWVuIGNvbGxlY3RlZFxuICAgKi9cbiAgcHJpdmF0ZSB0ZXN0SWZBbGxJdGVtc0NvbGxlY3RlZCgpIHtcbiAgICBpZiAodGhpcy5vcGVuKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgaW52ZW50b3J5ID0gdGhpcy5lbnRpdHkuYXJlYS5nYW1lLnJlc291cmNlcy5nZXRSZXNvdXJjZTxJbnZlbnRvcnk+KCdpbnZlbnRvcnknKTtcbiAgICBpZiAoaW52ZW50b3J5Lmhhc0NvbGxlY3RlZEd1bigpICYmIGludmVudG9yeS5oYXNDb2xsZWN0ZWRNYXAoKSkge1xuICAgICAgdGhpcy5vcGVuQmlnRG9vcigpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBPcGVuIHRoZSBkb29yLCByZWFsbHkgc2xvd2x5XG4gICAqL1xuICBwcml2YXRlIG9wZW5CaWdEb29yKCk6IHZvaWQge1xuICAgIGNvbnN0IHN0YXRlID0gdGhpcy5lbnRpdHkuYXJlYS5nYW1lLnJlc291cmNlcy5nZXRSZXNvdXJjZTxEb29yU3RhdGU+KCdkb29yLXN0YXRlJyk7XG4gICAgc3RhdGUub3BlbkJpZ0Rvb3IoKTtcbiAgICB0aGlzLm9wZW5Eb29yKDEgLyA4KTtcblxuICAgIC8vIEhpZGUgdGhlIG1lc3NhZ2UgYWZ0ZXIgYSBnaXZlbiBudW1iZXIgb2YgdGlja3NcbiAgICB0aGlzLnNob3dNZXNzYWdlID0gdHJ1ZTtcbiAgICB0aGlzLmVudGl0eS5zZXRUaW1lcigwLCA0MDAsIGZhbHNlKTtcblxuICAgIC8vIFBsYXkgdGhlIHNvdW5kXG4gICAgY29uc3QgbWFpbkFyZWEgPSB0aGlzLmVudGl0eS5hcmVhLnN0YXRlIGFzIE1haW5BcmVhO1xuICAgIG1haW5BcmVhLm9wZW5CaWdEb29yLnZvbHVtZSA9IDg7XG4gICAgbWFpbkFyZWEub3BlbkJpZ0Rvb3IucGxheSgpO1xuICB9XG5cbiAgb25UaW1lcih0aW1lckluZGV4OiBudW1iZXIpOiB2b2lkIHtcbiAgICBpZiAodGltZXJJbmRleCA9PT0gMCkge1xuICAgICAgdGhpcy5zaG93TWVzc2FnZSA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIG9uRHJhdyhfZzJkOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpOiB2b2lkIHt9XG59XG4iLCJpbXBvcnQgeyBUcmVlTm9kZSB9IGZyb20gJy4vVHJlZU5vZGUnO1xuXG4vKipcbiAqIEJhc2UgY2xhc3MgZm9yIGFsbCBvZiB0aGUgdmVydGV4IHNldHNcbiAqL1xuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEFic3RyYWN0U2V0IHtcbiAgLyoqXG4gICAqIFRlc3QgaWYgYSBub2RlIGV4aXN0cyBpbnNpZGUgdGhlIHNldFxuICAgKi9cbiAgcHVibGljIGFic3RyYWN0IGhhc05vZGUobm9kZTogVHJlZU5vZGUpOiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBBZGQgYSBzaW5nbGUgbm9kZSB0byB0aGUgc2V0LCBidXQgbm90IGFsbCBvZiBpdHMgY2hpbGRyZW5cbiAgICovXG4gIHB1YmxpYyBhYnN0cmFjdCBhZGQobm9kZTogVHJlZU5vZGUpOiB2b2lkO1xuXG4gIC8qKlxuICAgKiBBZGQgYW4gaXRlcmFibGUgc2V0IG9mIG5vZGVzIGZyb20gdGhlIHNldFxuICAgKi9cbiAgcHVibGljIGFkZEFsbChub2RlczogSXRlcmFibGU8VHJlZU5vZGU+KTogdm9pZCB7XG4gICAgZm9yIChjb25zdCBub2RlIG9mIG5vZGVzKSB7XG4gICAgICB0aGlzLmFkZChub2RlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQWRkIHRoZSBub2RlIGFuZCBhbGwgb2YgaXRzIGNoaWxkcmVuIHRvIHRoZSBzZXRcbiAgICovXG4gIHB1YmxpYyBhZGRSZWN1cnNpdmUobm9kZTogVHJlZU5vZGUpOiB2b2lkIHtcbiAgICB0aGlzLmFkZChub2RlKTtcbiAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIG5vZGUuY2hpbGRyZW4pIHtcbiAgICAgIHRoaXMuYWRkUmVjdXJzaXZlKGNoaWxkKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQWRkIHRoZSBub2RlIGFuZCBhbGwgb2YgaXRzIHBhcmVudHMgdG8gdGhlIHNldFxuICAgKi9cbiAgcHVibGljIGFkZFBhcmVudHMobm9kZTogVHJlZU5vZGUpOiB2b2lkIHtcbiAgICB0aGlzLmFkZChub2RlKTtcbiAgICBpZiAobm9kZS5wYXJlbnQgIT09IG51bGwpIHtcbiAgICAgIHRoaXMuYWRkUGFyZW50cyhub2RlLnBhcmVudCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhIHNpbmdsZSBub2RlIGZyb20gdGhlIHNldCwgYnV0IG5vdCBhbGwgb2YgaXRzIGNoaWxkcmVuXG4gICAqL1xuICBwdWJsaWMgYWJzdHJhY3QgcmVtb3ZlKG5vZGU6IFRyZWVOb2RlKTogdm9pZDtcblxuICAvKipcbiAgICogUmVtb3ZlIGFuIGl0ZXJhYmxlIHNldCBvZiBub2RlcyBmcm9tIHRoZSBzZXRcbiAgICovXG4gIHB1YmxpYyByZW1vdmVBbGwobm9kZXM6IEl0ZXJhYmxlPFRyZWVOb2RlPik6IHZvaWQge1xuICAgIGZvciAoY29uc3Qgbm9kZSBvZiBub2Rlcykge1xuICAgICAgdGhpcy5yZW1vdmUobm9kZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhIG5vZGUgYW5kIGFsbCBvZiBpdHMgY2hpbGRyZW4gZnJvbSB0aGUgc2V0XG4gICAqL1xuICBwdWJsaWMgcmVtb3ZlUmVjdXJzaXZlKG5vZGU6IFRyZWVOb2RlKTogdm9pZCB7XG4gICAgdGhpcy5yZW1vdmUobm9kZSk7XG4gICAgZm9yIChjb25zdCBjaGlsZCBvZiBub2RlLmNoaWxkcmVuKSB7XG4gICAgICB0aGlzLnJlbW92ZVJlY3Vyc2l2ZShjaGlsZCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhIG5vZGUgYW5kIGFsbCBvZiBpdHMgcGFyZW50cyBmcm9tIHRoZSBzZXRcbiAgICovXG4gIHB1YmxpYyByZW1vdmVQYXJlbnRzKG5vZGU6IFRyZWVOb2RlKTogdm9pZCB7XG4gICAgdGhpcy5yZW1vdmUobm9kZSk7XG4gICAgaWYgKG5vZGUucGFyZW50ICE9PSBudWxsKSB7XG4gICAgICB0aGlzLnJlbW92ZVBhcmVudHMobm9kZS5wYXJlbnQpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHNpemUgb2YgdGhpcyBzZXRcbiAgICovXG4gIHB1YmxpYyBhYnN0cmFjdCBnZXQgc2l6ZSgpOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEV4dHJhY3QgYWxsIG5vZGVzIGZyb20gdGhpcyBzZXRcbiAgICovXG4gIHB1YmxpYyBhYnN0cmFjdCBnZXRBbGxOb2RlcygpOiBUcmVlTm9kZVtdO1xufVxuIiwiaW1wb3J0IHsgcGlja1JhbmRvbUFycmF5IH0gZnJvbSAnZW5naW5lL2hlbHBlcnMnO1xuaW1wb3J0IHsgQWJzdHJhY3RTZXQgfSBmcm9tICcuL0Fic3RyYWN0U2V0JztcbmltcG9ydCB7IFRyZWVOb2RlIH0gZnJvbSAnLi9UcmVlTm9kZSc7XG5cbi8qKlxuICogU2ltcGxlIHNldCB3cmFwcGVyIHdpdGggaGVscGVyIG1ldGhvZHMgZm9yIHRoZSB2ZXJ0ZXggdHJlZVxuICovXG5leHBvcnQgY2xhc3MgVmVydGV4U2V0IGV4dGVuZHMgQWJzdHJhY3RTZXQge1xuICAvLy8gU2V0IG9mIG5vZGVzXG4gIHByaXZhdGUgc2V0OiBTZXQ8VHJlZU5vZGU+ID0gbmV3IFNldCgpO1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgc2V0IGZvciBhIHRyZWUgb2YgdmVydGljZXNcbiAgICpcbiAgICogQHBhcmFtIHJvb3ROb2RlIElmIHByb3ZpZGVkLCBhZGRzIHRoZSBub2RlIEFORCBhbGwgb2YgaXRzIGNoaWxkcmVuIHRvIHRoZSBzZXRcbiAgICovXG4gIGNvbnN0cnVjdG9yKHJvb3ROb2RlPzogVHJlZU5vZGUpIHtcbiAgICBzdXBlcigpO1xuICAgIGlmICh0eXBlb2Ygcm9vdE5vZGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aGlzLmFkZFJlY3Vyc2l2ZShyb290Tm9kZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRlc3QgaWYgYSBub2RlIGV4aXN0cyBpbnNpZGUgdGhlIHNldFxuICAgKi9cbiAgcHVibGljIGhhc05vZGUobm9kZTogVHJlZU5vZGUpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5zZXQuaGFzKG5vZGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhIHNpbmdsZSBub2RlIHRvIHRoZSBzZXQsIGJ1dCBub3QgYWxsIG9mIGl0cyBjaGlsZHJlblxuICAgKi9cbiAgcHVibGljIGFkZChub2RlOiBUcmVlTm9kZSk6IHZvaWQge1xuICAgIHRoaXMuc2V0LmFkZChub2RlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYSBzaW5nbGUgbm9kZSBmcm9tIHRoZSBzZXQsIGJ1dCBub3QgYWxsIG9mIGl0cyBjaGlsZHJlblxuICAgKi9cbiAgcHVibGljIHJlbW92ZShub2RlOiBUcmVlTm9kZSk6IHZvaWQge1xuICAgIHRoaXMuc2V0LmRlbGV0ZShub2RlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYWxsIG5vZGVzIGluIHRoZSBzZXRcbiAgICovXG4gIHB1YmxpYyBnZXRBbGxOb2RlcygpOiBUcmVlTm9kZVtdIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLnNldCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBzaXplIG9mIHRoaXMgc2V0XG4gICAqL1xuICBwdWJsaWMgZ2V0IHNpemUoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5zZXQuc2l6ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQaWNrIGFueSByYW5kb20gbm9kZSBpbiB0aGUgc2V0XG4gICAqL1xuICBwdWJsaWMgcGlja0FueVJhbmRvbSgpOiBUcmVlTm9kZSB8IG51bGwge1xuICAgIGNvbnN0IG5vZGVzID0gdGhpcy5nZXRBbGxOb2RlcygpO1xuICAgIGlmIChub2Rlcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gcGlja1JhbmRvbUFycmF5KG5vZGVzKTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IE1hemVPYmplY3QgfSBmcm9tICdhcmVhcy9NYXplT2JqZWN0JztcbmltcG9ydCB7IFRyZWVOb2RlIH0gZnJvbSAnLi9UcmVlTm9kZSc7XG5pbXBvcnQgeyBWZXJ0ZXhTZXQgfSBmcm9tICcuL1ZlcnRleFNldCc7XG5cbi8qKlxuICogQWRkcyBhIGZldyByYW5kb20gaW52ZXJzZSB0b2dnbGUgZG9vcnMgdG8gdGhlIG1hemVcbiAqL1xuZXhwb3J0IGNsYXNzIEludmVyc2VUb2dnbGVHZW5lcmF0b3Ige1xuICBwcml2YXRlIHJvb3Q6IFRyZWVOb2RlO1xuICBwcml2YXRlIG1heERvb3JzOiBudW1iZXI7XG5cbiAgcHJpdmF0ZSBsZXZlcjogVHJlZU5vZGU7XG4gIHByaXZhdGUgcmVndWxhclRvZ2dsZURvb3JzOiBTZXQ8VHJlZU5vZGU+ID0gbmV3IFNldCgpO1xuICBwcml2YXRlIGFsbG93ZFNwb3RzOiBWZXJ0ZXhTZXQ7XG5cbiAgY29uc3RydWN0b3Iocm9vdDogVHJlZU5vZGUpIHtcbiAgICB0aGlzLnJvb3QgPSByb290O1xuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlIHRoZSBpbnZlcnNlIHRvZ2dsZSBkb29yc1xuICAgKi9cbiAgcHVibGljIGdlbmVyYXRlSW52ZXJzZVRvZ2dsZURvb3JzKCk6IHZvaWQge1xuICAgIHRoaXMuZmluZFRvZ2dsZURvb3JzKHRoaXMucm9vdCk7XG4gICAgdGhpcy5tYXhEb29ycyA9IHRoaXMucmVndWxhclRvZ2dsZURvb3JzLnNpemU7XG4gICAgdGhpcy5hbGxvd2RTcG90cyA9IG5ldyBWZXJ0ZXhTZXQodGhpcy5yb290KTtcblxuICAgIC8vIFJlbW92ZSBhbGwgcGF0aHMgY29ubmVjdGluZyB0aGUgbGV2ZXIgdG8gZWFjaCB0b2dnbGUgZG9vclxuICAgIGZvciAoY29uc3QgdG9nZ2xlRG9vciBvZiB0aGlzLnJlZ3VsYXJUb2dnbGVEb29ycykge1xuICAgICAgY29uc3QgcGF0aCA9IEludmVyc2VUb2dnbGVHZW5lcmF0b3IuZmluZFBhdGhCZXR3ZWVuKHRvZ2dsZURvb3IsIHRoaXMubGV2ZXIpO1xuICAgICAgdGhpcy5hbGxvd2RTcG90cy5yZW1vdmVBbGwocGF0aCk7XG4gICAgfVxuXG4gICAgLy8gUmVtb3ZlIGFueSBjaGlsZHJlbiBvZiB0aGUgdG9nZ2xlIGRvb3JzXG4gICAgZm9yIChjb25zdCB0b2dnbGVEb29yIG9mIHRoaXMucmVndWxhclRvZ2dsZURvb3JzKSB7XG4gICAgICB0aGlzLmFsbG93ZFNwb3RzLnJlbW92ZVJlY3Vyc2l2ZSh0b2dnbGVEb29yKTtcbiAgICB9XG5cbiAgICAvLy8gUmVtb3ZlIGFueSBpdGVtc1xuICAgIGZvciAoY29uc3Qgc3BvdCBvZiB0aGlzLmFsbG93ZFNwb3RzLmdldEFsbE5vZGVzKCkpIHtcbiAgICAgIGlmIChzcG90Lm9iamVjdCAhPT0gTWF6ZU9iamVjdC5FbXB0eSkge1xuICAgICAgICB0aGlzLmFsbG93ZFNwb3RzLnJlbW92ZShzcG90KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBSZW1vdmUgYWxsIG5vbi1kb29yc1xuICAgIGZvciAoY29uc3Qgc3BvdCBvZiB0aGlzLmFsbG93ZFNwb3RzLmdldEFsbE5vZGVzKCkpIHtcbiAgICAgIGlmIChzcG90LnJvdyAlIDIgIT09IDAgJiYgc3BvdC5jb2x1bW4gJSAyICE9PSAwKSB7XG4gICAgICAgIHRoaXMuYWxsb3dkU3BvdHMucmVtb3ZlKHNwb3QpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFBpY2sgcmFuZG9tIGxvY2F0aW9ucyBmb3IgdGhlIGludmVyc2UgZG9vcnNcbiAgICAvLyAgV2UgZG9uJ3QgbmVlZCB0byB3b3JyeSBhYm91dCByZWN1cnNpdmUgY2hpbGRyZW4gYmVjYXVzZSB3ZSBhcmVuJ3QgYWRkaW5nIGFueSBtb3JlIHNvbGlkIGRvb3JzXG4gICAgZm9yIChsZXQgZG9vciA9IDA7IGRvb3IgPCB0aGlzLnJlZ3VsYXJUb2dnbGVEb29ycy5zaXplOyBkb29yICs9IDEpIHtcbiAgICAgIGNvbnN0IHRvZ2dsZUxvY2F0aW9uID0gdGhpcy5hbGxvd2RTcG90cy5waWNrQW55UmFuZG9tKCk7XG4gICAgICBpZiAodG9nZ2xlTG9jYXRpb24gPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuOyAvKiBObyBtb3JlIGRvb3JzIGxlZnQgKi9cbiAgICAgIH1cbiAgICAgIHRoaXMuYWxsb3dkU3BvdHMucmVtb3ZlKHRvZ2dsZUxvY2F0aW9uKTtcbiAgICAgIHRvZ2dsZUxvY2F0aW9uLm9iamVjdCA9IE1hemVPYmplY3QuSW52ZXJzZVRvZ2dsZURvb3I7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlY3Vyc2l2ZWx5IGZpbmQgYWxsIG9mIHRoZSB0b2dnbGUgZG9vcnMgaW4gdGhlIG1hemVcbiAgICovXG4gIHByaXZhdGUgZmluZFRvZ2dsZURvb3JzKG5vZGU6IFRyZWVOb2RlKTogdm9pZCB7XG4gICAgaWYgKG5vZGUub2JqZWN0ID09PSBNYXplT2JqZWN0LkxldmVyKSB7XG4gICAgICB0aGlzLmxldmVyID0gbm9kZTsgLyogU2hvdWxkIE9OTFkgYmUgb25lIGxldmVyIGluIHRoZSBtYXplICovXG4gICAgfSBlbHNlIGlmIChub2RlLm9iamVjdCA9PT0gTWF6ZU9iamVjdC5Ub2dnbGVEb29yKSB7XG4gICAgICB0aGlzLnJlZ3VsYXJUb2dnbGVEb29ycy5hZGQobm9kZSk7XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBjaGlsZCBvZiBub2RlLmNoaWxkcmVuKSB7XG4gICAgICB0aGlzLmZpbmRUb2dnbGVEb29ycyhjaGlsZCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEZpbmQgdGhlIGNvbW1vbiBwYXRoIGJldHdlZW4gdGhlIGxlZnQgYW5kIHJpZ2h0IG5vZGVzXG4gICAqL1xuICBwcml2YXRlIHN0YXRpYyBmaW5kUGF0aEJldHdlZW4obGVmdDogVHJlZU5vZGUsIHJpZ2h0OiBUcmVlTm9kZSk6IFRyZWVOb2RlW10ge1xuICAgIC8vIEZpbmQgbGVmdCBoaWVyaXRhZ2UgdG8gdGhlIHJvb3RcbiAgICBjb25zdCBsZWZ0SGVyaXRhZ2UgPSBbbGVmdF07XG4gICAgbGV0IHBhcmVudCA9IGxlZnQucGFyZW50O1xuICAgIHdoaWxlIChwYXJlbnQgIT09IG51bGwpIHtcbiAgICAgIGxlZnRIZXJpdGFnZS5wdXNoKHBhcmVudCk7XG4gICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50O1xuICAgIH1cblxuICAgIC8vIEZpbmQgcmlnaHQgaGVyaXRhZ2UgdG8gdGhlIHJvb3RcbiAgICBjb25zdCByaWdodEhlcml0YWdlID0gW3JpZ2h0XTtcbiAgICBwYXJlbnQgPSByaWdodC5wYXJlbnQ7XG4gICAgd2hpbGUgKHBhcmVudCAhPT0gbnVsbCkge1xuICAgICAgcmlnaHRIZXJpdGFnZS5wdXNoKHBhcmVudCk7XG4gICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50O1xuICAgIH1cblxuICAgIGxlZnRIZXJpdGFnZS5yZXZlcnNlKCk7XG4gICAgcmlnaHRIZXJpdGFnZS5yZXZlcnNlKCk7XG5cbiAgICAvLyBGaWd1cmUgb3V0IHdoZXJlIHRoZSBoZXJpdGFnZSBkaWZmZXJzXG4gICAgd2hpbGUgKGxlZnRIZXJpdGFnZS5sZW5ndGggPiAwICYmIHJpZ2h0SGVyaXRhZ2UubGVuZ3RoID4gMCkge1xuICAgICAgaWYgKGxlZnRIZXJpdGFnZVswXSAhPT0gcmlnaHRIZXJpdGFnZVswXSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGxlZnRIZXJpdGFnZS5zaGlmdCgpO1xuICAgICAgcmlnaHRIZXJpdGFnZS5zaGlmdCgpO1xuICAgIH1cblxuICAgIC8vIFRoZSByZW1haW5pbmcgbm9kZXMgYXJlIHRoZSBwYXRocyBiZXR3ZWVuIHRoZSBsZWZ0IGFuZCByaWdodFxuICAgIGNvbnN0IG5vZGVzID0gWy4uLmxlZnRIZXJpdGFnZSwgLi4ucmlnaHRIZXJpdGFnZV07XG4gICAgaWYgKGxlZnRIZXJpdGFnZS5sZW5ndGggPiAwKSB7XG4gICAgICBub2Rlcy5wdXNoKGxlZnRIZXJpdGFnZVswXS5wYXJlbnQpOyAvLyBTaG91bGQgYmUgdGhlIHNhbWUgZm9yIGJvdGhcbiAgICB9IGVsc2UgaWYgKHJpZ2h0SGVyaXRhZ2UubGVuZ3RoID4gMCkge1xuICAgICAgbm9kZXMucHVzaChyaWdodEhlcml0YWdlWzBdLnBhcmVudCk7IC8vIFNob3VsZCBiZSB0aGUgc2FtZSBmb3IgYm90aFxuICAgIH1cblxuICAgIHJldHVybiBub2RlcztcbiAgfVxufVxuIiwiaW1wb3J0IHsgcGlja1JhbmRvbUFycmF5IH0gZnJvbSAnZW5naW5lL2hlbHBlcnMnO1xuaW1wb3J0IHsgQWJzdHJhY3RTZXQgfSBmcm9tICcuL0Fic3RyYWN0U2V0JztcbmltcG9ydCB7IFRyZWVOb2RlIH0gZnJvbSAnLi9UcmVlTm9kZSc7XG5cbi8qKlxuICogU3RvcmVzIGEgc2V0IG9mIHZlcnRpY2VzLCBhbmQgY2FuIGZpbmQgcmFuZG9tIHZlcnRpY2VzIGJhc2VkIG9uIHRoZWlyIGRlcHRoXG4gKi9cbmV4cG9ydCBjbGFzcyBIaXN0b2dyYW1TZXQgZXh0ZW5kcyBBYnN0cmFjdFNldCB7XG4gIC8vLyBNYXBzIHRoZSBkZXB0aCB0byBhbGwgdmVydGljZXMgYXQgdGhhdCBkZXB0aFxuICBwcml2YXRlIHZlcnRpY2VzOiBNYXA8bnVtYmVyLCBTZXQ8VHJlZU5vZGU+PiA9IG5ldyBNYXAoKTtcblxuICAvLy8gSGlnaGVzdCB2YWx1ZSB0aGF0IGhhcyBiZWVuIHN0b3JlZCBpbiB0aGUgc2V0XG4gIHByaXZhdGUgaGlnaGVzdCA9IDA7XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBoaXN0b2dyYW0gc2V0IGZvciBhIHRyZWUgb2YgdmVydGljZXNcbiAgICpcbiAgICogQHBhcmFtIHJvb3ROb2RlIElmIHByb3ZpZGVkLCBhZGRzIHRoZSBub2RlIEFORCBhbGwgb2YgaXRzIGNoaWxkcmVuIHRvIHRoZSBzZXRcbiAgICovXG4gIGNvbnN0cnVjdG9yKHJvb3ROb2RlPzogVHJlZU5vZGUpIHtcbiAgICBzdXBlcigpO1xuICAgIGlmICh0eXBlb2Ygcm9vdE5vZGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aGlzLmFkZFJlY3Vyc2l2ZShyb290Tm9kZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgaGlnaGVzdCBkZXB0aCB0aGF0IGhhcyBiZWVuIHN0b3JlZCBpbnNpZGUgdGhpcyBoaXN0b3JncmFtLlxuICAgKiBUaGlzIGRvZXMgTk9UIGd1YXJhbnRlZSB0aGF0IHRoZXJlIGFyZSBhbnkgbm9kZXMgaW4gdGhpcyBoaWdoZXN0IHZhbHVlLlxuICAgKi9cbiAgcHVibGljIGdldCBoaWdoZXN0RGVwdGgoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5oaWdoZXN0O1xuICB9XG5cbiAgLyoqXG4gICAqIFRlc3QgaWYgYSBub2RlIGV4aXN0cyBpbnNpZGUgdGhlIGhpc3RvZ3JhbVxuICAgKi9cbiAgcHVibGljIGhhc05vZGUobm9kZTogVHJlZU5vZGUpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy52ZXJ0aWNlcy5oYXMobm9kZS5kZXB0aCkgJiYgdGhpcy52ZXJ0aWNlcy5nZXQobm9kZS5kZXB0aCkuaGFzKG5vZGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhIHNpbmdsZSBub2RlIHRvIHRoZSBzZXQsIGJ1dCBub3QgYWxsIG9mIGl0cyBjaGlsZHJlblxuICAgKi9cbiAgcHVibGljIGFkZChub2RlOiBUcmVlTm9kZSk6IHZvaWQge1xuICAgIC8vIENyZWF0ZSB0aGUgc2V0IGlmIGl0IGRvZXMgbm90IGV4aXN0XG4gICAgaWYgKCF0aGlzLnZlcnRpY2VzLmhhcyhub2RlLmRlcHRoKSkge1xuICAgICAgdGhpcy52ZXJ0aWNlcy5zZXQobm9kZS5kZXB0aCwgbmV3IFNldCgpKTtcbiAgICB9XG5cbiAgICBjb25zdCBzZXQgPSB0aGlzLnZlcnRpY2VzLmdldChub2RlLmRlcHRoKTtcbiAgICBzZXQuYWRkKG5vZGUpO1xuICAgIHRoaXMuaGlnaGVzdCA9IE1hdGgubWF4KHRoaXMuaGlnaGVzdCwgbm9kZS5kZXB0aCk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGEgc2luZ2xlIG5vZGUgZnJvbSB0aGUgc2V0LCBidXQgbm90IGFsbCBvZiBpdHMgY2hpbGRyZW5cbiAgICovXG4gIHB1YmxpYyByZW1vdmUobm9kZTogVHJlZU5vZGUpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMudmVydGljZXMuaGFzKG5vZGUuZGVwdGgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgc2V0ID0gdGhpcy52ZXJ0aWNlcy5nZXQobm9kZS5kZXB0aCk7XG4gICAgc2V0LmRlbGV0ZShub2RlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQaWNrIGEgcmFuZG9tIG5vZGUgdGhhdCBoYXMgYSBtaW5EZXB0aCA8PSBkZXB0aCA8PSBtYXhEZXB0aC5cbiAgICogVGhpcyBkb2VzIE5PVCByZW1vdmUgdGhlIG5vZGUgZnJvbSB0aGUgdHJlZSwganVzdCByZXR1cm5zIHRoZSBub2RlLlxuICAgKlxuICAgKiBAcGFyYW0gbWluRGVwdGggTWluaW11bSBkZXB0aCwgaW5jbHVzaXZlXG4gICAqIEBwYXJhbSBtYXhEZXB0aCBNYXhpbXVtIGRlcHRoLCBpbmNsdXNpdmVcbiAgICogQHBhcmFtIG1pbkFic29sdXRlRGVwdGggTWluaW11bSBhYnNvbHV0ZSBkZXB0aCAoaW5jbHVzaXZlKSBmb3IgdGhlIG5vZGUgdG8gZW5zdXJlIGl0IGhhcyBlbm91Z2ggcGFyZW50c1xuICAgKi9cbiAgcHVibGljIHBpY2tSYW5kb20obWluRGVwdGg6IG51bWJlciwgbWF4RGVwdGg6IG51bWJlciwgbWluQWJzb2x1dGVEZXB0aCA9IDApOiBUcmVlTm9kZSB8IG51bGwge1xuICAgIGNvbnN0IGFsbE5vZGVzID0gdGhpcy5nZXRBbGxOb2Rlc0J5KG1pbkRlcHRoLCBtYXhEZXB0aCwgbWluQWJzb2x1dGVEZXB0aCk7XG4gICAgaWYgKGFsbE5vZGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBpY2tSYW5kb21BcnJheShhbGxOb2Rlcyk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBzaXplIG9mIHRoaXMgc2V0XG4gICAqL1xuICBwdWJsaWMgZ2V0IHNpemUoKTogbnVtYmVyIHtcbiAgICBsZXQgdG90YWwgPSAwO1xuICAgIGZvciAoY29uc3QgW18sIHNldF0gb2YgdGhpcy52ZXJ0aWNlcykge1xuICAgICAgdG90YWwgKz0gc2V0LnNpemU7XG4gICAgfVxuICAgIHJldHVybiB0b3RhbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBFeHRyYWN0IGFsbCBub2RlcyBmcm9tIHRoaXMgaGlzdG9ncmFwbVxuICAgKi9cbiAgcHVibGljIGdldEFsbE5vZGVzKCk6IFRyZWVOb2RlW10ge1xuICAgIGNvbnN0IGFsbE5vZGVzOiBUcmVlTm9kZVtdID0gW107XG4gICAgZm9yIChjb25zdCBlbnRyeSBvZiB0aGlzLnZlcnRpY2VzKSB7XG4gICAgICBhbGxOb2Rlcy5wdXNoKC4uLmVudHJ5WzFdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYWxsTm9kZXM7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGFsbCBub2RlcyB3aGVyZSBtaW5EZXB0aCA8PSBkZXB0aCA8PSBtYXhEZXB0aC5cbiAgICogT3B0aW9uYWxseSBzcGVjaWZ5IGEgbWluaW11bSBhYnNvbHV0ZSBkZXB0aC5cbiAgICpcbiAgICogQHBhcmFtIG1pbkRlcHRoIE1pbmltdW0gZGVwdGgsIGluY2x1c2l2ZVxuICAgKiBAcGFyYW0gbWF4RGVwdGggTWF4aW11bSBkZXB0aCwgaW5jbHVzaXZlXG4gICAqIEBwYXJhbSBtaW5BYnNvbHV0ZURlcHRoIE1pbmltdW0gYWJzb2x1dGUgZGVwdGggKGluY2x1c2l2ZSkgZm9yIHRoZSBub2RlIHRvIGVuc3VyZSBpdCBoYXMgZW5vdWdoIHBhcmVudHNcbiAgICovXG4gIHB1YmxpYyBnZXRBbGxOb2Rlc0J5KG1pbkRlcHRoOiBudW1iZXIsIG1heERlcHRoOiBudW1iZXIsIG1pbkFic29sdXRlRGVwdGggPSAwKTogVHJlZU5vZGVbXSB7XG4gICAgY29uc3QgYWxsTm9kZXMgPSBbXTtcbiAgICBmb3IgKGxldCBkZXB0aCA9IG1pbkRlcHRoOyBkZXB0aCA8PSBtYXhEZXB0aDsgZGVwdGggKz0gMSkge1xuICAgICAgaWYgKCF0aGlzLnZlcnRpY2VzLmhhcyhkZXB0aCkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHNldCA9IHRoaXMudmVydGljZXMuZ2V0KGRlcHRoKTtcbiAgICAgIGFsbE5vZGVzLnB1c2goLi4uc2V0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gYWxsTm9kZXMuZmlsdGVyKChub2RlKSA9PiBub2RlLmFic29sdXRlRGVwdGggPj0gbWluQWJzb2x1dGVEZXB0aCk7XG4gIH1cbn1cbiIsImltcG9ydCB7IEFMTF9NQUlOX0RPT1JTLCBET09SX0lURU1TLCBNYXplT2JqZWN0IH0gZnJvbSAnYXJlYXMvTWF6ZU9iamVjdCc7XG5pbXBvcnQgeyBwaWNrUmFuZG9tQXJyYXksIHJhbmRvbUludCB9IGZyb20gJ2VuZ2luZS9oZWxwZXJzJztcbmltcG9ydCB7IEhpc3RvZ3JhbVNldCB9IGZyb20gJy4vSGlzdG9ncmFtU2V0JztcbmltcG9ydCB7IFRyZWVOb2RlIH0gZnJvbSAnLi9UcmVlTm9kZSc7XG5pbXBvcnQgeyBWZXJ0ZXhTZXQgfSBmcm9tICcuL1ZlcnRleFNldCc7XG5cbmNvbnN0IFdJTkRPV19TSVpFID0gNTtcbmNvbnN0IE1JTl9SQU5ET01fUEFSRU5UID0gMztcbmNvbnN0IE1BWF9SQU5ET01fUEFSRU5UID0gNztcblxuLyoqXG4gKiBHZW5lcmF0ZSB0aGUgbWFpbiBwYXRoIGluIGEgbWF6ZSBnaXZlbiB0aGUgcm9vdCBub2RlLlxuICovXG5leHBvcnQgY2xhc3MgTWFpblBhdGhHZW5lcmF0b3Ige1xuICBwcml2YXRlIHJvb3Q6IFRyZWVOb2RlO1xuICBwcml2YXRlIGhpc3Q6IEhpc3RvZ3JhbVNldDtcbiAgcHJpdmF0ZSBtaW5EZXB0aDogbnVtYmVyO1xuXG4gIHByaXZhdGUgZG9vcnNMZWZ0OiBTZXQ8TWF6ZU9iamVjdD47XG4gIHByaXZhdGUgaXRlbXNOZWVkZWQ6IE1hemVPYmplY3RbXTtcbiAgcHJpdmF0ZSBpdGVtc1JldXNlZDogU2V0PE1hemVPYmplY3Q+O1xuXG4gIGNvbnN0cnVjdG9yKG5vZGU6IFRyZWVOb2RlKSB7XG4gICAgdGhpcy5yb290ID0gbm9kZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZW5lcmF0ZSB0aGUgbWFpbiBwYXRoLCBtdXRhdGVzIHRoZSBpbnRlcm5hbCBub2Rlcy5cbiAgICogVGhpcyBtZXRob2Qgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIG9uY2UhISFcbiAgICovXG4gIHB1YmxpYyBnZW5lcmF0ZU1haW5QYXRoKCk6IHZvaWQge1xuICAgIC8vIEtlZXAgcnVuaW5nIGFuZCByZXJ1bm5pbmcgdGhlIGFsZ29yaXRobSB1bnRpbCBpdCBhY3R1YWxseSBwbGFjZXMgYWxsIGRvb3JzXG4gICAgZG8ge1xuICAgICAgdGhpcy5yZXNldEFsZ29yaXRobSgpO1xuICAgICAgdGhpcy5ydW5BbGdvcml0aG1PbmNlKCk7XG4gICAgfSB3aGlsZSAodGhpcy5kb29yc0xlZnQuc2l6ZSA+IDApO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlc2V0IGFsbCBvZiB0aGUgaW50ZXJuYWwgYWxnb3JpdGhtIHBhcmFtZXRlcnNcbiAgICovXG4gIHByaXZhdGUgcmVzZXRBbGdvcml0aG0oKTogdm9pZCB7XG4gICAgTWFpblBhdGhHZW5lcmF0b3IucmVzZXRWZXJ0aWNlcyh0aGlzLnJvb3QpO1xuICAgIHRoaXMuaGlzdCA9IG5ldyBIaXN0b2dyYW1TZXQodGhpcy5yb290KTtcbiAgICB0aGlzLm1pbkRlcHRoID0gTWF0aC5tYXgoMCwgdGhpcy5oaXN0LmhpZ2hlc3REZXB0aCAtIE1hdGguZmxvb3IoV0lORE9XX1NJWkUgLyAyKSk7XG5cbiAgICB0aGlzLmRvb3JzTGVmdCA9IG5ldyBTZXQoQUxMX01BSU5fRE9PUlMpO1xuICAgIHRoaXMuaXRlbXNOZWVkZWQgPSBbXTtcbiAgICB0aGlzLml0ZW1zUmV1c2VkID0gbmV3IFNldCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlY3Vyc2l2ZWx5IHJlc2V0IHRoZSBzdGF0ZSBvZiBhbGwgdmVydGljZXNcbiAgICovXG4gIHByaXZhdGUgc3RhdGljIHJlc2V0VmVydGljZXMocm9vdDogVHJlZU5vZGUpOiB2b2lkIHtcbiAgICByb290Lm9iamVjdCA9IE1hemVPYmplY3QuRW1wdHk7XG4gICAgZm9yIChjb25zdCBjaGlsZCBvZiByb290LmNoaWxkcmVuKSB7XG4gICAgICBNYWluUGF0aEdlbmVyYXRvci5yZXNldFZlcnRpY2VzKGNoaWxkKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQXR0ZW1wdHMgdG8gcnVuIHRoZSBhbGdvcml0aG0gb25jZSwgYnV0IGFib3J0cyBpZiBpdCBmYWlsc1xuICAgKi9cbiAgcHJpdmF0ZSBydW5BbGdvcml0aG1PbmNlKCk6IHZvaWQge1xuICAgIC8vIDEuIFBpY2sgcmFuZG9tIGxvY2F0aW9uIGZvciB0aGUgZG9vclxuICAgIGxldCBkb29yTG9jYXRpb24gPSB0aGlzLnBpY2tSYW5kb21Eb29yTG9jYXRpb24oKTtcbiAgICBpZiAoZG9vckxvY2F0aW9uID09PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuaGlzdC5yZW1vdmVSZWN1cnNpdmUoZG9vckxvY2F0aW9uKTtcbiAgICB0aGlzLnNoaWZ0TWluRGVwdGgoKTtcblxuICAgIC8vIDIuIFBpY2sgYSByYW5kb20gZG9vciB0eXBlXG4gICAgbGV0IHJhbmRvbURvb3IgPSBwaWNrUmFuZG9tQXJyYXkoQXJyYXkuZnJvbSh0aGlzLmRvb3JzTGVmdCkpO1xuICAgIHRoaXMuZG9vcnNMZWZ0LmRlbGV0ZShyYW5kb21Eb29yKTtcbiAgICBkb29yTG9jYXRpb24ub2JqZWN0ID0gcmFuZG9tRG9vcjtcbiAgICBNYWluUGF0aEdlbmVyYXRvci5wdXRFbmVyZ3lCZWhpbmQoZG9vckxvY2F0aW9uKTtcblxuICAgIC8vIDMuIEZpbmQgdGhlIGl0ZW1zIG5lZWRlZCBmb3IgdGhlIGRvb3JcbiAgICB0aGlzLmNvbXB1dGVJdGVtc05lZWRlZChyYW5kb21Eb29yKTtcblxuICAgIC8vIDQuIEFkZCBkb29ycyBhbmQgaXRlbXMgdW50aWwgdGhlcmUgYXJlIG5vIGRvb3JzIGxlZnRcbiAgICBvdXRlckxvb3A6IHdoaWxlICh0aGlzLml0ZW1zTmVlZGVkLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IG5lZWRlZCA9IFsuLi50aGlzLml0ZW1zTmVlZGVkXTtcbiAgICAgIHRoaXMuaXRlbXNOZWVkZWQgPSBbXTtcblxuICAgICAgLy8gSWYgbXVsdGlwbGUgaXRlbXMgYXJlIHNwZWNpZmllZCwgdGhlbiBwaWNrIGEgcmFuZG9tIG9uZSBmb3IgdGhlIGRvb3JcbiAgICAgIGNvbnN0IGRvb3JJbmRleCA9IHJhbmRvbUludCgwLCBuZWVkZWQubGVuZ3RoIC0gMSk7XG4gICAgICBsZXQgZG9vckl0ZW1Ob2RlOiBUcmVlTm9kZTtcblxuICAgICAgLy8gNS4gUGljayBhIHJhbmRvbSBsb2NhdGlvbiBmb3IgYWxsIHRoZSBpdGVtcyBpbiB0aGUgbWF6ZVxuICAgICAgZm9yIChjb25zdCBbaXRlbUluZGV4LCBpdGVtXSBvZiBuZWVkZWQuZW50cmllcygpKSB7XG4gICAgICAgIC8vIFBpY2sgYW4gaXRlbSBsb2NhdGlvbiwgaWYgYW55IGFyZSBhdmFpYWJsZS5cbiAgICAgICAgLy8gICBJZiBubyBpdGVtIGxvY2F0aW9ucyBhcmUgYXZhaWxhYmxlLCByZW1vdmUgdGhlIGxhc3QgZG9vciwgYW55IGxlZnRvdmVyIGl0ZW1zLCBhbmQga2lsbCB0aGUgYWxnb3JpdGhtXG4gICAgICAgIGNvbnN0IGl0ZW1Mb2NhdGlvbiA9IHRoaXMucGlja1JhbmRvbUl0ZW1Mb2NhdGlvbigpO1xuICAgICAgICBpZiAoaXRlbUxvY2F0aW9uID09PSBudWxsKSB7XG4gICAgICAgICAgZG9vckxvY2F0aW9uLm9iamVjdCA9IE1hemVPYmplY3QuRW1wdHk7XG4gICAgICAgICAgdGhpcy5kb29yc0xlZnQuYWRkKHJhbmRvbURvb3IpO1xuICAgICAgICAgIGJyZWFrIG91dGVyTG9vcDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE9rYXksIGEgbG9jYXRpb24gZXhpc3RzIHNvIGFkZCB0aGUgaXRlbSB0byB0aGUgbWF6ZVxuICAgICAgICBpdGVtTG9jYXRpb24ub2JqZWN0ID0gaXRlbTtcbiAgICAgICAgdGhpcy5oaXN0LnJlbW92ZVJlY3Vyc2l2ZShpdGVtTG9jYXRpb24pO1xuXG4gICAgICAgIC8vIFdoaWNoIGl0ZW0gZ2V0cyB0aGUgZG9vcj9cbiAgICAgICAgaWYgKGl0ZW1JbmRleCA9PT0gZG9vckluZGV4KSB7XG4gICAgICAgICAgZG9vckl0ZW1Ob2RlID0gaXRlbUxvY2F0aW9uO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIDYuIFB1dCBhIHJhbmRvbSBkb29yIG9uZSBvbmUgb2YgdGhlIGl0ZW1zXG4gICAgICBpZiAodGhpcy5kb29yc0xlZnQuc2l6ZSA+IDApIHtcbiAgICAgICAgLy8gSWYgbm8gZG9vciBsb2NhdGlvbnMgYXJlIGF2YWlsYWJsZSwgdGhlIGtpbGwgdGhlIGFsZ29yaXRobVxuICAgICAgICBkb29yTG9jYXRpb24gPSB0aGlzLnBpY2tSYW5kb21QYXJlbnREb29yTG9jYXRpb24oZG9vckl0ZW1Ob2RlKTtcbiAgICAgICAgaWYgKGRvb3JMb2NhdGlvbiA9PT0gbnVsbCkge1xuICAgICAgICAgIGJyZWFrIG91dGVyTG9vcDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmhpc3QucmVtb3ZlUmVjdXJzaXZlKGRvb3JMb2NhdGlvbik7XG5cbiAgICAgICAgLy8gUGljayB0aGUgcmFuZG9tIGl0ZW0gZm9yIHRoZSBkb29yXG4gICAgICAgIHJhbmRvbURvb3IgPSBwaWNrUmFuZG9tQXJyYXkoQXJyYXkuZnJvbSh0aGlzLmRvb3JzTGVmdCkpO1xuICAgICAgICB0aGlzLmRvb3JzTGVmdC5kZWxldGUocmFuZG9tRG9vcik7XG4gICAgICAgIGRvb3JMb2NhdGlvbi5vYmplY3QgPSByYW5kb21Eb29yO1xuXG4gICAgICAgIC8vIEFsc28gYW55IGl0ZW1zIG5lZWRlZCB0byBvcGVuIHRoZSBkb29yXG4gICAgICAgIHRoaXMuY29tcHV0ZUl0ZW1zTmVlZGVkKHJhbmRvbURvb3IpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnNoaWZ0TWluRGVwdGgoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRG9vcnMgY2FuIG9ubHkgZ28gaW4gc3BlY2lmaWMgbG9jYXRpb25zXG4gICAqL1xuICBwcml2YXRlIHBpY2tSYW5kb21Eb29yTG9jYXRpb24oKTogVHJlZU5vZGUgfCBudWxsIHtcbiAgICBjb25zdCBsb2NhdGlvbiA9IHRoaXMuaGlzdC5waWNrUmFuZG9tKHRoaXMubWluRGVwdGgsIHRoaXMubWluRGVwdGggKyBXSU5ET1dfU0laRSwgMiArIE1BWF9SQU5ET01fUEFSRU5UKTtcbiAgICBpZiAobG9jYXRpb24gPT09IG51bGwpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGlmIChsb2NhdGlvbi5yb3cgJSAyICE9PSAwICYmIGxvY2F0aW9uLmNvbHVtbiAlIDIgIT09IDApIHtcbiAgICAgIHJldHVybiBsb2NhdGlvbi5wYXJlbnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBsb2NhdGlvbjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUGljayBhIGRvb3IgZm9yIHRoZSBpdGVtIGJ5IHRyYXZlbGluZyBiYWNrIGEgZ2l2ZW4gbnVtYmVyIG9mIHNwb3RzLlxuICAgKiBEb29ycyBjYW4gb25seSBnbyBpbiBzcGVjaWZpYyBsb2NhdGlvbnMuXG4gICAqL1xuICBwcml2YXRlIHBpY2tSYW5kb21QYXJlbnREb29yTG9jYXRpb24oaXRlbTogVHJlZU5vZGUpOiBUcmVlTm9kZSB8IG51bGwge1xuICAgIC8vIEZpbmQgYWxsIGF2YWlsYWJsZSBsb2NhdGlvbnNcbiAgICBjb25zdCBhbGxBdmFpbGFibGUgPSBuZXcgVmVydGV4U2V0KCk7XG4gICAgbGV0IGxvY2F0aW9uOiBUcmVlTm9kZSB8IG51bGwgPSBpdGVtO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTUFYX1JBTkRPTV9QQVJFTlQgJiYgbG9jYXRpb24gIT09IG51bGw7IGkgKz0gMSkge1xuICAgICAgbG9jYXRpb24gPSBsb2NhdGlvbi5wYXJlbnQ7XG4gICAgICBpZiAoaSA8IE1JTl9SQU5ET01fUEFSRU5UKSB7XG4gICAgICAgIGNvbnRpbnVlOyAvKiBOZWVkIHRvIHRyYXZlbCBhIG1pbmltdW0gbnVtYmVyIG9mIHBhcmVudCBub2RlcyAqL1xuICAgICAgfVxuXG4gICAgICAvLyBTa2lwIGFueSBub24tZW1wdHkgb2JqZWN0c1xuICAgICAgaWYgKGxvY2F0aW9uLm9iamVjdCAhPT0gTWF6ZU9iamVjdC5FbXB0eSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgLy8gU2tpcCBhbnkgaW52YWxpZCBkb29yIGxvY2F0aW9uc1xuICAgICAgaWYgKGxvY2F0aW9uLnJvdyAlIDIgIT09IDAgJiYgbG9jYXRpb24uY29sdW1uICUgMiAhPT0gMCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgYWxsQXZhaWxhYmxlLmFkZChsb2NhdGlvbik7IC8qIE5vZGUgaXMgb2theSAqL1xuICAgIH1cblxuICAgIHJldHVybiBhbGxBdmFpbGFibGUucGlja0FueVJhbmRvbSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEl0ZW1zIGNhbiBnbyBpbiBhbGwgbG9jYXRpb25zXG4gICAqL1xuICBwcml2YXRlIHBpY2tSYW5kb21JdGVtTG9jYXRpb24oKTogVHJlZU5vZGUgfCBudWxsIHtcbiAgICByZXR1cm4gdGhpcy5oaXN0LnBpY2tSYW5kb20odGhpcy5taW5EZXB0aCwgdGhpcy5taW5EZXB0aCArIFdJTkRPV19TSVpFLCAyICsgTUFYX1JBTkRPTV9QQVJFTlQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluY3JlYXNlIHRoZSBtaW5pbXVtIGRlcHRoIHNvIGl0ZW1zIGFyZSAqYXBwcm94aW1hdGVseSogdW5pZm9ybWx5IGRpc3RyaWJ1dGVkIGluIHRoZSBtYXplXG4gICAqL1xuICBwcml2YXRlIHNoaWZ0TWluRGVwdGgoKTogdm9pZCB7XG4gICAgdGhpcy5taW5EZXB0aCA9IE1hdGgubWF4KDAsIHRoaXMubWluRGVwdGggLSAxKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb21wdXRlIHRoZSBpdGVtKHMpIG5lZWRlZCB0byBvcGVuIHRoZSBkb29yLCBhbmQgcHVzaCB0aGVtIHRvIHRoZSBpdGVtc05lZWRlZCBhcnJheVxuICAgKi9cbiAgcHJpdmF0ZSBjb21wdXRlSXRlbXNOZWVkZWQoZG9vcjogTWF6ZU9iamVjdCk6IHZvaWQge1xuICAgIGNvbnN0IGl0ZW1zTmVlZGVkID0gRE9PUl9JVEVNU1tkb29yXTtcblxuICAgIGlmICh0eXBlb2YgaXRlbXNOZWVkZWQub25lVGltZUl0ZW0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aGlzLml0ZW1zTmVlZGVkLnB1c2goaXRlbXNOZWVkZWQub25lVGltZUl0ZW0pO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgaXRlbXNOZWVkZWQucmV1c2VJdGVtICE9PSAndW5kZWZpbmVkJyAmJiAhdGhpcy5pdGVtc1JldXNlZC5oYXMoaXRlbXNOZWVkZWQucmV1c2VJdGVtKSkge1xuICAgICAgdGhpcy5pdGVtc05lZWRlZC5wdXNoKGl0ZW1zTmVlZGVkLnJldXNlSXRlbSk7XG4gICAgICB0aGlzLml0ZW1zUmV1c2VkLmFkZChpdGVtc05lZWRlZC5yZXVzZUl0ZW0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYW4gZW5lcmd5IG9yYiB0byBhIHJhbmRvbSBjaGlsZCBvZiB0aGUgZG9vciBub2RlXG4gICAqL1xuICBwcml2YXRlIHN0YXRpYyBwdXRFbmVyZ3lCZWhpbmQoZG9vck5vZGU6IFRyZWVOb2RlKTogdm9pZCB7XG4gICAgY29uc3QgYXZhaWxhYmxlTm9kZXMgPSBuZXcgVmVydGV4U2V0KGRvb3JOb2RlKTtcbiAgICBhdmFpbGFibGVOb2Rlcy5yZW1vdmUoZG9vck5vZGUpO1xuICAgIGZvciAoY29uc3Qgbm9kZSBvZiBhdmFpbGFibGVOb2Rlcy5nZXRBbGxOb2RlcygpKSB7XG4gICAgICBpZiAobm9kZS5vYmplY3QgIT09IE1hemVPYmplY3QuRW1wdHkpIHtcbiAgICAgICAgYXZhaWxhYmxlTm9kZXMucmVtb3ZlKG5vZGUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGVuZXJneUxvY2F0aW9uID0gYXZhaWxhYmxlTm9kZXMucGlja0FueVJhbmRvbSgpO1xuICAgIGlmIChlbmVyZ3lMb2NhdGlvbiAhPT0gbnVsbCkge1xuICAgICAgZW5lcmd5TG9jYXRpb24ub2JqZWN0ID0gTWF6ZU9iamVjdC5FbmVyZ3k7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBwaWNrUmFuZG9tQXJyYXkgfSBmcm9tICdlbmdpbmUvaGVscGVycyc7XG5cbi8vLyBVc2VkIGludGVybmFsbHkgYnkgdGhlIGdlbmVyYXRvciBhbGdvcml0aG0gZm9yIHRoZSB3YWxsc1xuaW50ZXJmYWNlIFZlcnRleCB7XG4gIHJvdzogbnVtYmVyO1xuICBjb2w6IG51bWJlcjtcbn1cblxuLyoqXG4gKiBHZW5lcmF0ZXMganVzdCB0aGUgd2FsbHMgb2YgdGhlIG1hemVcbiAqL1xuZXhwb3J0IGNsYXNzIE1hemVXYWxsc0dlbmVyYXRvciB7XG4gIC8vIFN0b3JlIHRoZSB0cnVlIHdpZHRoIGFuZCBoZWlnaHRcbiAgcHJpdmF0ZSB3aWR0aDogbnVtYmVyO1xuICBwcml2YXRlIGhlaWdodDogbnVtYmVyO1xuICBwcml2YXRlIGNlbnRlcldpZHRoOiBudW1iZXI7XG4gIHByaXZhdGUgY2VudGVySGVpZ2h0OiBudW1iZXI7XG5cbiAgLy8vIEFycmF5IG9mIHdhbGxzXG4gIHByaXZhdGUgd2FsbHM6IGJvb2xlYW5bXVtdO1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3QgYSBuZXcgd2FsbCBnZW5lcmF0b3JyXG4gICAqXG4gICAqIEBwYXJhbSB3aWR0aCBOdW1iZXIgb2YgY2VudGVyIHZlcnRpY2VzIHdpZGUsIG5vdCB0aGUgdHJ1ZSB3aWR0aFxuICAgKiBAcGFyYW0gaGVpZ2h0IE51bWJlciBvZiBjZW50ZXIgdmVydGljZXMgdGFsbCwgbm90IHRoZSB0cnVlIGhlaWdodFxuICAgKiBAcGFyYW0gY2VudGVyV2lkdGggVHJ1ZSB3aWR0aCBvZiB0aGUgY2VudGVyIHRlbXBsYXRlXG4gICAqIEBwYXJhbSBjZW50ZXJIZWlnaHQgVHJ1ZSBoZWlnaHQgb2YgdGhlIGNlbnRlciB0ZW1wbGF0ZVxuICAgKi9cbiAgY29uc3RydWN0b3Iod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIsIGNlbnRlcldpZHRoOiBudW1iZXIsIGNlbnRlckhlaWdodDogbnVtYmVyKSB7XG4gICAgdGhpcy53aWR0aCA9IHdpZHRoICogMiArIDE7XG4gICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQgKiAyICsgMTtcbiAgICB0aGlzLmNlbnRlcldpZHRoID0gY2VudGVyV2lkdGg7XG4gICAgdGhpcy5jZW50ZXJIZWlnaHQgPSBjZW50ZXJIZWlnaHQ7XG4gIH1cblxuICAvKipcbiAgICogTWV0aG9kIHRoYXQgYWN0dWFsbHkgZ2VuZXJhdGVzIHRoZSByYW5kb20gbWF6ZVxuICAgKi9cbiAgcHVibGljIGdlbmVyYXRlUmFuZG9tTWF6ZSgpOiBib29sZWFuW11bXSB7XG4gICAgLy8gQ3JlYXRlIGJsYW5rIG1hemVcbiAgICB0aGlzLndhbGxzID0gQXJyYXkodGhpcy5oZWlnaHQpXG4gICAgICAuZmlsbChudWxsKVxuICAgICAgLm1hcCgoKSA9PlxuICAgICAgICBBcnJheSh0aGlzLndpZHRoKVxuICAgICAgICAgIC5maWxsKG51bGwpXG4gICAgICAgICAgLm1hcCgoKSA9PiB0cnVlKSxcbiAgICAgICk7XG5cbiAgICB0aGlzLmNoaXNlbEhvbGVzKCk7XG4gICAgdGhpcy5maWxsQ2VudGVyVGVtcGxhdGUoKTtcblxuICAgIC8vIEFjdHVhbGx5IGdlbmVyYXRlIHRoZSBtYXplXG4gICAgY29uc3QgdmVydGljZXMgPSB0aGlzLmdldEFsbFZlcnRpY2VzKCk7XG4gICAgY29uc3QgbWF6ZSA9IGdlbmVyYXRlKHZlcnRpY2VzLCBpc0FkamFjZW50LCBwaWNrUmFuZG9tQXJyYXkpO1xuICAgIHRoaXMucGxhY2VWZXJ0ZXhXYWxscyhtYXplKTtcblxuICAgIHJldHVybiB0aGlzLndhbGxzO1xuICB9XG5cbiAgLyoqXG4gICAqIENoaXNlbCBvdXQgdGhlIGhvbGVzIG9mIHRoZSBtYXplXG4gICAqXG4gICAqIFhYWFhYWFhYWFxuICAgKiBYIHwgfCB8IFhcbiAgICogWC1YLVgtWC1YXG4gICAqIFggfCB8IHwgWFxuICAgKiBYLVgtWC1YLVhcbiAgICogWCB8IHwgfCBYXG4gICAqIFhYWFhYWFhYWFxuICAgKi9cbiAgcHJpdmF0ZSBjaGlzZWxIb2xlcygpOiB2b2lkIHtcbiAgICBmb3IgKGxldCByb3cgPSAxOyByb3cgPCB0aGlzLmhlaWdodCAtIDE7IHJvdyArPSAyKSB7XG4gICAgICAvLyBjb25zdCBzdGVwID0gTnVtYmVyKCEocm93ICUgMikpICsgMTtcbiAgICAgIGZvciAobGV0IGNvbCA9IDE7IGNvbCA8IHRoaXMud2lkdGggLSAxOyBjb2wgKz0gMikge1xuICAgICAgICB0aGlzLndhbGxzW3Jvd11bY29sXSA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgY2VudGVyIHRlbXBsYXRlIGlzIGZpbGxlZCBlbnRpcmVseSB3aXRoIHdhbGxzXG4gICAqL1xuICBwcml2YXRlIGZpbGxDZW50ZXJUZW1wbGF0ZSgpOiB2b2lkIHtcbiAgICAvLyBTaGlmdCBldmVyeXRoaW5nIGRvd24gYnkgb25lIGlmIHRoZSBoZWlnaHQgaXMgZXZlbiBhbmQgYWRkIGFuIGV4dHJhIHJvdyBvZiB3YWxsc1xuICAgIGNvbnN0IHRvcFJvdyA9IE1hdGguZmxvb3IoKHRoaXMuaGVpZ2h0IC0gdGhpcy5jZW50ZXJIZWlnaHQpIC8gMikgKyBOdW1iZXIoISh0aGlzLmNlbnRlckhlaWdodCAlIDIpKTtcbiAgICBjb25zdCBib3R0b21Sb3cgPSB0b3BSb3cgKyB0aGlzLmNlbnRlckhlaWdodCArIE51bWJlcighKHRoaXMuY2VudGVySGVpZ2h0ICUgMikpO1xuICAgIGNvbnN0IGxlZnRDb2wgPSBNYXRoLmZsb29yKCh0aGlzLndpZHRoIC0gdGhpcy5jZW50ZXJXaWR0aCkgLyAyKSArIE51bWJlcighKHRoaXMuY2VudGVyV2lkdGggJSAyKSk7XG4gICAgY29uc3QgcmlnaHRDb2wgPSBsZWZ0Q29sICsgdGhpcy5jZW50ZXJXaWR0aCArIE51bWJlcighKHRoaXMuY2VudGVyV2lkdGggJSAyKSk7XG5cbiAgICBmb3IgKGxldCByb3cgPSB0b3BSb3c7IHJvdyA8IGJvdHRvbVJvdzsgcm93ICs9IDEpIHtcbiAgICAgIGZvciAobGV0IGNvbCA9IGxlZnRDb2w7IGNvbCA8IHJpZ2h0Q29sOyBjb2wgKz0gMSkge1xuICAgICAgICB0aGlzLndhbGxzW3Jvd11bY29sXSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhbGwgdmVydGljZXMgaW4gdGhlIG1hemVcbiAgICovXG4gIHByaXZhdGUgZ2V0QWxsVmVydGljZXMoKTogVmVydGV4W10ge1xuICAgIGNvbnN0IHZlcnRpY2VzOiBWZXJ0ZXhbXSA9IFtdO1xuICAgIGZvciAobGV0IHJvdyA9IDE7IHJvdyA8IHRoaXMuaGVpZ2h0IC0gMTsgcm93ICs9IDEpIHtcbiAgICAgIGZvciAobGV0IGNvbCA9IDE7IGNvbCA8IHRoaXMud2lkdGggLSAxOyBjb2wgKz0gMSkge1xuICAgICAgICBpZiAoIXRoaXMud2FsbHNbcm93XVtjb2xdKSB7XG4gICAgICAgICAgdmVydGljZXMucHVzaCh7IHJvdywgY29sIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHZlcnRpY2VzO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnQgdGhlIHZlcnRpY2VzIGludG8gd2FsbHMgaW4gdGhlIG1hemUgYnkgY2hpc2VsaW5nIGZsb29yIHRpbGVzXG4gICAqXG4gICAqIEBwYXJhbSB2ZXJ0aWNlcyBNYXAgb2YgdmVydGljZXMgdG8gY29udmVydFxuICAgKi9cbiAgcHJpdmF0ZSBwbGFjZVZlcnRleFdhbGxzKHZlcnRpY2VzOiBNYXA8VmVydGV4LCBWZXJ0ZXhbXT4pIHtcbiAgICBmb3IgKGNvbnN0IFtub2RlLCBuZWlnaGJvcnNdIG9mIHZlcnRpY2VzKSB7XG4gICAgICBmb3IgKGNvbnN0IG5laWdoYm9yIG9mIG5laWdoYm9ycykge1xuICAgICAgICBjb25zdCBtaWRwb2ludFJvdyA9IG5vZGUucm93ICsgKG5laWdoYm9yLnJvdyAtIG5vZGUucm93KSAvIDI7XG4gICAgICAgIGNvbnN0IG1pZHBvaW50Q29sID0gbm9kZS5jb2wgKyAobmVpZ2hib3IuY29sIC0gbm9kZS5jb2wpIC8gMjtcbiAgICAgICAgdGhpcy53YWxsc1ttaWRwb2ludFJvd11bbWlkcG9pbnRDb2xdID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogR2VuZXJhdGUgYSBwZXJmZWN0IG1hemUuXG4gKiBDb2RlIGlzIGZyb206IGh0dHBzOi8vZ2l0aHViLmNvbS9zZW1pYnJhbi9tYXplL2Jsb2IvbWFzdGVyL2luZGV4LmpzXG4gKlxuICogQHBhcmFtIG5vZGVzIExpc3Qgb2YgYWxsIG5vZGVzXG4gKiBAcGFyYW0gYWRqYWNlbnQgRnVuY3Rpb24gdGhhdCByZXR1cm5zIHRydWUgaWYgdHdvIG5vZGVzIGFyZSBhZGphY2VudCwgb3IgZmFsc2Ugb3RoZXJ3aXNlXG4gKiBAcGFyYW0gY2hvb3NlIEZ1bmN0aW9uIHRvIHBpY2sgYSByYW5kb20gbm9kZVxuICogQHJldHVybnMgUGVyZmVjdCBNYXplXG4gKi9cbmZ1bmN0aW9uIGdlbmVyYXRlPFQ+KG5vZGVzOiBUW10sIGFkamFjZW50OiAoYTogVCwgYjogVCkgPT4gYm9vbGVhbiwgY2hvb3NlOiAobm9kZXM6IFRbXSkgPT4gVCk6IE1hcDxULCBUW10+IHtcbiAgbGV0IG5vZGUgPSBjaG9vc2Uobm9kZXMpO1xuICBjb25zdCBzdGFjayA9IFtub2RlXTtcbiAgY29uc3QgbWF6ZSA9IG5ldyBNYXA8VCwgVFtdPigpO1xuXG4gIGZvciAoY29uc3QgbiBvZiBub2Rlcykge1xuICAgIG1hemUuc2V0KG4sIFtdKTtcbiAgfVxuXG4gIHdoaWxlIChub2RlKSB7XG4gICAgY29uc3QgbmVpZ2hib3JzID0gbm9kZXMuZmlsdGVyKChvdGhlcikgPT4gIW1hemUuZ2V0KG90aGVyKS5sZW5ndGggJiYgYWRqYWNlbnQobm9kZSwgb3RoZXIpKTtcbiAgICBpZiAobmVpZ2hib3JzLmxlbmd0aCkge1xuICAgICAgY29uc3QgbmVpZ2hib3IgPSBjaG9vc2UobmVpZ2hib3JzKTtcbiAgICAgIG1hemUuZ2V0KG5vZGUpLnB1c2gobmVpZ2hib3IpO1xuICAgICAgbWF6ZS5nZXQobmVpZ2hib3IpLnB1c2gobm9kZSk7XG4gICAgICBzdGFjay51bnNoaWZ0KG5laWdoYm9yKTtcbiAgICAgIG5vZGUgPSBuZWlnaGJvcjtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RhY2suc2hpZnQoKTtcbiAgICAgIG5vZGUgPSBzdGFja1swXTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbWF6ZTtcbn1cblxuLyoqXG4gKiBUZXN0IGlmIHR3byB2ZXJ0aWNlcyBhcmUgYWRqYWNlbnQgaW4gdGhlIG1hemVcbiAqL1xuZnVuY3Rpb24gaXNBZGphY2VudChhOiBWZXJ0ZXgsIGI6IFZlcnRleCkge1xuICByZXR1cm4gTWF0aC5hYnMoYi5yb3cgLSBhLnJvdykgKyBNYXRoLmFicyhiLmNvbCAtIGEuY29sKSA9PT0gMjtcbn1cbiIsImltcG9ydCB7IEFMTF9NQUlOX0RPT1JTLCBET09SX0lURU1TLCBNYXplT2JqZWN0IH0gZnJvbSAnYXJlYXMvTWF6ZU9iamVjdCc7XG5pbXBvcnQgeyBwaWNrUmFuZG9tQXJyYXkgfSBmcm9tICdlbmdpbmUvaGVscGVycyc7XG5pbXBvcnQgeyBIaXN0b2dyYW1TZXQgfSBmcm9tICcuL0hpc3RvZ3JhbVNldCc7XG5pbXBvcnQgeyBUcmVlTm9kZSB9IGZyb20gJy4vVHJlZU5vZGUnO1xuaW1wb3J0IHsgVmVydGV4U2V0IH0gZnJvbSAnLi9WZXJ0ZXhTZXQnO1xuXG5jb25zdCBJVEVNX05PREVTID0gbmV3IFNldChbXG4gIE1hemVPYmplY3QuUmVkS2V5LFxuICBNYXplT2JqZWN0LlllbGxvd0tleSxcbiAgTWF6ZU9iamVjdC5HcmVlbktleSxcbiAgTWF6ZU9iamVjdC5CbHVlS2V5LFxuICBNYXplT2JqZWN0LkxldmVyLFxuICBNYXplT2JqZWN0LkJhdHRlcnksXG4gIE1hemVPYmplY3QuQUJveCxcbiAgTWF6ZU9iamVjdC5CQm94LFxuICBNYXplT2JqZWN0LkNCb3gsXG5dKTtcblxuY29uc3QgQ09MT1JFRF9ET09SUyA9IG5ldyBTZXQoW01hemVPYmplY3QuUmVkRG9vciwgTWF6ZU9iamVjdC5ZZWxsb3dEb29yLCBNYXplT2JqZWN0LkdyZWVuRG9vciwgTWF6ZU9iamVjdC5CbHVlRG9vcl0pO1xuXG5jb25zdCBXSU5ET1dfU0laRSA9IDI7XG5cbi8qKlxuICogR2VuZXJhdGUgYWxsIG9mIHRoZSBzaWRlIHBhdGhzIGZvciB0aGlzIG1hemVcbiAqL1xuZXhwb3J0IGNsYXNzIFNpZGVQYXRoc0dlbmVyYXRvciB7XG4gIHByaXZhdGUgcm9vdDogVHJlZU5vZGU7XG5cbiAgcHJpdmF0ZSBtYWluTm9kZXM6IEhpc3RvZ3JhbVNldDtcbiAgcHJpdmF0ZSBzaWRlTm9kZURvb3JzOiBIaXN0b2dyYW1TZXQ7IC8qIE9ubHkgc3RvcmVzIGRvb3JzICovXG4gIHByaXZhdGUgbWluRGVwdGg6IG51bWJlcjtcblxuICAvLyBGaW5kIHRoZSBjb2xvcmVkIGRvb3IgaW5zdGFuY2VzIChTcGVjaWFsIGNhc2UpXG4gIHByaXZhdGUgY29sb3JlZERvb3I6IE1hcDxNYXplT2JqZWN0LCBUcmVlTm9kZT4gPSBuZXcgTWFwKCk7XG5cbiAgY29uc3RydWN0b3Iocm9vdDogVHJlZU5vZGUpIHtcbiAgICB0aGlzLnJvb3QgPSByb290O1xuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlIHRoZSBzaWRlIHBhdGhzLCBtdXRhdGVzIHRoZSBpbnRlcm5hbCBub2Rlcy5cbiAgICogVGhpcyBtZXRob2Qgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIG9uY2UhISFcbiAgICovXG4gIHB1YmxpYyBnZW5lcmF0ZVNpZGVQYXRocygpOiB2b2lkIHtcbiAgICB0aGlzLm1haW5Ob2RlcyA9IG5ldyBIaXN0b2dyYW1TZXQoKTtcbiAgICB0aGlzLnNpZGVOb2RlRG9vcnMgPSBuZXcgSGlzdG9ncmFtU2V0KHRoaXMucm9vdCk7XG5cbiAgICB0aGlzLnByb2Nlc3NJdGVtTm9kZXModGhpcy5yb290KTtcbiAgICB0aGlzLm1pbkRlcHRoID0gTWF0aC5tYXgoMCwgdGhpcy5zaWRlTm9kZURvb3JzLmhpZ2hlc3REZXB0aCAtIE1hdGguZmxvb3IoV0lORE9XX1NJWkUgLyAyKSk7XG5cbiAgICBkbyB7XG4gICAgICB0aGlzLmFkZFNpbmdsZVJhbmRvbURvb3IoKTtcbiAgICAgIHRoaXMuc2hpZnRNaW5EZXB0aCgpO1xuICAgIH0gd2hpbGUgKHRoaXMubWluRGVwdGggPiAwKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb21wdXRlIHRoZSBub2RlcyBvbiB0aGUgbWFpbiBwYXRoIGFuZCBvbiB0aGUgc3ViIHBhdGhzXG4gICAqL1xuICBwcml2YXRlIHByb2Nlc3NJdGVtTm9kZXMobm9kZTogVHJlZU5vZGUpOiB2b2lkIHtcbiAgICB0aGlzLmxvYWRJdGVtTm9kZXNSZWN1cnNpdmUobm9kZSk7XG5cbiAgICAvLyBSZW1vdmUgYW55IGl0ZW1zIGZyb20gdGhlIG1haW4gbm9kZXNcbiAgICBmb3IgKGNvbnN0IG5vZGUgb2YgdGhpcy5tYWluTm9kZXMuZ2V0QWxsTm9kZXMoKSkge1xuICAgICAgaWYgKG5vZGUub2JqZWN0ICE9PSBNYXplT2JqZWN0LkVtcHR5KSB7XG4gICAgICAgIHRoaXMubWFpbk5vZGVzLnJlbW92ZShub2RlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBSZW1vdmUgYW55IG5vbi1kb29ycyBhbmQgbGVmdG92ZXIgaXRlbXMgZnJvbSB0aGUgc2lkZSBub2Rlc1xuICAgIGZvciAoY29uc3Qgbm9kZSBvZiB0aGlzLnNpZGVOb2RlRG9vcnMuZ2V0QWxsTm9kZXMoKSkge1xuICAgICAgaWYgKG5vZGUub2JqZWN0ICE9PSBNYXplT2JqZWN0LkVtcHR5KSB7XG4gICAgICAgIHRoaXMuc2lkZU5vZGVEb29ycy5yZW1vdmUobm9kZSk7XG4gICAgICB9XG4gICAgICBpZiAobm9kZS5yb3cgJSAyICE9PSAwICYmIG5vZGUuY29sdW1uICUgMiAhPT0gMCkge1xuICAgICAgICB0aGlzLnNpZGVOb2RlRG9vcnMucmVtb3ZlKG5vZGUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZWN1cnNpdmVseSBsb2FkIGFsbCBpdGVtIG5vZGVzIGludG8gdGhlIG1hemVcbiAgICovXG4gIHByaXZhdGUgbG9hZEl0ZW1Ob2Rlc1JlY3Vyc2l2ZShub2RlOiBUcmVlTm9kZSk6IHZvaWQge1xuICAgIC8vIFRoZSBtYWluIHBhdGggaXMgZGVmaW5lZCBieSBhbGwgaXRlbSBub2RlcyB0byB0aGUgcm9vdFxuICAgIGlmIChJVEVNX05PREVTLmhhcyhub2RlLm9iamVjdCkpIHtcbiAgICAgIHRoaXMubWFpbk5vZGVzLmFkZFBhcmVudHMobm9kZSk7XG4gICAgICB0aGlzLnNpZGVOb2RlRG9vcnMucmVtb3ZlUGFyZW50cyhub2RlKTtcbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgdGhlIGNvbG9yZWQgZG9vcnNcbiAgICAvLyAgVGhlcmUgc2hvdWxkIG9ubHkgYmUgb25lIG9mIGVhY2ggY29sb3JlZCBkb29yIGluIHRoZSBtYWluIHBhdGhcbiAgICBpZiAoQ09MT1JFRF9ET09SUy5oYXMobm9kZS5vYmplY3QpKSB7XG4gICAgICB0aGlzLmNvbG9yZWREb29yLnNldChub2RlLm9iamVjdCwgbm9kZSk7XG4gICAgfVxuXG4gICAgLy8gUmVjdXJzZSFcbiAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIG5vZGUuY2hpbGRyZW4pIHtcbiAgICAgIHRoaXMubG9hZEl0ZW1Ob2Rlc1JlY3Vyc2l2ZShjaGlsZCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhIHNpbmdsZSByYW5kb20gZG9vciBpbnRvIHRoZSBtYXplLlxuICAgKi9cbiAgcHJpdmF0ZSBhZGRTaW5nbGVSYW5kb21Eb29yKCk6IHZvaWQge1xuICAgIC8vIDEuIFBpY2sgYSByYW5kb20gdHlwZSBmb3IgdGhlIGRvb3JcbiAgICBjb25zdCBkb29yVHlwZSA9IHBpY2tSYW5kb21BcnJheShBTExfTUFJTl9ET09SUyk7XG5cbiAgICAvLyAyLiBQaWNrIGEgcmFuZG9tIGxvY2F0aW9uIGZvciB0aGUgZG9vciwgb3IgYWJvcnQgb24gZmFpbHVyZVxuICAgIC8vICBIYW5kbGVzIGEgc3BlY2lhbCBjYXNlIGZvciBjb2xvcmVkIGRvb3JzXG4gICAgLy8gIEFsc28gcHV0IGFuIGVuZXJneSBvYmplY3QgYmVoaW5kIHRoZSBkb29yXG4gICAgY29uc3QgZG9vckxvY2F0aW9uID0gdGhpcy5waWNrUmFuZG9tRG9vckxvY2F0aW9uKHRoaXMuY29sb3JlZERvb3IuZ2V0KGRvb3JUeXBlKSk7XG4gICAgaWYgKGRvb3JMb2NhdGlvbiA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuOyAvLyBObyBkb29yIGZvdW5kLCBhYm9ydCFcbiAgICB9XG4gICAgdGhpcy5zaWRlTm9kZURvb3JzLnJlbW92ZVJlY3Vyc2l2ZShkb29yTG9jYXRpb24pO1xuXG4gICAgZG9vckxvY2F0aW9uLm9iamVjdCA9IGRvb3JUeXBlO1xuICAgIFNpZGVQYXRoc0dlbmVyYXRvci5wdXRFbmVyZ3lCZWhpbmQoZG9vckxvY2F0aW9uKTtcblxuICAgIC8vIDMuIEdldCB0aGUgaXRlbXMgbmVlZGVkIHRvIG9wZW4gdGhlIGRvb3JzXG4gICAgLy8gIFRoZSBwcmV2aW91cyBzdGVwIGFscmVhZHkgYWRkZWQgYWxsIHJldXNhYmxlIGl0ZW1zLCBzbyB0aGlzIHN0ZXAgY2FuIGJlIHNraXBwZWRcbiAgICBjb25zdCBpdGVtVHlwZXMgPSBET09SX0lURU1TW2Rvb3JUeXBlXTtcbiAgICBpZiAodHlwZW9mIGl0ZW1UeXBlcy5vbmVUaW1lSXRlbSA9PT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mIGl0ZW1UeXBlcy5yZXVzZUl0ZW0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm47IC8qIFRoZSBwcmV2aW91cyBhbGdvcml0aG0gYWxyZWFkeSBhZGRlZCBhbGwgcmV1c2FibGUgYWxnb3JpdGhtcywgc28gaWdub3JlICovXG4gICAgfVxuXG4gICAgLy8gNC4gUGljayBhIGxvY2F0aW9uIGZvciB0aGUgaXRlbSwgb3IgYWJvcnQgb24gZmFpbHVyZVxuICAgIGNvbnN0IG9uZVRpbWVJdGVtID0gaXRlbVR5cGVzLm9uZVRpbWVJdGVtO1xuICAgIGNvbnN0IGl0ZW1Mb2NhdGlvbiA9IHRoaXMubWFpbk5vZGVzLnBpY2tSYW5kb20oMCwgdGhpcy5tYWluTm9kZXMuaGlnaGVzdERlcHRoKTtcbiAgICBpZiAoaXRlbUxvY2F0aW9uID09PSBudWxsKSB7XG4gICAgICBkb29yTG9jYXRpb24ub2JqZWN0ID0gTWF6ZU9iamVjdC5FbXB0eTtcbiAgICAgIHJldHVybjsgLy8gTm8gaXRlbSBsb2NhdGlvbiBmb3VuZCwgYWJvcnQhXG4gICAgfVxuICAgIGl0ZW1Mb2NhdGlvbi5vYmplY3QgPSBvbmVUaW1lSXRlbTtcbiAgICB0aGlzLm1haW5Ob2Rlcy5yZW1vdmUoaXRlbUxvY2F0aW9uKTsgLyogT25seSByZW1vdmVzIG9uZSBub2RlICovXG4gIH1cblxuICAvKipcbiAgICogRG9vcnMgY2FuIG9ubHkgZ28gaW4gc3BlY2lmaWMgbG9jYXRpb25zXG4gICAqL1xuICBwcml2YXRlIHBpY2tSYW5kb21Eb29yTG9jYXRpb24ocGFyZW50PzogVHJlZU5vZGUpOiBUcmVlTm9kZSB8IG51bGwge1xuICAgIGNvbnN0IGFsbEFsbG93ZWQgPSBuZXcgVmVydGV4U2V0KCk7XG4gICAgYWxsQWxsb3dlZC5hZGRBbGwodGhpcy5zaWRlTm9kZURvb3JzLmdldEFsbE5vZGVzQnkodGhpcy5taW5EZXB0aCwgdGhpcy5taW5EZXB0aCArIFdJTkRPV19TSVpFLCAyKSk7XG5cbiAgICAvLyBJZiBzcGVjaWZpZWQsIG5vZGVzIG11c3QgYmUgYSBwYXJlbnQgb2YgdGhlIHBhcmVudCBub2RlLlxuICAgIC8vXG4gICAgLy8gVGhpcyBmaXhlcyBhIHNwZWNpYWwgY2FzZTpcbiAgICAvLyAgIEZvciBjb2xvcmVkIGRvb3JzLCB0aGUgY29sb3JlZCBkb29yIGluIHRoZSBtYWluIHBhdGggbXVzdCBiZSB0aGUgcGFyZW50XG4gICAgLy8gICBPdGhlcndpc2UsIHRoZSBjb2xvcmVkIGtleSBjb3VsZCBvcGVuIHRoZSBzaWRlIGRvb3IgYW5kIG1ha2UgdGhlIG1hemUgaW1wb3NzaWJsZVxuICAgIGlmICh0eXBlb2YgcGFyZW50ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgZm9yIChjb25zdCBub2RlIG9mIGFsbEFsbG93ZWQuZ2V0QWxsTm9kZXMoKSkge1xuICAgICAgICBpZiAoIVNpZGVQYXRoc0dlbmVyYXRvci5pc1BhcmVudE9mKHBhcmVudCwgbm9kZSkpIHtcbiAgICAgICAgICBhbGxBbGxvd2VkLnJlbW92ZShub2RlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBhbGxBbGxvd2VkLnBpY2tBbnlSYW5kb20oKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUZXN0IGlmIGEgbm9kZSBpcyB0aGUgcGFyZW50IG9mIHRoZSBvdGhlciBub2RlXG4gICAqXG4gICAqIEBwYXJhbSBwYXJlbnQgRXhwZWN0ZWQgcGFyZW50IG5vZGVcbiAgICogQHBhcmFtIG5vZGUgTm9kZSBiZWluZyB0ZXN0ZWRcbiAgICovXG4gIHByaXZhdGUgc3RhdGljIGlzUGFyZW50T2YocGFyZW50OiBUcmVlTm9kZSwgbm9kZTogVHJlZU5vZGUpOiBib29sZWFuIHtcbiAgICBsZXQgdGVtcFBhcmVudCA9IG5vZGUucGFyZW50O1xuICAgIHdoaWxlICh0ZW1wUGFyZW50ICE9PSBudWxsKSB7XG4gICAgICBpZiAodGVtcFBhcmVudCA9PT0gcGFyZW50KSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgdGVtcFBhcmVudCA9IHRlbXBQYXJlbnQucGFyZW50O1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbmNyZWFzZSB0aGUgbWluaW11bSBkZXB0aCBzbyBpdGVtcyBhcmUgKmFwcHJveGltYXRlbHkqIHVuaWZvcm1seSBkaXN0cmlidXRlZCBpbiB0aGUgbWF6ZVxuICAgKi9cbiAgcHJpdmF0ZSBzaGlmdE1pbkRlcHRoKCk6IHZvaWQge1xuICAgIHRoaXMubWluRGVwdGggPSBNYXRoLm1heCgwLCB0aGlzLm1pbkRlcHRoIC0gMSk7XG4gIH1cblxuICAvKipcbiAgICogQWRkIGFuIGVuZXJneSBvcmIgdG8gYSByYW5kb20gY2hpbGQgb2YgdGhlIGRvb3Igbm9kZVxuICAgKi9cbiAgcHJpdmF0ZSBzdGF0aWMgcHV0RW5lcmd5QmVoaW5kKGRvb3JOb2RlOiBUcmVlTm9kZSk6IHZvaWQge1xuICAgIC8vIEZpbmQgYXZhaWxhYmxlIHNsb3RzIGJlaGluZCB0aGUgZG9vclxuICAgIGNvbnN0IGF2YWlsYWJsZU5vZGVzID0gbmV3IFZlcnRleFNldChkb29yTm9kZSk7XG4gICAgYXZhaWxhYmxlTm9kZXMucmVtb3ZlKGRvb3JOb2RlKTtcbiAgICBmb3IgKGNvbnN0IG5vZGUgb2YgYXZhaWxhYmxlTm9kZXMuZ2V0QWxsTm9kZXMoKSkge1xuICAgICAgaWYgKG5vZGUub2JqZWN0ICE9PSBNYXplT2JqZWN0LkVtcHR5KSB7XG4gICAgICAgIC8vIERvbid0IHB1dCB0d28gYmVoaW5kIHRoZSBzYW1lIGRvb3JcbiAgICAgICAgYXZhaWxhYmxlTm9kZXMucmVtb3ZlUmVjdXJzaXZlKG5vZGUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGVuZXJneUxvY2F0aW9uID0gYXZhaWxhYmxlTm9kZXMucGlja0FueVJhbmRvbSgpO1xuICAgIGlmIChlbmVyZ3lMb2NhdGlvbiAhPT0gbnVsbCkge1xuICAgICAgZW5lcmd5TG9jYXRpb24ub2JqZWN0ID0gTWF6ZU9iamVjdC5FbmVyZ3k7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBNYXplT2JqZWN0IH0gZnJvbSAnYXJlYXMvTWF6ZU9iamVjdCc7XG5cbi8qKlxuICogU2luZ2xlIHRyZWUgbm9kZSBpbiB0aGUgbWF6ZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFRyZWVOb2RlIHtcbiAgcm93OiBudW1iZXI7XG4gIGNvbHVtbjogbnVtYmVyO1xuICBvYmplY3Q6IE1hemVPYmplY3Q7XG5cbiAgcGFyZW50OiBUcmVlTm9kZSB8IG51bGw7XG4gIGNoaWxkcmVuOiBUcmVlTm9kZVtdO1xuICBkZXB0aDogbnVtYmVyO1xuICBhYnNvbHV0ZURlcHRoOiBudW1iZXI7XG59XG5cbi8vIFVwLCBkb3duLCBsZWZ0LCByaWdodCBkZWx0YXNcbmNvbnN0IEFMTF9ESVJFQ1RJT05TOiBbbnVtYmVyLCBudW1iZXJdW10gPSBbXG4gIFstMSwgMF0sXG4gIFsxLCAwXSxcbiAgWzAsIC0xXSxcbiAgWzAsIDFdLFxuXTtcblxuLyoqXG4gKiBDb252ZXJ0IGEgYm9vbGVhbiB3YWxsIG1hemUgdG8gYSB0cmVlIHN0cnVjdHVyZS5cbiAqXG4gKiBUaGlzIG1ldGhvZCBhc3N1bWVzIHRoYXQgdGhlIG1hemUgd2FsbHMgYXJlIHBlcmZlY3RseSBjb25uZWN0ZWQsIG9yIGVsc2UgaXQgd2lsbCBsb29wIGZvcmV2ZXIuXG4gKlxuICogQHBhcmFtIG1hemUgVGhlIHdhbGxzIGluc2lkZSB0aGUgbWF6ZVxuICogQHBhcmFtIHJvb3RSb3cgUm93IGZvciB0aGUgcm9vdCBub2RlXG4gKiBAcGFyYW0gcm9vdENvbCBDb2x1bW4gZm9yIHRoZSByb290IG5vZGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkVHJlZU5vZGVzKG1hemU6IGJvb2xlYW5bXVtdLCByb290Um93OiBudW1iZXIsIHJvb3RDb2w6IG51bWJlcik6IFRyZWVOb2RlIHtcbiAgcmV0dXJuIGJ1aWxkVHJlZU5vZGVzUmVjdXJzZShtYXplLCByb290Um93LCByb290Q29sLCAwLCAwLCBOYU4sIE5hTik7XG59XG5cbi8vLyBSZWN1cnNpdmUgbWV0aG9kIHRvIGNoZWNrIGZvciBwcmUtdmlzaXRlZCB0aWxlcyBhbmQgaGFuZGxlIHRoZSBkZXB0aFxuZnVuY3Rpb24gYnVpbGRUcmVlTm9kZXNSZWN1cnNlKFxuICBtYXplOiBib29sZWFuW11bXSxcbiAgcm9vdFJvdzogbnVtYmVyLFxuICByb290Q29sOiBudW1iZXIsXG4gIGRlcHRoOiBudW1iZXIsXG4gIGFic29sdXRlRGVwdGg6IG51bWJlcixcbiAgbGFzdFJvdzogbnVtYmVyLFxuICBsYXN0Q29sOiBudW1iZXIsXG4pOiBUcmVlTm9kZSB7XG4gIGNvbnN0IHJvb3ROb2RlOiBUcmVlTm9kZSA9IHtcbiAgICByb3c6IHJvb3RSb3csXG4gICAgY29sdW1uOiByb290Q29sLFxuICAgIG9iamVjdDogTWF6ZU9iamVjdC5FbXB0eSxcbiAgICBwYXJlbnQ6IG51bGwsXG4gICAgY2hpbGRyZW46IFtdLFxuICAgIGRlcHRoLFxuICAgIGFic29sdXRlRGVwdGgsXG4gIH07XG5cbiAgLy8gRmluZCB0aGUgcG9zc2libGUgY2hpbGRyZW4gZGlyZWN0aW9ucyBmb3IgdGhpcyBub2RlXG4gIC8vXG4gIC8vIEEgZGlyZWN0aW9uIGlzIGFsbG93ZWQgaWY6XG4gIC8vICAgIDEuIEl0IGlzbid0IGEgd2FsbFxuICAvLyAgICAyLiBXZSBoYXZlbid0IHByZXZpb3VzbHkgdmlzaXRlZCB0aGlzIGRpcmVjdGlvblxuICBjb25zdCBjaGlsZERpcmVjdGlvbnMgPSBBTExfRElSRUNUSU9OUy5tYXAoKFtkZWx0YVJvdywgZGVsdGFDb2xdKSA9PiBbcm9vdFJvdyArIGRlbHRhUm93LCByb290Q29sICsgZGVsdGFDb2xdKVxuICAgIC5maWx0ZXIoKFtuZXdSb3csIG5ld0NvbF0pID0+ICFtYXplW25ld1Jvd11bbmV3Q29sXSlcbiAgICAuZmlsdGVyKChbbmV3Um93LCBuZXdDb2xdKSA9PiAhKG5ld1JvdyA9PT0gbGFzdFJvdyAmJiBuZXdDb2wgPT09IGxhc3RDb2wpKTtcblxuICAvLyBPbmx5IGNvbnNpZGVyIGl0IGEgbmV3IGRlcHRoIGF0IGVhY2ggXCJmb3JrXCIgaW4gdGhlIG1hemVcbiAgY29uc3QgbmV3RGVwdGggPSBkZXB0aCArIE51bWJlcihjaGlsZERpcmVjdGlvbnMubGVuZ3RoID4gMSk7XG5cbiAgLy8gUmVjdXJzaXZlbHkgYWRkIGFsbCBjaGlsZHJlbiB0byB0aGUgdHJlZSB1c2luZyBkZXB0aC1maXJzdCBzZWFyY2hcbiAgZm9yIChjb25zdCBbbmV3Um93LCBuZXdDb2xdIG9mIGNoaWxkRGlyZWN0aW9ucykge1xuICAgIGNvbnN0IGNoaWxkID0gYnVpbGRUcmVlTm9kZXNSZWN1cnNlKG1hemUsIG5ld1JvdywgbmV3Q29sLCBuZXdEZXB0aCwgYWJzb2x1dGVEZXB0aCArIDEsIHJvb3RSb3csIHJvb3RDb2wpO1xuICAgIGNoaWxkLnBhcmVudCA9IHJvb3ROb2RlO1xuICAgIHJvb3ROb2RlLmNoaWxkcmVuLnB1c2goY2hpbGQpO1xuICB9XG5cbiAgcmV0dXJuIHJvb3ROb2RlO1xufVxuIiwiaW1wb3J0IHsgTWF6ZU9iamVjdCB9IGZyb20gJ2FyZWFzL01hemVPYmplY3QnO1xuaW1wb3J0IHsgSW52ZXJzZVRvZ2dsZUdlbmVyYXRvciB9IGZyb20gJy4vSW52ZXJzZVRvZ2dsZUdlbmVyYXRvcic7XG5pbXBvcnQgeyBNYWluUGF0aEdlbmVyYXRvciB9IGZyb20gJy4vTWFpblBhdGhHZW5lcmF0b3InO1xuaW1wb3J0IHsgTWF6ZVdhbGxzR2VuZXJhdG9yIH0gZnJvbSAnLi9NYXplV2FsbHNHZW5lcmF0b3InO1xuaW1wb3J0IHsgU2lkZVBhdGhzR2VuZXJhdG9yIH0gZnJvbSAnLi9TaWRlUGF0aHNHZW5lcmF0b3InO1xuaW1wb3J0IHsgYnVpbGRUcmVlTm9kZXMsIFRyZWVOb2RlIH0gZnJvbSAnLi9UcmVlTm9kZSc7XG5pbXBvcnQgeyBWZXJ0ZXhTZXQgfSBmcm9tICcuL1ZlcnRleFNldCc7XG5cbi8qKlxuICogUHJvY2VkdXJhbCBhbGdvcml0aG0gdG8gZ2VuZXJhdGUgcmFuZG9tIG1hemVzXG4gKi9cbmV4cG9ydCBjbGFzcyBNYXplR2VuZXJhdG9yIHtcbiAgLy8gTWF6ZSBwYXJhbWV0ZXJzIHRoYXQgY2FuIGJlIHZhcmllZFxuICBwdWJsaWMgd2lkdGg6IG51bWJlcjtcbiAgcHVibGljIGhlaWdodDogbnVtYmVyO1xuICBwdWJsaWMgY2VudGVyVGVtcGxhdGU6IE1hemVPYmplY3RbXVtdO1xuICBwdWJsaWMgbnVtRW5lcmd5ID0gMjA7XG4gIHB1YmxpYyBudW1Ecm9uZXMgPSAxMDtcbiAgcHVibGljIG51bVJvY2tzID0gMTU7XG5cbiAgcHJpdmF0ZSBlbXB0eVNwb3RzOiBWZXJ0ZXhTZXQ7XG4gIHByaXZhdGUgZW5lcmd5U3BvdHM6IFZlcnRleFNldDtcblxuICBjb25zdHJ1Y3Rvcih3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlciwgY2VudGVyVGVtcGxhdGU6IE1hemVPYmplY3RbXVtdKSB7XG4gICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgIHRoaXMuY2VudGVyVGVtcGxhdGUgPSBjZW50ZXJUZW1wbGF0ZTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0IHRlbXBsYXRlV2lkdGgoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5jZW50ZXJUZW1wbGF0ZVswXS5sZW5ndGg7XG4gIH1cblxuICBwcml2YXRlIGdldCB0ZW1wbGF0ZUhlaWdodCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmNlbnRlclRlbXBsYXRlLmxlbmd0aDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb21wbGljYXRlZCBtZXRob2QgdG8gYWN0dWFsbHkgZ2VuZXJhdGUgdGhlIG1hemVcbiAgICovXG4gIHB1YmxpYyBnZW5lcmF0ZU1hemUoKTogTWF6ZU9iamVjdFtdW10ge1xuICAgIC8vIEZpcnN0LCBnZW5lcmF0ZSBhIHJlZ3VsYXIgZ3JpZCBtYXplLCBidXQgd2l0aCB3YWxscyB3aGVyZSB0aGUgdGVtcGxhdGUgd2lsbCBnb1xuICAgIGNvbnN0IGdlbmVyYXRvciA9IG5ldyBNYXplV2FsbHNHZW5lcmF0b3IodGhpcy53aWR0aCwgdGhpcy5oZWlnaHQsIHRoaXMudGVtcGxhdGVXaWR0aCwgdGhpcy50ZW1wbGF0ZUhlaWdodCk7XG4gICAgY29uc3Qgd2FsbHMgPSBnZW5lcmF0b3IuZ2VuZXJhdGVSYW5kb21NYXplKCk7XG5cbiAgICAvLyBDb252ZXJ0IHRoZSBtYXplIHdhbGxzIGludG8gYSB0cmVlXG4gICAgY29uc3QgW3Jvb3RSb3csIHJvb3RDb2xdID0gdGhpcy5nZXRSb290Tm9kZSgpO1xuICAgIGNvbnN0IHJvb3QgPSBidWlsZFRyZWVOb2Rlcyh3YWxscywgcm9vdFJvdywgcm9vdENvbCk7XG5cbiAgICAvLyBHZW5lcmF0ZSB0aGUgbWFpbiBwYXRoIHRocm91Z2ggdGhlIHRyZWVcbiAgICBjb25zdCBtYWluUGF0aEdlbmVyYXRvciA9IG5ldyBNYWluUGF0aEdlbmVyYXRvcihyb290KTtcbiAgICBtYWluUGF0aEdlbmVyYXRvci5nZW5lcmF0ZU1haW5QYXRoKCk7XG5cbiAgICAvLyBBZGQgc29tZSBzaWRlIHBhdGhzIHRvIHRoZSBtYXplXG4gICAgY29uc3Qgc2lkZVBhdGhzR2VuZXJhdG9yID0gbmV3IFNpZGVQYXRoc0dlbmVyYXRvcihyb290KTtcbiAgICBzaWRlUGF0aHNHZW5lcmF0b3IuZ2VuZXJhdGVTaWRlUGF0aHMoKTtcblxuICAgIC8vIEFsc28gYWRkIGEgZmV3IGludmVyc2UgdG9nZ2xlIGRvb3JzIHRvIG1ha2UgaXQgZnVuIVxuICAgIGNvbnN0IGludmVyc2VUb2dnbGVHZW5lcmF0b3IgPSBuZXcgSW52ZXJzZVRvZ2dsZUdlbmVyYXRvcihyb290KTtcbiAgICBpbnZlcnNlVG9nZ2xlR2VuZXJhdG9yLmdlbmVyYXRlSW52ZXJzZVRvZ2dsZURvb3JzKCk7XG5cbiAgICAvLyBBZGQgdGhlIGZldyByZW1haW5pbmcgb2JqZWN0cyBpbnRvIHRoZSBtYXplXG4gICAgdGhpcy5jb21wdXRlRW1wdHlTcG90cyhyb290KTtcbiAgICB0aGlzLmFkZE9yUmVtb3ZlRW5lcmd5KCk7XG4gICAgdGhpcy5hZGREcm9uZXMoKTtcbiAgICB0aGlzLmFkZFJvY2tzKCk7XG5cbiAgICAvLyBFeHBvcnQgdGhlIHdhbGxzIGFuZCB0cmVlcyB0byB0aGUgbWF6ZSBvYmplY3RcbiAgICBjb25zdCBvYmplY3RzOiBNYXplT2JqZWN0W11bXSA9IHdhbGxzLm1hcCgocm93KSA9PiByb3cubWFwKChjb2wpID0+IChjb2wgPyBNYXplT2JqZWN0LldhbGwgOiBNYXplT2JqZWN0LkVtcHR5KSkpO1xuICAgIHRoaXMuZmlsbFRlbXBsYXRlKG9iamVjdHMpO1xuICAgIE1hemVHZW5lcmF0b3IubG9hZE5vZGVzKG9iamVjdHMsIHJvb3QpO1xuXG4gICAgcmV0dXJuIG9iamVjdHM7XG4gIH1cblxuICAvKipcbiAgICogRmluZCB0aGUgcm9vdCBub2RlIGZyb20gdGhlIHRlbXBsYXRlIGJ5IHNlYXJjaGluZyBmb3IgdGhlIGJpZyBkb29yLlxuICAgKiBPTkxZIHNlYXJjaGVzIHRoZSBwZXJpbWV0ZXIgdG8gZmluZCBpdC5cbiAgICpcbiAgICogSWYgbm8gYmlnIGRvb3IgaXMgZm91bmQsIHRoZW4gaXQgcmV0dXJucyB0aGUgY2VudGVyIGFib3ZlIHRoZSB0b3AgZG9vci5cbiAgICovXG4gIHByaXZhdGUgZ2V0Um9vdE5vZGUoKTogW251bWJlciwgbnVtYmVyXSB7XG4gICAgY29uc3QgdG9wUm93ID0gdGhpcy5nZXRUZW1wbGF0ZVRvcFJvdygpO1xuICAgIGNvbnN0IGJvdHRvbVJvdyA9IHRvcFJvdyArIHRoaXMudGVtcGxhdGVIZWlnaHQgLSAxO1xuICAgIGNvbnN0IGxlZnRDb2wgPSB0aGlzLmdldFRlbXBsYXRlTGVmdENvbHVtbigpO1xuICAgIGNvbnN0IHJpZ2h0Q29sID0gbGVmdENvbCArIHRoaXMudGVtcGxhdGVXaWR0aCAtIDE7XG5cbiAgICAvLyBUb3Agcm93XG4gICAgZm9yIChsZXQgY29sID0gMDsgY29sIDwgdGhpcy50ZW1wbGF0ZVdpZHRoOyBjb2wgKz0gMSkge1xuICAgICAgaWYgKHRoaXMuY2VudGVyVGVtcGxhdGVbMF1bY29sXSA9PT0gTWF6ZU9iamVjdC5CaWdEb29yKSB7XG4gICAgICAgIHJldHVybiBbdG9wUm93IC0gMSwgbGVmdENvbCArIGNvbF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQm90dG9tIHJvd1xuICAgIGZvciAobGV0IGNvbCA9IDA7IGNvbCA8IHRoaXMudGVtcGxhdGVXaWR0aDsgY29sICs9IDEpIHtcbiAgICAgIGlmICh0aGlzLmNlbnRlclRlbXBsYXRlW3RoaXMudGVtcGxhdGVIZWlnaHQgLSAxXVtjb2xdID09PSBNYXplT2JqZWN0LkJpZ0Rvb3IpIHtcbiAgICAgICAgcmV0dXJuIFtib3R0b21Sb3cgKyAxLCBsZWZ0Q29sICsgY29sXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBMZWZ0IGNvbHVtblxuICAgIGZvciAobGV0IHJvdyA9IDA7IHJvdyA8IHRoaXMudGVtcGxhdGVIZWlnaHQ7IHJvdyArPSAxKSB7XG4gICAgICBpZiAodGhpcy5jZW50ZXJUZW1wbGF0ZVtyb3ddWzBdID09PSBNYXplT2JqZWN0LkJpZ0Rvb3IpIHtcbiAgICAgICAgcmV0dXJuIFt0b3BSb3cgKyByb3csIGxlZnRDb2wgLSAxXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBSaWdodCBjb2x1bW5cbiAgICBmb3IgKGxldCByb3cgPSAwOyByb3cgPCB0aGlzLnRlbXBsYXRlSGVpZ2h0OyByb3cgKz0gMSkge1xuICAgICAgaWYgKHRoaXMuY2VudGVyVGVtcGxhdGVbcm93XVt0aGlzLnRlbXBsYXRlV2lkdGggLSAxXSA9PT0gTWF6ZU9iamVjdC5CaWdEb29yKSB7XG4gICAgICAgIHJldHVybiBbdG9wUm93ICsgcm93LCByaWdodENvbCArIDFdO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEJ5IGRlZmF1bHQsIHJldHVybiB0aGUgY2VudGVyIGFib3ZlIHRoZSB0b3Agcm93XG4gICAgcmV0dXJuIFt0b3BSb3cgLSAxLCBsZWZ0Q29sICsgTWF0aC5mbG9vcih0aGlzLnRlbXBsYXRlV2lkdGggLyAyKV07XG4gIH1cblxuICAvKipcbiAgICogQ29tcHV0ZSB0aGUgYWJzb3V0ZSB0b3Agcm93IGZvciB0aGUgdGVtcGxhdGVcbiAgICovXG4gIHByaXZhdGUgZ2V0VGVtcGxhdGVUb3BSb3coKTogbnVtYmVyIHtcbiAgICByZXR1cm4gTWF0aC5mbG9vcigoMiAqIHRoaXMuaGVpZ2h0ICsgMSAtIHRoaXMudGVtcGxhdGVIZWlnaHQpIC8gMikgKyBOdW1iZXIoISh0aGlzLnRlbXBsYXRlSGVpZ2h0ICUgMikpO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbXB1dGUgdGhlIGFic291dGUgbGVmdCBjb2x1bW4gZm9yIHRoZSB0ZW1wbGF0ZVxuICAgKi9cbiAgcHJpdmF0ZSBnZXRUZW1wbGF0ZUxlZnRDb2x1bW4oKTogbnVtYmVyIHtcbiAgICByZXR1cm4gTWF0aC5mbG9vcigoMiAqIHRoaXMud2lkdGggKyAxIC0gdGhpcy50ZW1wbGF0ZVdpZHRoKSAvIDIpICsgTnVtYmVyKCEodGhpcy50ZW1wbGF0ZVdpZHRoICUgMikpO1xuICB9XG5cbiAgLyoqXG4gICAqIEZpbGwgaW4gdGhlIHRlbXBsYXRlIG9iamVjdHMgaW50byB0aGUgbWF6ZVxuICAgKi9cbiAgcHJpdmF0ZSBmaWxsVGVtcGxhdGUob2JqZWN0czogTWF6ZU9iamVjdFtdW10pOiB2b2lkIHtcbiAgICAvLyBTaGlmdCBldmVyeXRoaW5nIGRvd24gYnkgb25lIGlmIHRoZSBoZWlnaHQgaXMgZXZlbiwgYW5kIGFkZCBhbiBleHRyYSByb3cgb2Ygd2FsbHNcbiAgICBjb25zdCB0b3BSb3cgPSB0aGlzLmdldFRlbXBsYXRlVG9wUm93KCk7XG4gICAgY29uc3QgYm90dG9tUm93ID0gdG9wUm93ICsgdGhpcy50ZW1wbGF0ZUhlaWdodDtcbiAgICBjb25zdCBsZWZ0Q29sID0gdGhpcy5nZXRUZW1wbGF0ZUxlZnRDb2x1bW4oKTtcbiAgICBjb25zdCByaWdodENvbCA9IGxlZnRDb2wgKyB0aGlzLnRlbXBsYXRlV2lkdGg7XG5cbiAgICBmb3IgKGxldCByb3cgPSB0b3BSb3c7IHJvdyA8IGJvdHRvbVJvdzsgcm93ICs9IDEpIHtcbiAgICAgIGZvciAobGV0IGNvbCA9IGxlZnRDb2w7IGNvbCA8IHJpZ2h0Q29sOyBjb2wgKz0gMSkge1xuICAgICAgICBvYmplY3RzW3Jvd11bY29sXSA9IHRoaXMuY2VudGVyVGVtcGxhdGVbcm93IC0gdG9wUm93XVtjb2wgLSBsZWZ0Q29sXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ29tcHV0ZSB0aGUgbnVtYmVyIG9mIGVtcHR5IHNwb3RzIGluIHRoZSBtYXplXG4gICAqL1xuICBwcml2YXRlIGNvbXB1dGVFbXB0eVNwb3RzKHJvb3Q6IFRyZWVOb2RlKTogdm9pZCB7XG4gICAgdGhpcy5lbXB0eVNwb3RzID0gbmV3IFZlcnRleFNldChyb290KTtcbiAgICB0aGlzLmVuZXJneVNwb3RzID0gbmV3IFZlcnRleFNldCgpO1xuICAgIGZvciAoY29uc3Qgbm9kZSBvZiB0aGlzLmVtcHR5U3BvdHMuZ2V0QWxsTm9kZXMoKSkge1xuICAgICAgLy8gQ291bnQgdGhlIHRvdGFsIG51bWJlciBvZiBlbmVyZ3lcbiAgICAgIGlmIChub2RlLm9iamVjdCA9PT0gTWF6ZU9iamVjdC5FbmVyZ3kpIHtcbiAgICAgICAgdGhpcy5lbmVyZ3lTcG90cy5hZGQobm9kZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIFJlbW92ZSBub24tZW1wdHkgb2JqZWN0c1xuICAgICAgaWYgKG5vZGUub2JqZWN0ICE9PSBNYXplT2JqZWN0LkVtcHR5KSB7XG4gICAgICAgIHRoaXMuZW1wdHlTcG90cy5yZW1vdmUobm9kZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhbGwgb2YgdGhlIGVuZXJneSBiYWxscyB0byB0aGUgbWF6ZSwgb3IgcmFuZG9tbHkgcmVtb3ZlIGV4aXN0aW5nIG9uZXMuXG4gICAqIFRoZXkgaGF2ZSB0aGUgaGlnaGVzdCBwcmlvcml0eSFcbiAgICovXG4gIHByaXZhdGUgYWRkT3JSZW1vdmVFbmVyZ3koKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuZW5lcmd5U3BvdHMuc2l6ZSA+IHRoaXMubnVtRW5lcmd5KSB7XG4gICAgICAvLyBSZW1vdmUgZXh0cmEgZW5lcmd5IGZyb20gdGhlIG1hemVcbiAgICAgIHdoaWxlICh0aGlzLmVuZXJneVNwb3RzLnNpemUgPiB0aGlzLm51bUVuZXJneSkge1xuICAgICAgICBjb25zdCB0b1JlbW92ZSA9IHRoaXMuZW5lcmd5U3BvdHMucGlja0FueVJhbmRvbSgpO1xuICAgICAgICBpZiAodG9SZW1vdmUgPT09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbmVyZ3lTcG90cy5yZW1vdmUodG9SZW1vdmUpO1xuICAgICAgICB0b1JlbW92ZS5vYmplY3QgPSBNYXplT2JqZWN0LkVtcHR5O1xuICAgICAgICB0aGlzLmVtcHR5U3BvdHMuYWRkKHRvUmVtb3ZlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQWRkIHRoZSBuZWVkZWQgZW5lcmd5IHRvIHRoZSBtYXplXG4gICAgICB3aGlsZSAodGhpcy5lbmVyZ3lTcG90cy5zaXplIDwgdGhpcy5udW1FbmVyZ3kpIHtcbiAgICAgICAgY29uc3Qgbm9kZSA9IHRoaXMuZW1wdHlTcG90cy5waWNrQW55UmFuZG9tKCk7XG4gICAgICAgIGlmIChub2RlID09PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuOyAvKiBOb25lIGxlZnQgKi9cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVtcHR5U3BvdHMucmVtb3ZlKG5vZGUpO1xuICAgICAgICBub2RlLm9iamVjdCA9IE1hemVPYmplY3QuRW5lcmd5O1xuICAgICAgICB0aGlzLmVuZXJneVNwb3RzLmFkZChub2RlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQWRkIGFsbCBvZiB0aGUgZHJvbmVzIHRvIHRoZSBtYXplLlxuICAgKi9cbiAgcHJpdmF0ZSBhZGREcm9uZXMoKTogdm9pZCB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm51bURyb25lczsgaSArPSAxKSB7XG4gICAgICBjb25zdCBub2RlID0gdGhpcy5lbXB0eVNwb3RzLnBpY2tBbnlSYW5kb20oKTtcbiAgICAgIGlmIChub2RlID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybjsgLyogTm9uZSBsZWZ0ICovXG4gICAgICB9XG4gICAgICB0aGlzLmVtcHR5U3BvdHMucmVtb3ZlKG5vZGUpO1xuICAgICAgbm9kZS5vYmplY3QgPSBNYXplT2JqZWN0LkRyb25lO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYWxsIG9mIHRoZSByb2NrcyB0byB0aGUgbWF6ZS5cbiAgICogVGhleSBoYXZlIHRoZSBsb3dlc3QgcHJpb3JpdHkhXG4gICAqL1xuICBwcml2YXRlIGFkZFJvY2tzKCk6IHZvaWQge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5udW1Sb2NrczsgaSArPSAxKSB7XG4gICAgICBjb25zdCBub2RlID0gdGhpcy5lbXB0eVNwb3RzLnBpY2tBbnlSYW5kb20oKTtcbiAgICAgIGlmIChub2RlID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybjsgLyogTm9uZSBsZWZ0ICovXG4gICAgICB9XG4gICAgICB0aGlzLmVtcHR5U3BvdHMucmVtb3ZlKG5vZGUpO1xuICAgICAgbm9kZS5vYmplY3QgPSBNYXplT2JqZWN0LlJvY2s7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlY3Vyc2l2ZWx5IGxvYWQgdGhlIG5vZGVzIGludG8gdGhlIG1hemVcbiAgICovXG4gIHByaXZhdGUgc3RhdGljIGxvYWROb2RlcyhtYXplOiBNYXplT2JqZWN0W11bXSwgbm9kZTogVHJlZU5vZGUpOiB2b2lkIHtcbiAgICBtYXplW25vZGUucm93XVtub2RlLmNvbHVtbl0gPSBub2RlLm9iamVjdDtcbiAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIG5vZGUuY2hpbGRyZW4pIHtcbiAgICAgIHRoaXMubG9hZE5vZGVzKG1hemUsIGNoaWxkKTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IE1haW5BcmVhIH0gZnJvbSAnYXJlYXMvTWFpbkFyZWEnO1xuaW1wb3J0IHsgRW50aXR5LCBFbnRpdHlTdGF0ZSB9IGZyb20gJ2VuZ2luZS9lbnRpdHknO1xuaW1wb3J0IHsgU3BoZXJlQ29sbGlzaW9uTWFzayB9IGZyb20gJ2VuZ2luZS9jb2xsaXNpb24nO1xuaW1wb3J0IHsgcmFuZG9tRmxvYXQgfSBmcm9tICdlbmdpbmUvaGVscGVycyc7XG5pbXBvcnQgeyBJbnZlbnRvcnkgfSBmcm9tICdyZXNvdXJjZXMvSW52ZW50b3J5JztcbmltcG9ydCB7IE1hemVPYmplY3QgfSBmcm9tICdhcmVhcy9NYXplT2JqZWN0JztcbmltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcblxuLyoqXG4gKiBNYXAgdGhhdCB5b3UgY29sbGVjdCB0byBzaG93IHRoZSBIVURcbiAqL1xuZXhwb3J0IGNsYXNzIE1hemVNYXAgaW1wbGVtZW50cyBFbnRpdHlTdGF0ZSB7XG4gIHB1YmxpYyByZWFkb25seSB0YWdzOiBzdHJpbmdbXSA9IFsnbWFwJ107XG5cbiAgcHJpdmF0ZSBlbnRpdHk6IEVudGl0eTx0aGlzPjtcbiAgcHJpdmF0ZSByb3c6IG51bWJlcjtcbiAgcHJpdmF0ZSBjb2x1bW46IG51bWJlcjtcblxuICBjb25zdHJ1Y3Rvcihyb3c6IG51bWJlciwgY29sdW1uOiBudW1iZXIpIHtcbiAgICB0aGlzLnJvdyA9IHJvdztcbiAgICB0aGlzLmNvbHVtbiA9IGNvbHVtbjtcbiAgfVxuXG4gIG9uQ3JlYXRlKGVudGl0eTogRW50aXR5PHRoaXM+KTogdm9pZCB7XG4gICAgdGhpcy5lbnRpdHkgPSBlbnRpdHk7XG5cbiAgICAvLyBDb25maWd1cmUgdGhlIG9iamVjdFxuICAgIGNvbnN0IG9iamVjdCA9IGVudGl0eS5hcmVhLmdhbWUuYXNzZXRzLmdldE9iamVjdCgnTWFwJykuY2xvbmUoKSBhcyBUSFJFRS5NZXNoO1xuICAgIG9iamVjdC5wb3NpdGlvbi5jb3B5KChlbnRpdHkuYXJlYS5zdGF0ZSBhcyBNYWluQXJlYSkudGlsZUxvY2F0aW9uVG9Qb3NpdGlvbih0aGlzLnJvdywgdGhpcy5jb2x1bW4pKTtcbiAgICBvYmplY3QucG9zaXRpb24ueSA9IDI7XG4gICAgb2JqZWN0LnJvdGF0aW9uLnkgPSByYW5kb21GbG9hdCgwLCAyICogTWF0aC5QSSk7XG4gICAgb2JqZWN0LnNjYWxlLnNldCgwLjEyNSwgMC4xMjUsIDAuMTI1KTtcbiAgICBvYmplY3QuY2FzdFNoYWRvdyA9IHRydWU7XG4gICAgdGhpcy5lbnRpdHkub2JqZWN0ID0gb2JqZWN0O1xuXG4gICAgLy8gQ29uZmlndXJlIG9iamVjdCBtYXNrXG4gICAgdGhpcy5lbnRpdHkubWFzayA9IG5ldyBTcGhlcmVDb2xsaXNpb25NYXNrKHRoaXMuZW50aXR5Lm9iamVjdCk7XG4gIH1cblxuICBvbkRlc3Ryb3koKTogdm9pZCB7XG4gICAgLy8gUmVtb3ZlIHRoZSBtYXAgZnJvbSB0aGUgbWF6ZVxuICAgIGNvbnN0IG1haW5BcmVhID0gdGhpcy5lbnRpdHkuYXJlYS5zdGF0ZSBhcyBNYWluQXJlYTtcbiAgICBtYWluQXJlYS5tYXplW3RoaXMucm93XVt0aGlzLmNvbHVtbl0gPSBNYXplT2JqZWN0LkVtcHR5O1xuXG4gICAgLy8gVXBkYXRlIHRoZSBpbnZlbnRvcnlcbiAgICBjb25zdCBpbnZlbnRvcnkgPSB0aGlzLmVudGl0eS5hcmVhLmdhbWUucmVzb3VyY2VzLmdldFJlc291cmNlPEludmVudG9yeT4oJ2ludmVudG9yeScpO1xuICAgIGludmVudG9yeS5jb2xsZWN0TWFwKCk7XG5cbiAgICAvLyBQbGF5IHRoZSBzb3VuZFxuICAgIG1haW5BcmVhLmNvbGxlY3RJdGVtLnBsYXkoKTtcbiAgfVxuXG4gIG9uU3RlcCgpOiB2b2lkIHtcbiAgICAvLyBTcGluIHRvIG1ha2UgdGhlIGtleSBtb3JlIG5vdGljZWFibGVcbiAgICB0aGlzLmVudGl0eS5vYmplY3Qucm90YXRlWShNYXRoLlBJIC8gMjU2KTtcblxuICAgIC8vIFRlc3QgZm9yIHBsYXllciBjb2xsaXNpb24gdG8gY29sbGVjdCB0aGUga2V5XG4gICAgY29uc3QgcGxheWVyID0gdGhpcy5lbnRpdHkuYXJlYS5maW5kRmlyc3RFbnRpdHkoJ3BsYXllcicpO1xuICAgIGlmIChwbGF5ZXIgIT09IG51bGwgJiYgdGhpcy5lbnRpdHkuaXNDb2xsaWRpbmdXaXRoKHBsYXllcikpIHtcbiAgICAgIHRoaXMuZW50aXR5LmRlc3Ryb3koKTtcbiAgICB9XG4gIH1cblxuICBvblRpbWVyKF90aW1lckluZGV4OiBudW1iZXIpOiB2b2lkIHt9XG5cbiAgb25EcmF3KF9nMmQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk6IHZvaWQge31cbn1cbiIsImltcG9ydCB7IE1haW5BcmVhIH0gZnJvbSAnYXJlYXMvTWFpbkFyZWEnO1xuaW1wb3J0IHsgRW50aXR5LCBFbnRpdHlTdGF0ZSB9IGZyb20gJ2VuZ2luZS9lbnRpdHknO1xuaW1wb3J0IHsgU3BoZXJlQ29sbGlzaW9uTWFzayB9IGZyb20gJ2VuZ2luZS9jb2xsaXNpb24nO1xuaW1wb3J0IHsgcmFuZG9tRmxvYXQgfSBmcm9tICdlbmdpbmUvaGVscGVycyc7XG5pbXBvcnQgeyBJbnZlbnRvcnkgfSBmcm9tICdyZXNvdXJjZXMvSW52ZW50b3J5JztcbmltcG9ydCB7IE1hemVPYmplY3QgfSBmcm9tICdhcmVhcy9NYXplT2JqZWN0JztcbmltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcblxuLyoqXG4gKiBHdW4gdGhhdCB5b3UgY29sbGVjdCB0byBzaG93IHRoZSBIVURcbiAqL1xuZXhwb3J0IGNsYXNzIE1hemVHdW4gaW1wbGVtZW50cyBFbnRpdHlTdGF0ZSB7XG4gIHB1YmxpYyByZWFkb25seSB0YWdzOiBzdHJpbmdbXSA9IFsnZ3VuJ107XG5cbiAgcHJpdmF0ZSBlbnRpdHk6IEVudGl0eTx0aGlzPjtcbiAgcHJpdmF0ZSByb3c6IG51bWJlcjtcbiAgcHJpdmF0ZSBjb2x1bW46IG51bWJlcjtcblxuICBjb25zdHJ1Y3Rvcihyb3c6IG51bWJlciwgY29sdW1uOiBudW1iZXIpIHtcbiAgICB0aGlzLnJvdyA9IHJvdztcbiAgICB0aGlzLmNvbHVtbiA9IGNvbHVtbjtcbiAgfVxuXG4gIG9uQ3JlYXRlKGVudGl0eTogRW50aXR5PHRoaXM+KTogdm9pZCB7XG4gICAgdGhpcy5lbnRpdHkgPSBlbnRpdHk7XG5cbiAgICAvLyBDb25maWd1cmUgdGhlIG9iamVjdFxuICAgIGNvbnN0IG9iamVjdCA9IGVudGl0eS5hcmVhLmdhbWUuYXNzZXRzLmdldE9iamVjdCgnR3VuJykuY2xvbmUoKSBhcyBUSFJFRS5NZXNoO1xuICAgIG9iamVjdC5wb3NpdGlvbi5jb3B5KChlbnRpdHkuYXJlYS5zdGF0ZSBhcyBNYWluQXJlYSkudGlsZUxvY2F0aW9uVG9Qb3NpdGlvbih0aGlzLnJvdywgdGhpcy5jb2x1bW4pKTtcbiAgICBvYmplY3QucG9zaXRpb24ueSA9IDI7XG4gICAgb2JqZWN0LnJvdGF0aW9uLnkgPSByYW5kb21GbG9hdCgwLCAyICogTWF0aC5QSSk7XG4gICAgb2JqZWN0LnNjYWxlLnNldCgwLjM1LCAwLjM1LCAwLjM1KTtcbiAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIG9iamVjdC5jaGlsZHJlblswXS5jaGlsZHJlbikge1xuICAgICAgY2hpbGQuY2FzdFNoYWRvdyA9IHRydWU7XG4gICAgfVxuICAgIHRoaXMuZW50aXR5Lm9iamVjdCA9IG9iamVjdDtcblxuICAgIC8vIENvbmZpZ3VyZSBvYmplY3QgbWFza1xuICAgIHRoaXMuZW50aXR5Lm1hc2sgPSBuZXcgU3BoZXJlQ29sbGlzaW9uTWFzayh0aGlzLmVudGl0eS5vYmplY3QpO1xuICB9XG5cbiAgb25EZXN0cm95KCk6IHZvaWQge1xuICAgIC8vIFJlbW92ZSB0aGUgbWFwIGZyb20gdGhlIG1hemVcbiAgICBjb25zdCBtYWluQXJlYSA9IHRoaXMuZW50aXR5LmFyZWEuc3RhdGUgYXMgTWFpbkFyZWE7XG4gICAgbWFpbkFyZWEubWF6ZVt0aGlzLnJvd11bdGhpcy5jb2x1bW5dID0gTWF6ZU9iamVjdC5FbXB0eTtcblxuICAgIC8vIFVwZGF0ZSB0aGUgaW52ZW50b3J5XG4gICAgY29uc3QgaW52ZW50b3J5ID0gdGhpcy5lbnRpdHkuYXJlYS5nYW1lLnJlc291cmNlcy5nZXRSZXNvdXJjZTxJbnZlbnRvcnk+KCdpbnZlbnRvcnknKTtcbiAgICBpbnZlbnRvcnkuY29sbGVjdEd1bigpO1xuXG4gICAgLy8gUGxheSB0aGUgc291bmRcbiAgICBtYWluQXJlYS5jb2xsZWN0SXRlbS5wbGF5KCk7XG4gIH1cblxuICBvblN0ZXAoKTogdm9pZCB7XG4gICAgLy8gU3BpbiB0byBtYWtlIHRoZSBrZXkgbW9yZSBub3RpY2VhYmxlXG4gICAgdGhpcy5lbnRpdHkub2JqZWN0LnJvdGF0ZVkoTWF0aC5QSSAvIDI1Nik7XG5cbiAgICAvLyBUZXN0IGZvciBwbGF5ZXIgY29sbGlzaW9uIHRvIGNvbGxlY3QgdGhlIGtleVxuICAgIGNvbnN0IHBsYXllciA9IHRoaXMuZW50aXR5LmFyZWEuZmluZEZpcnN0RW50aXR5KCdwbGF5ZXInKTtcbiAgICBpZiAocGxheWVyICE9PSBudWxsICYmIHRoaXMuZW50aXR5LmlzQ29sbGlkaW5nV2l0aChwbGF5ZXIpKSB7XG4gICAgICB0aGlzLmVudGl0eS5kZXN0cm95KCk7XG4gICAgfVxuICB9XG5cbiAgb25UaW1lcihfdGltZXJJbmRleDogbnVtYmVyKTogdm9pZCB7fVxuXG4gIG9uRHJhdyhfZzJkOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpOiB2b2lkIHt9XG59XG4iLCJpbXBvcnQgeyBNYWluQXJlYSB9IGZyb20gJ2FyZWFzL01haW5BcmVhJztcbmltcG9ydCB7IEZhZGVJbkVmZmVjdCB9IGZyb20gJy4vRmFkZUluRWZmZWN0JztcblxuLyoqXG4gKiBGYWRlIGluIHRoZSBtYWluIGFyZWEgYW1iaWVuY2Ugc291bmRzXG4gKi9cbmV4cG9ydCBjbGFzcyBGYWRlSW5NYWluQXJlYSBleHRlbmRzIEZhZGVJbkVmZmVjdCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICBwcm90ZWN0ZWQgb25UaWNrKGFscGhhOiBudW1iZXIpOiB2b2lkIHtcbiAgICBjb25zdCBtYWluQXJlYSA9IHRoaXMuZW50aXR5LmFyZWEuc3RhdGUgYXMgTWFpbkFyZWE7XG4gICAgbWFpbkFyZWEuZm9yZXN0QW1iaWVuY2Uudm9sdW1lID0gMSAtIGFscGhhO1xuICB9XG59XG4iLCJpbXBvcnQgeyBBcmVhLCBBcmVhU3RhdGUgfSBmcm9tICdlbmdpbmUvYXJlYSc7XG5pbXBvcnQgeyBBdWRpb1dyYXBwZXIgfSBmcm9tICdlbmdpbmUvYXVkaW8nO1xuaW1wb3J0IHsgUGxheWVyIH0gZnJvbSAnZW50aXRpZXMvUGxheWVyJztcbmltcG9ydCB7IE1hemVXYWxscyB9IGZyb20gJ2VudGl0aWVzL21hemUtb2JqZWN0cy9NYXplV2FsbHMnO1xuaW1wb3J0IHsgTWF6ZUZsb29yIH0gZnJvbSAnZW50aXRpZXMvbWF6ZS1vYmplY3RzL01hemVGbG9vcic7XG5pbXBvcnQgeyBDb2xvckRvb3IgfSBmcm9tICdlbnRpdGllcy9tYXplLW9iamVjdHMvQ29sb3JEb29yJztcbmltcG9ydCB7IERvb3JDb2xvciB9IGZyb20gJ2VudGl0aWVzL0Rvb3JDb2xvcic7XG5pbXBvcnQgeyBLZXkgfSBmcm9tICdlbnRpdGllcy9tYXplLW9iamVjdHMvS2V5JztcbmltcG9ydCB7IERyb25lIH0gZnJvbSAnZW50aXRpZXMvZW5lbWllcy9Ecm9uZSc7XG5pbXBvcnQgeyBNYXplT2JqZWN0LCBzdHJpbmdUb01hemUgfSBmcm9tICcuL01hemVPYmplY3QnO1xuaW1wb3J0IHsgSFVEIH0gZnJvbSAnZW50aXRpZXMvSFVEJztcbmltcG9ydCB7IEhlYWx0aCB9IGZyb20gJ3Jlc291cmNlcy9IZWFsdGgnO1xuaW1wb3J0IHsgSW52ZW50b3J5IH0gZnJvbSAncmVzb3VyY2VzL0ludmVudG9yeSc7XG5pbXBvcnQgeyBFbmVyZ3kgfSBmcm9tICdlbnRpdGllcy9tYXplLW9iamVjdHMvRW5lcmd5JztcbmltcG9ydCB7IExldmVyIH0gZnJvbSAnZW50aXRpZXMvbWF6ZS1vYmplY3RzL0xldmVyJztcbmltcG9ydCB7IFJvY2sgfSBmcm9tICdlbnRpdGllcy9tYXplLW9iamVjdHMvUm9jayc7XG5pbXBvcnQgeyBCYXR0ZXJ5IH0gZnJvbSAnZW50aXRpZXMvbWF6ZS1vYmplY3RzL0JhdHRlcnknO1xuaW1wb3J0IHsgRWxlY3RyaWNCb3ggfSBmcm9tICdlbnRpdGllcy9tYXplLW9iamVjdHMvRWxlY3RyaWNCb3gnO1xuaW1wb3J0IHsgRWxlY3RyaWNCb3hUeXBlIH0gZnJvbSAnZW50aXRpZXMvRWxlY3RyaWNCb3hUeXBlJztcbmltcG9ydCB7IERvb3JTdGF0ZSB9IGZyb20gJ3Jlc291cmNlcy9Eb29yU3RhdGUnO1xuaW1wb3J0IHsgVG9nZ2xlRG9vciB9IGZyb20gJ2VudGl0aWVzL21hemUtb2JqZWN0cy9Ub2dnbGVEb29yJztcbmltcG9ydCB7IEVsZWN0cmljRG9vciB9IGZyb20gJ2VudGl0aWVzL21hemUtb2JqZWN0cy9FbGVjdHJpY0Rvb3InO1xuaW1wb3J0IHsgUG9ydGFsIH0gZnJvbSAnZW50aXRpZXMvbWF6ZS1vYmplY3RzL1BvcnRhbCc7XG5pbXBvcnQgeyBCaWdEb29yIH0gZnJvbSAnZW50aXRpZXMvbWF6ZS1vYmplY3RzL0JpZ0Rvb3InO1xuaW1wb3J0IHsgTWF6ZUdlbmVyYXRvciB9IGZyb20gJ2dlbmVyYXRvci9NYXplR2VuZXJhdG9yJztcbmltcG9ydCB7IE1hemVNYXAgfSBmcm9tICdlbnRpdGllcy9tYXplLW9iamVjdHMvTWF6ZU1hcCc7XG5pbXBvcnQgeyBNYXplR3VuIH0gZnJvbSAnZW50aXRpZXMvbWF6ZS1vYmplY3RzL01hemVHdW4nO1xuaW1wb3J0IHsgQWJzdHJhY3RNYXplQXJlYSB9IGZyb20gJy4vQWJzdHJhY3RNYXplQXJlYSc7XG5pbXBvcnQgeyBTdW5saWdodCB9IGZyb20gJ2VudGl0aWVzL2VmZmVjdHMvU3VubGlnaHQnO1xuaW1wb3J0IHsgRW50aXR5U3RhdGUgfSBmcm9tICdlbmdpbmUvZW50aXR5JztcbmltcG9ydCB7IEZhZGVJbk1haW5BcmVhIH0gZnJvbSAnZW50aXRpZXMvZWZmZWN0cy9GYWRlSW5NYWluQXJlYSc7XG5pbXBvcnQgeyBNb3VzZUJ1dHRvbiB9IGZyb20gJ2VuZ2luZS9pbnB1dCc7XG5pbXBvcnQgVGVtcGxhdGUgZnJvbSAnYXNzZXRzL2xldmVscy9UZW1wbGF0ZS5sdmwnO1xuaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuXG4vLy8gRnVuY3Rpb25zIHRvIGNvbnN0cnVjdCBhbGwgb2YgdGhlIG9iamVjdHMgaW4gdGhlIG1hemVcbnR5cGUgTWF6ZU9iamVjdEZ1bmN0aW9uID0gKHJvdzogbnVtYmVyLCBjb2w6IG51bWJlciwgYXJlYTogQXJlYTxNYWluQXJlYT4pID0+IEVudGl0eVN0YXRlO1xuY29uc3QgQ09OU1RSVUNUT1JTOiB7IFtLIGluIE1hemVPYmplY3RdPzogTWF6ZU9iamVjdEZ1bmN0aW9uIH0gPSB7XG4gIFtNYXplT2JqZWN0LlJvY2tdOiAocm93LCBjb2wpID0+IG5ldyBSb2NrKHJvdywgY29sKSxcbiAgW01hemVPYmplY3QuUmVkRG9vcl06IGJ1aWxkQ29sb3JEb29yKERvb3JDb2xvci5SZWQpLFxuICBbTWF6ZU9iamVjdC5ZZWxsb3dEb29yXTogYnVpbGRDb2xvckRvb3IoRG9vckNvbG9yLlllbGxvdyksXG4gIFtNYXplT2JqZWN0LkdyZWVuRG9vcl06IGJ1aWxkQ29sb3JEb29yKERvb3JDb2xvci5HcmVlbiksXG4gIFtNYXplT2JqZWN0LkJsdWVEb29yXTogYnVpbGRDb2xvckRvb3IoRG9vckNvbG9yLkJsdWUpLFxuICBbTWF6ZU9iamVjdC5SZWRLZXldOiBidWlsZEtleShEb29yQ29sb3IuUmVkKSxcbiAgW01hemVPYmplY3QuWWVsbG93S2V5XTogYnVpbGRLZXkoRG9vckNvbG9yLlllbGxvdyksXG4gIFtNYXplT2JqZWN0LkdyZWVuS2V5XTogYnVpbGRLZXkoRG9vckNvbG9yLkdyZWVuKSxcbiAgW01hemVPYmplY3QuQmx1ZUtleV06IGJ1aWxkS2V5KERvb3JDb2xvci5CbHVlKSxcbiAgW01hemVPYmplY3QuQmF0dGVyeV06IChyb3csIGNvbCkgPT4gbmV3IEJhdHRlcnkocm93LCBjb2wpLFxuICBbTWF6ZU9iamVjdC5MZXZlcl06IChyb3csIGNvbCkgPT4gbmV3IExldmVyKHJvdywgY29sKSxcbiAgW01hemVPYmplY3QuVG9nZ2xlRG9vcl06IChyb3csIGNvbCkgPT4gbmV3IFRvZ2dsZURvb3Iocm93LCBjb2wpLFxuICBbTWF6ZU9iamVjdC5JbnZlcnNlVG9nZ2xlRG9vcl06IChyb3csIGNvbCkgPT4gbmV3IFRvZ2dsZURvb3Iocm93LCBjb2wsIHRydWUpLFxuICBbTWF6ZU9iamVjdC5BQm94XTogYnVpbGRFbGVjdHJpY0JveChFbGVjdHJpY0JveFR5cGUuQSksXG4gIFtNYXplT2JqZWN0LkJCb3hdOiBidWlsZEVsZWN0cmljQm94KEVsZWN0cmljQm94VHlwZS5CKSxcbiAgW01hemVPYmplY3QuQ0JveF06IGJ1aWxkRWxlY3RyaWNCb3goRWxlY3RyaWNCb3hUeXBlLkMpLFxuICBbTWF6ZU9iamVjdC5BRG9vcl06IGJ1aWxkRWxlY3RyaWNEb29yKEVsZWN0cmljQm94VHlwZS5BKSxcbiAgW01hemVPYmplY3QuQkRvb3JdOiBidWlsZEVsZWN0cmljRG9vcihFbGVjdHJpY0JveFR5cGUuQiksXG4gIFtNYXplT2JqZWN0LkNEb29yXTogYnVpbGRFbGVjdHJpY0Rvb3IoRWxlY3RyaWNCb3hUeXBlLkMpLFxuICBbTWF6ZU9iamVjdC5Ecm9uZV06IChyb3csIGNvbCkgPT4gbmV3IERyb25lKHJvdywgY29sKSxcbiAgW01hemVPYmplY3QuQmlnRG9vcl06IChyb3csIGNvbCkgPT4gbmV3IEJpZ0Rvb3Iocm93LCBjb2wpLFxuICBbTWF6ZU9iamVjdC5NYXBdOiAocm93LCBjb2wpID0+IG5ldyBNYXplTWFwKHJvdywgY29sKSxcbiAgW01hemVPYmplY3QuR3VuXTogKHJvdywgY29sKSA9PiBuZXcgTWF6ZUd1bihyb3csIGNvbCksXG59O1xuXG4vKipcbiAqIFJlcHJlc2VudHMgdGhlIG1haW4gYXJlYSBpbiB0aGUgZ2FtZVxuICovXG5leHBvcnQgY2xhc3MgTWFpbkFyZWEgZXh0ZW5kcyBBYnN0cmFjdE1hemVBcmVhIGltcGxlbWVudHMgQXJlYVN0YXRlIHtcbiAgcHJpdmF0ZSBhcmVhOiBBcmVhPHRoaXM+O1xuXG4gIHByaXZhdGUgX3RvdGFsRW5lcmd5OiBudW1iZXI7XG5cbiAgLy8gU3RvcmUgdGhlIGxhc3Qga25vd24gdGlsZSBsb2NhdGlvbiBmb3IgdGhlIHBsYXllclxuICBwcml2YXRlIHBsYXllclRpbGVMb2NhdGlvbjogW251bWJlciwgbnVtYmVyXTtcbiAgcHJpdmF0ZSBwbGF5ZXJBbmdsZTogbnVtYmVyOyAvLyBBbmdsZSBpbiByYWRpYW5zXG5cbiAgLy8gQWxsIG11c2ljIGFuZCBzb3VuZHMgZm9yIHRoZSBtYWluIGFyZWFcbiAgcHVibGljIGZvcmVzdEFtYmllbmNlOiBBdWRpb1dyYXBwZXI7XG5cbiAgcHVibGljIHBsYXllclNob290OiBBdWRpb1dyYXBwZXI7XG4gIHB1YmxpYyBkcm9uZVNob290OiBBdWRpb1dyYXBwZXI7XG4gIHB1YmxpYyBoaXRPYmplY3Q6IEF1ZGlvV3JhcHBlcjtcbiAgcHVibGljIG9vZlNvdW5kOiBBdWRpb1dyYXBwZXI7XG4gIHB1YmxpYyBjb2xsZWN0SXRlbTogQXVkaW9XcmFwcGVyO1xuICBwdWJsaWMgb3BlbkRvb3I6IEF1ZGlvV3JhcHBlcjtcbiAgcHVibGljIG9wZW5CaWdEb29yOiBBdWRpb1dyYXBwZXI7XG4gIHB1YmxpYyB0b2dnbGVMZXZlcjogQXVkaW9XcmFwcGVyO1xuICBwdWJsaWMgZWxlY3RyaWNCb3g6IEF1ZGlvV3JhcHBlcjtcbiAgcHVibGljIGV4cGxvc2lvbjogQXVkaW9XcmFwcGVyO1xuICBwdWJsaWMgYWN0aXZhdGVQb3J0YWw6IEF1ZGlvV3JhcHBlcjtcbiAgcHVibGljIGVudGVyUG9ydGFsOiBBdWRpb1dyYXBwZXI7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoTWFpbkFyZWEuZ2VuZXJhdGVOZXdNYXplKCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlIGEgbmV3IHJhbmRvbSBtYXplXG4gICAqL1xuICBwcml2YXRlIHN0YXRpYyBnZW5lcmF0ZU5ld01hemUoKTogTWF6ZU9iamVjdFtdW10ge1xuICAgIGNvbnN0IGdlbmVyYXRvciA9IG5ldyBNYXplR2VuZXJhdG9yKDEzLCAxMywgc3RyaW5nVG9NYXplKFRlbXBsYXRlKSk7XG4gICAgcmV0dXJuIGdlbmVyYXRvci5nZW5lcmF0ZU1hemUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGxhc3QgKHJvdywgY29sdW1uKSBwb3NpdGlvbiBvZiB0aGUgcGxheWVyIGluIHRoZSBtYXplXG4gICAqL1xuICBwdWJsaWMgZ2V0UGxheWVyVGlsZUxvY2F0aW9uKCk6IFtudW1iZXIsIG51bWJlcl0ge1xuICAgIHJldHVybiB0aGlzLnBsYXllclRpbGVMb2NhdGlvbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGxhc3Qga25vd24gYW5nbGUgb2YgdGhlIHBsYXllclxuICAgKi9cbiAgcHVibGljIGdldFBsYXllckFuZ2xlKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMucGxheWVyQW5nbGU7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSB0b3RhbCBudW1iZXIgb2YgZW5lcmd5IGJhbGxzIGluIHRoZSBtYXplXG4gICAqL1xuICBwdWJsaWMgZ2V0IHRvdGFsRW5lcmd5KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuX3RvdGFsRW5lcmd5O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbnVtYmVyIG9mIGVuZXJneSBiYWxscyBsZWZ0XG4gICAqL1xuICBwdWJsaWMgZ2V0IGVuZXJneUxlZnQoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5hcmVhLmZpbmRFbnRpdGllcygnZW5lcmd5JykubGVuZ3RoO1xuICB9XG5cbiAgb25DcmVhdGUoYXJlYTogQXJlYTx0aGlzPik6IHZvaWQge1xuICAgIHRoaXMuYXJlYSA9IGFyZWE7XG5cbiAgICAvLyBDb25maWd1cmUgdGhlIGJhY2tncm91bmRcbiAgICBjb25zdCB0ZXh0dXJlID0gYXJlYS5nYW1lLmFzc2V0cy5nZXRUZXh0dXJlKCdTa3lib3hCRycpO1xuICAgIGFyZWEuc2NlbmUuYmFja2dyb3VuZCA9IHRleHR1cmU7XG5cbiAgICAvLyBBZGQgYSBzdGF0aWMgbGlnaHQgYW5kIGVuYWJsZSBzaGFkb3dzXG4gICAgdGhpcy5hcmVhLmNyZWF0ZUVudGl0eShuZXcgU3VubGlnaHQoKSk7XG4gICAgYXJlYS5zY2VuZS5hZGQobmV3IFRIUkVFLkFtYmllbnRMaWdodCgweGZmZmZmZiwgMC41KSk7XG4gICAgYXJlYS5nYW1lLnJlbmRlcmVyLnNoYWRvd01hcC5lbmFibGVkID0gdHJ1ZTtcblxuICAgIC8vIExvYWQgdGhlIGF1ZGlvIGZpbGVzXG4gICAgdGhpcy5mb3Jlc3RBbWJpZW5jZSA9IGFyZWEuY3JlYXRlQXVkaW8oJ0ZvcmVzdEFtYmllbmNlJyk7XG4gICAgdGhpcy5wbGF5ZXJTaG9vdCA9IGFyZWEuY3JlYXRlQXVkaW8oJ1BsYXllclNob290Jyk7XG4gICAgdGhpcy5kcm9uZVNob290ID0gYXJlYS5jcmVhdGVBdWRpbygnRHJvbmVTaG9vdCcpO1xuICAgIHRoaXMuaGl0T2JqZWN0ID0gYXJlYS5jcmVhdGVBdWRpbygnSGl0T2JqZWN0Jyk7XG4gICAgdGhpcy5vb2ZTb3VuZCA9IGFyZWEuY3JlYXRlQXVkaW8oJ09vZicpO1xuICAgIHRoaXMuY29sbGVjdEl0ZW0gPSBhcmVhLmNyZWF0ZUF1ZGlvKCdDb2xsZWN0SXRlbScpO1xuICAgIHRoaXMub3BlbkRvb3IgPSBhcmVhLmNyZWF0ZUF1ZGlvKCdPcGVuRG9vcicpO1xuICAgIHRoaXMub3BlbkJpZ0Rvb3IgPSBhcmVhLmNyZWF0ZUF1ZGlvKCdPcGVuQmlnRG9vcicpO1xuICAgIHRoaXMudG9nZ2xlTGV2ZXIgPSBhcmVhLmNyZWF0ZUF1ZGlvKCdUb2dnbGVMZXZlcicpO1xuICAgIHRoaXMuZWxlY3RyaWNCb3ggPSBhcmVhLmNyZWF0ZUF1ZGlvKCdFbGVjdHJpY0JveCcpO1xuICAgIHRoaXMuZXhwbG9zaW9uID0gYXJlYS5jcmVhdGVBdWRpbygnRXhwbG9zaW9uJyk7XG4gICAgdGhpcy5hY3RpdmF0ZVBvcnRhbCA9IGFyZWEuY3JlYXRlQXVkaW8oJ0FjdGl2YXRlUG9ydGFsJyk7XG4gICAgdGhpcy5lbnRlclBvcnRhbCA9IGFyZWEuY3JlYXRlQXVkaW8oJ0VudGVyUG9ydGFsJyk7XG5cbiAgICAvLyBQbGF5IHRoZSBiYWNrZ3JvdW5kIG11c2ljXG4gICAgdGhpcy5mb3Jlc3RBbWJpZW5jZS52b2x1bWUgPSAwO1xuICAgIHRoaXMuZm9yZXN0QW1iaWVuY2UucGxheSh0cnVlKTtcblxuICAgIC8vIENvbmZpZ3VyZSBnYW1lIHJlc291cmNlc1xuICAgIHRoaXMuYXJlYS5nYW1lLnJlc291cmNlcy5zZXRSZXNvdXJjZSgnaGVhbHRoJywgbmV3IEhlYWx0aCgpKTtcbiAgICB0aGlzLmFyZWEuZ2FtZS5yZXNvdXJjZXMuc2V0UmVzb3VyY2UoJ2ludmVudG9yeScsIG5ldyBJbnZlbnRvcnkoKSk7XG4gICAgdGhpcy5hcmVhLmdhbWUucmVzb3VyY2VzLnNldFJlc291cmNlKCdkb29yLXN0YXRlJywgbmV3IERvb3JTdGF0ZSgpKTtcblxuICAgIC8vIEJ1aWxkIHRoZSByb29tXG4gICAgdGhpcy5hcmVhLmNyZWF0ZUVudGl0eShuZXcgTWF6ZUZsb29yKHRoaXMubWF6ZVdpZHRoLCB0aGlzLm1hemVIZWlnaHQpKTtcbiAgICB0aGlzLmJ1aWxkTWF6ZSgpO1xuXG4gICAgLy8gU3Bhd24gdGhlIG1haW4gb2JqZWN0c1xuICAgIHRoaXMuYXJlYS5jcmVhdGVFbnRpdHkobmV3IEhVRCgpKTtcbiAgICB0aGlzLmFyZWEuY3JlYXRlRW50aXR5KG5ldyBGYWRlSW5NYWluQXJlYSgpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBCdWlsZCBhbGwgb2YgdGhlIG1hemUgb2JqZWN0c1xuICAgKi9cbiAgcHJpdmF0ZSBidWlsZE1hemUoKTogdm9pZCB7XG4gICAgbGV0IHBsYXllclBvc2l0aW9uOiBbbnVtYmVyLCBudW1iZXJdIHwgbnVsbCA9IG51bGw7XG5cbiAgICAvLyBDYWxjdWxhdGUgdGhlIHRvdGFsIG51bWJlciBvZiB3YWxscyBpbiB0aGUgbWF6ZVxuICAgIGNvbnN0IG51bVdhbGxzID0gdGhpcy5tYXplLnJlZHVjZShcbiAgICAgIChuLCByb3cpID0+IG4gKyByb3cucmVkdWNlKChuLCBjZWxsKSA9PiBuICsgTnVtYmVyKGNlbGwgPT09IE1hemVPYmplY3QuV2FsbCksIDApLFxuICAgICAgMCxcbiAgICApO1xuXG4gICAgLy8gU3RvcmVzIGFsbCBtYXplIHdhbGxzIGluc2lkZSBhIHNpbmdsZSBlbnRpdHlcbiAgICBjb25zdCB3YWxsRW50aXR5ID0gdGhpcy5hcmVhLmNyZWF0ZUVudGl0eShuZXcgTWF6ZVdhbGxzKG51bVdhbGxzLCB0aGlzLmFyZWEpKTtcblxuICAgIC8vIENyZWF0ZSBhbGwgb2YgdGhlIGluc3RhbmNlcyBpbiB0aGUgbWF6ZVxuICAgIGxldCB0b3RhbEVuZXJneSA9IDA7XG4gICAgZm9yIChjb25zdCBbcm93SW5kZXgsIHJvd10gb2YgdGhpcy5tYXplLmVudHJpZXMoKSkge1xuICAgICAgZm9yIChjb25zdCBbY29sSW5kZXgsIGNvbF0gb2Ygcm93LmVudHJpZXMoKSkge1xuICAgICAgICBzd2l0Y2ggKGNvbCkge1xuICAgICAgICAgIGNhc2UgTWF6ZU9iamVjdC5XYWxsOlxuICAgICAgICAgICAgd2FsbEVudGl0eS5zdGF0ZS5hZGRXYWxsKHJvd0luZGV4LCBjb2xJbmRleCwgdGhpcyk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgTWF6ZU9iamVjdC5FbmVyZ3k6XG4gICAgICAgICAgICB0b3RhbEVuZXJneSArPSAxO1xuICAgICAgICAgICAgdGhpcy5hcmVhLmNyZWF0ZUVudGl0eShuZXcgRW5lcmd5KHJvd0luZGV4LCBjb2xJbmRleCkpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIE1hemVPYmplY3QuUG9ydGFsOlxuICAgICAgICAgICAgaWYgKHBsYXllclBvc2l0aW9uID09PSBudWxsKSB7XG4gICAgICAgICAgICAgIHBsYXllclBvc2l0aW9uID0gW3Jvd0luZGV4LCBjb2xJbmRleF07XG4gICAgICAgICAgICAgIHRoaXMuYXJlYS5jcmVhdGVFbnRpdHkobmV3IFBvcnRhbChyb3dJbmRleCwgY29sSW5kZXgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgY29uc3QgY29uc3RydWN0ID0gQ09OU1RSVUNUT1JTW2NvbF07XG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnN0cnVjdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgdGhpcy5hcmVhLmNyZWF0ZUVudGl0eShjb25zdHJ1Y3Qocm93SW5kZXgsIGNvbEluZGV4LCB0aGlzLmFyZWEpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuX3RvdGFsRW5lcmd5ID0gdG90YWxFbmVyZ3k7XG5cbiAgICAvLyBDcmVhdGUgdGhlIHBsYXllciwgY2hvb3NlIGNlbnRlciBvZiBtYXplIGFzIGRlZmF1bHQgcG9zaXRpb25cbiAgICBpZiAocGxheWVyUG9zaXRpb24gPT09IG51bGwpIHtcbiAgICAgIHBsYXllclBvc2l0aW9uID0gW01hdGguZmxvb3IodGhpcy5tYXplV2lkdGggLyAyKSwgTWF0aC5mbG9vcih0aGlzLm1hemVIZWlnaHQgLyAyKV07XG4gICAgfVxuICAgIHRoaXMucGxheWVyVGlsZUxvY2F0aW9uID0gcGxheWVyUG9zaXRpb247XG4gICAgdGhpcy5hcmVhLmNyZWF0ZUVudGl0eShuZXcgUGxheWVyKHBsYXllclBvc2l0aW9uWzBdLCBwbGF5ZXJQb3NpdGlvblsxXSkpO1xuICB9XG5cbiAgb25UaW1lcihfdGltZXJJbmRleDogbnVtYmVyKTogdm9pZCB7fVxuXG4gIG9uU3RlcCgpOiB2b2lkIHtcbiAgICB0aGlzLnVwZGF0ZVBsYXllclRpbGVMb2NhdGlvbkFuZEFuZ2xlKCk7XG5cbiAgICAvLyBGaXggZm9yIGF1ZGlvIHBsYXlpbmdcbiAgICBjb25zdCBpbnB1dCA9IHRoaXMuYXJlYS5nYW1lLmlucHV0O1xuICAgIGlmIChpbnB1dC5pc01vdXNlQnV0dG9uRG93bihNb3VzZUJ1dHRvbi5MZWZ0KSkge1xuICAgICAgdGhpcy5mb3Jlc3RBbWJpZW5jZS5hdWRpby5jb250ZXh0LnJlc3VtZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgdGhlIGludGVybmFsIHRpbGUgbG9jYXRpb24gZm9yIHRoZSBwbGF5ZXJcbiAgICovXG4gIHByaXZhdGUgdXBkYXRlUGxheWVyVGlsZUxvY2F0aW9uQW5kQW5nbGUoKTogdm9pZCB7XG4gICAgY29uc3QgcGxheWVyID0gdGhpcy5hcmVhLmZpbmRGaXJzdEVudGl0eSgncGxheWVyJyk7XG4gICAgaWYgKHBsYXllciA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMucGxheWVyVGlsZUxvY2F0aW9uID0gdGhpcy5wb3NpdGlvblRvVGlsZUxvY2F0aW9uKHBsYXllci5vYmplY3QucG9zaXRpb24pO1xuICAgIHRoaXMucGxheWVyQW5nbGUgPSAocGxheWVyLnN0YXRlIGFzIFBsYXllcikuZ2V0RmFjaW5nQW5nbGUoKTtcbiAgfVxuXG4gIG9uRHJhdyhfZzJkOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpOiB2b2lkIHt9XG59XG5cbmZ1bmN0aW9uIGJ1aWxkQ29sb3JEb29yKGNvbG9yOiBEb29yQ29sb3IpOiBNYXplT2JqZWN0RnVuY3Rpb24ge1xuICByZXR1cm4gKHJvdywgY29sKSA9PiBuZXcgQ29sb3JEb29yKHJvdywgY29sLCBjb2xvcik7XG59XG5cbmZ1bmN0aW9uIGJ1aWxkS2V5KGNvbG9yOiBEb29yQ29sb3IpOiBNYXplT2JqZWN0RnVuY3Rpb24ge1xuICByZXR1cm4gKHJvdywgY29sKSA9PiBuZXcgS2V5KHJvdywgY29sLCBjb2xvcik7XG59XG5cbmZ1bmN0aW9uIGJ1aWxkRWxlY3RyaWNCb3godHlwZTogRWxlY3RyaWNCb3hUeXBlKTogTWF6ZU9iamVjdEZ1bmN0aW9uIHtcbiAgcmV0dXJuIChyb3csIGNvbCkgPT4gbmV3IEVsZWN0cmljQm94KHJvdywgY29sLCB0eXBlKTtcbn1cblxuZnVuY3Rpb24gYnVpbGRFbGVjdHJpY0Rvb3IodHlwZTogRWxlY3RyaWNCb3hUeXBlKTogTWF6ZU9iamVjdEZ1bmN0aW9uIHtcbiAgcmV0dXJuIChyb3csIGNvbCkgPT4gbmV3IEVsZWN0cmljRG9vcihyb3csIGNvbCwgdHlwZSk7XG59XG4iLCJpbXBvcnQgeyBBYnN0cmFjdEJ1dHRvbiB9IGZyb20gJy4vQWJzdHJhY3RCdXR0b24nO1xuaW1wb3J0IHsgRW50aXR5U3RhdGUgfSBmcm9tICdlbmdpbmUvZW50aXR5JztcbmltcG9ydCB7IEludHJvQXJlYSB9IGZyb20gJ2FyZWFzL0ludHJvQXJlYSc7XG5pbXBvcnQgeyBNYWluQXJlYSB9IGZyb20gJ2FyZWFzL01haW5BcmVhJztcbmltcG9ydCB7IEdhbWVwYWRBeGlzLCBHYW1lcGFkQnV0dG9uLCBLZXkgfSBmcm9tICdlbmdpbmUvaW5wdXQnO1xuXG5jb25zdCBXSURUSCA9IDUwO1xuY29uc3QgSEVJR0hUID0gMzA7XG5cbi8qKlxuICogQnV0dG9uIHRvIHNraXAgdGhlIGludHJvXG4gKi9cbmV4cG9ydCBjbGFzcyBTa2lwSW50cm9CdXR0b24gZXh0ZW5kcyBBYnN0cmFjdEJ1dHRvbiBpbXBsZW1lbnRzIEVudGl0eVN0YXRlIHtcbiAgcHVibGljIHJlYWRvbmx5IHRhZ3M6IHN0cmluZ1tdID0gWydza2lwLWJ1dHRvbiddO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdTa2lwJyk7XG4gIH1cblxuICBvbkNyZWF0ZUJ1dHRvbigpOiB2b2lkIHtcbiAgICB0aGlzLnggPSB0aGlzLmVudGl0eS5hcmVhLm92ZXJsYXlXaWR0aCAtIFdJRFRIIC0gMjA7XG4gICAgdGhpcy55ID0gdGhpcy5lbnRpdHkuYXJlYS5vdmVybGF5SGVpZ2h0IC0gSEVJR0hUIC0gMjA7XG4gICAgdGhpcy53aWR0aCA9IFdJRFRIO1xuICAgIHRoaXMuaGVpZ2h0ID0gSEVJR0hUO1xuICB9XG5cbiAgb25EZXN0cm95KCk6IHZvaWQge31cblxuICBvbkNsaWNrKCk6IHZvaWQge1xuICAgICh0aGlzLmVudGl0eS5hcmVhLnN0YXRlIGFzIEludHJvQXJlYSkuaW50cm9NdXNpYy5zdG9wKCk7XG4gICAgdGhpcy5lbnRpdHkuYXJlYS5nYW1lLnNldEFyZWEobmV3IE1haW5BcmVhKCkpO1xuICB9XG5cbiAgb25TdGVwQnV0dG9uKCk6IHZvaWQge1xuICAgIGNvbnN0IGlucHV0ID0gdGhpcy5lbnRpdHkuYXJlYS5nYW1lLmlucHV0O1xuICAgIGlmIChcbiAgICAgIGlucHV0LmlzS2V5U3RhcnRlZChLZXkuRW50ZXIpIHx8XG4gICAgICBpbnB1dC5pc0tleVN0YXJ0ZWQoS2V5LlNwYWNlKSB8fFxuICAgICAgaW5wdXQuaXNHYW1lcGFkQnV0dG9uU3RhcnRlZCgwLCBHYW1lcGFkQnV0dG9uLkFDcm9zcykgfHxcbiAgICAgIGlucHV0LmlzR2FtZXBhZEJ1dHRvblN0YXJ0ZWQoMCwgR2FtZXBhZEJ1dHRvbi5YU3F1YXJlKSB8fFxuICAgICAgaW5wdXQuaXNHYW1lcGFkQnV0dG9uU3RhcnRlZCgwLCBHYW1lcGFkQnV0dG9uLllUcmlhbmdsZSkgfHxcbiAgICAgIGlucHV0LmlzR2FtZXBhZEJ1dHRvblN0YXJ0ZWQoMCwgR2FtZXBhZEJ1dHRvbi5TdGFydCkgfHxcbiAgICAgIGlucHV0LmdldEdhbWVwYWRBeGlzKDAsIEdhbWVwYWRBeGlzLlJpZ2h0VHJpZ2dlcikgPiAwLjVcbiAgICApIHtcbiAgICAgIHRoaXMub25DbGljaygpO1xuICAgIH1cbiAgfVxuXG4gIG9uVGltZXIoX3RpbWVySW5kZXg6IG51bWJlcik6IHZvaWQge31cbn1cbiIsImltcG9ydCB7IEFyZWEsIEFyZWFTdGF0ZSB9IGZyb20gJ2VuZ2luZS9hcmVhJztcbmltcG9ydCB7IEF1ZGlvV3JhcHBlciB9IGZyb20gJ2VuZ2luZS9hdWRpbyc7XG5pbXBvcnQgeyBNb3VzZUJ1dHRvbiB9IGZyb20gJ2VuZ2luZS9pbnB1dCc7XG5pbXBvcnQgeyBTa2lwSW50cm9CdXR0b24gfSBmcm9tICdlbnRpdGllcy91aS9Ta2lwSW50cm9CdXR0b24nO1xuaW1wb3J0IHsgTWFpbkFyZWEgfSBmcm9tICcuL01haW5BcmVhJztcblxuY29uc3QgTElORTFfMSA9ICdJIHJlbWVtYmVyLi4uICc7XG5jb25zdCBMSU5FMV8yID0gJ0kgd2FzIGhhdmluZyBhIGRyZWFtLi4uJztcbmNvbnN0IExJTkUyID0gJ0kgd2FzIHRyYXBwZWQgaW5zaWRlIGEgbWFzc2l2ZSBsYWJ5cmludGguLi4nO1xuY29uc3QgTElORTMgPSAnQnV0IHRoZSBmdW5ueSB0aGluZyBpcy4uLic7XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBxdW90ZXNcbmNvbnN0IEZJTkFMX0xJTkUgPSBcIkkgZG9uJ3QgcmVjYWxsIGV2ZXIgd2FraW5nIHVwIGZyb20gdGhhdCBkcmVhbS4uLlwiO1xuXG4vLyBBbmltYXRpb24gZnJhbWVzXG5jb25zdCBGQURFX0lOX1NQRUVEUzogbnVtYmVyW10gPSBbNSwgNSwgNSwgNSwgNSwgNSwgNV07XG5jb25zdCBGQURFX0lOX0FMUEhBOiBudW1iZXJbXSA9IFswLjA1LCAwLjA1LCAwLjA1LCAwLjA1LCAwLjA1LCAwLjA1LCAwLjA1XTtcbmNvbnN0IEZBREVfSU5fREVMQVlTOiBudW1iZXJbXSA9IFsxNTAsIDIwMCwgNDAwLCAyNTAsIDEwMCwgMTgwLCAxMF07XG5cbi8qKlxuICogRHJhd3MgdGhlIGdhbWUgaW50cm9kdWN0aW9uXG4gKi9cbmV4cG9ydCBjbGFzcyBJbnRyb0FyZWEgaW1wbGVtZW50cyBBcmVhU3RhdGUge1xuICBwcml2YXRlIGFyZWE6IEFyZWE8dGhpcz47XG5cbiAgcHVibGljIGludHJvTXVzaWM6IEF1ZGlvV3JhcHBlcjtcbiAgcHJpdmF0ZSBhbHBoYTogbnVtYmVyW10gPSBbMCwgMCwgMCwgMCwgMCwgMCwgMF07XG5cbiAgcHJpdmF0ZSBzaG91bGREcmF3RmluYWxMaW5lKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmFscGhhWzVdID4gMDtcbiAgfVxuXG4gIG9uQ3JlYXRlKGFyZWE6IEFyZWE8dGhpcz4pOiB2b2lkIHtcbiAgICB0aGlzLmFyZWEgPSBhcmVhO1xuXG4gICAgdGhpcy5hcmVhLmNyZWF0ZUVudGl0eShuZXcgU2tpcEludHJvQnV0dG9uKCkpO1xuICAgIHRoaXMuYXJlYS5nYW1lLmlucHV0LnBvaW50ZXJMb2NrRW5hYmxlZCA9IGZhbHNlO1xuXG4gICAgLy8gTG9hZCBhbnkgc291bmRzXG4gICAgdGhpcy5pbnRyb011c2ljID0gdGhpcy5hcmVhLmNyZWF0ZUF1ZGlvKCdJbnRybycpO1xuICAgIHRoaXMuaW50cm9NdXNpYy52b2x1bWUgPSAwO1xuICAgIHRoaXMuaW50cm9NdXNpYy5wbGF5KHRydWUpO1xuICAgIHRoaXMuYXJlYS5zZXRUaW1lcigxLCAxMDAsIGZhbHNlKTtcblxuICAgIC8vIEZhZGUgaW4gdGltZXJcbiAgICB0aGlzLmFyZWEuc2V0VGltZXIoMiwgMjAwLCBmYWxzZSk7XG4gIH1cblxuICBvblRpbWVyKHRpbWVySW5kZXg6IG51bWJlcik6IHZvaWQge1xuICAgIGlmICh0aW1lckluZGV4ID09PSAxKSB7XG4gICAgICB0aGlzLmluY3JlYXNlVm9sdW1lKCk7XG4gICAgfVxuICAgIGlmICh0aW1lckluZGV4ID49IDIgJiYgdGltZXJJbmRleCA8PSA4KSB7XG4gICAgICB0aGlzLmhhbmRsZUZhZGVJbih0aW1lckluZGV4LCB0aW1lckluZGV4IC0gMik7XG4gICAgfVxuICAgIGlmICh0aW1lckluZGV4ID09PSA3KSB7XG4gICAgICB0aGlzLmRlY3JlYXNlVm9sdW1lKCk7XG4gICAgfVxuICAgIGlmICh0aW1lckluZGV4ID09PSA5KSB7XG4gICAgICB0aGlzLmFyZWEuZ2FtZS5zZXRBcmVhKG5ldyBNYWluQXJlYSgpKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSW5jcmVhc2UgdGhlIHZvbHVtZSBvZiB0aGUgaW50cm8gbXVzaWNcbiAgICovXG4gIHByaXZhdGUgaW5jcmVhc2VWb2x1bWUoKTogdm9pZCB7XG4gICAgdGhpcy5pbnRyb011c2ljLnZvbHVtZSA9IE1hdGgubWluKDEsIHRoaXMuaW50cm9NdXNpYy52b2x1bWUgKyAwLjEpO1xuICAgIGlmICh0aGlzLmludHJvTXVzaWMudm9sdW1lID09PSAxKSB7XG4gICAgICB0aGlzLmFyZWEuY2xlYXJUaW1lcigxKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5hcmVhLnNldFRpbWVyKDEsIDEwLCBmYWxzZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNsb3dseSBkZWNyZWFzZSB0aGUgdm9sdW1lXG4gICAqL1xuICBwcml2YXRlIGRlY3JlYXNlVm9sdW1lKCk6IHZvaWQge1xuICAgIHRoaXMuaW50cm9NdXNpYy52b2x1bWUgPSBNYXRoLm1heCgwLCB0aGlzLmludHJvTXVzaWMudm9sdW1lIC0gRkFERV9JTl9BTFBIQVs0XSk7XG4gICAgaWYgKHRoaXMuaW50cm9NdXNpYy52b2x1bWUgPD0gRkFERV9JTl9BTFBIQVs0XSkge1xuICAgICAgdGhpcy5pbnRyb011c2ljLnN0b3AoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIHRoZSBmYWRlIGluIGFuaW1hdGlvblxuICAgKi9cbiAgcHJpdmF0ZSBoYW5kbGVGYWRlSW4odGltZXJJbmRleDogbnVtYmVyLCBhbHBoYUluZGV4OiBudW1iZXIpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5hbHBoYVthbHBoYUluZGV4XSA9PT0gMSkge1xuICAgICAgdGhpcy5hcmVhLmNsZWFyVGltZXIodGltZXJJbmRleCk7XG4gICAgICB0aGlzLmFyZWEuc2V0VGltZXIodGltZXJJbmRleCArIDEsIEZBREVfSU5fREVMQVlTW2FscGhhSW5kZXhdLCBmYWxzZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5hbHBoYVthbHBoYUluZGV4XSA9IE1hdGgubWluKDEsIHRoaXMuYWxwaGFbYWxwaGFJbmRleF0gKyBGQURFX0lOX0FMUEhBW2FscGhhSW5kZXhdKTtcbiAgICBpZiAoYWxwaGFJbmRleCA+IDEpIHtcbiAgICAgIHRoaXMuYWxwaGFbYWxwaGFJbmRleCAtIDFdID0gTWF0aC5tYXgoMCwgdGhpcy5hbHBoYVthbHBoYUluZGV4IC0gMV0gLSBGQURFX0lOX0FMUEhBW2FscGhhSW5kZXhdKTtcbiAgICAgIHRoaXMuYWxwaGFbYWxwaGFJbmRleCAtIDJdID0gTWF0aC5tYXgoMCwgdGhpcy5hbHBoYVthbHBoYUluZGV4IC0gMl0gLSBGQURFX0lOX0FMUEhBW2FscGhhSW5kZXhdKTtcbiAgICB9XG4gICAgdGhpcy5hcmVhLnNldFRpbWVyKHRpbWVySW5kZXgsIEZBREVfSU5fU1BFRURTW2FscGhhSW5kZXhdLCBmYWxzZSk7XG4gIH1cblxuICBvblN0ZXAoKTogdm9pZCB7XG4gICAgLy8gRml4IGZvciBhdWRpbyBwbGF5aW5nXG4gICAgY29uc3QgaW5wdXQgPSB0aGlzLmFyZWEuZ2FtZS5pbnB1dDtcbiAgICBpZiAoaW5wdXQuaXNNb3VzZUJ1dHRvbkRvd24oTW91c2VCdXR0b24uTGVmdCkpIHtcbiAgICAgIHRoaXMuaW50cm9NdXNpYy5hdWRpby5jb250ZXh0LnJlc3VtZSgpO1xuICAgIH1cbiAgfVxuXG4gIG9uRHJhdyhnMmQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk6IHZvaWQge1xuICAgIGlmICh0aGlzLnNob3VsZERyYXdGaW5hbExpbmUoKSkge1xuICAgICAgdGhpcy5kcmF3RmluYWxMaW5lKGcyZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZHJhd1RocmVlTGluZXMoZzJkKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRHJhdyB0aGUgdGhyZWUtbGluZSBpbnRyb1xuICAgKi9cbiAgcHJpdmF0ZSBkcmF3VGhyZWVMaW5lcyhnMmQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk6IHZvaWQge1xuICAgIGcyZC5mb250ID0gJzI0cHQgc2Fucy1zZXJpZic7XG4gICAgZzJkLnRleHRBbGlnbiA9ICdsZWZ0JztcbiAgICBnMmQudGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7XG4gICAgZzJkLmZpbGxTdHlsZSA9ICd3aGl0ZSc7XG5cbiAgICBjb25zdCB0b3BMaW5lID0gdGhpcy5hcmVhLm92ZXJsYXlIZWlnaHQgLyAzIC0gdGhpcy5hcmVhLm92ZXJsYXlIZWlnaHQgLyA2O1xuICAgIGNvbnN0IG1pZGRsZUxpbmUgPSB0b3BMaW5lICsgdGhpcy5hcmVhLm92ZXJsYXlIZWlnaHQgLyAzO1xuICAgIGNvbnN0IGJvdHRvbUxpbmUgPSBtaWRkbGVMaW5lICsgdGhpcy5hcmVhLm92ZXJsYXlIZWlnaHQgLyAzO1xuXG4gICAgLy8gVXNlIGZvbnQgbWV0cmljcyB0byBjZW50ZXIgdGhlIHRvcCBsaW5lLCB3aGljaCBoYXMgdHdvIHBhcnRzXG4gICAgY29uc3Qgc2luZ2xlTWV0cmljcyA9IGcyZC5tZWFzdXJlVGV4dChMSU5FMV8xKTtcbiAgICBjb25zdCB0b3RhbE1ldHJpY3MgPSBnMmQubWVhc3VyZVRleHQoTElORTFfMSArIExJTkUxXzIpO1xuXG4gICAgZzJkLmdsb2JhbEFscGhhID0gdGhpcy5hbHBoYVswXTtcbiAgICBnMmQuZmlsbFRleHQoTElORTFfMSwgdGhpcy5hcmVhLm92ZXJsYXlXaWR0aCAvIDIgLSB0b3RhbE1ldHJpY3Mud2lkdGggLyAyLCB0b3BMaW5lKTtcblxuICAgIGcyZC5nbG9iYWxBbHBoYSA9IHRoaXMuYWxwaGFbMV07XG4gICAgZzJkLmZpbGxUZXh0KExJTkUxXzIsIHRoaXMuYXJlYS5vdmVybGF5V2lkdGggLyAyIC0gdG90YWxNZXRyaWNzLndpZHRoIC8gMiArIHNpbmdsZU1ldHJpY3Mud2lkdGgsIHRvcExpbmUpO1xuXG4gICAgZzJkLnRleHRBbGlnbiA9ICdjZW50ZXInO1xuICAgIGcyZC5nbG9iYWxBbHBoYSA9IHRoaXMuYWxwaGFbMl07XG4gICAgZzJkLmZpbGxUZXh0KExJTkUyLCB0aGlzLmFyZWEub3ZlcmxheVdpZHRoIC8gMiwgbWlkZGxlTGluZSk7XG5cbiAgICBnMmQuZ2xvYmFsQWxwaGEgPSB0aGlzLmFscGhhWzNdO1xuICAgIGcyZC5maWxsVGV4dChMSU5FMywgdGhpcy5hcmVhLm92ZXJsYXlXaWR0aCAvIDIsIGJvdHRvbUxpbmUpO1xuICB9XG5cbiAgLyoqXG4gICAqIERyYXcgdGhlIHNpbmdsZSBsaW5lIGludHJvXG4gICAqL1xuICBwcml2YXRlIGRyYXdGaW5hbExpbmUoZzJkOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpOiB2b2lkIHtcbiAgICBnMmQuZm9udCA9ICcyNHB0IHNhbnMtc2VyaWYnO1xuICAgIGcyZC50ZXh0QWxpZ24gPSAnY2VudGVyJztcbiAgICBnMmQudGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7XG4gICAgZzJkLmZpbGxTdHlsZSA9ICd3aGl0ZSc7XG5cbiAgICBnMmQuZ2xvYmFsQWxwaGEgPSB0aGlzLmFscGhhWzVdO1xuICAgIGcyZC5maWxsVGV4dChGSU5BTF9MSU5FLCB0aGlzLmFyZWEub3ZlcmxheVdpZHRoIC8gMiwgdGhpcy5hcmVhLm92ZXJsYXlIZWlnaHQgLyAyKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgSW50cm9BcmVhIH0gZnJvbSAnYXJlYXMvSW50cm9BcmVhJztcbmltcG9ydCB7IFRpdGxlQXJlYSB9IGZyb20gJ2FyZWFzL1RpdGxlQXJlYSc7XG5pbXBvcnQgeyBGYWRlT3V0RWZmZWN0IH0gZnJvbSAnLi9GYWRlT3V0RWZmZWN0JztcblxuLyoqXG4gKiBGYWRlIG91dCB0aGUgdGl0bGUgc2NyZWVuIGFuZCBzdGFydCB0aGUgYW5pbWF0aW9uXG4gKi9cbmV4cG9ydCBjbGFzcyBTdGFydEludHJvZHVjdGlvbiBleHRlbmRzIEZhZGVPdXRFZmZlY3Qge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigxMCk7XG4gIH1cblxuICBwcm90ZWN0ZWQgb25UaWNrKGFscGhhOiBudW1iZXIpOiB2b2lkIHtcbiAgICBjb25zdCB0aXRsZUFyZWEgPSB0aGlzLmVudGl0eS5hcmVhLnN0YXRlIGFzIFRpdGxlQXJlYTtcbiAgICB0aXRsZUFyZWEudGl0bGVNdXNpYy52b2x1bWUgPSAxIC0gYWxwaGE7XG4gIH1cblxuICBwcm90ZWN0ZWQgb25GaW5pc2goKTogdm9pZCB7XG4gICAgY29uc3QgdGl0bGVBcmVhID0gdGhpcy5lbnRpdHkuYXJlYS5zdGF0ZSBhcyBUaXRsZUFyZWE7XG4gICAgdGl0bGVBcmVhLnRpdGxlTXVzaWMuc3RvcCgpO1xuXG4gICAgdGhpcy5lbnRpdHkuYXJlYS5nYW1lLnNldEFyZWEobmV3IEludHJvQXJlYSgpKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgQXJlYSwgQXJlYVN0YXRlIH0gZnJvbSAnZW5naW5lL2FyZWEnO1xuaW1wb3J0IHsgRW50aXR5U3RhdGUgfSBmcm9tICdlbmdpbmUvZW50aXR5JztcbmltcG9ydCB7IE1hemVPYmplY3QsIHN0cmluZ1RvTWF6ZSB9IGZyb20gJy4vTWF6ZU9iamVjdCc7XG5pbXBvcnQgeyBNYXplV2FsbHMgfSBmcm9tICdlbnRpdGllcy9tYXplLW9iamVjdHMvTWF6ZVdhbGxzJztcbmltcG9ydCB7IEFic3RyYWN0TWF6ZUFyZWEgfSBmcm9tICcuL0Fic3RyYWN0TWF6ZUFyZWEnO1xuaW1wb3J0IHsgU3VubGlnaHQgfSBmcm9tICdlbnRpdGllcy9lZmZlY3RzL1N1bmxpZ2h0JztcbmltcG9ydCB7IE1hemVGbG9vciB9IGZyb20gJ2VudGl0aWVzL21hemUtb2JqZWN0cy9NYXplRmxvb3InO1xuaW1wb3J0IHsgRHVtbXlCaWdEb29yIH0gZnJvbSAnZW50aXRpZXMvbWF6ZS1vYmplY3RzL0R1bW15QmlnRG9vcic7XG5pbXBvcnQgeyBBdWRpb1dyYXBwZXIgfSBmcm9tICdlbmdpbmUvYXVkaW8nO1xuaW1wb3J0IHsgR2FtZXBhZEF4aXMsIEdhbWVwYWRCdXR0b24sIEtleSwgTW91c2VCdXR0b24gfSBmcm9tICdlbmdpbmUvaW5wdXQnO1xuaW1wb3J0IHsgU3RhcnRCdXR0b24gfSBmcm9tICdlbnRpdGllcy91aS9TdGFydEJ1dHRvbic7XG5pbXBvcnQgeyBGYWRlSW5FZmZlY3QgfSBmcm9tICdlbnRpdGllcy9lZmZlY3RzL0ZhZGVJbkVmZmVjdCc7XG5pbXBvcnQgeyBTdGFydEludHJvZHVjdGlvbiB9IGZyb20gJ2VudGl0aWVzL2VmZmVjdHMvU3RhcnRJbnRyb2R1Y3Rpb24nO1xuaW1wb3J0IFRpdGxlIGZyb20gJ2Fzc2V0cy9sZXZlbHMvVGl0bGUubHZsJztcbmltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcblxudHlwZSBNYXplT2JqZWN0RnVuY3Rpb24gPSAocm93OiBudW1iZXIsIGNvbDogbnVtYmVyLCBhcmVhOiBBcmVhPFRpdGxlQXJlYT4pID0+IEVudGl0eVN0YXRlO1xuY29uc3QgQ09OU1RSVUNUT1JTOiB7IFtLIGluIE1hemVPYmplY3RdPzogTWF6ZU9iamVjdEZ1bmN0aW9uIH0gPSB7XG4gIFtNYXplT2JqZWN0LkJpZ0Rvb3JdOiAocm93LCBjb2wpID0+IG5ldyBEdW1teUJpZ0Rvb3Iocm93LCBjb2wpLFxufTtcblxuLyoqXG4gKiBUaXRsZSBTY3JlZW5cbiAqL1xuZXhwb3J0IGNsYXNzIFRpdGxlQXJlYSBleHRlbmRzIEFic3RyYWN0TWF6ZUFyZWEgaW1wbGVtZW50cyBBcmVhU3RhdGUge1xuICBwcml2YXRlIGFyZWE6IEFyZWE8dGhpcz47XG5cbiAgcHJpdmF0ZSBjYW1lcmE6IFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhO1xuICBwcml2YXRlIGNhbWVyYVBvczogW251bWJlciwgbnVtYmVyXSA9IFswLCAwXTtcbiAgcHJpdmF0ZSBkcmF3VGl0bGUgPSB0cnVlO1xuXG4gIHB1YmxpYyB0aXRsZU11c2ljOiBBdWRpb1dyYXBwZXI7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoc3RyaW5nVG9NYXplKFRpdGxlKSk7XG4gIH1cblxuICBvbkNyZWF0ZShhcmVhOiBBcmVhPHRoaXM+KTogdm9pZCB7XG4gICAgdGhpcy5hcmVhID0gYXJlYTtcblxuICAgIC8vIEJ1aWxkIHRoZSByb29tXG4gICAgdGhpcy5hcmVhLmNyZWF0ZUVudGl0eShuZXcgTWF6ZUZsb29yKHRoaXMubWF6ZVdpZHRoLCB0aGlzLm1hemVIZWlnaHQpKTtcbiAgICB0aGlzLmJ1aWxkRHVtbXlNYXplKCk7XG5cbiAgICAvLyBDb25maWd1cmUgdGhlIGJhY2tncm91bmRcbiAgICBjb25zdCB0ZXh0dXJlID0gYXJlYS5nYW1lLmFzc2V0cy5nZXRUZXh0dXJlKCdTa3lib3hCRycpO1xuICAgIGFyZWEuc2NlbmUuYmFja2dyb3VuZCA9IHRleHR1cmU7XG5cbiAgICAvLyBBZGQgYSBzdGF0aWMgbGlnaHQgYW5kIGVuYWJsZSBzaGFkb3dzXG4gICAgdGhpcy5hcmVhLmNyZWF0ZUVudGl0eShuZXcgU3VubGlnaHQoKSk7XG4gICAgYXJlYS5zY2VuZS5hZGQobmV3IFRIUkVFLkFtYmllbnRMaWdodCgweGZmZmZmZiwgMC41KSk7XG4gICAgYXJlYS5nYW1lLnJlbmRlcmVyLnNoYWRvd01hcC5lbmFibGVkID0gdHJ1ZTtcblxuICAgIC8vIEJ1aWxkIHRoZSBjYW1lcmFcbiAgICB0aGlzLmFyZWEuZ2FtZS5pbnB1dC5wb2ludGVyTG9ja0VuYWJsZWQgPSBmYWxzZTtcbiAgICB0aGlzLmNhbWVyYSA9IG5ldyBUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYSg1MCwgYXJlYS5nYW1lLmNhbnZhc1dpZHRoIC8gYXJlYS5nYW1lLmNhbnZhc0hlaWdodCwgMC4wMDEsIDEwMDApO1xuICAgIHRoaXMuYXJlYS5jYW1lcmEgPSB0aGlzLmNhbWVyYTtcblxuICAgIC8vIFNldCB0aGUgY2FtZXJhIHBvc2l0aW9uIG1hemVcbiAgICBjb25zdCBwb3NpdGlvbiA9IHRoaXMudGlsZUxvY2F0aW9uVG9Qb3NpdGlvbih0aGlzLmNhbWVyYVBvc1swXSwgdGhpcy5jYW1lcmFQb3NbMV0pO1xuICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLmNvcHkocG9zaXRpb24pO1xuICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnkgPSAyLjU7XG4gICAgdGhpcy5jYW1lcmEucG9zaXRpb24ueCAtPSAyLjU7XG4gICAgdGhpcy5jYW1lcmEucXVhdGVybmlvbi5zZXRGcm9tRXVsZXIobmV3IFRIUkVFLkV1bGVyKE1hdGguUEkgLyAzMCwgTWF0aC5QSSAvIDIsIDAsICdZWFonKSk7XG5cbiAgICAvLyBMb2FkIGFueSBzb3VuZHNcbiAgICB0aGlzLnRpdGxlTXVzaWMgPSB0aGlzLmFyZWEuY3JlYXRlQXVkaW8oJ1RpdGxlJyk7XG4gICAgdGhpcy50aXRsZU11c2ljLnBsYXkodHJ1ZSk7XG5cbiAgICAvLyBBZGQgYW55IG90aGVyIG9iamVjdHNcbiAgICB0aGlzLmFyZWEuY3JlYXRlRW50aXR5KG5ldyBTdGFydEJ1dHRvbigpKTtcbiAgICB0aGlzLmFyZWEuY3JlYXRlRW50aXR5KG5ldyBGYWRlSW5FZmZlY3QoMykpO1xuICB9XG5cbiAgLyoqXG4gICAqIEJ1aWxkIGFsbCBvZiB0aGUgbWF6ZSBvYmplY3RzXG4gICAqL1xuICBwcml2YXRlIGJ1aWxkRHVtbXlNYXplKCk6IHZvaWQge1xuICAgIC8vIENhbGN1bGF0ZSB0aGUgdG90YWwgbnVtYmVyIG9mIHdhbGxzIGluIHRoZSBtYXplXG4gICAgY29uc3QgbnVtV2FsbHMgPSB0aGlzLm1hemUucmVkdWNlKFxuICAgICAgKG4sIHJvdykgPT4gbiArIHJvdy5yZWR1Y2UoKG4sIGNlbGwpID0+IG4gKyBOdW1iZXIoY2VsbCA9PT0gTWF6ZU9iamVjdC5XYWxsKSwgMCksXG4gICAgICAwLFxuICAgICk7XG5cbiAgICAvLyBTdG9yZXMgYWxsIG1hemUgd2FsbHMgaW5zaWRlIGEgc2luZ2xlIGVudGl0eVxuICAgIGNvbnN0IHdhbGxFbnRpdHkgPSB0aGlzLmFyZWEuY3JlYXRlRW50aXR5KG5ldyBNYXplV2FsbHMobnVtV2FsbHMsIHRoaXMuYXJlYSkpO1xuXG4gICAgLy8gQ3JlYXRlIGFsbCBvZiB0aGUgaW5zdGFuY2VzIGluIHRoZSBtYXplXG4gICAgZm9yIChjb25zdCBbcm93SW5kZXgsIHJvd10gb2YgdGhpcy5tYXplLmVudHJpZXMoKSkge1xuICAgICAgZm9yIChjb25zdCBbY29sSW5kZXgsIGNvbF0gb2Ygcm93LmVudHJpZXMoKSkge1xuICAgICAgICBzd2l0Y2ggKGNvbCkge1xuICAgICAgICAgIGNhc2UgTWF6ZU9iamVjdC5XYWxsOlxuICAgICAgICAgICAgd2FsbEVudGl0eS5zdGF0ZS5hZGRXYWxsKHJvd0luZGV4LCBjb2xJbmRleCwgdGhpcyk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgTWF6ZU9iamVjdC5Qb3J0YWw6XG4gICAgICAgICAgICB0aGlzLmNhbWVyYVBvcyA9IFtyb3dJbmRleCwgY29sSW5kZXhdO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICBjb25zdCBjb25zdHJ1Y3QgPSBDT05TVFJVQ1RPUlNbY29sXTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29uc3RydWN0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICB0aGlzLmFyZWEuY3JlYXRlRW50aXR5KGNvbnN0cnVjdChyb3dJbmRleCwgY29sSW5kZXgsIHRoaXMuYXJlYSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgb25UaW1lcihfdGltZXJJbmRleDogbnVtYmVyKTogdm9pZCB7fVxuXG4gIG9uU3RlcCgpOiB2b2lkIHtcbiAgICAvLyBNYWtlIHN1cmUgdGhlIGNhbWVyYSBpcyBzY2FsZWQgcHJvcGVybHlcbiAgICB0aGlzLmNhbWVyYS5hc3BlY3QgPSB0aGlzLmFyZWEuZ2FtZS5jYW52YXNXaWR0aCAvIHRoaXMuYXJlYS5nYW1lLmNhbnZhc0hlaWdodDtcbiAgICB0aGlzLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG5cbiAgICAvLyBGaXggZm9yIGF1ZGlvIHBsYXlpbmdcbiAgICBjb25zdCBpbnB1dCA9IHRoaXMuYXJlYS5nYW1lLmlucHV0O1xuICAgIGlmIChpbnB1dC5pc01vdXNlQnV0dG9uRG93bihNb3VzZUJ1dHRvbi5MZWZ0KSkge1xuICAgICAgdGhpcy50aXRsZU11c2ljLmF1ZGlvLmNvbnRleHQucmVzdW1lKCk7XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgaW5wdXQuaXNLZXlTdGFydGVkKEtleS5FbnRlcikgfHxcbiAgICAgIGlucHV0LmlzS2V5U3RhcnRlZChLZXkuU3BhY2UpIHx8XG4gICAgICBpbnB1dC5pc0dhbWVwYWRCdXR0b25TdGFydGVkKDAsIEdhbWVwYWRCdXR0b24uQUNyb3NzKSB8fFxuICAgICAgaW5wdXQuaXNHYW1lcGFkQnV0dG9uU3RhcnRlZCgwLCBHYW1lcGFkQnV0dG9uLlhTcXVhcmUpIHx8XG4gICAgICBpbnB1dC5pc0dhbWVwYWRCdXR0b25TdGFydGVkKDAsIEdhbWVwYWRCdXR0b24uWVRyaWFuZ2xlKSB8fFxuICAgICAgaW5wdXQuaXNHYW1lcGFkQnV0dG9uU3RhcnRlZCgwLCBHYW1lcGFkQnV0dG9uLlN0YXJ0KSB8fFxuICAgICAgaW5wdXQuZ2V0R2FtZXBhZEF4aXMoMCwgR2FtZXBhZEF4aXMuUmlnaHRUcmlnZ2VyKSA+IDAuNVxuICAgICkge1xuICAgICAgdGhpcy5zdGFydEdhbWUoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUGxheSB0aGUgZ2FtZSFcbiAgICovXG4gIHB1YmxpYyBzdGFydEdhbWUoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmRyYXdUaXRsZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIENsZWFyIGFueSBVSSBlbGVtZW50c1xuICAgIHRoaXMuZHJhd1RpdGxlID0gZmFsc2U7XG4gICAgZm9yIChjb25zdCBidXR0b24gb2YgdGhpcy5hcmVhLmZpbmRFbnRpdGllcygnc3RhcnQtYnV0dG9uJykpIHtcbiAgICAgIGJ1dHRvbi5kZXN0cm95KCk7XG4gICAgfVxuXG4gICAgdGhpcy5hcmVhLmNyZWF0ZUVudGl0eShuZXcgU3RhcnRJbnRyb2R1Y3Rpb24oKSk7XG4gIH1cblxuICAvLy8gRHJhdyB0aGUgdGl0bGUgc2NyZWVuXG4gIG9uRHJhdyhnMmQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5kcmF3VGl0bGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBEcmF3IHRoZSB0aXRsZSB0ZXh0XG4gICAgZzJkLmZvbnQgPSAnYm9sZCA2NHB0IHNlcmlmJztcbiAgICBnMmQudGV4dEFsaWduID0gJ2NlbnRlcic7XG4gICAgZzJkLnRleHRCYXNlbGluZSA9ICd0b3AnO1xuICAgIGcyZC5maWxsU3R5bGUgPSAnIzAzNjhmZic7XG4gICAgZzJkLmZpbGxUZXh0KCdUcmFwcGVkIEluc2lkZScsIHRoaXMuYXJlYS5vdmVybGF5V2lkdGggLyAyLCAyMCk7XG5cbiAgICBnMmQuYmVnaW5QYXRoKCk7XG4gICAgZzJkLnN0cm9rZVN0eWxlID0gJ2JsYWNrJztcbiAgICBnMmQubGluZVdpZHRoID0gMjtcbiAgICBnMmQuc3Ryb2tlVGV4dCgnVHJhcHBlZCBJbnNpZGUnLCB0aGlzLmFyZWEub3ZlcmxheVdpZHRoIC8gMiwgMjApO1xuICAgIGcyZC5zdHJva2UoKTtcblxuICAgIGNvbnN0IG1ldHJpY3MgPSBnMmQubWVhc3VyZVRleHQoJ1RyYXBwZWQgSW5zaWRlJyk7XG4gICAgZzJkLmZvbnQgPSAnMThwdCBzYW5zLXNlcmlmJztcbiAgICBnMmQuZmlsbFN0eWxlID0gJ3doaXRlJztcbiAgICBnMmQuZmlsbFRleHQoJ0NyZWF0ZWQgYnkgQnJ5YW4gTWNDbGFpbicsIHRoaXMuYXJlYS5vdmVybGF5V2lkdGggLyAyLCA0MCArIG1ldHJpY3MuYWN0dWFsQm91bmRpbmdCb3hEZXNjZW50KTtcbiAgfVxufVxuIiwiLyoqXG4gKiBQbGFpbi1vbGQgZGF0YSBjbGFzcyBmb3IgcnVubmluZyB0aGUgdGltZXJzIGluIEFyZWEgYW5kIEVudGl0eS5cbiAqIFRoaXMgaXMgYW4gaW50ZXJuYWwgY2xhc3MgdG8gdGhlIGVuZ2luZSBhbmQgc2hvdWxkIG5vdCBiZSB1c2VkIGRpcmVjdGx5LlxuICovXG5leHBvcnQgY2xhc3MgVGltZXJFbnRyeSB7XG4gIHByaXZhdGUgdGlja3NMZWZ0OiBudW1iZXI7XG4gIHByaXZhdGUgdGlja3M6IG51bWJlcjtcbiAgcHJpdmF0ZSBsb29waW5nOiBib29sZWFuO1xuICBwcml2YXRlIHJ1bm5pbmc6IGJvb2xlYW47XG5cbiAgY29uc3RydWN0b3IodGlja3M6IG51bWJlciwgbG9vcGluZzogYm9vbGVhbikge1xuICAgIHRoaXMudGlja3NMZWZ0ID0gdGlja3M7XG4gICAgdGhpcy50aWNrcyA9IHRpY2tzO1xuICAgIHRoaXMubG9vcGluZyA9IGxvb3Bpbmc7XG4gICAgdGhpcy5ydW5uaW5nID0gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUZXN0IHdoZXRoZXIgb3Igbm90IGEgdGltZXIgaXMgcnVubmluZ1xuICAgKiBAcmV0dXJuICBUaW1lciBydW5uaW5nXG4gICAqL1xuICBwdWJsaWMgaXNSdW5uaW5nKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnJ1bm5pbmc7XG4gIH1cblxuICAvKipcbiAgICogVXNlZCB0byBwYXVzZSBhbmQgcmVzdW1lIGEgdGltZXJcbiAgICogQHBhcmFtIHJ1bm5pbmcgICBTZXQgdGltZXIgcnVubmluZ1xuICAgKi9cbiAgcHVibGljIHNldFJ1bm5pbmcocnVubmluZzogYm9vbGVhbik6IHZvaWQge1xuICAgIHRoaXMucnVubmluZyA9IHJ1bm5pbmc7XG4gIH1cblxuICAvKipcbiAgICogT25lIHRpY2sgb24gdGhlIHRpbWVyLiBSZXR1cm5zIHRydWUgaWYgdGhlIHRpbWVyIHNob3VsZCBmaXJlLlxuICAgKiBAcmV0dXJucyBUcnVlIGlmIHRoZSB0aW1lciBzaG91bGQgZmlyZVxuICAgKi9cbiAgcHVibGljIHRpY2soKTogYm9vbGVhbiB7XG4gICAgc3dpdGNoICh0aGlzLnRpY2tzTGVmdCkge1xuICAgICAgY2FzZSAwOlxuICAgICAgICByZXR1cm4gZmFsc2U7IC8vIE5vIG1vcmUgdGlja3MgbGVmdCBpbiB0aW1lclxuXG4gICAgICBjYXNlIDE6XG4gICAgICAgIGlmICh0aGlzLmxvb3BpbmcpIHtcbiAgICAgICAgICB0aGlzLnRpY2tzTGVmdCA9IHRoaXMudGlja3M7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy50aWNrc0xlZnQgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aGlzLnRpY2tzTGVmdCAtPSAxO1xuICAgICAgICByZXR1cm4gZmFsc2U7IC8vIFN0aWxsIHdhaXRpbmdcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcbmltcG9ydCB7IEFyZWEgfSBmcm9tICdlbmdpbmUvYXJlYSc7XG5pbXBvcnQgeyBUaW1lckVudHJ5IH0gZnJvbSAnLi90aW1lckVudHJ5JztcbmltcG9ydCB7IENvbGxpc2lvbk1hc2ssIEVtcHR5Q29sbGlzaW9uTWFzayB9IGZyb20gJy4vY29sbGlzaW9uJztcblxuLyoqXG4gKiBFYWNoIGVudGl0eSBpbiB0aGUgZ2FtZSBtdXN0IGltcGxlbWVudCB0aGUgZW50aXR5IHN0YXRlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRW50aXR5U3RhdGUge1xuICAvLy8gTGlzdCBvZiB0YWdzIHRvIHF1ZXJ5IGVudGl0aWVzIGluIGFuIGFyZWFcbiAgLy8vIFNldCB0aGlzIHRvIGEgY29uc3RhbnQgdmFsdWUgb24gb2JqZWN0IGluaXRpYWxpemF0aW9uLlxuICByZWFkb25seSB0YWdzOiBzdHJpbmdbXTtcblxuICAvLy8gUmV0dXJucyB0aGUgbmV3bHkgY3JlYXRlZCBlbnRpdHkgZm9yIHRoZSBFbnRpdHlTdGF0ZSB0byBzdG9yZVxuICBvbkNyZWF0ZShlbnRpdHk6IEVudGl0eTx0aGlzPik6IHZvaWQ7XG5cbiAgb25EZXN0cm95KCk6IHZvaWQ7XG4gIG9uU3RlcCgpOiB2b2lkO1xuICBvblRpbWVyKHRpbWVySW5kZXg6IG51bWJlcik6IHZvaWQ7XG4gIG9uRHJhdyhnMmQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk6IHZvaWQ7XG59XG5cbi8qKlxuICogUmVwcmVzZW50cyBhIHNpbmdsZSBvYmplY3QgaW4gYW4gYXJlYSB0aGF0IGhhcyBpbnRlcmFjdGlvbi5cbiAqXG4gKiBUaGlzIGNsYXNzIGlzIGNvbnN0cnVjdGVkIGJ5IHRoZSBnYW1lIGVuZ2luZSxcbiAqICBzbyB5b3UgZG9uJ3QgbmVlZCB0byB3b3JyeSBhYm91dCBjcmVhdGluZyB0aGlzIG1hbnVhbGx5LlxuICovXG5leHBvcnQgY2xhc3MgRW50aXR5PFN0YXRlIGV4dGVuZHMgRW50aXR5U3RhdGUgPSBFbnRpdHlTdGF0ZT4ge1xuICBwdWJsaWMgcmVhZG9ubHkgYXJlYTogQXJlYTtcbiAgcHVibGljIHJlYWRvbmx5IHN0YXRlOiBTdGF0ZTtcbiAgcHVibGljIG1hc2s6IENvbGxpc2lvbk1hc2s7XG5cbiAgLyogSW50ZXJuYWwgc3RhdGUgb2JqZWN0cyAqL1xuICBwcml2YXRlIHJlYWRvbmx5IHRpbWVycyA9IG5ldyBNYXA8bnVtYmVyLCBUaW1lckVudHJ5PigpO1xuICBwcml2YXRlIF9pc0Rlc3Ryb3llZCA9IGZhbHNlO1xuICBwcml2YXRlIF9vYmplY3Q6IFRIUkVFLk9iamVjdDNEIHwgbnVsbCA9IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoaXMgY2xhc3MgaXMgY29uc3RydWN0ZWQgYnkgdGhlIGdhbWUgZW5naW5lLFxuICAgKiAgc28geW91IGRvbid0IG5lZWQgdG8gd29ycnkgYWJvdXQgY3JlYXRpbmcgdGhpcyBtYW51YWxseS5cbiAgICovXG4gIGNvbnN0cnVjdG9yKGFyZWE6IEFyZWEsIHN0YXRlOiBTdGF0ZSkge1xuICAgIHRoaXMuYXJlYSA9IGFyZWE7XG4gICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICAgIHRoaXMubWFzayA9IG5ldyBFbXB0eUNvbGxpc2lvbk1hc2soKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNYXJrIHRoaXMgZW50aXR5IHRvIGJlIGRlc3Ryb3llZCBvbiB0aGUgbmV4dCBnYW1lIHRpY2tcbiAgICovXG4gIHB1YmxpYyBkZXN0cm95KCk6IHZvaWQge1xuICAgIHRoaXMuX2lzRGVzdHJveWVkID0gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyBSZXR1cm5zIHRydWUgaWYgdGhpcyBlbnRpdHkgaGFzIGFscmVhZHkgYmVlbiBkZXN0cm95ZWRcbiAgICovXG4gIHB1YmxpYyBnZXQgaXNEZXN0cm95ZWQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuX2lzRGVzdHJveWVkO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgM0Qgb2JqZWN0IGFzc29jaWF0ZWQgd2l0aCB0aGlzIGVudGl0eVxuICAgKi9cbiAgcHVibGljIGdldCBvYmplY3QoKTogVEhSRUUuT2JqZWN0M0QgfCBudWxsIHtcbiAgICByZXR1cm4gdGhpcy5fb2JqZWN0O1xuICB9XG5cbiAgLyoqXG4gICAqIFJlcGxhY2UgdGhlIDNEIG9iamVjdCBhc3NvY2lhdGVkIHdpdGggdGhpcyBlbnRpdHlcbiAgICovXG4gIHB1YmxpYyBzZXQgb2JqZWN0KG9iamVjdDogVEhSRUUuT2JqZWN0M0QgfCBudWxsKSB7XG4gICAgLy8gUmVtb3ZlIHRoZSBvbGQgb2JqZWN0LCBpZiBpdCBleGlzdHNcbiAgICBpZiAodGhpcy5fb2JqZWN0ICE9PSBudWxsKSB7XG4gICAgICB0aGlzLmFyZWEuc2NlbmUucmVtb3ZlKHRoaXMuX29iamVjdCk7XG4gICAgfVxuXG4gICAgLy8gTG9hZCB0aGUgbmV3IG9iamVjdFxuICAgIGlmIChvYmplY3QgIT09IG51bGwpIHtcbiAgICAgIHRoaXMuYXJlYS5zY2VuZS5hZGQob2JqZWN0KTtcbiAgICB9XG4gICAgdGhpcy5fb2JqZWN0ID0gb2JqZWN0O1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCBhIHRpbWVyIHRvIGZpcmUgYWZ0ZXIgYSBjZXJ0YWluIG51bWJlciBvZiBnYW1lIHRpY2tzLlxuICAgKiAgU2FmZSB0byBjYWxsIGZyb20gd2l0aGluIHRoZSB0aW1lckZpcmVkKCkgZXZlbnQgaGFuZGxlci5cbiAgICpcbiAgICogQHBhcmFtIGluZGV4ICAgIFVuaXF1ZSBpbmRleCBmb3IgdGhlIHRpbWVyXG4gICAqIEBwYXJhbSB0aWNrcyAgICBOdW1iZXIgb2YgdGlja3MgdG8gd2FpdC4gTWluaW11bSBpcyAxLlxuICAgKiBAcGFyYW0gbG9vcGluZyAgU2hvdWxkIHRpbWVyIGxvb3AgZm9yZXZlcj9cbiAgICovXG4gIHB1YmxpYyBzZXRUaW1lcihpbmRleDogbnVtYmVyLCB0aWNrczogbnVtYmVyLCBsb29waW5nID0gZmFsc2UpOiB2b2lkIHtcbiAgICBpZiAodGlja3MgPCAxKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMudGltZXJzLnNldChpbmRleCwgbmV3IFRpbWVyRW50cnkodGlja3MsIGxvb3BpbmcpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhciBhbmQgcmVtb3ZlIHRoZSB0aW1lci5cbiAgICogIFNhZmUgdG8gY2FsbCBmcm9tIHdpdGhpbiB0aGUgdGltZXJGaXJlZCgpIG1ldGhvZC5cbiAgICpcbiAgICogQHBhcmFtIGluZGV4ICAgVW5pcXVlIGluZGV4IGZvciB0aGUgdGltZXJcbiAgICovXG4gIHB1YmxpYyBjbGVhclRpbWVyKGluZGV4OiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLnRpbWVycy5kZWxldGUoaW5kZXgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRlc3QgaWYgdHdvIGVudGl0aWVzIGFyZSBjb2xsaWRpbmcgd2l0aCBlYWNoIG90aGVyXG4gICAqXG4gICAqIEBwYXJhbSBvdGhlciBPdGhlciBlbnRpdHkgdG8gY2hlY2tcbiAgICogQHJldHVybnMgVHJ1ZSBpZiB0aGV5IGFyZSBjb2xsaWRpbmcsIGZhbHNlIG90aGVyd2lzZVxuICAgKi9cbiAgcHVibGljIGlzQ29sbGlkaW5nV2l0aChvdGhlcjogRW50aXR5PEVudGl0eVN0YXRlPik6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLm1hc2suaXNDb2xsaWRpbmdXaXRoKG90aGVyLm1hc2spO1xuICB9XG5cbiAgLy8gPT09PSBJbnRlcm5hbCBNZXRob2RzIExpc3RlZCBCZWxvdyA9PT09XG5cbiAgLyoqXG4gICAqIFJ1biB0aGUgb25DcmVhdGUoKSBldmVudCBoYW5kbGVyLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBpcyB1c2VkIGludGVybmFsbHkgYnkgdGhlIGdhbWUgZW5naW5lIGFuZFxuICAgKiAgc2hvdWxkIE5PVCBiZSBjYWxsZWQgZGlyZWN0bHkhXG4gICAqL1xuICBfY3JlYXRlKCk6IHZvaWQge1xuICAgIHRoaXMuc3RhdGUub25DcmVhdGUodGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogUnVuIHRoZSBvbkRlc3Ryb3koKSBldmVudCBoYW5kbGVyLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBpcyB1c2VkIGludGVybmFsbHkgYnkgdGhlIGdhbWUgZW5naW5lIGFuZFxuICAgKiAgc2hvdWxkIE5PVCBiZSBjYWxsZWQgZGlyZWN0bHkhXG4gICAqL1xuICBfZGVzdHJveSgpOiB2b2lkIHtcbiAgICB0aGlzLnN0YXRlLm9uRGVzdHJveSgpO1xuICAgIHRoaXMubWFzay5zaG93TWFzayA9IGZhbHNlOyAvKiBDbGVhbiB1cCBtYXNrIHJlc291cmNlcyAqL1xuXG4gICAgaWYgKHRoaXMuX29iamVjdCAhPT0gbnVsbCkge1xuICAgICAgdGhpcy5hcmVhLnNjZW5lLnJlbW92ZSh0aGlzLl9vYmplY3QpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSdW4gdGhlIG9uVGltZXIoKSBldmVudCBoYW5kbGVycyBmb3IgdGhpcyBlbnRpdHkuXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIGlzIHVzZWQgaW50ZXJuYWxseSBieSB0aGUgZ2FtZSBlbmdpbmUgYW5kXG4gICAqICBzaG91bGQgTk9UIGJlIGNhbGxlZCBkaXJlY3RseSFcbiAgICovXG4gIF90aWNrVGltZXJzKCk6IHZvaWQge1xuICAgIGNvbnN0IHRpbWVyc0ZpcmVkID0gW107XG4gICAgZm9yIChjb25zdCBbaW5kZXgsIHRpbWVyXSBvZiB0aGlzLnRpbWVycykge1xuICAgICAgaWYgKHRpbWVyLmlzUnVubmluZygpKSB7XG4gICAgICAgIGlmICh0aW1lci50aWNrKCkpIHtcbiAgICAgICAgICB0aW1lcnNGaXJlZC5wdXNoKGluZGV4KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAoY29uc3QgaW5kZXggb2YgdGltZXJzRmlyZWQpIHtcbiAgICAgIHRoaXMuc3RhdGUub25UaW1lcihpbmRleCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJ1biB0aGUgb25TdGVwKCkgZXZlbnQgaGFuZGxlci5cbiAgICpcbiAgICogVGhpcyBtZXRob2QgaXMgdXNlZCBpbnRlcm5hbGx5IGJ5IHRoZSBnYW1lIGVuZ2luZSBhbmRcbiAgICogIHNob3VsZCBOT1QgYmUgY2FsbGVkIGRpcmVjdGx5IVxuICAgKi9cbiAgX3N0ZXAoKTogdm9pZCB7XG4gICAgdGhpcy5zdGF0ZS5vblN0ZXAoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSdW4gdGhlIG9uRHJhdygpIGV2ZW50IGhhbmRsZXIuXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIGlzIHVzZWQgaW50ZXJuYWxseSBieSB0aGUgZ2FtZSBlbmdpbmUgYW5kXG4gICAqICBzaG91bGQgTk9UIGJlIGNhbGxlZCBkaXJlY3RseSFcbiAgICovXG4gIF9kcmF3KGcyZDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTogdm9pZCB7XG4gICAgdGhpcy5zdGF0ZS5vbkRyYXcoZzJkKTtcbiAgfVxufVxuIiwiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuXG4vKipcbiAqIFdyYXBwZXIgYXJvdW5kIHRoZSBUSFJFRS5qcyBhdWRpbyB0eXBlIHRoYXQgbWFrZXMgaXQgZWFzaWVyIHRvIHdvcmsgd2l0aFxuICovXG5leHBvcnQgY2xhc3MgQXVkaW9XcmFwcGVyPEF1ZGlvIGV4dGVuZHMgVEhSRUUuQXVkaW88QXVkaW9Ob2RlPiA9IFRIUkVFLkF1ZGlvPiB7XG4gIHB1YmxpYyByZWFkb25seSBhdWRpbzogQXVkaW87XG5cbiAgY29uc3RydWN0b3IoYXVkaW86IEF1ZGlvKSB7XG4gICAgdGhpcy5hdWRpbyA9IGF1ZGlvO1xuICB9XG5cbiAgcHVibGljIGdldCB2b2x1bWUoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5hdWRpby5nZXRWb2x1bWUoKTtcbiAgfVxuXG4gIHB1YmxpYyBzZXQgdm9sdW1lKHZvbHVtZTogbnVtYmVyKSB7XG4gICAgdGhpcy5hdWRpby5zZXRWb2x1bWUodm9sdW1lKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXQgbG9vcCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5hdWRpby5nZXRMb29wKCk7XG4gIH1cblxuICBwdWJsaWMgc2V0IGxvb3AobG9vcDogYm9vbGVhbikge1xuICAgIHRoaXMuYXVkaW8uc2V0TG9vcChsb29wKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXQgaXNQbGF5aW5nKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmF1ZGlvLmlzUGxheWluZztcbiAgfVxuXG4gIC8qKlxuICAgKiBQbGF5IHRoZSBhdWRpbywgc3RvcHBpbmcgYW55IGV4aXN0aW5nIGF1ZGlvIGlmIGl0IGlzIGFscmVhZHkgcGxheWluZ1xuICAgKlxuICAgKiBAcGFyYW0gbG9vcGluZyBPcHRpb25hbGx5IHNldCB0aGUgdmFsdWUgb2YgbG9vcGluZyBpZiBwcm92aWRlZFxuICAgKi9cbiAgcHVibGljIHBsYXkobG9vcGluZz86IGJvb2xlYW4pOiB2b2lkIHtcbiAgICBpZiAodGhpcy5hdWRpby5pc1BsYXlpbmcpIHtcbiAgICAgIHRoaXMuYXVkaW8uc3RvcCgpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgbG9vcGluZyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXMubG9vcCA9IGxvb3Bpbmc7XG4gICAgfVxuXG4gICAgdGhpcy5hdWRpby5wbGF5KCk7XG4gIH1cblxuICAvKipcbiAgICogU3RvcCBwbGF5aW5nIHRoZSBhdWRpbyBpZiBpdCBpcyBjdXJyZW50bHkgcGxheWluZy5cbiAgICogT3RoZXJ3aXNlLCB0aGlzIG1ldGhvZCBoYXMgbm8gZWZmZWN0LlxuICAgKi9cbiAgcHVibGljIHN0b3AoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuYXVkaW8uaXNQbGF5aW5nKSB7XG4gICAgICB0aGlzLmF1ZGlvLnN0b3AoKTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IEdhbWUgfSBmcm9tICdlbmdpbmUvZ2FtZSc7XG5pbXBvcnQgeyBFbnRpdHksIEVudGl0eVN0YXRlIH0gZnJvbSAnZW5naW5lL2VudGl0eSc7XG5pbXBvcnQgeyBUaW1lckVudHJ5IH0gZnJvbSAnLi90aW1lckVudHJ5JztcbmltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcbmltcG9ydCB7IEF1ZGlvV3JhcHBlciB9IGZyb20gJy4vYXVkaW8nO1xuaW1wb3J0IHsgUG9zaXRpb25hbEF1ZGlvIH0gZnJvbSAndGhyZWUnO1xuXG4vKipcbiAqIE1ldGhvZHMgcmVxdWlyZWQgdG8gZW5jYXBzdWxhdGUgYW4gYXJlYSBpbiB0aGUgZ2FtZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIEFyZWFTdGF0ZSB7XG4gIC8vLyBSZXR1cm5zIHRoZSBuZXdseSBjcmVhdGVkIGFyZWEgb2JqZWN0IGZvciB0aGUgQXJlYVN0YXRlIHRvIHN0b3JlXG4gIG9uQ3JlYXRlKGFyZWE6IEFyZWE8dGhpcz4pOiB2b2lkO1xuXG4gIG9uVGltZXIodGltZXJJbmRleDogbnVtYmVyKTogdm9pZDtcbiAgb25TdGVwKCk6IHZvaWQ7XG4gIG9uRHJhdyhnMmQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk6IHZvaWQ7XG59XG5cbi8qKlxuICogUmVwcmVzZW50cyBhIGNvbGxlY3Rpb24gb2YgM0Qgb2JqZWN0cyBpbiBhIHNpbmdsZSBcIlNjZW5lXCIuXG4gKlxuICogVGhpcyBjbGFzcyBpcyBjb25zdHJ1Y3RlZCBieSB0aGUgZ2FtZSBlbmdpbmUsXG4gKiAgc28geW91IGRvbid0IG5lZWQgdG8gd29ycnkgYWJvdXQgY3JlYXRpbmcgdGhpcyBtYW51YWxseS5cbiAqL1xuZXhwb3J0IGNsYXNzIEFyZWE8U3RhdGUgZXh0ZW5kcyBBcmVhU3RhdGUgPSBBcmVhU3RhdGU+IHtcbiAgcHVibGljIHJlYWRvbmx5IGdhbWU6IEdhbWU7XG4gIHB1YmxpYyByZWFkb25seSBzdGF0ZTogU3RhdGU7XG4gIHB1YmxpYyByZWFkb25seSBzY2VuZTogVEhSRUUuU2NlbmU7XG5cbiAgLyogSGFuZGxlIGF1ZGlvIGluIHRoZSBzY2VuZSAqL1xuICBwdWJsaWMgcmVhZG9ubHkgYXVkaW9MaXN0ZW5lcjogVEhSRUUuQXVkaW9MaXN0ZW5lcjtcblxuICAvLyBIYXMgY3VzdG9tIGdldC9zZXQgbWV0aG9kcyB0byB1cGRhdGUgdGhlIGF1ZGlvIGxpc3RlbmVyXG4gIHByaXZhdGUgX2NhbWVyYTogVEhSRUUuQ2FtZXJhO1xuXG4gIC8qIExpc3Qgb2YgYWxsIGVudGl0aWVzIGluIHRoZSBzY2VuZSAqL1xuICBwcml2YXRlIHJlYWRvbmx5IGFsbEVudGl0aWVzID0gbmV3IFNldDxFbnRpdHk+KCk7XG4gIHByaXZhdGUgcmVhZG9ubHkgdGFnZ2VkRW50aXRpZXMgPSBuZXcgTWFwPHN0cmluZywgU2V0PEVudGl0eT4+KCk7XG5cbiAgLyogTGlzdCBvZiBlbnRpdGllcyB0byBjcmVhdGUgYWZ0ZXIgdGhlIG5leHQgZ2FtZSBcInRpY2tcIiAqL1xuICBwcml2YXRlIHRvQ3JlYXRlID0gbmV3IFNldDxFbnRpdHk+KCk7XG5cbiAgLyogSGFuZGxlIHRpbWVycyAqL1xuICBwcml2YXRlIHJlYWRvbmx5IHRpbWVycyA9IG5ldyBNYXA8bnVtYmVyLCBUaW1lckVudHJ5PigpO1xuXG4gIC8qIE92ZXJsYXkgZHJhd2luZyAoRGVmYXVsdCByZXNvbHV0aW9uIGlzIDE2OjkpICovXG4gIHB1YmxpYyBvdmVybGF5V2lkdGggPSA3Njg7XG4gIHB1YmxpYyBvdmVybGF5SGVpZ2h0ID0gNDMyO1xuXG4gIC8qKlxuICAgKiBUaGlzIGNsYXNzIGlzIGNvbnN0cnVjdGVkIGJ5IHRoZSBnYW1lIGVuZ2luZSxcbiAgICogIHNvIHlvdSBkb24ndCBuZWVkIHRvIHdvcnJ5IGFib3V0IGNyZWF0aW5nIHRoaXMgbWFudWFsbHkuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihnYW1lOiBHYW1lLCBzdGF0ZTogU3RhdGUpIHtcbiAgICB0aGlzLmdhbWUgPSBnYW1lO1xuICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcblxuICAgIHRoaXMuc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTtcbiAgICB0aGlzLmF1ZGlvTGlzdGVuZXIgPSBuZXcgVEhSRUUuQXVkaW9MaXN0ZW5lcigpO1xuICAgIHRoaXMuX2NhbWVyYSA9IG5ldyBUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYSgpO1xuICAgIHRoaXMuX2NhbWVyYS5hZGQodGhpcy5hdWRpb0xpc3RlbmVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIG1haW4gY2FtZXJhIHVzZWQgYnkgdGhlIHNjZW5lXG4gICAqL1xuICBwdWJsaWMgZ2V0IGNhbWVyYSgpOiBUSFJFRS5DYW1lcmEge1xuICAgIHJldHVybiB0aGlzLl9jYW1lcmE7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIHRoZSBtYWluIGNhbWVyYSB1c2VkIGJ5IHRoZSBzY2VuZS5cbiAgICogQWxzbyB1cGRhdGVzIHRoZSBBdWRpb01hbmFnZXIgZm9yIHRoaXMgc2NlbmUuXG4gICAqL1xuICBwdWJsaWMgc2V0IGNhbWVyYShuZXdDYW1lcmE6IFRIUkVFLkNhbWVyYSkge1xuICAgIHRoaXMuX2NhbWVyYS5yZW1vdmUodGhpcy5hdWRpb0xpc3RlbmVyKTtcbiAgICBuZXdDYW1lcmEuYWRkKHRoaXMuYXVkaW9MaXN0ZW5lcik7XG4gICAgdGhpcy5fY2FtZXJhID0gbmV3Q2FtZXJhO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBlbnRpdHkgb24gdGhlIG5leHQgZ2FtZSB0aWNrLlxuICAgKlxuICAgKiBBbHRob3VnaCBpdCByZXR1cm5zIGFuIGVudGl0eSBvYmplY3QsIHRoaXMgZW50aXR5IHdpbGwgbm90IGFjdHVhbGx5XG4gICAqICBiZSBpbiB0aGUgcm9vbSB1bnRpbCB0aGUgbmV4dCBnYW1lIHRpY2suXG4gICAqXG4gICAqIEBwYXJhbSBlbnRpdHkgRW50aXR5IHRvIGNyZWF0ZVxuICAgKiBAcmV0dXJucyBUaGUgbmV3bHkgY3JlYXRlZCBlbnRpdHkgb2JqZWN0XG4gICAqL1xuICBwdWJsaWMgY3JlYXRlRW50aXR5PFQgZXh0ZW5kcyBFbnRpdHlTdGF0ZT4oZW50aXR5OiBUKTogRW50aXR5PFQ+IHtcbiAgICBjb25zdCBuZXdFbnRpdHkgPSBuZXcgRW50aXR5KHRoaXMsIGVudGl0eSk7XG4gICAgdGhpcy50b0NyZWF0ZS5hZGQobmV3RW50aXR5KTtcbiAgICByZXR1cm4gbmV3RW50aXR5O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbGlzdCBvZiBhbGwgZW50aXRpZXMgaW4gdGhlIHNjZW5lXG4gICAqIEByZXR1cm5zIEFycmF5IG9mIGFsbCBlbnRpdGllc1xuICAgKi9cbiAgcHVibGljIGdldEFsbEVudGl0aWVzKCk6IEVudGl0eVtdIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmFsbEVudGl0aWVzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGaW5kIGFsbCBlbnRpdGllcyB0aGF0IGhhdmUgdGhlIGdpdmVuIHN0cmluZyB0YWdcbiAgICpcbiAgICogQHBhcmFtIHRhZyBTdHJpbmcgdGFnIHRvIHNlYXJjaCBmb3JcbiAgICogQHJldHVybnMgTGlzdCBvZiBhbGwgZW50aXRpZXMgdGhhdCBoYXZlIHRoaXMgdGFnXG4gICAqL1xuICBwdWJsaWMgZmluZEVudGl0aWVzKHRhZzogc3RyaW5nKTogRW50aXR5W10ge1xuICAgIGlmICghdGhpcy50YWdnZWRFbnRpdGllcy5oYXModGFnKSkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLnRhZ2dlZEVudGl0aWVzLmdldCh0YWcpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGaW5kIHRoZSBmaXJzdCBpbnN0YW5jZSBvZiB0aGUgZW50aXR5LCBvciBudWxsIGlmIHRoZXJlIGFyZSBubyBpbnN0YW5jZXNcbiAgICpcbiAgICogQHBhcmFtIHRhZyBTdHJpbmcgdGFnIHRvIHNlYXJjaCBmb3JcbiAgICogQHJldHVybiAgICBGaXJzdCBmb3VuZCBlbnRpdHkgdGhhdCBtYXRjaCB0aGUgdGFnLCBvciBudWxsXG4gICAqL1xuICBwdWJsaWMgZmluZEZpcnN0RW50aXR5KHRhZzogc3RyaW5nKTogRW50aXR5IHwgbnVsbCB7XG4gICAgaWYgKCF0aGlzLnRhZ2dlZEVudGl0aWVzLmhhcyh0YWcpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBjb25zdCBlbnRpdGllcyA9IHRoaXMudGFnZ2VkRW50aXRpZXMuZ2V0KHRhZyk7XG4gICAgY29uc3QgZmlyc3RFbnRyeSA9IGVudGl0aWVzLnZhbHVlcygpLm5leHQoKTtcbiAgICBpZiAoZmlyc3RFbnRyeS5kb25lKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZpcnN0RW50cnkudmFsdWU7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCBhIHRpbWVyIHRvIGZpcmUgYWZ0ZXIgYSBjZXJ0YWluIG51bWJlciBvZiBnYW1lIHRpY2tzLlxuICAgKiAgU2FmZSB0byBjYWxsIGZyb20gd2l0aGluIHRoZSB0aW1lckZpcmVkKCkgZXZlbnQgaGFuZGxlci5cbiAgICpcbiAgICogQHBhcmFtIGluZGV4ICAgIFVuaXF1ZSBpbmRleCBmb3IgdGhlIHRpbWVyXG4gICAqIEBwYXJhbSB0aWNrcyAgICBOdW1iZXIgb2YgdGlja3MgdG8gd2FpdC4gTWluaW11bSBpcyAxLlxuICAgKiBAcGFyYW0gbG9vcGluZyAgU2hvdWxkIHRpbWVyIGxvb3AgZm9yZXZlcj9cbiAgICovXG4gIHB1YmxpYyBzZXRUaW1lcihpbmRleDogbnVtYmVyLCB0aWNrczogbnVtYmVyLCBsb29waW5nOiBib29sZWFuKTogdm9pZCB7XG4gICAgaWYgKHRpY2tzIDwgMSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnRpbWVycy5zZXQoaW5kZXgsIG5ldyBUaW1lckVudHJ5KHRpY2tzLCBsb29waW5nKSk7XG4gIH1cblxuICAvKipcbiAgICogQ2xlYXIgYW5kIHJlbW92ZSB0aGUgdGltZXIuXG4gICAqICBTYWZlIHRvIGNhbGwgZnJvbSB3aXRoaW4gdGhlIHRpbWVyRmlyZWQoKSBtZXRob2QuXG4gICAqXG4gICAqIEBwYXJhbSBpbmRleCAgIFVuaXF1ZSBpbmRleCBmb3IgdGhlIHRpbWVyXG4gICAqL1xuICBwdWJsaWMgY2xlYXJUaW1lcihpbmRleDogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy50aW1lcnMuZGVsZXRlKGluZGV4KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIZWxwZXIgbWV0aG9kIHRvIGNvbnN0cnVjdCBhIG5ldyBhdWRpbyBmcm9tIGFuIEF1ZGlvQnVmZmVyIG9yIGFzc2V0IG5hbWUuXG4gICAqIFVzZXMgdGhlIGNhbWVyYSBhcyB0aGUgbGlzdGVuZXIgZm9yIHRoaXMgYXVkaW8uXG4gICAqXG4gICAqIEBwYXJhbSBidWZmZXIgQXVkaW8gYnVmZmVyIG9yIGF1ZGlvIGFzc2V0IG5hbWVcbiAgICogQHJldHVybnMgTmV3bHkgY29uc3RydWN0ZWQgYXVkaW9cbiAgICovXG4gIHB1YmxpYyBjcmVhdGVBdWRpbyhidWZmZXI6IEF1ZGlvQnVmZmVyIHwgc3RyaW5nKTogQXVkaW9XcmFwcGVyPFRIUkVFLkF1ZGlvPiB7XG4gICAgY29uc3QgYXVkaW8gPSBuZXcgVEhSRUUuQXVkaW8odGhpcy5hdWRpb0xpc3RlbmVyKTtcbiAgICBpZiAoYnVmZmVyIGluc3RhbmNlb2YgQXVkaW9CdWZmZXIpIHtcbiAgICAgIGF1ZGlvLmJ1ZmZlciA9IGJ1ZmZlcjtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBidWZmZXIgPT09ICdzdHJpbmcnKSB7XG4gICAgICBhdWRpby5idWZmZXIgPSB0aGlzLmdhbWUuYXNzZXRzLmdldEF1ZGlvKGJ1ZmZlcik7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBBdWRpb1dyYXBwZXIoYXVkaW8pO1xuICB9XG5cbiAgLyoqXG4gICAqIEhlbHBlciBtZXRob2QgdG8gY29uc3RydWN0IGEgbmV3IHBvc2l0aW9uYWwgYXVkaW8gZnJvbSBhbiBBdWRpb0J1ZmZlciBvciBhbiBhc3NldCBuYW1lLlxuICAgKiBVc2VzIHRoZSBjYW1lcmEgYXMgdGhlIGxpc3RlbmVyIGZvciB0aGlzIGF1ZGlvLlxuICAgKlxuICAgKiBAcGFyYW0gYnVmZmVyIEF1ZGlvIGJ1ZmZlciBvciBhdWRpbyBhc3NldCBuYW1lXG4gICAqIEByZXR1cm5zIE5ld2x5IGNvbnN0cnVjdGVkIGF1ZGlvXG4gICAqL1xuICBwdWJsaWMgY3JlYXRlUG9zaXRpb25hbEF1ZGlvKGJ1ZmZlcjogQXVkaW9CdWZmZXIgfCBzdHJpbmcpOiBBdWRpb1dyYXBwZXI8UG9zaXRpb25hbEF1ZGlvPiB7XG4gICAgY29uc3QgYXVkaW8gPSBuZXcgVEhSRUUuUG9zaXRpb25hbEF1ZGlvKHRoaXMuYXVkaW9MaXN0ZW5lcik7XG4gICAgaWYgKGJ1ZmZlciBpbnN0YW5jZW9mIEF1ZGlvQnVmZmVyKSB7XG4gICAgICBhdWRpby5idWZmZXIgPSBidWZmZXI7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgYnVmZmVyID09PSAnc3RyaW5nJykge1xuICAgICAgYXVkaW8uYnVmZmVyID0gdGhpcy5nYW1lLmFzc2V0cy5nZXRBdWRpbyhidWZmZXIpO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgQXVkaW9XcmFwcGVyKGF1ZGlvKTtcbiAgfVxuXG4gIC8vID09PT0gSW50ZXJuYWwgTWV0aG9kcyBMaXN0ZWQgQmVsb3cgPT09PVxuXG4gIC8qKlxuICAgKiBSdW4gdGhlIG9uVGltZXIoKSBldmVudCBoYW5kbGVycyBmb3IgdGhpcyBhcmVhLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBpcyB1c2VkIGludGVybmFsbHkgYnkgdGhlIGdhbWUgZW5naW5lIGFuZFxuICAgKiAgc2hvdWxkIE5PVCBiZSBjYWxsZWQgZGlyZWN0bHkhXG4gICAqL1xuICBfdGlja1RpbWVycygpOiB2b2lkIHtcbiAgICBjb25zdCB0aW1lcnNGaXJlZCA9IFtdO1xuICAgIGZvciAoY29uc3QgW2luZGV4LCB0aW1lcl0gb2YgdGhpcy50aW1lcnMpIHtcbiAgICAgIGlmICh0aW1lci5pc1J1bm5pbmcoKSkge1xuICAgICAgICBpZiAodGltZXIudGljaygpKSB7XG4gICAgICAgICAgdGltZXJzRmlyZWQucHVzaChpbmRleCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGluZGV4IG9mIHRpbWVyc0ZpcmVkKSB7XG4gICAgICB0aGlzLnN0YXRlLm9uVGltZXIoaW5kZXgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYWxsIGVudGl0aWVzIGluc2lkZSB0aGUgYnVmZmVyXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIGlzIHVzZWQgaW50ZXJuYWxseSBieSB0aGUgZ2FtZSBlbmdpbmUgYW5kXG4gICAqICBzaG91bGQgTk9UIGJlIGNhbGxlZCBkaXJlY3RseSFcbiAgICovXG4gIF9jcmVhdGVFbnRpdGllcygpOiB2b2lkIHtcbiAgICBpZiAodGhpcy50b0NyZWF0ZS5zaXplID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQWRkIGV2ZXJ5IGVudGl0eSB0byB0aGUgbWFwXG4gICAgZm9yIChjb25zdCBlbnRpdHkgb2YgdGhpcy50b0NyZWF0ZSkge1xuICAgICAgdGhpcy5hZGRFbnRpdHlUb0FyZWEoZW50aXR5KTtcbiAgICB9XG5cbiAgICAvLyBDbGVhciB0aGUgbGlzdCBvZiBjcmVhdGVkIGVudGl0aWVzXG4gICAgY29uc3QgY3JlYXRlZCA9IHRoaXMudG9DcmVhdGU7XG4gICAgdGhpcy50b0NyZWF0ZSA9IG5ldyBTZXQoKTtcblxuICAgIC8vIENhbGwgdGhlIFwib25DcmVhdGVcIiBoYW5kbGVyIGZvciBlYWNoIG5ldyBlbnRpdHlcbiAgICBmb3IgKGNvbnN0IGVudGl0eSBvZiBjcmVhdGVkKSB7XG4gICAgICBlbnRpdHkuX2NyZWF0ZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8vLyBVcGRhdGUgdGhlIGludGVybmFsIG1hcHMgYW5kIHNldHMgd2l0aCB0aGUgbmV3IGVudGl0eVxuICBwcml2YXRlIGFkZEVudGl0eVRvQXJlYShlbnRpdHk6IEVudGl0eSk6IHZvaWQge1xuICAgIHRoaXMuYWxsRW50aXRpZXMuYWRkKGVudGl0eSk7XG5cbiAgICBmb3IgKGNvbnN0IHRhZyBvZiBlbnRpdHkuc3RhdGUudGFncykge1xuICAgICAgdGhpcy5hZGRUYWdnZWRFbnRpdHlUb01hcChlbnRpdHksIHRhZyk7XG4gICAgfVxuICB9XG5cbiAgLy8vIEFkZCB0aGUgZW50aXR5IHRvIG9uZSBvZiB0aGUgY29ycmVzcG9uZGluZyBzZXQgdGFnc1xuICBwcml2YXRlIGFkZFRhZ2dlZEVudGl0eVRvTWFwKGVudGl0eTogRW50aXR5LCB0YWc6IHN0cmluZyk6IHZvaWQge1xuICAgIGlmICghdGhpcy50YWdnZWRFbnRpdGllcy5oYXModGFnKSkge1xuICAgICAgdGhpcy50YWdnZWRFbnRpdGllcy5zZXQodGFnLCBuZXcgU2V0KCkpO1xuICAgIH1cblxuICAgIGNvbnN0IHNldCA9IHRoaXMudGFnZ2VkRW50aXRpZXMuZ2V0KHRhZyk7XG4gICAgc2V0LmFkZChlbnRpdHkpO1xuICB9XG5cbiAgLyoqXG4gICAqIERlc3Ryb3kgYWxsIGVudGl0aWVzIG1hcmtlZCBmb3IgZGVsZXRpb24uXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIGlzIHVzZWQgaW50ZXJuYWxseSBieSB0aGUgZ2FtZSBlbmdpbmUgYW5kXG4gICAqICBzaG91bGQgTk9UIGJlIGNhbGxlZCBkaXJlY3RseSFcbiAgICovXG4gIF9kZXN0cm95RW50aXRpZXMoKTogdm9pZCB7XG4gICAgLy8gR2V0IGFsbCBlbnRpdGllcyBtYXJrZWQgZm9yIGRlbGV0aW9uXG4gICAgY29uc3QgdG9EZXN0cm95ID0gW107XG4gICAgZm9yIChjb25zdCBlbnRpdHkgb2YgdGhpcy5hbGxFbnRpdGllcykge1xuICAgICAgaWYgKGVudGl0eS5pc0Rlc3Ryb3llZCkge1xuICAgICAgICB0b0Rlc3Ryb3kucHVzaChlbnRpdHkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEFjdHVhbGx5IHJlbW92ZSB0aGUgZW50aXRpZXNcbiAgICBmb3IgKGNvbnN0IGVudGl0eSBvZiB0b0Rlc3Ryb3kpIHtcbiAgICAgIHRoaXMucmVtb3ZlRW50aXR5RnJvbUFyZWEoZW50aXR5KTtcbiAgICB9XG5cbiAgICAvLyBDYWxsIHRoZSBcIm9uRGVzdHJveVwiIGV2ZW50IGhhbmRsZXIgZm9yIGVhY2ggZW50aXR5XG4gICAgZm9yIChjb25zdCBlbnRpdHkgb2YgdG9EZXN0cm95KSB7XG4gICAgICBlbnRpdHkuX2Rlc3Ryb3koKTtcbiAgICB9XG4gIH1cblxuICAvLy8gVXBkYXRlIHRoZSBpbnRlcm5hbCBtYXBzIGFuZCBzZXRzIHRvIG5vIGxvbmdlciBzdG9yZSB0aGUgZW50aXR5XG4gIHByaXZhdGUgcmVtb3ZlRW50aXR5RnJvbUFyZWEoZW50aXR5OiBFbnRpdHkpOiB2b2lkIHtcbiAgICB0aGlzLmFsbEVudGl0aWVzLmRlbGV0ZShlbnRpdHkpO1xuXG4gICAgZm9yIChjb25zdCB0YWcgb2YgZW50aXR5LnN0YXRlLnRhZ3MpIHtcbiAgICAgIHRoaXMucmVtb3ZlVGFnZ2VkRW50aXR5RnJvbU1hcChlbnRpdHksIHRhZyk7XG4gICAgfVxuICB9XG5cbiAgLy8vIFJlbW92ZSB0aGUgZW50aXR5IHRvIG9uZSBvZiB0aGUgY29ycmVzcG9uZGluZyBzZXQgdGFnc1xuICBwcml2YXRlIHJlbW92ZVRhZ2dlZEVudGl0eUZyb21NYXAoZW50aXR5OiBFbnRpdHksIHRhZzogc3RyaW5nKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLnRhZ2dlZEVudGl0aWVzLmhhcyh0YWcpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgc2V0ID0gdGhpcy50YWdnZWRFbnRpdGllcy5nZXQodGFnKTtcbiAgICBzZXQuZGVsZXRlKGVudGl0eSk7XG4gIH1cblxuICAvKipcbiAgICogUnVuIHRoZSBvblRpbWVyKCkgZXZlbnQgaGFuZGxlciBmb3IgYWxsIGVudGl0aWVzLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBpcyB1c2VkIGludGVybmFsbHkgYnkgdGhlIGdhbWUgZW5naW5lIGFuZFxuICAgKiAgc2hvdWxkIE5PVCBiZSBjYWxsZWQgZGlyZWN0bHkhXG4gICAqL1xuICBfdGlja0VudGl0eVRpbWVycygpOiB2b2lkIHtcbiAgICBmb3IgKGNvbnN0IGVudGl0eSBvZiB0aGlzLmFsbEVudGl0aWVzKSB7XG4gICAgICBlbnRpdHkuX3RpY2tUaW1lcnMoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUnVuIHRoZSBvblN0ZXAoKSBldmVudCBoYW5kbGVyIGZvciBhbGwgZW50aXRpZXMuXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIGlzIHVzZWQgaW50ZXJuYWxseSBieSB0aGUgZ2FtZSBlbmdpbmUgYW5kXG4gICAqICBzaG91bGQgTk9UIGJlIGNhbGxlZCBkaXJlY3RseSFcbiAgICovXG4gIF9zdGVwRW50aXRpZXMoKTogdm9pZCB7XG4gICAgZm9yIChjb25zdCBlbnRpdHkgb2YgdGhpcy5hbGxFbnRpdGllcykge1xuICAgICAgZW50aXR5Ll9zdGVwKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJ1biB0aGUgc2NlbmUgaW4gVEhSRUUuanMsIHRoZW4gZHJhdyBvdmVyIGFueSBvdGhlciBlbGVtZW50c1xuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBpcyB1c2VkIGludGVybmFsbHkgYnkgdGhlIGdhbWUgZW5naW5lIGFuZFxuICAgKiAgc2hvdWxkIE5PVCBiZSBjYWxsZWQgZGlyZWN0bHkhXG4gICAqL1xuICBfZHJhd1NjZW5lKHJlbmRlcmVyOiBUSFJFRS5SZW5kZXJlciwgb3ZlcmxheTogSFRNTENhbnZhc0VsZW1lbnQpOiB2b2lkIHtcbiAgICAvLyBBZGQgYWxsIG9mIHRoZSBjb2xsaXNpb24gbWFza3MgdG8gdGhlIHNjZW5lXG4gICAgZm9yIChjb25zdCBlbnRpdHkgb2YgdGhpcy5hbGxFbnRpdGllcykge1xuICAgICAgZW50aXR5Lm1hc2suX2RyYXdNYXNrKHRoaXMuc2NlbmUpO1xuICAgIH1cblxuICAgIC8vIFJlbmRlciB0aGUgc2NlbmUgaXRzZWxmXG4gICAgcmVuZGVyZXIucmVuZGVyKHRoaXMuc2NlbmUsIHRoaXMuY2FtZXJhKTtcblxuICAgIC8vIENsZWFyIHRoZSBvdmVybGF5IGJlZm9yZSBkcmF3aW5nXG4gICAgY29uc3QgZzJkID0gb3ZlcmxheS5nZXRDb250ZXh0KCcyZCcpO1xuICAgIG92ZXJsYXkud2lkdGggPSB0aGlzLm92ZXJsYXlXaWR0aDtcbiAgICBvdmVybGF5LmhlaWdodCA9IHRoaXMub3ZlcmxheUhlaWdodDtcbiAgICBnMmQuY2xlYXJSZWN0KDAsIDAsIHRoaXMub3ZlcmxheVdpZHRoLCB0aGlzLm92ZXJsYXlIZWlnaHQpO1xuXG4gICAgLy8gRHJhdyBhbnkgb3ZlcmxheXNcbiAgICB0aGlzLnN0YXRlLm9uRHJhdyhnMmQpO1xuICAgIGZvciAoY29uc3QgZW50aXR5IG9mIHRoaXMuYWxsRW50aXRpZXMpIHtcbiAgICAgIGVudGl0eS5fZHJhdyhnMmQpO1xuICAgIH1cbiAgfVxufVxuIiwiLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1uYW1lc3BhY2VcbmV4cG9ydCBuYW1lc3BhY2UgTG9jYWxTdG9yYWdlIHtcbiAgLyoqXG4gICAqIFNhdmUgYW4gb2JqZWN0IGludG8gdGhlIGJyb3dzZXIgbG9jYWwgc3RvcmFnZS5cbiAgICogQXV0b21hdGljYWxseSBzZXJpYWxpemFlcyB0aGUgSlNPTiB0byBhIHN0cmluZy5cbiAgICpcbiAgICogQHBhcmFtIGtleSBUaGUga2V5IHRvIHNhdmUgdGhlIG9iamVjdCBpblxuICAgKiBAcGFyYW0gdmFsdWUgVmFsdWUgZm9yIHRoZSBvYmplY3RcbiAgICovXG4gIGV4cG9ydCBmdW5jdGlvbiBzYXZlT2JqZWN0PFQ+KGtleTogc3RyaW5nLCB2YWx1ZTogVCk6IHZvaWQge1xuICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksIEpTT04uc3RyaW5naWZ5KHZhbHVlKSk7XG4gIH1cblxuICAvKipcbiAgICogTG9hZCBhbiBvYmplY3QgZnJvbSB0aGUgYnJvd3NlciBsb2NhbCBzdG9yYWdlLlxuICAgKiBBdXRvbWF0aWNhbGx5IHVuZGVyaWFsaXplcyB0aGUgb2JqZWN0IGZyb20gYSBzdHJpbmcuXG4gICAqXG4gICAqIFRocm93cyBhbiBleGNlcHRpb24gaWYgVCBpcyBub3QgaW4gdGhlIGRhdGFiYXNlIGFuZCBubyBkZWZhdWx0IHZhbHVlIGlzIHByb3ZpZGVkLlxuICAgKiBUaGVyZSBpcyBubyBjaGVjayB0byBtYWtlIHN1cmUgdGhlIHJldHVybmVkIFQgaXMgYWN0dWFsbHkgdmFsaWQhISFcbiAgICpcbiAgICogQHBhcmFtIGtleSBUaGUga2V5IG9mIHRoZSBvYmplY3QgdG8gbG9hZFxuICAgKiBAcGFyYW0gZGVmIE9wdGlvbmFsbHkgc3BlY2lmeSB0aGUgZGVmYXVsdCB2YWx1ZSB0byBsb2FkXG4gICAqL1xuICBleHBvcnQgZnVuY3Rpb24gbG9hZE9iamVjdDxUPihrZXk6IHN0cmluZywgZGVmPzogVCk6IFQge1xuICAgIGNvbnN0IHZhbHVlID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSk7XG4gICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICBpZiAodHlwZW9mIGRlZiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIGRlZjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgS2V5ICcke2tleX0nIGRvZXMgbm90IGV4aXN0IGluIGxvY2FsIHN0b3JhZ2VgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gSlNPTi5wYXJzZSh2YWx1ZSk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGFuIG9iamVjdCBmcm9tIHRoZSBsb2NhbCBzdG9yYWdlXG4gICAqXG4gICAqIEBwYXJhbSBrZXkgVGhlIGtleSBvZiB0aGUgb2JqZWN0IHRvIHJlbW92ZVxuICAgKi9cbiAgZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZU9iamVjdChrZXk6IHN0cmluZyk6IHZvaWQge1xuICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRlc3QgaWYgYSB2YWx1ZSBleGlzdHMgaW4gdGhlIGxvY2FsIHN0b3JhZ2VcbiAgICogQHBhcmFtIGtleSBUaGUga2V5IHRvIHRlc3RcbiAgICovXG4gIGV4cG9ydCBmdW5jdGlvbiBleGlzdHMoa2V5OiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICByZXR1cm4gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSkgIT09IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQ2xlYXIgYWxsIGVudGlyZXMgZnJvbSB0aGUgbG9jYWwgc3RvcmFnZVxuICAgKi9cbiAgZXhwb3J0IGZ1bmN0aW9uIGNsZWFyKCk6IHZvaWQge1xuICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2UuY2xlYXIoKTtcbiAgfVxufVxuXG4vKipcbiAqIEFsbG93cyB5b3UgdG8gc3RvcmUgZ2xvYmFsIHZhcmlhYmxlcyBhc3NvY2lhdGVkIHdpdGggdGhlIGdhbWUuXG4gKiBUaGlzIGlzIGNvbnN0cnVjdGVkIGludGVybmFsbHkgYnkgdGhlIGdhbWUgZW5naW5lLlxuICovXG5leHBvcnQgY2xhc3MgUmVzb3VyY2VNYW5hZ2VyIHtcbiAgcHJpdmF0ZSByZXNvdXJjZXM6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgLyoqXG4gICAqIFNldCBhIHJlc291cmNlIGluIHRoZSBkYXRhYmFzZVxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSBOYW1lIG9mIHRoZSByZXNvdXJjZSB0byBzZXRcbiAgICogQHBhcmFtIHZhbHVlIFZhbHVlIG9mIHRoZSByZXNvdXJjZSB0byBzZXRcbiAgICovXG4gIHB1YmxpYyBzZXRSZXNvdXJjZTxUPihuYW1lOiBzdHJpbmcsIHZhbHVlOiBUKTogdm9pZCB7XG4gICAgdGhpcy5yZXNvdXJjZXNbbmFtZV0gPSB2YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIGEgcmVzb3VyY2UgZnJvbSB0aGUgZ2xvYmFsIHJlc291cmNlIGRhdGFiYXNlLlxuICAgKiBUaHJvd3MgYW4gZXhjZXB0aW9uIGlmIHRoZSByZXNvdXJjZSBpcyBOT1QgZm91bmQgYW5kIG5vIGRlZmF1bHQgaXMgc3BlY2lmaWVkLlxuICAgKlxuICAgKiBEb2VzIE5PVCBjaGVjayB0byBtYWtlIHN1cmUgdGhlIHJldHVybmVkIHR5cGUgaXMgYWN0dWFsbHkgdmFsaWQuXG4gICAqXG4gICAqIEBwYXJhbSBuYW1lIE5hbWUgb2YgdGhlIHJlc291cmNlIHRvIGdldFxuICAgKiBAcGFyYW0gZGVmIE9wdGlvbmFsbHkgc3BlY2lmeSBhIGRlZmF1bHQgdmFsdWVcbiAgICogQHJldHVybnMgUmV0dXJuZWQgcmVzb3VyY2VcbiAgICovXG4gIHB1YmxpYyBnZXRSZXNvdXJjZTxUPihuYW1lOiBzdHJpbmcsIGRlZj86IFQpOiBUIHtcbiAgICBjb25zdCByZXNvdXJjZSA9IHRoaXMucmVzb3VyY2VzW25hbWVdO1xuICAgIGlmICh0eXBlb2YgcmVzb3VyY2UgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBpZiAodHlwZW9mIGRlZiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIGRlZjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gc3VjaCByZXNvdXJjZSAnJHtuYW1lfSdgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmVzb3VyY2UgYXMgVDtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWxldGUgYSByZXNvdXJjZSBmcm9tIHRoZSBnYW1lLlxuICAgKiBAcGFyYW0gbmFtZSBSZXNvdXJjZSB0byBkZWxldGVcbiAgICovXG4gIHB1YmxpYyBkZWxldGVSZXNvdXJjZShuYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBkZWxldGUgdGhpcy5yZXNvdXJjZXNbbmFtZV07XG4gIH1cblxuICAvKipcbiAgICogVGVzdCBpZiBhIHJlc291cmNlIGV4aXN0c1xuICAgKiBAcGFyYW0ga2V5IFJlc291cmNlIHRvIGdldFxuICAgKi9cbiAgcHVibGljIGV4aXN0cyhrZXk6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0eXBlb2YgdGhpcy5yZXNvdXJjZXNba2V5XSAhPT0gJ3VuZGVmaW5lZCc7XG4gIH1cblxuICAvKipcbiAgICogQ2xlYXIgYWxsIHJlc291cmNlcyBmcm9tIHRoZSBsaXN0XG4gICAqL1xuICBwdWJsaWMgY2xlYXIoKTogdm9pZCB7XG4gICAgdGhpcy5yZXNvdXJjZXMgPSB7fTtcbiAgfVxufVxuIiwiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuaW1wb3J0IHsgR0xURiwgR0xURkxvYWRlciB9IGZyb20gJ3RocmVlL2V4YW1wbGVzL2pzbS9sb2FkZXJzL0dMVEZMb2FkZXIuanMnO1xuaW1wb3J0IHByZXR0eVNpemUgZnJvbSAncHJldHR5c2l6ZSc7XG5cbi8qKlxuICogQWxsIGZpbGVzIG5lZWRlZCB0byBsb2FkIGEgY3ViZSB0ZXh0dXJlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ3ViZVRleHR1cmVGaWxlcyB7XG4gIHBvc2l0aXZlWDogc3RyaW5nO1xuICBuZWdhdGl2ZVg6IHN0cmluZztcbiAgcG9zaXRpdmVZOiBzdHJpbmc7XG4gIG5lZ2F0aXZlWTogc3RyaW5nO1xuICBwb3NpdGl2ZVo6IHN0cmluZztcbiAgbmVnYXRpdmVaOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjb25zdCBERUZBVUxUX1BST0dSRVNTX0hBTkRMRVI6IChpbnB1dDogc3RyaW5nKSA9PiB2b2lkID0gY29uc29sZS5sb2c7XG5leHBvcnQgY29uc3QgREVGQVVMVF9FUlJPUl9IQU5ETEVSID0gKGU6IHN0cmluZyk6IHZvaWQgPT4ge1xuICB0aHJvdyBuZXcgRXJyb3IoZSk7XG59O1xuXG4vKipcbiAqIE1hbmFnZSBhbGwgYXNzZXRzIGluIHRoZSBnYW1lXG4gKi9cbmV4cG9ydCBjbGFzcyBBc3NldHNNYW5hZ2VyIHtcbiAgcHJpdmF0ZSBhdWRpb0xvYWRlcjogVEhSRUUuQXVkaW9Mb2FkZXI7XG4gIHByaXZhdGUgaW1hZ2VMb2FkZXI6IFRIUkVFLkltYWdlTG9hZGVyO1xuICBwcml2YXRlIHRleHR1cmVMb2FkZXI6IFRIUkVFLlRleHR1cmVMb2FkZXI7XG4gIHByaXZhdGUgY3ViZVRleHR1cmVMb2FkZXI6IFRIUkVFLkN1YmVUZXh0dXJlTG9hZGVyO1xuICBwcml2YXRlIG9iamVjdExvYWRlcjogVEhSRUUuT2JqZWN0TG9hZGVyO1xuICBwcml2YXRlIG1hdGVyaWFsTG9hZGVyOiBUSFJFRS5NYXRlcmlhbExvYWRlcjtcbiAgcHJpdmF0ZSBhbmltYXRpb25Mb2FkZXI6IFRIUkVFLkFuaW1hdGlvbkxvYWRlcjtcbiAgcHJpdmF0ZSBnbHRmTG9hZGVyOiBHTFRGTG9hZGVyO1xuXG4gIHByaXZhdGUgdGV4dHVyZXM6IFJlY29yZDxzdHJpbmcsIFRIUkVFLlRleHR1cmU+ID0ge307XG4gIHByaXZhdGUgc291bmRzOiBSZWNvcmQ8c3RyaW5nLCBBdWRpb0J1ZmZlcj4gPSB7fTtcbiAgcHJpdmF0ZSBpbWFnZXM6IFJlY29yZDxzdHJpbmcsIEhUTUxJbWFnZUVsZW1lbnQ+ID0ge307XG4gIHByaXZhdGUgb2JqZWN0czogUmVjb3JkPHN0cmluZywgVEhSRUUuT2JqZWN0M0Q+ID0ge307XG4gIHByaXZhdGUgbWF0ZXJpYWxzOiBSZWNvcmQ8c3RyaW5nLCBUSFJFRS5NYXRlcmlhbD4gPSB7fTtcbiAgcHJpdmF0ZSBhbmltYXRpb25zOiBSZWNvcmQ8c3RyaW5nLCBUSFJFRS5BbmltYXRpb25DbGlwPiA9IHt9O1xuXG4gIHB1YmxpYyBwcm9ncmVzc0hhbmRsZXIgPSBERUZBVUxUX1BST0dSRVNTX0hBTkRMRVI7XG4gIHB1YmxpYyBlcnJvckhhbmRsZXIgPSBERUZBVUxUX0VSUk9SX0hBTkRMRVI7XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdGVkIGludGVybmFsbHkgYnkgdGhlIGdhbWUgZW50aW5lXG4gICAqL1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmF1ZGlvTG9hZGVyID0gbmV3IFRIUkVFLkF1ZGlvTG9hZGVyKCk7XG4gICAgdGhpcy5pbWFnZUxvYWRlciA9IG5ldyBUSFJFRS5JbWFnZUxvYWRlcigpO1xuICAgIHRoaXMudGV4dHVyZUxvYWRlciA9IG5ldyBUSFJFRS5UZXh0dXJlTG9hZGVyKCk7XG4gICAgdGhpcy5jdWJlVGV4dHVyZUxvYWRlciA9IG5ldyBUSFJFRS5DdWJlVGV4dHVyZUxvYWRlcigpO1xuICAgIHRoaXMub2JqZWN0TG9hZGVyID0gbmV3IFRIUkVFLk9iamVjdExvYWRlcigpO1xuICAgIHRoaXMubWF0ZXJpYWxMb2FkZXIgPSBuZXcgVEhSRUUuTWF0ZXJpYWxMb2FkZXIoKTtcbiAgICB0aGlzLmFuaW1hdGlvbkxvYWRlciA9IG5ldyBUSFJFRS5BbmltYXRpb25Mb2FkZXIoKTtcbiAgICB0aGlzLmdsdGZMb2FkZXIgPSBuZXcgR0xURkxvYWRlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIExvYWQgYSB0ZXh0dXJlIGZyb20gYSBmaWxlLiBUaGUgdGV4dHVyZSBjYW4gYmUgdXNlZCBpbW1lZGlhdGVseS5cbiAgICogUmVwbGFjZXMgYW55IGV4aXN0aW5nIGxvYWRlZCB0ZXh0dXJlIHdpdGggdGhlIHNhbWUgbmFtZS5cbiAgICogVGhlIHRleHR1cmUgbmFtZXNwYWNlIGlzIHNoYXJlZCB3aXRoIHRoZSBjdWJlIHRleHR1cmUgbmFtZXNwYWNlLlxuICAgKlxuICAgKiBUaHJvd3MgYW4gZXhjZXB0aW9uIGlmIGl0IGZhaWxzIHRvIGxvYWQgKGZvciB3aGF0ZXZlciByZWFzb24pLlxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSBOYW1lIG9mIHRoZSB0ZXh0dXJlIHRvIHN0b3JlXG4gICAqIEBwYXJhbSBmaWxlIEZpbGVwYXRoIG9mIHRoZSB0ZXh0dXJlIG9uIHRoZSB3ZWIgc2VydmVyXG4gICAqIEByZXR1cm5zIFByb21pc2UgdG8gd2FpdCBmb3IgYXNzZXQgdG8gZmluaXNoIGxvYWRpbmdcbiAgICovXG4gIHB1YmxpYyBsb2FkVGV4dHVyZShuYW1lOiBzdHJpbmcsIGZpbGU6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybiB0aGlzLnRleHR1cmVMb2FkZXJcbiAgICAgIC5sb2FkQXN5bmMoZmlsZSwgdGhpcy5vblByb2dyZXNzKCd0ZXh0dXJlJywgbmFtZSwgZmlsZSkpXG4gICAgICAudGhlbigodGV4dHVyZSkgPT4ge1xuICAgICAgICB0aGlzLnRleHR1cmVzW25hbWVdID0gdGV4dHVyZTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2godGhpcy5vbkVycm9yKCd0ZXh0dXJlJywgbmFtZSwgZmlsZSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIExvYWQgYSBjdWJlIHRleHR1cmUgZnJvbSBhIGZpbGUuXG4gICAqIFJlcGxhY2VzIGFueSBleGlzdGluZyBsb2FkZWQgdGV4dHVyZSB3aXRoIHRoZSBzYW1lIG5hbWUuXG4gICAqIFRoZSBjdWJlIHRleHR1cmUgbmFtZXNwYWNlIGlzIHNoYXJlZCB3aXRoIHRoZSB0ZXh0dXJlIG5hbWVzcGFjZS5cbiAgICpcbiAgICogVGhyb3dzIGFuIGV4Y2VwdGlvbiBpZiBpdCBmYWlscyB0byBsb2FkIChmb3Igd2hhdGV2ZXIgcmVhc29uKS5cbiAgICpcbiAgICogQHBhcmFtIG5hbWUgTmFtZSBvZiB0aGUgdGV4dHVyZSB0byBzdG9yZVxuICAgKiBAcGFyYW0gZmlsZXMgVGhlIHNpeCBmaWxlcyByZXF1aXJlZCB0byBsb2FkIGEgY3ViZSB0ZXh0dXJlXG4gICAqIEByZXR1cm5zIFByb21pc2UgdG8gd2FpdCBmb3IgYXNzZXQgdG8gZmluaXNoIGxvYWRpbmdcbiAgICovXG4gIHB1YmxpYyBsb2FkQ3ViZVRleHR1cmUobmFtZTogc3RyaW5nLCBmaWxlczogQ3ViZVRleHR1cmVGaWxlcyk6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgY29uc3QgeyBwb3NpdGl2ZVgsIG5lZ2F0aXZlWCwgcG9zaXRpdmVZLCBuZWdhdGl2ZVksIHBvc2l0aXZlWiwgbmVnYXRpdmVaIH0gPSBmaWxlcztcbiAgICAgIHRoaXMuY3ViZVRleHR1cmVMb2FkZXIubG9hZChcbiAgICAgICAgW3Bvc2l0aXZlWCwgbmVnYXRpdmVYLCBwb3NpdGl2ZVksIG5lZ2F0aXZlWSwgcG9zaXRpdmVaLCBuZWdhdGl2ZVpdLFxuICAgICAgICAodGV4dHVyZSkgPT4ge1xuICAgICAgICAgIHRoaXMudGV4dHVyZXNbbmFtZV0gPSB0ZXh0dXJlO1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfSxcblxuICAgICAgICB0aGlzLm9uUHJvZ3Jlc3MoJ2N1YmUgdGV4dHVyZScsIG5hbWUsIGZpbGVzLnRvU3RyaW5nKCkpLFxuICAgICAgICB0aGlzLm9uRXJyb3IoJ2N1YmUgdGV4dHVyZScsIG5hbWUsIGZpbGVzLnRvU3RyaW5nKCkpLFxuICAgICAgKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTYXZlIGEgdGV4dHVyZSBpbnRvIHRoZSBsaXN0IG9mIGFzc2V0c1xuICAgKiBSZXBsYWNlcyBhbnkgZXhpc3RpbmcgbG9hZGVkIHRleHR1cmUgd2l0aCB0aGUgc2FtZSBuYW1lLlxuICAgKiBUaGUgdGV4dHVyZSBuYW1lc3BhY2UgaXMgc2hhcmVkIHdpdGggdGhlIGN1YmUgdGV4dHVyZSBuYW1lc3BhY2UuXG4gICAqXG4gICAqIEBwYXJhbSBuYW1lIE5hbWUgb2YgdGhlIHRleHR1cmUgdG8gc2F2ZVxuICAgKiBAcGFyYW0gdGV4dHVyZSBUZXh0dXJlIHRvIHNhdmVcbiAgICovXG4gIHB1YmxpYyBzYXZlVGV4dHVyZShuYW1lOiBzdHJpbmcsIHRleHR1cmU6IFRIUkVFLlRleHR1cmUpOiB2b2lkIHtcbiAgICB0aGlzLnRleHR1cmVzW25hbWVdID0gdGV4dHVyZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYSBzYXZlZCB0ZXh0dXJlIGZyb20gdGhlIGxpc3Qgb2YgYXNzZXRzLlxuICAgKiBUaHJvd3MgYW4gZXhjZXB0aW9uIGlmIHRoZSB0ZXh0dXJlIGRvZXMgbm90IGV4aXN0LlxuICAgKlxuICAgKiBTaW5jZSBUZXh0dXJlIGFuZCBDdWJlVGV4dHVyZSBzaGFyZSB0aGUgc2FtZSBuYW1lc3BhY2UsIHlvdSBtaWdodFxuICAgKiAgaGF2ZSB0byBkb3duY2FzdCBpZiB0aGlzIGlzIGEgY3ViZSB0ZXh0dXJlLlxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSBOYW1lIG9mIHRoZSB0ZXh0dXJlIHRvIGdldFxuICAgKiBAcmV0dXJucyBUaGUgc2F2ZWQgdGV4dHVyZVxuICAgKi9cbiAgcHVibGljIGdldFRleHR1cmUobmFtZTogc3RyaW5nKTogVEhSRUUuVGV4dHVyZSB7XG4gICAgY29uc3QgdGV4dHVyZSA9IHRoaXMudGV4dHVyZXNbbmFtZV07XG4gICAgaWYgKHR5cGVvZiB0ZXh0dXJlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBObyBzdWNoIGxvYWRlZCB0ZXh0dXJlICcke25hbWV9J2ApO1xuICAgIH1cblxuICAgIHJldHVybiB0ZXh0dXJlO1xuICB9XG5cbiAgLyoqXG4gICAqIExvYWQgc291bmQgZnJvbSBhbiBhdWRpbyBmaWxlXG4gICAqIFJlcGxhY2VzIGFueSBleGlzdGluZyBsb2FkZWQgYXVkaW8gd2l0aCB0aGUgc2FtZSBuYW1lLlxuICAgKlxuICAgKiBUaHJvd3MgYW4gZXhjZXB0aW9uIGlmIGl0IGZhaWxzIHRvIGxvYWQgKGZvciB3aGF0ZXZlciByZWFzb24pLlxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSBOYW1lIG9mIHRoZSBhdWRpbyB0byBsb2FkXG4gICAqIEBwYXJhbSBmaWxlIEZpbGVwYXRoIG9mIHRoZSBhdWRpbyBmaWxlIG9uIHRoZSB3ZWIgc2VydmVyXG4gICAqIEByZXR1cm5zIFByb21pc2UgdG8gd2FpdCBmb3IgYXNzZXQgdG8gZmluaXNoIGxvYWRpbmdcbiAgICovXG4gIHB1YmxpYyBsb2FkQXVkaW9GaWxlKG5hbWU6IHN0cmluZywgZmlsZTogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIHRoaXMuYXVkaW9Mb2FkZXJcbiAgICAgIC5sb2FkQXN5bmMoZmlsZSwgdGhpcy5vblByb2dyZXNzKCdhdWRpbycsIG5hbWUsIGZpbGUpKVxuICAgICAgLnRoZW4oKGJ1ZmZlcjogQXVkaW9CdWZmZXIpID0+IHtcbiAgICAgICAgdGhpcy5zb3VuZHNbbmFtZV0gPSBidWZmZXI7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKHRoaXMub25FcnJvcignYXVkaW8nLCBuYW1lLCBmaWxlKSk7XG4gIH1cblxuICAvKipcbiAgICogU2F2ZSBhIGF1ZGlvIGludG8gdGhlIGxpc3Qgb2YgYXNzZXRzXG4gICAqIFJlcGxhY2VzIGFueSBleGlzdGluZyBsb2FkZWQgYXVkaW8gd2l0aCB0aGUgc2FtZSBuYW1lLlxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSBOYW1lIG9mIHRoZSBhdWRpbyB0byBzYXZlXG4gICAqIEBwYXJhbSBhdWRpbyBBdWRpbyB0byBzYXZlXG4gICAqL1xuICBwdWJsaWMgc2F2ZUF1ZGlvKG5hbWU6IHN0cmluZywgYXVkaW86IEF1ZGlvQnVmZmVyKTogdm9pZCB7XG4gICAgdGhpcy5zb3VuZHNbbmFtZV0gPSBhdWRpbztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYSBzYXZlZCBhdWRpbyBidWZmZXIgZnJvbSB0aGUgbGlzdCBvZiBhc3NldHMuXG4gICAqIFRocm93cyBhbiBleGNlcHRpb24gaWYgdGhlIGF1ZGlvIGRvZXMgbm90IGV4aXN0LlxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSBOYW1lIG9mIHRoZSBhdWRpbyBidWZmZXIgdG8gZ2V0XG4gICAqIEByZXR1cm5zIFRoZSBzYXZlZCBhdWRpbyBidWZmZXJcbiAgICovXG4gIHB1YmxpYyBnZXRBdWRpbyhuYW1lOiBzdHJpbmcpOiBBdWRpb0J1ZmZlciB7XG4gICAgY29uc3QgYXVkaW8gPSB0aGlzLnNvdW5kc1tuYW1lXTtcbiAgICBpZiAodHlwZW9mIGF1ZGlvID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBObyBzdWNoIGxvYWRlZCBhdWRpbyBidWZmZXIgJyR7bmFtZX0nYCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGF1ZGlvO1xuICB9XG5cbiAgLyoqXG4gICAqIExvYWQgaW1hZ2VzIGZyb20gYSBmaWxlXG4gICAqIFJlcGxhY2VzIGFueSBleGlzdGluZyBsb2FkZWQgaW1hZ2Ugd2l0aCB0aGUgc2FtZSBuYW1lLlxuICAgKlxuICAgKiBUaHJvd3MgYW4gZXhjZXB0aW9uIGlmIGl0IGZhaWxzIHRvIGxvYWQgKGZvciB3aGF0ZXZlciByZWFzb24pLlxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSBOYW1lIG9mIHRoZSBpbWFnZSB0byBsb2FkXG4gICAqIEBwYXJhbSBmaWxlIEZpbGVwYXRoIG9mIHRoZSBpbWFnZSBvbiB0aGUgd2ViIHNlcnZlclxuICAgKiBAcmV0dXJucyBQcm9taXNlIHRvIHdhaXQgZm9yIGFzc2V0IHRvIGZpbmlzaCBsb2FkaW5nXG4gICAqL1xuICBwdWJsaWMgbG9hZEltYWdlKG5hbWU6IHN0cmluZywgZmlsZTogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIHRoaXMuaW1hZ2VMb2FkZXJcbiAgICAgIC5sb2FkQXN5bmMoZmlsZSwgdGhpcy5vblByb2dyZXNzKCdpbWFnZScsIG5hbWUsIGZpbGUpKVxuICAgICAgLnRoZW4oKGltYWdlOiBIVE1MSW1hZ2VFbGVtZW50KSA9PiB7XG4gICAgICAgIHRoaXMuaW1hZ2VzW25hbWVdID0gaW1hZ2U7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKHRoaXMub25FcnJvcignYXVkaW8nLCBuYW1lLCBmaWxlKSk7XG4gIH1cblxuICAvKipcbiAgICogU2F2ZSBhIGltYWdlIGludG8gdGhlIGxpc3Qgb2YgYXNzZXRzXG4gICAqIFJlcGxhY2VzIGFueSBleGlzdGluZyBsb2FkZWQgaW1hZ2Ugd2l0aCB0aGUgc2FtZSBuYW1lLlxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSBOYW1lIG9mIHRoZSBpbWFnZSB0byBzYXZlXG4gICAqIEBwYXJhbSBhdWRpbyBJbWFnZSB0byBzYXZlXG4gICAqL1xuICBwdWJsaWMgc2F2ZUltYWdlKG5hbWU6IHN0cmluZywgaW1hZ2U6IEhUTUxJbWFnZUVsZW1lbnQpOiB2b2lkIHtcbiAgICB0aGlzLmltYWdlc1tuYW1lXSA9IGltYWdlO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhIHNhdmVkIGltYWdlIGZyb20gdGhlIGxpc3Qgb2YgYXNzZXRzLlxuICAgKiBUaHJvd3MgYW4gZXhjZXB0aW9uIGlmIHRoZSBpbWFnZSBkb2VzIG5vdCBleGlzdC5cbiAgICpcbiAgICogQHBhcmFtIG5hbWUgTmFtZSBvZiB0aGUgaW1hZ2UgdG8gZ2V0XG4gICAqIEByZXR1cm5zIFRoZSBzYXZlZCBpbWFnZVxuICAgKi9cbiAgcHVibGljIGdldEltYWdlKG5hbWU6IHN0cmluZyk6IEhUTUxJbWFnZUVsZW1lbnQge1xuICAgIGNvbnN0IGltYWdlID0gdGhpcy5pbWFnZXNbbmFtZV07XG4gICAgaWYgKHR5cGVvZiBpbWFnZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gc3VjaCBsb2FkZWQgaW1hZ2UgJyR7bmFtZX0nYCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGltYWdlO1xuICB9XG5cbiAgLyoqXG4gICAqIExvYWQgYW4gT2JqZWN0M0QgZnJvbSBhIEpTT04gZmlsZVxuICAgKiBSZXBsYWNlcyBhbnkgZXhpc3RpbmcgbG9hZGVkIE9iamVjdDNEIHdpdGggdGhlIHNhbWUgbmFtZS5cbiAgICpcbiAgICogVGhyb3dzIGFuIGV4Y2VwdGlvbiBpZiBpdCBmYWlscyB0byBsb2FkIChmb3Igd2hhdGV2ZXIgcmVhc29uKS5cbiAgICpcbiAgICogQHBhcmFtIG5hbWUgTmFtZSBvZiB0aGUgb2JqZWN0IHRvIGxvYWRcbiAgICogQHBhcmFtIGZpbGUgRmlsZXBhdGggb2YgdGhlIG9iamVjdCB0byBsb2FkXG4gICAqIEByZXR1cm5zIFByb21pc2UgdG8gd2FpdCBmb3IgYXNzZXQgdG8gZmluaXNoIGxvYWRpbmdcbiAgICovXG4gIHB1YmxpYyBsb2FkT2JqZWN0KG5hbWU6IHN0cmluZywgZmlsZTogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIHRoaXMub2JqZWN0TG9hZGVyXG4gICAgICAubG9hZEFzeW5jKGZpbGUsIHRoaXMub25Qcm9ncmVzcygnb2JqZWN0JywgbmFtZSwgZmlsZSkpXG4gICAgICAudGhlbigob2JqZWN0KSA9PiB7XG4gICAgICAgIHRoaXMub2JqZWN0c1tuYW1lXSA9IG9iamVjdDtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2godGhpcy5vbkVycm9yKCdvYmplY3QnLCBuYW1lLCBmaWxlKSk7XG4gIH1cblxuICAvKipcbiAgICogU2F2ZSBhbiBPYmplY3QzRCBpbnRvIHRoZSBsaXN0IG9mIGFzc2V0c1xuICAgKiBSZXBsYWNlcyBhbnkgZXhpc3RpbmcgbG9hZGVkIE9iamVjdDNEIHdpdGggdGhlIHNhbWUgbmFtZS5cbiAgICpcbiAgICogQHBhcmFtIG5hbWUgTmFtZSBvZiB0aGUgb2JqZWN0IHRvIHNhdmVcbiAgICogQHBhcmFtIG9iamVjdCBPYmplY3QzRCB0byBzYXZlXG4gICAqL1xuICBwdWJsaWMgc2F2ZU9iamVjdChuYW1lOiBzdHJpbmcsIG9iamVjdDogVEhSRUUuT2JqZWN0M0QpOiB2b2lkIHtcbiAgICB0aGlzLm9iamVjdHNbbmFtZV0gPSBvYmplY3Q7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGEgc2F2ZWQgT2JqZWN0M0QgZnJvbSB0aGUgbGlzdCBvZiBhc3NldHMuXG4gICAqIFRocm93cyBhbiBleGNlcHRpb24gaWYgdGhlIG9iamVjdCBkb2VzIG5vdCBleGlzdC5cbiAgICpcbiAgICogQHBhcmFtIG5hbWUgTmFtZSBvZiB0aGUgb2JqZWN0IHRvIGdldFxuICAgKiBAcmV0dXJucyBPYmplY3QzRFxuICAgKi9cbiAgcHVibGljIGdldE9iamVjdChuYW1lOiBzdHJpbmcpOiBUSFJFRS5PYmplY3QzRCB7XG4gICAgY29uc3Qgb2JqZWN0ID0gdGhpcy5vYmplY3RzW25hbWVdO1xuICAgIGlmICh0eXBlb2Ygb2JqZWN0ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBObyBzdWNoIGxvYWRlZCBvYmplY3QgJyR7bmFtZX0nYCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG9iamVjdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBMb2FkIGEgbWF0ZXJpYWwgZnJvbSBhIEpTT04gZmlsZVxuICAgKiBSZXBsYWNlcyBhbnkgZXhpc3RpbmcgbG9hZGVkIG1hdGVyaWFsIHdpdGggdGhlIHNhbWUgbmFtZS5cbiAgICpcbiAgICogVGhyb3dzIGFuIGV4Y2VwdGlvbiBpZiBpdCBmYWlscyB0byBsb2FkIChmb3Igd2hhdGV2ZXIgcmVhc29uKS5cbiAgICpcbiAgICogQHBhcmFtIG5hbWUgTmFtZSBvZiB0aGUgbWF0ZXJpYWwgdG8gbG9hZFxuICAgKiBAcGFyYW0gZmlsZSBGaWxlcGF0aCBvZiB0aGUgb2JqZWN0IHRvIGxvYWRcbiAgICogQHJldHVybnMgUHJvbWlzZSB0byB3YWl0IGZvciBhc3NldCB0byBmaW5pc2ggbG9hZGluZ1xuICAgKi9cbiAgcHVibGljIGxvYWRNYXRlcmlhbChuYW1lOiBzdHJpbmcsIGZpbGU6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybiB0aGlzLm1hdGVyaWFsTG9hZGVyXG4gICAgICAubG9hZEFzeW5jKGZpbGUsIHRoaXMub25Qcm9ncmVzcygnYW5pbWF0aW9uJywgbmFtZSwgZmlsZSkpXG4gICAgICAudGhlbigobWF0ZXJpYWwpID0+IHtcbiAgICAgICAgdGhpcy5tYXRlcmlhbHNbbmFtZV0gPSBtYXRlcmlhbDtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2godGhpcy5vbkVycm9yKCdhbmltYXRpb24nLCBuYW1lLCBmaWxlKSk7XG4gIH1cblxuICAvKipcbiAgICogU2F2ZSBhIG1hdGVyaWFsIHRvIHRoZSBsaXN0IG9mIGFzc2V0cy5cbiAgICogUmVwbGFjZXMgYW55IGV4aXN0aW5nIGxvYWRlZCBtYXRlcmlhbCB3aXRoIHRoZSBzYW1lIG5hbWUuXG4gICAqXG4gICAqIEBwYXJhbSBuYW1lIE5hbWUgb2YgdGhlIG1hdGVyaWFsIHRvIHNhdmVcbiAgICogQHBhcmFtIG1hdGVyaWFsIE1hdGVyaWFsIHRvIHNhdmVcbiAgICovXG4gIHB1YmxpYyBzYXZlTWF0ZXJpYWwobmFtZTogc3RyaW5nLCBtYXRlcmlhbDogVEhSRUUuTWF0ZXJpYWwpOiB2b2lkIHtcbiAgICB0aGlzLm1hdGVyaWFsc1tuYW1lXSA9IG1hdGVyaWFsO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhIHNhdmVkIG1hdGVyaWFsIGZyb20gdGhlIGxpc3Qgb2YgYXNzZXRzLlxuICAgKiBUaHJvd3MgYW4gZXhjZXB0aW9uIGlmIHRoZSBtYXRlcmlhbCBkb2VzIG5vdCBleGlzdC5cbiAgICpcbiAgICogQHBhcmFtIG5hbWUgTmFtZSBvZiB0aGUgbWF0ZXJpYWwgdG8gZ2V0XG4gICAqIEByZXR1cm5zIE1hdGVyaWFsXG4gICAqL1xuICBwdWJsaWMgZ2V0TWF0ZXJpYWwobmFtZTogc3RyaW5nKTogVEhSRUUuTWF0ZXJpYWwge1xuICAgIGNvbnN0IG1hdGVyaWFsID0gdGhpcy5tYXRlcmlhbHNbbmFtZV07XG4gICAgaWYgKHR5cGVvZiBtYXRlcmlhbCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gc3VjaCBsb2FkZWQgbWF0ZXJpYWwgJyR7bmFtZX0nYCk7XG4gICAgfVxuICAgIHJldHVybiBtYXRlcmlhbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBMb2FkIGEgY29sbGVjdGlvbiBvZiBhbmltYXRpb25zIGZyb20gYSBKU09OIGZpbGUuXG4gICAqIFRocm93cyBhbiBleGNlcHRpb24gaWYgaXQgZmFpbHMgdG8gbG9hZCAoZm9yIHdoYXRldmVyIHJlYXNvbikuXG4gICAqXG4gICAqIFNpbmNlIG9uZSBmaWxlIGNhbiBjb250YWluIG11bHRpcGxlIGFuaW1hdGlvbiBjbGlwcywgeW91IG11c3QgcHJvdmlkZSBhIGN1c3RvbSBjYWxsYmFja1xuICAgKiB0byBpbmRpdmlkdWFsbHkgbmFtZSBhbmQgc3RvcmUgdGhlIGFuaW1hdGlvbnMuXG4gICAqIFRoZSBjYWxsYmFjayBpcyBhbHNvIHBhc3NlZCBhbiBpbnN0YW5jZSBvZiB0aGlzIGFzc2V0IG1hbmFnZXIuXG4gICAqXG4gICAqIEBwYXJhbSBmaWxlIEpTT04gZmlsZSB0byBsb2FkXG4gICAqIEBwYXJhbSBvbkxvYWQgQ2FsbGJhY2sgdG8gaGFuZGxlIHRoZSBsb2FkZWQgYW5pbWF0aW9uIGNsaXBzLlxuICAgKiBAcmV0dXJucyBQcm9taXNlIHRvIHdhaXQgZm9yIGFzc2V0IHRvIGZpbmlzaCBsb2FkaW5nXG4gICAqL1xuICBwdWJsaWMgbG9hZEFuaW1hdGlvbnMoXG4gICAgZmlsZTogc3RyaW5nLFxuICAgIG9uTG9hZDogKGFuaW1hdGlvbjogVEhSRUUuQW5pbWF0aW9uQ2xpcFtdLCBtYW5hZ2VyOiB0aGlzKSA9PiB2b2lkLFxuICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gdGhpcy5hbmltYXRpb25Mb2FkZXJcbiAgICAgIC5sb2FkQXN5bmMoZmlsZSwgdGhpcy5vblByb2dyZXNzKCdhbmltYXRpb24nLCBudWxsLCBmaWxlKSlcbiAgICAgIC50aGVuKChhbmltYXRpb25zKSA9PiBvbkxvYWQoYW5pbWF0aW9ucywgdGhpcykpXG4gICAgICAuY2F0Y2godGhpcy5vbkVycm9yKCdhbmltYXRpb24nLCBudWxsLCBmaWxlKSk7XG4gIH1cblxuICAvKipcbiAgICogU2F2ZSBhbiBhbmltYXRpb24gdG8gdGhlIGxpc3Qgb2YgYXNzZXRzLlxuICAgKiBSZXBsYWNlcyBhbnkgZXhpc3RpbmcgbG9hZGVkIGFuaW1hdGlvbiB3aXRoIHRoZSBzYW1lIG5hbWUuXG4gICAqXG4gICAqIEBwYXJhbSBuYW1lIE5hbWUgb2YgdGhlIGFuaW1hdGlvbiB0byBzYXZlXG4gICAqIEBwYXJhbSBhbmltYXRpb24gQW5pbWF0aW9uIHRvIHNhdmVcbiAgICovXG4gIHB1YmxpYyBzYXZlQW5pbWF0aW9uKG5hbWU6IHN0cmluZywgYW5pbWF0aW9uOiBUSFJFRS5BbmltYXRpb25DbGlwKTogdm9pZCB7XG4gICAgdGhpcy5hbmltYXRpb25zW25hbWVdID0gYW5pbWF0aW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhIHNhdmVkIGFuaW1hdGlvbiBmcm9tIHRoZSBsaXN0IG9mIGFzc2V0cy5cbiAgICogVGhyb3dzIGFuIGV4Y2VwdGlvbiBpZiB0aGUgYW5pbWF0aW9uIGRvZXMgbm90IGV4aXN0LlxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSBOYW1lIG9mIHRoZSBhbmltYXRpb24gdG8gZ2V0XG4gICAqIEByZXR1cm5zIEFuaW1hdGlvblxuICAgKi9cbiAgcHVibGljIGdldEFuaW1hdGlvbihuYW1lOiBzdHJpbmcpOiBUSFJFRS5BbmltYXRpb25DbGlwIHtcbiAgICBjb25zdCBhbmltYXRpb24gPSB0aGlzLmFuaW1hdGlvbnNbbmFtZV07XG4gICAgaWYgKHR5cGVvZiBhbmltYXRpb24gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIHN1Y2ggbG9hZGVkIGFuaW1hdGlvbiAnJHtuYW1lfSdgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYW5pbWF0aW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIExvYWQgYSBHTFRGIGZpbGUgZnJvbSBhIHdlYiBzZXJ2ZXIuXG4gICAqXG4gICAqIFlvdSBtdXN0IHByb3ZpZGUgYSBjdXN0b20gY2FsbGJhY2sgdG8gZGVjaWRlIGhvdyB0byBoYW5kbGUgdGhlIGxvYWRlZCBvYmplY3QgZGF0YS5cbiAgICogVGhlIGNhbGxiYWNrIGFsc28gaW5jbHVkZXMgYSByZWZlcmVuY2UgdG8gdGhlIGN1cnJlbnQgQXNzZXRNYW5hZ2VyLlxuICAgKiBZb3UgY2FuIHVzZSB0aGUgdmFyaW91cyBzYXZlKigpIG1ldGhvZHMgdG8gc2F2ZSB0aGUgaW5jbHVkZWQgYXNzZXRzXG4gICAqXG4gICAqIFRocm93cyBhbiBleGNlcHRpb24gaWYgaXQgZmFpbHMgdG8gbG9hZCAoZm9yIHdoYXRldmVyIHJlYXNvbikuXG4gICAqXG4gICAqIEBwYXJhbSBmaWxlIEZpbGUgdG8gbG9hZFxuICAgKiBAcGFyYW0gb25Mb2FkIENhbGxiYWNrIHRoYXQgZGljdGF0ZXMgaG93IHRvIGhhbmRsZSB0aGUgbG9hZGVkIGRhdGEuXG4gICAqIEByZXR1cm5zIFByb21pc2UgdG8gd2FpdCBmb3IgYXNzZXQgdG8gZmluaXNoIGxvYWRpbmdcbiAgICovXG4gIHB1YmxpYyBsb2FkR0xURkZpbGUoZmlsZTogc3RyaW5nLCBvbkxvYWQ6IChnbHRmOiBHTFRGLCBtYW5hZ2VyOiB0aGlzKSA9PiB2b2lkKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIHRoaXMuZ2x0ZkxvYWRlclxuICAgICAgLmxvYWRBc3luYyhmaWxlLCB0aGlzLm9uUHJvZ3Jlc3MoJ2dsdGYnLCBudWxsLCBmaWxlKSlcbiAgICAgIC50aGVuKChnbHRmKSA9PiBvbkxvYWQoZ2x0ZiwgdGhpcykpXG4gICAgICAuY2F0Y2godGhpcy5vbkVycm9yKCdnbHRmJywgbnVsbCwgZmlsZSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIERpc3BsYXkgYSBwcm9ncmVzcyBsb2cgbWVzc2FnZSBhcyBmaWxlcyBhcmUgZG93bmxvYWRlZFxuICAgKi9cbiAgcHJpdmF0ZSBvblByb2dyZXNzKGZpbGV0eXBlOiBzdHJpbmcsIG5hbWU6IHN0cmluZyB8IG51bGwsIGZpbGU6IHN0cmluZyk6IChldmVudDogUHJvZ3Jlc3NFdmVudDxFdmVudFRhcmdldD4pID0+IHZvaWQge1xuICAgIHJldHVybiAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IG5hbWVTdHJpbmcgPSBuYW1lICE9PSBudWxsID8gYCcke25hbWV9JyBgIDogJyc7XG4gICAgICBjb25zdCBwcmVmaXggPSBgTG9hZGluZyAke2ZpbGV0eXBlfSAke25hbWVTdHJpbmd9ZnJvbSAnJHtmaWxlfSc6ICR7cHJldHR5U2l6ZShldmVudC5sb2FkZWQpfWA7XG5cbiAgICAgIC8vIE9ubHkgc2hvdyBhIHBlcmNlbnQgaWYgdGhlIGxlbmd0aCBpcyBjb21wdXRhYmxlXG4gICAgICBpZiAoZXZlbnQubGVuZ3RoQ29tcHV0YWJsZSkge1xuICAgICAgICBjb25zdCBwZXJjZW50TG9hZGVkID0gKGV2ZW50LmxvYWRlZCAqIDEwMCkgLyBldmVudC50b3RhbDtcbiAgICAgICAgdGhpcy5wcm9ncmVzc0hhbmRsZXIoYCR7cHJlZml4fSAvICR7cHJldHR5U2l6ZShldmVudC50b3RhbCl9ICgke3BlcmNlbnRMb2FkZWQudG9GaXhlZCgwKX0lKWApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5wcm9ncmVzc0hhbmRsZXIoYCR7cHJlZml4fSBMb2FkZWRgKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFRocm93IGFuIGV4Y2VwdGlvbiBpZiBhbiBlcnJvciBvY2N1cnNcbiAgICovXG4gIHByaXZhdGUgb25FcnJvcihmaWxldHlwZTogc3RyaW5nLCBuYW1lOiBzdHJpbmcgfCBudWxsLCBmaWxlOiBzdHJpbmcpOiAoZXJyb3I6IEVycm9yRXZlbnQpID0+IHZvaWQge1xuICAgIGNvbnN0IG5hbWVTdHJpbmcgPSBuYW1lICE9PSBudWxsID8gYCcke25hbWV9JyBgIDogJyc7XG4gICAgcmV0dXJuIChlcnJvcikgPT4ge1xuICAgICAgdGhpcy5lcnJvckhhbmRsZXIoXG4gICAgICAgIGBFcnJvciBsb2FkaW5nICR7ZmlsZXR5cGV9ICR7bmFtZVN0cmluZ31mcm9tICcke2ZpbGV9JyR7ZXJyb3IubWVzc2FnZSA/IGA6ICR7ZXJyb3IubWVzc2FnZX1gIDogJyd9YCxcbiAgICAgICk7XG4gICAgfTtcbiAgfVxufVxuIiwiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuaW1wb3J0IHsgQXJlYSwgQXJlYVN0YXRlIH0gZnJvbSAnZW5naW5lL2FyZWEnO1xuaW1wb3J0IHsgSW5wdXRNYW5hZ2VyIH0gZnJvbSAnLi9pbnB1dCc7XG5pbXBvcnQgeyBBc3NldHNNYW5hZ2VyIH0gZnJvbSAnLi9hc3NldHMnO1xuaW1wb3J0IHsgUmVzb3VyY2VNYW5hZ2VyIH0gZnJvbSAnLi9zdG9yYWdlJztcblxuLyoqXG4gKiBSZXByZXNlbnRzIHRoZSBtYWluIGludGVyZmFjZSBmb3IgaW50ZXJhY3Rpbmcgd2l0aCB0aGUgZ2FtZVxuICovXG5leHBvcnQgY2xhc3MgR2FtZSB7XG4gIC8qIEhhbmRsZSBpbnB1dCBldmVudHMgKi9cbiAgcHVibGljIHJlYWRvbmx5IGlucHV0OiBJbnB1dE1hbmFnZXI7XG5cbiAgLyogSGFuZGxlIGdhbWUgYXNzZXRzICovXG4gIHB1YmxpYyByZWFkb25seSBhc3NldHM6IEFzc2V0c01hbmFnZXI7XG5cbiAgLyogR2xvYmFsIHZhcmlhYmxlcyAqL1xuICBwdWJsaWMgcmVhZG9ubHkgcmVzb3VyY2VzOiBSZXNvdXJjZU1hbmFnZXI7XG5cbiAgLyogUG9zc2libHkgc3BlY2lmeSBhIGZpeGVkIHNpemUgZm9yIHRoZSByZW5kZXIgb3V0cHV0ICovXG4gIHB1YmxpYyBzY3JlZW5TaXplOiBbbnVtYmVyLCBudW1iZXJdIHwgbnVsbCA9IG51bGw7XG5cbiAgLyogRXZlcnkgZ2FtZSBtdXN0IHN0b3JlIGFuIGFjdGl2YXRlIGFyZWEgKi9cbiAgcHJpdmF0ZSBfY3VycmVudEFyZWE6IEFyZWE7XG4gIHByaXZhdGUgbmV4dEFyZWE6IEFyZWFTdGF0ZSB8IG51bGwgPSBudWxsO1xuXG4gIC8qIE9iamVjdHMgcmVxdWlyZWQgZm9yIGRyYXdpbmcgKi9cbiAgcHVibGljIHJlYWRvbmx5IHJlbmRlcmVyOiBUSFJFRS5XZWJHTFJlbmRlcmVyO1xuICBwcml2YXRlIHJlYWRvbmx5IGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQ7XG4gIHByaXZhdGUgcmVhZG9ubHkgb3ZlcmxheUNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQ7XG5cbiAgcHJpdmF0ZSBydW5uaW5nID0gZmFsc2U7XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBnYW1lIG9iamVjdC5cbiAgICpcbiAgICogVGhlIGdhbWUgZXhwZWN0cyB0aGUgb3ZlcmxheSBjYW52YXMgdG8gYmUgZGlyZWN0bHkgb24gdG9wIG9mIHRoZSBnYW1lIGNhbnZhcy5cbiAgICogVGh1cywgdXNlciBpbnB1dCBpcyBhY3R1YWxseSBoYW5kbGVkIGJ5IHRoZSBvdmVybGF5IGNhbnZhcywgTk9UIHRoZSBnYW1lIGNhbnZhcy5cbiAgICpcbiAgICogQHBhcmFtIGdhbWVDYW52YXMgQ2FudmFzIHRvIHVzZSBmb3IgZHJhd2luZyB0aGUgZ2FtZVxuICAgKiBAcGFyYW0gb3ZlcmxheUNhbnZhcyBDYW52YXMgdG8gdXNlIGZvciB0aGUgb3ZlcmxheSBkcmF3aW5nXG4gICAqIEBwYXJhbSBhcmVhXG4gICAqL1xuICBwdWJsaWMgY29uc3RydWN0b3IoZ2FtZUNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQsIG92ZXJsYXlDYW52YXM6IEhUTUxDYW52YXNFbGVtZW50KSB7XG4gICAgdGhpcy5pbnB1dCA9IG5ldyBJbnB1dE1hbmFnZXIob3ZlcmxheUNhbnZhcyk7XG4gICAgdGhpcy5hc3NldHMgPSBuZXcgQXNzZXRzTWFuYWdlcigpO1xuICAgIHRoaXMucmVzb3VyY2VzID0gbmV3IFJlc291cmNlTWFuYWdlcigpO1xuXG4gICAgdGhpcy5yZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKHsgY2FudmFzOiBnYW1lQ2FudmFzIH0pO1xuICAgIHRoaXMuY2FudmFzID0gZ2FtZUNhbnZhcztcbiAgICB0aGlzLm92ZXJsYXlDYW52YXMgPSBvdmVybGF5Q2FudmFzO1xuICB9XG5cbiAgLyoqXG4gICAqIFN0YXJ0IHJ1bm5pbmcgdGhlIGdhbWUgZW5naW5lXG4gICAqL1xuICBwdWJsaWMgc3RhcnQoYXJlYTogQXJlYVN0YXRlKTogdm9pZCB7XG4gICAgaWYgKHRoaXMucnVubmluZyA9PT0gZmFsc2UpIHtcbiAgICAgIHRoaXMucnVubmluZyA9IHRydWU7XG5cbiAgICAgIHRoaXMuX2N1cnJlbnRBcmVhID0gbmV3IEFyZWEodGhpcywgYXJlYSk7XG4gICAgICB0aGlzLl9jdXJyZW50QXJlYS5zdGF0ZS5vbkNyZWF0ZSh0aGlzLl9jdXJyZW50QXJlYSk7XG4gICAgICB0aGlzLm92ZXJsYXlDYW52YXMuZm9jdXMoKTtcblxuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMudGljay5iaW5kKHRoaXMpKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU3RvcCBydW5uaW5nIHRoZSBnYW1lIGVuZ2luZVxuICAgKi9cbiAgcHVibGljIHN0b3AoKTogdm9pZCB7XG4gICAgdGhpcy5ydW5uaW5nID0gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBjdXJyZW50IGFyZWEgaW4gdGhlIGdhbWVcbiAgICovXG4gIHB1YmxpYyBnZXQgY3VycmVudEFyZWEoKTogQXJlYSB7XG4gICAgcmV0dXJuIHRoaXMuX2N1cnJlbnRBcmVhO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgbmV4dCBhcmVhIHRvIGRpc3BsYXkgZm9yIHRoZSBnYW1lIGVuZ2luZVxuICAgKlxuICAgKiBAcGFyYW0gbmV4dEFyZWEgTmV4dCBhcmVhIHRvIGRpc3BsYXlcbiAgICovXG4gIHB1YmxpYyBzZXRBcmVhKG5leHRBcmVhOiBBcmVhU3RhdGUpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5uZXh0QXJlYSA9PT0gbnVsbCkge1xuICAgICAgdGhpcy5uZXh0QXJlYSA9IG5leHRBcmVhO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGFic29sdXRlIHdpZHRoIG9mIHRoZSBjYW52YXMgaW4gdGhlIGJyb3dzZXJcbiAgICovXG4gIHB1YmxpYyBnZXQgY2FudmFzV2lkdGgoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5jYW52YXMud2lkdGg7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBhYnNvbHV0ZSBoZWlnaHQgb2YgdGhlIGNhbnZhcyBpbiB0aGUgYnJvd3NlclxuICAgKi9cbiAgcHVibGljIGdldCBjYW52YXNIZWlnaHQoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5jYW52YXMuaGVpZ2h0O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgYWJzb2x1dGUgd2lkdGggb2YgdGhlIG92ZXJsYXkgY2FudmFzIGluIHRoZSBicm93c2VyXG4gICAqL1xuICBwdWJsaWMgZ2V0IG92ZXJsYXlXaWR0aCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLm92ZXJsYXlDYW52YXMud2lkdGg7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBhYnNvbHV0ZSBoZWlnaHQgb2YgdGhlIG92ZXJsYXkgY2FudmFzIGluIHRoZSBicm93c2VyXG4gICAqL1xuICBwdWJsaWMgZ2V0IG92ZXJsYXlIZWlnaHQoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5vdmVybGF5Q2FudmFzLmhlaWdodDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSdW4gYSBzaW5nbGUgZ2FtZSB0aWNrIGluIHRoZSBlbmdpbmVcbiAgICovXG4gIHByaXZhdGUgdGljaygpOiB2b2lkIHtcbiAgICB0aGlzLnJlc2l6ZUNhbnZhcygpO1xuXG4gICAgLy8gQnVpbGQgdGhlIG5leHQgYXJlYVxuICAgIGlmICh0aGlzLm5leHRBcmVhICE9PSBudWxsKSB7XG4gICAgICB0aGlzLl9jdXJyZW50QXJlYSA9IG5ldyBBcmVhKHRoaXMsIHRoaXMubmV4dEFyZWEpO1xuICAgICAgdGhpcy5uZXh0QXJlYSA9IG51bGw7XG4gICAgICB0aGlzLmN1cnJlbnRBcmVhLnN0YXRlLm9uQ3JlYXRlKHRoaXMuY3VycmVudEFyZWEpO1xuICAgIH1cblxuICAgIC8vIEFyZWEgYWN0aW9uc1xuICAgIHRoaXMuY3VycmVudEFyZWEuX3RpY2tUaW1lcnMoKTtcbiAgICB0aGlzLmN1cnJlbnRBcmVhLnN0YXRlLm9uU3RlcCgpO1xuXG4gICAgLy8gRW50aXR5IGFjdGlvbnNcbiAgICB0aGlzLmN1cnJlbnRBcmVhLl9jcmVhdGVFbnRpdGllcygpO1xuICAgIHRoaXMuY3VycmVudEFyZWEuX2Rlc3Ryb3lFbnRpdGllcygpO1xuICAgIHRoaXMuY3VycmVudEFyZWEuX3RpY2tFbnRpdHlUaW1lcnMoKTtcbiAgICB0aGlzLmN1cnJlbnRBcmVhLl9zdGVwRW50aXRpZXMoKTtcblxuICAgIC8vIERyYXcgc2NlbmVcbiAgICB0aGlzLmN1cnJlbnRBcmVhLl9kcmF3U2NlbmUodGhpcy5yZW5kZXJlciwgdGhpcy5vdmVybGF5Q2FudmFzKTtcblxuICAgIC8vIFVwZGF0ZSBpbnB1dFxuICAgIHRoaXMuaW5wdXQuX2NsZWFyS2V5VGljaygpO1xuICAgIHRoaXMuaW5wdXQuX3VwZGF0ZUdhbWVwYWQoKTtcbiAgICB0aGlzLmlucHV0Ll9jbGVhck1vdXNlVGljaygpO1xuXG4gICAgLy8gS2VlcCBydW5uaW5nP1xuICAgIGlmICh0aGlzLnJ1bm5pbmcgPT09IHRydWUpIHtcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLnRpY2suYmluZCh0aGlzKSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEF1dG9tYXRpY2FsbHkgcmVzaXplIHRoZSBjYW52YXMgYW5kIHRoZSByZW5kZXJlciB0byBtYXRjaCB0aGUgY29ycmVjdCBzaXplXG4gICAqL1xuICBwcml2YXRlIHJlc2l6ZUNhbnZhcygpOiB2b2lkIHtcbiAgICBjb25zdCBbZGlzcGxheVdpZHRoLCBkaXNwbGF5SGVpZ2h0XSA9XG4gICAgICB0aGlzLnNjcmVlblNpemUgPT09IG51bGwgPyBbdGhpcy5jYW52YXMuY2xpZW50V2lkdGgsIHRoaXMuY2FudmFzLmNsaWVudEhlaWdodF0gOiB0aGlzLnNjcmVlblNpemU7XG5cbiAgICAvLyBObyBuZWVkIHRvIHVwZGF0ZVxuICAgIGlmICh0aGlzLmNhbnZhcy53aWR0aCA9PT0gZGlzcGxheVdpZHRoICYmIHRoaXMuY2FudmFzLmhlaWdodCA9PT0gZGlzcGxheUhlaWdodCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuY2FudmFzLndpZHRoID0gZGlzcGxheVdpZHRoO1xuICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IGRpc3BsYXlIZWlnaHQ7XG4gICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKGRpc3BsYXlXaWR0aCwgZGlzcGxheUhlaWdodCwgZmFsc2UpO1xuICB9XG59XG4iLCJpbXBvcnQgYXBpIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCI7XG4gICAgICAgICAgICBpbXBvcnQgY29udGVudCBmcm9tIFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlcy5jc3NcIjtcblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5pbnNlcnQgPSBcImhlYWRcIjtcbm9wdGlvbnMuc2luZ2xldG9uID0gZmFsc2U7XG5cbnZhciB1cGRhdGUgPSBhcGkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5leHBvcnQgZGVmYXVsdCBjb250ZW50LmxvY2FscyB8fCB7fTsiLCJpbXBvcnQgeyBUaXRsZUFyZWEgfSBmcm9tICdhcmVhcy9UaXRsZUFyZWEnO1xuaW1wb3J0IHsgR2FtZSB9IGZyb20gJ2VuZ2luZS9nYW1lJztcbmltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcbmltcG9ydCAnLi9zdHlsZXMuY3NzJztcblxuLy8gVGV4dHVyZXNcbmltcG9ydCBTa3lib3hQb3NYIGZyb20gJ2Fzc2V0cy9za3lib3gvcG9zeC5qcGcnO1xuaW1wb3J0IFNreWJveE5lZ1ggZnJvbSAnYXNzZXRzL3NreWJveC9uZWd4LmpwZyc7XG5pbXBvcnQgU2t5Ym94UG9zWSBmcm9tICdhc3NldHMvc2t5Ym94L3Bvc3kuanBnJztcbmltcG9ydCBTa3lib3hOZWdZIGZyb20gJ2Fzc2V0cy9za3lib3gvbmVneS5qcGcnO1xuaW1wb3J0IFNreWJveFBvc1ogZnJvbSAnYXNzZXRzL3NreWJveC9wb3N6LmpwZyc7XG5pbXBvcnQgU2t5Ym94TmVnWiBmcm9tICdhc3NldHMvc2t5Ym94L25lZ3ouanBnJztcbmltcG9ydCBHcmFzc0NvbG9yIGZyb20gJ2Fzc2V0cy90ZXh0dXJlcy9ncmFzcy1jb2xvci5wbmcnO1xuaW1wb3J0IEdyYXNzTnJtIGZyb20gJ2Fzc2V0cy90ZXh0dXJlcy9ncmFzcy1ub3JtYWwucG5nJztcbmltcG9ydCBHcmFzc09jYyBmcm9tICdhc3NldHMvdGV4dHVyZXMvZ3Jhc3Mtb2NjLnBuZyc7XG5pbXBvcnQgQnJpY2tDb2xvciBmcm9tICdhc3NldHMvdGV4dHVyZXMvYnJpY2stY29sb3IuanBnJztcbmltcG9ydCBCcmlja05ybSBmcm9tICdhc3NldHMvdGV4dHVyZXMvYnJpY2stbm9ybWFsLmpwZyc7XG5pbXBvcnQgQnJpY2tPY2MgZnJvbSAnYXNzZXRzL3RleHR1cmVzL2JyaWNrLW9jYy5qcGcnO1xuXG4vLyBPYmplY3RzXG5pbXBvcnQgV2FsbCBmcm9tICdhc3NldHMvb2JqZWN0cy9XYWxsLmdsYic7XG5pbXBvcnQgRG9vciBmcm9tICdhc3NldHMvb2JqZWN0cy9Eb29yLmdsYic7XG5pbXBvcnQgVG9nZ2xlRG9vciBmcm9tICdhc3NldHMvb2JqZWN0cy9Ub2dnbGVEb29yLmdsYic7XG5pbXBvcnQgRWxlY3RyaWNEb29yIGZyb20gJ2Fzc2V0cy9vYmplY3RzL0VsZWN0cmljRG9vci5nbGInO1xuaW1wb3J0IEtleSBmcm9tICdhc3NldHMvb2JqZWN0cy9LZXkuZ2xiJztcbmltcG9ydCBCYXR0ZXJ5IGZyb20gJ2Fzc2V0cy9vYmplY3RzL0JhdHRlcnkuZ2xiJztcbmltcG9ydCBMZXZlciBmcm9tICdhc3NldHMvb2JqZWN0cy9MZXZlci5nbGInO1xuaW1wb3J0IEVsZWN0cmljQm94IGZyb20gJ2Fzc2V0cy9vYmplY3RzL0VsZWN0cmljQm94LmdsYic7XG5pbXBvcnQgUm9jayBmcm9tICdhc3NldHMvb2JqZWN0cy9Sb2NrLmdsYic7XG5pbXBvcnQgRHJvbmUgZnJvbSAnYXNzZXRzL29iamVjdHMvRHJvbmUuZ2xiJztcbmltcG9ydCBHdW4gZnJvbSAnYXNzZXRzL29iamVjdHMvR3VuLmdsYic7XG5pbXBvcnQgTWF6ZU1hcCBmcm9tICdhc3NldHMvb2JqZWN0cy9NYXAuZ2xiJztcbmltcG9ydCBFeHBsb3Npb24gZnJvbSAnYXNzZXRzL29iamVjdHMvRXhwbG9zaW9uLmdsYic7XG5pbXBvcnQgUG9ydGFsIGZyb20gJ2Fzc2V0cy9vYmplY3RzL1BvcnRhbC5nbGInO1xuXG4vLyBJbWFnZXNcbmltcG9ydCBSZWRLZXkgZnJvbSAnYXNzZXRzL2ltYWdlcy9SZWRLZXkucG5nJztcbmltcG9ydCBZZWxsb3dLZXkgZnJvbSAnYXNzZXRzL2ltYWdlcy9ZZWxsb3dLZXkucG5nJztcbmltcG9ydCBHcmVlbktleSBmcm9tICdhc3NldHMvaW1hZ2VzL0dyZWVuS2V5LnBuZyc7XG5pbXBvcnQgQmx1ZUtleSBmcm9tICdhc3NldHMvaW1hZ2VzL0JsdWVLZXkucG5nJztcbmltcG9ydCBFbmVyZ3kgZnJvbSAnYXNzZXRzL2ltYWdlcy9FbmVyZ3kucG5nJztcbmltcG9ydCBCYXR0ZXJ5SWNvbiBmcm9tICdhc3NldHMvaW1hZ2VzL0JhdHRlcnkucG5nJztcbmltcG9ydCBMZXZlckljb24gZnJvbSAnYXNzZXRzL2ltYWdlcy9MZXZlci5wbmcnO1xuaW1wb3J0IExldmVyUmV2ZXJzZUljb24gZnJvbSAnYXNzZXRzL2ltYWdlcy9MZXZlclJldmVyc2UucG5nJztcbmltcG9ydCBFbGVjdHJpY0JveEljb24gZnJvbSAnYXNzZXRzL2ltYWdlcy9FbGVjdHJpY0JveC5wbmcnO1xuaW1wb3J0IEd1bkljb24gZnJvbSAnYXNzZXRzL2ltYWdlcy9HdW4ucG5nJztcbmltcG9ydCBNYXBJY29uIGZyb20gJ2Fzc2V0cy9pbWFnZXMvTWFwLnBuZyc7XG5cbi8vIFNvdW5kc1xuaW1wb3J0IFBsYXllclNob290IGZyb20gJ2Fzc2V0cy9zb3VuZHMvcGxheWVyLXNob290Lndhdic7XG5pbXBvcnQgRHJvbmVTaG9vdCBmcm9tICdhc3NldHMvc291bmRzL2Ryb25lLXNob290Lndhdic7XG5pbXBvcnQgSGl0T2JqZWN0IGZyb20gJ2Fzc2V0cy9zb3VuZHMvaGl0LW9iamVjdC53YXYnO1xuaW1wb3J0IE9vZiBmcm9tICdhc3NldHMvc291bmRzL29vZi53YXYnO1xuaW1wb3J0IENvbGxlY3RJdGVtIGZyb20gJ2Fzc2V0cy9zb3VuZHMvY29sbGVjdC1pdGVtLndhdic7XG5pbXBvcnQgT3BlbkRvb3IgZnJvbSAnYXNzZXRzL3NvdW5kcy9vcGVuLWRvb3Iud2F2JztcbmltcG9ydCBPcGVuQmlnRG9vciBmcm9tICdhc3NldHMvc291bmRzL29wZW4tYmlnLWRvb3Iud2F2JztcbmltcG9ydCBUb2dnbGVMZXZlciBmcm9tICdhc3NldHMvc291bmRzL3RvZ2dsZS1sZXZlci53YXYnO1xuaW1wb3J0IEVsZWN0cmljQm94U291bmQgZnJvbSAnYXNzZXRzL3NvdW5kcy9lbGVjdHJpYy1ib3gud2F2JztcbmltcG9ydCBFeHBsb3Npb25Tb3VuZCBmcm9tICdhc3NldHMvc291bmRzL2V4cGxvc2lvbi53YXYnO1xuaW1wb3J0IEFjdGl2YXRlUG9ydGFsIGZyb20gJ2Fzc2V0cy9zb3VuZHMvYWN0aXZhdGUtcG9ydGFsLndhdic7XG5pbXBvcnQgRW50ZXJQb3J0YWwgZnJvbSAnYXNzZXRzL3NvdW5kcy9lbnRlci1wb3J0YWwud2F2JztcblxuLy8gTXVzaWNcbmltcG9ydCBUaXRsZU11c2ljIGZyb20gJ2Fzc2V0cy9tdXNpYy90aXRsZS53YXYnO1xuaW1wb3J0IEludHJvTXVzaWMgZnJvbSAnYXNzZXRzL211c2ljL2ludHJvLndhdic7XG5pbXBvcnQgRm9yZXN0QW1iaWVuY2UgZnJvbSAnYXNzZXRzL211c2ljL2ZvcmVzdC1hbWJpZW5jZS53YXYnO1xuaW1wb3J0IEhlYXJ0TW9uaXRvciBmcm9tICdhc3NldHMvbXVzaWMvaGVhcnQtbW9uaXRvci53YXYnO1xuaW1wb3J0IHsgREVGQVVMVF9FUlJPUl9IQU5ETEVSLCBERUZBVUxUX1BST0dSRVNTX0hBTkRMRVIgfSBmcm9tICdlbmdpbmUvYXNzZXRzJztcblxuLy8gQnVpbGQgdGhlIGNhbnZhcyBvYmplY3RzXG5jb25zdCBnYW1lQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGdhbWVDYW52YXMpO1xuXG5jb25zdCBvdmVybGF5Q2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG5vdmVybGF5Q2FudmFzLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnMCcpO1xub3ZlcmxheUNhbnZhcy5jbGFzc0xpc3QuYWRkKCdvdmVybGF5Jyk7XG5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG92ZXJsYXlDYW52YXMpO1xuXG5jb25zdCBnYW1lID0gbmV3IEdhbWUoZ2FtZUNhbnZhcywgb3ZlcmxheUNhbnZhcyk7XG5cbi8vIENvbmZpZ3VyZSB0aGUgXCJsb2FkaW5nXCIgdGV4dFxub3ZlcmxheUNhbnZhcy53aWR0aCA9IG92ZXJsYXlDYW52YXMuY2xpZW50V2lkdGg7XG5vdmVybGF5Q2FudmFzLmhlaWdodCA9IG92ZXJsYXlDYW52YXMuY2xpZW50SGVpZ2h0O1xuY29uc3QgZzJkID0gb3ZlcmxheUNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuZzJkLmZvbnQgPSAnMTJwdCBzYW5zLXNlcmlmJztcbmcyZC5maWxsU3R5bGUgPSAnd2hpdGUnO1xuZzJkLnRleHRBbGlnbiA9ICdjZW50ZXInO1xuZzJkLnRleHRCYXNlbGluZSA9ICdtaWRkbGUnO1xuZzJkLmZpbGxUZXh0KCdMb2FkaW5nIGdhbWUuLi4nLCBvdmVybGF5Q2FudmFzLndpZHRoIC8gMiwgb3ZlcmxheUNhbnZhcy5oZWlnaHQgLyAyKTtcblxuLy8gU2hvdyBsb2FkaW5nIHByb2dyZXNzXG5sZXQgZXJyb3JPY2N1cmVkID0gZmFsc2U7XG5nYW1lLmFzc2V0cy5wcm9ncmVzc0hhbmRsZXIgPSAoaW5wdXQpID0+IHtcbiAgaWYgKCFlcnJvck9jY3VyZWQpIHtcbiAgICBkcmF3TG9hZGluZ1Byb2dyZXNzKGcyZCwgaW5wdXQpO1xuICB9XG4gIERFRkFVTFRfUFJPR1JFU1NfSEFORExFUihpbnB1dCk7XG59O1xuXG4vLyBTaG93IGFuIGVycm9yIG1lc3NhZ2VcbmdhbWUuYXNzZXRzLmVycm9ySGFuZGxlciA9IChpbnB1dCkgPT4ge1xuICBlcnJvck9jY3VyZWQgPSB0cnVlO1xuICBkcmF3TG9hZGluZ1Byb2dyZXNzKGcyZCwgaW5wdXQsICdyZWQnKTtcbiAgREVGQVVMVF9FUlJPUl9IQU5ETEVSKGlucHV0KTtcbn07XG5cbmxvYWRBbGxBc3NldHMoZ2FtZSlcbiAgLnRoZW4oKGdhbWUpID0+IHtcbiAgICBnYW1lLnN0YXJ0KG5ldyBUaXRsZUFyZWEoKSk7XG4gIH0pXG4gIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICBjb25zb2xlLmxvZygnRmFpbGVkIHRvIGxvYWQgYXNzZXRzOiAnICsgZXJyb3IsIGVycm9yLnN0YWNrKTtcbiAgfSk7XG5cbi8qKlxuICogTG9hZCBhbGwgb2YgdGhlIGdhbWUgYXNzZXRzIGFzeW5jaHJvbm91c2x5XG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGxvYWRBbGxBc3NldHMoZ2FtZTogR2FtZSk6IFByb21pc2U8R2FtZT4ge1xuICBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgZ2FtZS5hc3NldHMubG9hZFRleHR1cmUoJ0dyYXNzQ29sb3InLCBHcmFzc0NvbG9yKSxcbiAgICBnYW1lLmFzc2V0cy5sb2FkVGV4dHVyZSgnR3Jhc3NOb3JtYWwnLCBHcmFzc05ybSksXG4gICAgZ2FtZS5hc3NldHMubG9hZFRleHR1cmUoJ0dyYXNzT2NjbHVzaW9uJywgR3Jhc3NPY2MpLFxuICAgIGdhbWUuYXNzZXRzLmxvYWRUZXh0dXJlKCdCcmlja0NvbG9yJywgQnJpY2tDb2xvciksXG4gICAgZ2FtZS5hc3NldHMubG9hZFRleHR1cmUoJ0JyaWNrTm9ybWFsJywgQnJpY2tOcm0pLFxuICAgIGdhbWUuYXNzZXRzLmxvYWRUZXh0dXJlKCdCcmlja09jY2x1c2lvbicsIEJyaWNrT2NjKSxcblxuICAgIGdhbWUuYXNzZXRzLmxvYWRDdWJlVGV4dHVyZSgnU2t5Ym94QkcnLCB7XG4gICAgICBwb3NpdGl2ZVg6IFNreWJveFBvc1gsXG4gICAgICBuZWdhdGl2ZVg6IFNreWJveE5lZ1gsXG4gICAgICBwb3NpdGl2ZVk6IFNreWJveFBvc1ksXG4gICAgICBuZWdhdGl2ZVk6IFNreWJveE5lZ1ksXG4gICAgICBwb3NpdGl2ZVo6IFNreWJveFBvc1osXG4gICAgICBuZWdhdGl2ZVo6IFNreWJveE5lZ1osXG4gICAgfSksXG5cbiAgICBnYW1lLmFzc2V0cy5sb2FkR0xURkZpbGUoV2FsbCwgKGdsYiwgbWFuYWdlcikgPT4ge1xuICAgICAgbWFuYWdlci5zYXZlT2JqZWN0KCdXYWxsJywgZ2xiLnNjZW5lLmNoaWxkcmVuWzBdKTtcbiAgICB9KSxcbiAgICBnYW1lLmFzc2V0cy5sb2FkR0xURkZpbGUoRG9vciwgKGdsYiwgbWFuYWdlcikgPT4ge1xuICAgICAgbWFuYWdlci5zYXZlT2JqZWN0KCdEb29yJywgZ2xiLnNjZW5lKTtcbiAgICAgIGZvciAoY29uc3QgYW5pbWF0aW9uIG9mIGdsYi5hbmltYXRpb25zKSB7XG4gICAgICAgIG1hbmFnZXIuc2F2ZUFuaW1hdGlvbihhbmltYXRpb24ubmFtZSwgYW5pbWF0aW9uKTtcbiAgICAgIH1cblxuICAgICAgLy8gRml4IHRoZSBtYXRlcmlhbFxuICAgICAgYWRqdXN0RW1pc3Npb24oZ2xiLnNjZW5lLmNoaWxkcmVuWzBdLmNoaWxkcmVuWzBdIGFzIFRIUkVFLk1lc2gsIDB4NzM3MzczLCAwLjI1KTtcbiAgICAgIGFkanVzdEVtaXNzaW9uKGdsYi5zY2VuZS5jaGlsZHJlblsxXSBhcyBUSFJFRS5NZXNoLCAweDdhNmM2YywgMC4yNSk7XG4gICAgICBhZGp1c3RFbWlzc2lvbihnbGIuc2NlbmUuY2hpbGRyZW5bMl0gYXMgVEhSRUUuTWVzaCwgMHg3YTZjNmMsIDAuMjUpO1xuICAgIH0pLFxuICAgIGdhbWUuYXNzZXRzLmxvYWRHTFRGRmlsZShUb2dnbGVEb29yLCAoZ2xiLCBtYW5hZ2VyKSA9PiB7XG4gICAgICBtYW5hZ2VyLnNhdmVPYmplY3QoJ1RvZ2dsZURvb3InLCBnbGIuc2NlbmUpO1xuXG4gICAgICAvLyBGaXggdGhlIG1hdGVyaWFsXG4gICAgICBhZGp1c3RFbWlzc2lvbihnbGIuc2NlbmUuY2hpbGRyZW5bMF0uY2hpbGRyZW5bMF0gYXMgVEhSRUUuTWVzaCwgMHg3MzczNzMsIDAuMjUpO1xuICAgICAgYWRqdXN0RW1pc3Npb24oZ2xiLnNjZW5lLmNoaWxkcmVuWzBdLmNoaWxkcmVuWzFdIGFzIFRIUkVFLk1lc2gsIDB4NjkwMGNjLCAwLjI1KTtcbiAgICAgIGFkanVzdEVtaXNzaW9uKGdsYi5zY2VuZS5jaGlsZHJlblsxXSBhcyBUSFJFRS5NZXNoLCAweDdhNmM2YywgMC4xNSk7XG4gICAgICBhZGp1c3RFbWlzc2lvbihnbGIuc2NlbmUuY2hpbGRyZW5bMl0gYXMgVEhSRUUuTWVzaCwgMHg3YTZjNmMsIDAuMTUpO1xuICAgIH0pLFxuICAgIGdhbWUuYXNzZXRzLmxvYWRHTFRGRmlsZShFbGVjdHJpY0Rvb3IsIChnbGIsIG1hbmFnZXIpID0+IHtcbiAgICAgIG1hbmFnZXIuc2F2ZU9iamVjdCgnRWxlY3RyaWNEb29yJywgZ2xiLnNjZW5lKTtcblxuICAgICAgLy8gRml4IHRoZSBtYXRlcmlhbFxuICAgICAgYWRqdXN0RW1pc3Npb24oZ2xiLnNjZW5lLmNoaWxkcmVuWzBdLmNoaWxkcmVuWzBdIGFzIFRIUkVFLk1lc2gsIDB4ZmZmZjAwLCAwLjI1KTtcbiAgICAgIGFkanVzdEVtaXNzaW9uKGdsYi5zY2VuZS5jaGlsZHJlblsxXSBhcyBUSFJFRS5NZXNoLCAweGZmZmZmZiwgMC4zKTtcbiAgICAgIGFkanVzdEVtaXNzaW9uKGdsYi5zY2VuZS5jaGlsZHJlblsyXSBhcyBUSFJFRS5NZXNoLCAweGZmZmZmZiwgMC4zKTtcbiAgICB9KSxcbiAgICBnYW1lLmFzc2V0cy5sb2FkR0xURkZpbGUoTGV2ZXIsIChnbGIsIG1hbmFnZXIpID0+IHtcbiAgICAgIG1hbmFnZXIuc2F2ZU9iamVjdCgnTGV2ZXInLCBnbGIuc2NlbmUuY2hpbGRyZW5bMF0pO1xuXG4gICAgICBmb3IgKGNvbnN0IGFuaW1hdGlvbiBvZiBnbGIuYW5pbWF0aW9ucykge1xuICAgICAgICBtYW5hZ2VyLnNhdmVBbmltYXRpb24oYW5pbWF0aW9uLm5hbWUsIGFuaW1hdGlvbik7XG4gICAgICB9XG4gICAgfSksXG4gICAgZ2FtZS5hc3NldHMubG9hZEdMVEZGaWxlKEtleSwgKGdsYiwgbWFuYWdlcikgPT4ge1xuICAgICAgbWFuYWdlci5zYXZlT2JqZWN0KCdLZXknLCBnbGIuc2NlbmUuY2hpbGRyZW5bMF0pO1xuICAgIH0pLFxuICAgIGdhbWUuYXNzZXRzLmxvYWRHTFRGRmlsZShCYXR0ZXJ5LCAoZ2xiLCBtYW5hZ2VyKSA9PiB7XG4gICAgICBtYW5hZ2VyLnNhdmVPYmplY3QoJ0JhdHRlcnknLCBnbGIuc2NlbmUuY2hpbGRyZW5bMF0pO1xuICAgIH0pLFxuICAgIGdhbWUuYXNzZXRzLmxvYWRHTFRGRmlsZShEcm9uZSwgKGdsYiwgbWFuYWdlcikgPT4ge1xuICAgICAgY29uc3QgZHJvbmUgPSBnbGIuc2NlbmUuY2hpbGRyZW5bMF07XG4gICAgICBtYW5hZ2VyLnNhdmVPYmplY3QoJ0Ryb25lJywgZHJvbmUpO1xuXG4gICAgICBhZGp1c3RFbWlzc2lvbihkcm9uZS5jaGlsZHJlblswXSBhcyBUSFJFRS5NZXNoLCAweDczNzM3MywgMC41KTtcbiAgICAgIGFkanVzdEVtaXNzaW9uKGRyb25lLmNoaWxkcmVuWzJdIGFzIFRIUkVFLk1lc2gsIDB4Mjc2MGYyLCAwLjI1KTtcbiAgICB9KSxcbiAgICBnYW1lLmFzc2V0cy5sb2FkR0xURkZpbGUoRWxlY3RyaWNCb3gsIChnbGIsIG1hbmFnZXIpID0+IHtcbiAgICAgIGNvbnN0IGJveCA9IGdsYi5zY2VuZS5jaGlsZHJlblswXTtcbiAgICAgIG1hbmFnZXIuc2F2ZU9iamVjdCgnRWxlY3RyaWNCb3gnLCBib3gpO1xuXG4gICAgICBhZGp1c3RFbWlzc2lvbihib3guY2hpbGRyZW5bMF0gYXMgVEhSRUUuTWVzaCwgMHg4Nzg3ODcsIDAuNSk7XG5cbiAgICAgIGZvciAoY29uc3QgYW5pbWF0aW9uIG9mIGdsYi5hbmltYXRpb25zKSB7XG4gICAgICAgIG1hbmFnZXIuc2F2ZUFuaW1hdGlvbihhbmltYXRpb24ubmFtZSwgYW5pbWF0aW9uKTtcbiAgICAgIH1cbiAgICB9KSxcbiAgICBnYW1lLmFzc2V0cy5sb2FkR0xURkZpbGUoUm9jaywgKGdsYiwgbWFuYWdlcikgPT4ge1xuICAgICAgbWFuYWdlci5zYXZlT2JqZWN0KCdSb2NrJywgZ2xiLnNjZW5lLmNoaWxkcmVuWzBdKTtcbiAgICB9KSxcbiAgICBnYW1lLmFzc2V0cy5sb2FkR0xURkZpbGUoR3VuLCAoZ2xiLCBtYW5hZ2VyKSA9PiB7XG4gICAgICBtYW5hZ2VyLnNhdmVPYmplY3QoJ0d1bicsIGdsYi5zY2VuZSk7XG4gICAgfSksXG4gICAgZ2FtZS5hc3NldHMubG9hZEdMVEZGaWxlKE1hemVNYXAsIChnbGIsIG1hbmFnZXIpID0+IHtcbiAgICAgIG1hbmFnZXIuc2F2ZU9iamVjdCgnTWFwJywgZ2xiLnNjZW5lLmNoaWxkcmVuWzBdKTtcbiAgICB9KSxcbiAgICBnYW1lLmFzc2V0cy5sb2FkR0xURkZpbGUoRXhwbG9zaW9uLCAoZ2xiLCBtYW5hZ2VyKSA9PiB7XG4gICAgICBjb25zdCBleHBsb3Npb24gPSBnbGIuc2NlbmUuY2hpbGRyZW5bMF0gYXMgVEhSRUUuTWVzaDtcbiAgICAgIG1hbmFnZXIuc2F2ZU9iamVjdCgnRXhwbG9zaW9uJywgZXhwbG9zaW9uKTtcblxuICAgICAgY29uc3QgbWF0ZXJpYWwgPSBleHBsb3Npb24ubWF0ZXJpYWwgYXMgVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWw7XG4gICAgICBtYXRlcmlhbC50cmFuc3BhcmVudCA9IHRydWU7XG4gICAgICBtYXRlcmlhbC5vcGFjaXR5ID0gMC43NTtcbiAgICB9KSxcbiAgICBnYW1lLmFzc2V0cy5sb2FkR0xURkZpbGUoUG9ydGFsLCAoZ2xiLCBtYW5hZ2VyKSA9PiB7XG4gICAgICBtYW5hZ2VyLnNhdmVPYmplY3QoJ1BvcnRhbCcsIGdsYi5zY2VuZSk7XG4gICAgICBmb3IgKGNvbnN0IGFuaW1hdGlvbiBvZiBnbGIuYW5pbWF0aW9ucykge1xuICAgICAgICBtYW5hZ2VyLnNhdmVBbmltYXRpb24oYW5pbWF0aW9uLm5hbWUsIGFuaW1hdGlvbik7XG4gICAgICB9XG5cbiAgICAgIC8vIEZpeCB0aGUgcG9ydGFsIG1hdGVyaWFsc1xuICAgICAgYWRqdXN0RW1pc3Npb24oZ2xiLnNjZW5lLmNoaWxkcmVuWzFdIGFzIFRIUkVFLk1lc2gsIDB4NTExZjFmLCAwLjI1KTtcbiAgICAgIGNvbnN0IG1hdGVyaWFsID0gKGdsYi5zY2VuZS5jaGlsZHJlblsyXSBhcyBUSFJFRS5NZXNoKS5tYXRlcmlhbCBhcyBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbDtcbiAgICAgIG1hdGVyaWFsLnRyYW5zcGFyZW50ID0gdHJ1ZTtcbiAgICAgIG1hdGVyaWFsLm9wYWNpdHkgPSAwLjg7XG4gICAgfSksXG5cbiAgICBnYW1lLmFzc2V0cy5sb2FkSW1hZ2UoJ1JlZEtleScsIFJlZEtleSksXG4gICAgZ2FtZS5hc3NldHMubG9hZEltYWdlKCdZZWxsb3dLZXknLCBZZWxsb3dLZXkpLFxuICAgIGdhbWUuYXNzZXRzLmxvYWRJbWFnZSgnR3JlZW5LZXknLCBHcmVlbktleSksXG4gICAgZ2FtZS5hc3NldHMubG9hZEltYWdlKCdCbHVlS2V5JywgQmx1ZUtleSksXG4gICAgZ2FtZS5hc3NldHMubG9hZEltYWdlKCdFbmVyZ3knLCBFbmVyZ3kpLFxuICAgIGdhbWUuYXNzZXRzLmxvYWRJbWFnZSgnQmF0dGVyeScsIEJhdHRlcnlJY29uKSxcbiAgICBnYW1lLmFzc2V0cy5sb2FkSW1hZ2UoJ0xldmVyJywgTGV2ZXJJY29uKSxcbiAgICBnYW1lLmFzc2V0cy5sb2FkSW1hZ2UoJ0xldmVyUmV2ZXJzZScsIExldmVyUmV2ZXJzZUljb24pLFxuICAgIGdhbWUuYXNzZXRzLmxvYWRJbWFnZSgnRWxlY3RyaWNCb3gnLCBFbGVjdHJpY0JveEljb24pLFxuICAgIGdhbWUuYXNzZXRzLmxvYWRJbWFnZSgnR3VuJywgR3VuSWNvbiksXG4gICAgZ2FtZS5hc3NldHMubG9hZEltYWdlKCdNYXAnLCBNYXBJY29uKSxcblxuICAgIGdhbWUuYXNzZXRzLmxvYWRBdWRpb0ZpbGUoJ1BsYXllclNob290JywgUGxheWVyU2hvb3QpLFxuICAgIGdhbWUuYXNzZXRzLmxvYWRBdWRpb0ZpbGUoJ0Ryb25lU2hvb3QnLCBEcm9uZVNob290KSxcbiAgICBnYW1lLmFzc2V0cy5sb2FkQXVkaW9GaWxlKCdIaXRPYmplY3QnLCBIaXRPYmplY3QpLFxuICAgIGdhbWUuYXNzZXRzLmxvYWRBdWRpb0ZpbGUoJ09vZicsIE9vZiksXG4gICAgZ2FtZS5hc3NldHMubG9hZEF1ZGlvRmlsZSgnQ29sbGVjdEl0ZW0nLCBDb2xsZWN0SXRlbSksXG4gICAgZ2FtZS5hc3NldHMubG9hZEF1ZGlvRmlsZSgnT3BlbkRvb3InLCBPcGVuRG9vciksXG4gICAgZ2FtZS5hc3NldHMubG9hZEF1ZGlvRmlsZSgnT3BlbkJpZ0Rvb3InLCBPcGVuQmlnRG9vciksXG4gICAgZ2FtZS5hc3NldHMubG9hZEF1ZGlvRmlsZSgnVG9nZ2xlTGV2ZXInLCBUb2dnbGVMZXZlciksXG4gICAgZ2FtZS5hc3NldHMubG9hZEF1ZGlvRmlsZSgnRWxlY3RyaWNCb3gnLCBFbGVjdHJpY0JveFNvdW5kKSxcbiAgICBnYW1lLmFzc2V0cy5sb2FkQXVkaW9GaWxlKCdFeHBsb3Npb24nLCBFeHBsb3Npb25Tb3VuZCksXG4gICAgZ2FtZS5hc3NldHMubG9hZEF1ZGlvRmlsZSgnQWN0aXZhdGVQb3J0YWwnLCBBY3RpdmF0ZVBvcnRhbCksXG4gICAgZ2FtZS5hc3NldHMubG9hZEF1ZGlvRmlsZSgnRW50ZXJQb3J0YWwnLCBFbnRlclBvcnRhbCksXG5cbiAgICBnYW1lLmFzc2V0cy5sb2FkQXVkaW9GaWxlKCdUaXRsZScsIFRpdGxlTXVzaWMpLFxuICAgIGdhbWUuYXNzZXRzLmxvYWRBdWRpb0ZpbGUoJ0ludHJvJywgSW50cm9NdXNpYyksXG4gICAgZ2FtZS5hc3NldHMubG9hZEF1ZGlvRmlsZSgnRm9yZXN0QW1iaWVuY2UnLCBGb3Jlc3RBbWJpZW5jZSksXG4gICAgZ2FtZS5hc3NldHMubG9hZEF1ZGlvRmlsZSgnSGVhcnRNb25pdG9yJywgSGVhcnRNb25pdG9yKSxcbiAgXSk7XG5cbiAgcmV0dXJuIGdhbWU7XG59XG5cbmZ1bmN0aW9uIGFkanVzdEVtaXNzaW9uKG1lc2g6IFRIUkVFLk1lc2gsIGNvbG9yOiBzdHJpbmcgfCBudW1iZXIgfCBUSFJFRS5Db2xvciwgaW50ZW5zaXR5OiBudW1iZXIpIHtcbiAgY29uc3QgbWF0ZXJpYWwgPSBtZXNoLm1hdGVyaWFsIGFzIFRIUkVFLk1lc2hTdGFuZGFyZE1hdGVyaWFsO1xuICBtYXRlcmlhbC5lbWlzc2l2ZS5zZXQoY29sb3IpO1xuICBtYXRlcmlhbC5lbWlzc2l2ZUludGVuc2l0eSA9IGludGVuc2l0eTtcbn1cblxuZnVuY3Rpb24gZHJhd0xvYWRpbmdQcm9ncmVzcyhnMmQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgdGV4dDogc3RyaW5nLCBjb2xvciA9ICd3aGl0ZScpOiB2b2lkIHtcbiAgZzJkLmNsZWFyUmVjdCgwLCAoNSAqIG92ZXJsYXlDYW52YXMuaGVpZ2h0KSAvIDgsIG92ZXJsYXlDYW52YXMud2lkdGgsICg3ICogb3ZlcmxheUNhbnZhcy5oZWlnaHQpIC8gOCk7XG4gIGcyZC5maWxsU3R5bGUgPSBjb2xvcjtcbiAgZzJkLmZpbGxUZXh0KHRleHQsIG92ZXJsYXlDYW52YXMud2lkdGggLyAyLCAoMyAqIG92ZXJsYXlDYW52YXMuaGVpZ2h0KSAvIDQpO1xufVxuIiwiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9jc3NXaXRoTWFwcGluZ1RvU3RyaW5nLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgXCIqIHtcXG4gIG1hcmdpbjogMDtcXG4gIHBhZGRpbmc6IDA7XFxufVxcblxcbmJvZHksXFxuaHRtbCB7XFxuICBoZWlnaHQ6IDEwMCU7XFxufVxcblxcbmNhbnZhcyB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB3aWR0aDogMTAwJTtcXG4gIGhlaWdodDogMTAwJTtcXG59XFxuXFxuY2FudmFzLm92ZXJsYXkge1xcbiAgei1pbmRleDogMTA7XFxufVxcblwiLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL3NyYy9zdHlsZXMuY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUFBO0VBQ0UsU0FBUztFQUNULFVBQVU7QUFDWjs7QUFFQTs7RUFFRSxZQUFZO0FBQ2Q7O0FBRUE7RUFDRSxrQkFBa0I7RUFDbEIsV0FBVztFQUNYLFlBQVk7QUFDZDs7QUFFQTtFQUNFLFdBQVc7QUFDYlwiLFwic291cmNlc0NvbnRlbnRcIjpbXCIqIHtcXG4gIG1hcmdpbjogMDtcXG4gIHBhZGRpbmc6IDA7XFxufVxcblxcbmJvZHksXFxuaHRtbCB7XFxuICBoZWlnaHQ6IDEwMCU7XFxufVxcblxcbmNhbnZhcyB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB3aWR0aDogMTAwJTtcXG4gIGhlaWdodDogMTAwJTtcXG59XFxuXFxuY2FudmFzLm92ZXJsYXkge1xcbiAgei1pbmRleDogMTA7XFxufVxcblwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdGlkOiBtb2R1bGVJZCxcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuLy8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbl9fd2VicGFja19yZXF1aXJlX18ubSA9IF9fd2VicGFja19tb2R1bGVzX187XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIl9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiL1RyYXBwZWRJbnNpZGUvXCI7IiwiLy8gbm8gYmFzZVVSSVxuXG4vLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIGFuZCBsb2FkaW5nIGNodW5rc1xuLy8gdW5kZWZpbmVkID0gY2h1bmsgbm90IGxvYWRlZCwgbnVsbCA9IGNodW5rIHByZWxvYWRlZC9wcmVmZXRjaGVkXG4vLyBbcmVzb2x2ZSwgcmVqZWN0LCBQcm9taXNlXSA9IGNodW5rIGxvYWRpbmcsIDAgPSBjaHVuayBsb2FkZWRcbnZhciBpbnN0YWxsZWRDaHVua3MgPSB7XG5cdDE3OTogMFxufTtcblxuLy8gbm8gY2h1bmsgb24gZGVtYW5kIGxvYWRpbmdcblxuLy8gbm8gcHJlZmV0Y2hpbmdcblxuLy8gbm8gcHJlbG9hZGVkXG5cbi8vIG5vIEhNUlxuXG4vLyBubyBITVIgbWFuaWZlc3RcblxuX193ZWJwYWNrX3JlcXVpcmVfXy5PLmogPSAoY2h1bmtJZCkgPT4gKGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA9PT0gMCk7XG5cbi8vIGluc3RhbGwgYSBKU09OUCBjYWxsYmFjayBmb3IgY2h1bmsgbG9hZGluZ1xudmFyIHdlYnBhY2tKc29ucENhbGxiYWNrID0gKHBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uLCBkYXRhKSA9PiB7XG5cdHZhciBbY2h1bmtJZHMsIG1vcmVNb2R1bGVzLCBydW50aW1lXSA9IGRhdGE7XG5cdC8vIGFkZCBcIm1vcmVNb2R1bGVzXCIgdG8gdGhlIG1vZHVsZXMgb2JqZWN0LFxuXHQvLyB0aGVuIGZsYWcgYWxsIFwiY2h1bmtJZHNcIiBhcyBsb2FkZWQgYW5kIGZpcmUgY2FsbGJhY2tcblx0dmFyIG1vZHVsZUlkLCBjaHVua0lkLCBpID0gMDtcblx0Zm9yKG1vZHVsZUlkIGluIG1vcmVNb2R1bGVzKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcblx0XHRcdF9fd2VicGFja19yZXF1aXJlX18ubVttb2R1bGVJZF0gPSBtb3JlTW9kdWxlc1ttb2R1bGVJZF07XG5cdFx0fVxuXHR9XG5cdGlmKHJ1bnRpbWUpIHJ1bnRpbWUoX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cdGlmKHBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uKSBwYXJlbnRDaHVua0xvYWRpbmdGdW5jdGlvbihkYXRhKTtcblx0Zm9yKDtpIDwgY2h1bmtJZHMubGVuZ3RoOyBpKyspIHtcblx0XHRjaHVua0lkID0gY2h1bmtJZHNbaV07XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGluc3RhbGxlZENodW5rcywgY2h1bmtJZCkgJiYgaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdKSB7XG5cdFx0XHRpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF1bMF0oKTtcblx0XHR9XG5cdFx0aW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRzW2ldXSA9IDA7XG5cdH1cblx0X193ZWJwYWNrX3JlcXVpcmVfXy5PKCk7XG59XG5cbnZhciBjaHVua0xvYWRpbmdHbG9iYWwgPSBzZWxmW1wid2VicGFja0NodW5rZ2FtZV9lbmdpbmVcIl0gPSBzZWxmW1wid2VicGFja0NodW5rZ2FtZV9lbmdpbmVcIl0gfHwgW107XG5jaHVua0xvYWRpbmdHbG9iYWwuZm9yRWFjaCh3ZWJwYWNrSnNvbnBDYWxsYmFjay5iaW5kKG51bGwsIDApKTtcbmNodW5rTG9hZGluZ0dsb2JhbC5wdXNoID0gd2VicGFja0pzb25wQ2FsbGJhY2suYmluZChudWxsLCBjaHVua0xvYWRpbmdHbG9iYWwucHVzaC5iaW5kKGNodW5rTG9hZGluZ0dsb2JhbCkpOyIsIi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLy8gVGhpcyBlbnRyeSBtb2R1bGUgZGVwZW5kcyBvbiBvdGhlciBsb2FkZWQgY2h1bmtzIGFuZCBleGVjdXRpb24gbmVlZCB0byBiZSBkZWxheWVkXG52YXIgX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18uTyh1bmRlZmluZWQsIFs4MjZdLCAoKSA9PiAoX193ZWJwYWNrX3JlcXVpcmVfXyg1Mzk2KSkpXG5fX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXy5PKF9fd2VicGFja19leHBvcnRzX18pO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==