(()=>{"use strict";var t,e={4855:(t,e,n)=>{t.exports=n.p+"b990773c273da73f4014.png"},6013:(t,e,n)=>{t.exports=n.p+"8f44230d3f35bb4fb8ba.png"},7922:(t,e,n)=>{t.exports=n.p+"2e044db88d6fcd9bae96.png"},2798:(t,e,n)=>{t.exports=n.p+"7889a193c4e3735a03ae.png"},2606:(t,e,n)=>{t.exports=n.p+"877d78469b1e3540553d.png"},3049:(t,e,n)=>{t.exports=n.p+"618568549cbb45c76e03.png"},5015:(t,e,n)=>{t.exports=n.p+"8d81a53a49b49ca8af3e.png"},3860:(t,e,n)=>{t.exports=n.p+"1b7c29ce23d0d646f2eb.png"},6627:(t,e,n)=>{t.exports=n.p+"d5bfc5f74b7a1c60f0ba.png"},8163:(t,e,n)=>{t.exports=n.p+"150748ca479ac03a530e.png"},595:(t,e,n)=>{t.exports=n.p+"93c47e74963cd5f1622d.png"},3012:t=>{t.exports="###n###\n#     #\n#     #\n# % m #\n#     #\n#  P  #\n#######"},8945:t=>{t.exports="#######\n### ###\n       \n# # # #\n# #   #\n# # # #\n# # ###\n#     #\n###n###\n#     #\n#     #\n#     #\n#  P  #\n#     #\n#     #\n#######"},6656:(t,e,n)=>{t.exports=n.p+"ec79279b19d6774e308d.wav"},9812:(t,e,n)=>{t.exports=n.p+"8a17c7f531bb669ef5af.wav"},3458:(t,e,n)=>{t.exports=n.p+"6e97d832f72662724b54.wav"},5436:(t,e,n)=>{t.exports=n.p+"d31775442b9d954f5569.wav"},833:(t,e,n)=>{t.exports=n.p+"f16726f62ee2d83fbc92.glb"},34:(t,e,n)=>{t.exports=n.p+"2a7e71e865e3bcb3cd0b.glb"},4316:(t,e,n)=>{t.exports=n.p+"5a338fce7a1f3c514f39.glb"},5965:(t,e,n)=>{t.exports=n.p+"bac1d5bb09ba958de0bd.glb"},111:(t,e,n)=>{t.exports=n.p+"de9941b2e1ad4b58053c.glb"},4770:(t,e,n)=>{t.exports=n.p+"44b259da6c726aed0514.glb"},8244:(t,e,n)=>{t.exports=n.p+"10af00bfb21df68f26c7.glb"},9216:(t,e,n)=>{t.exports=n.p+"4f1e141de41afb7af73a.glb"},7446:(t,e,n)=>{t.exports=n.p+"7576b2b9465999787b3f.glb"},5140:(t,e,n)=>{t.exports=n.p+"7a438c705b6280c743db.glb"},2475:(t,e,n)=>{t.exports=n.p+"488f6b1976fde6272404.glb"},2409:(t,e,n)=>{t.exports=n.p+"3a87d2b6d3515edde78b.glb"},4505:(t,e,n)=>{t.exports=n.p+"8acdf5702fcb35acd623.glb"},7928:(t,e,n)=>{t.exports=n.p+"bf2bcb05f89d9c777a9b.glb"},1177:(t,e,n)=>{t.exports=n.p+"92b770847f0c904691fa.jpg"},7131:(t,e,n)=>{t.exports=n.p+"e743fcc626badb9d4975.jpg"},1645:(t,e,n)=>{t.exports=n.p+"623a98a1f51ab36cd7a1.jpg"},5497:(t,e,n)=>{t.exports=n.p+"1014bf6e239b98dbf9e8.jpg"},3345:(t,e,n)=>{t.exports=n.p+"19ac2d232039c1dca3e2.jpg"},301:(t,e,n)=>{t.exports=n.p+"2852df1d8a81a4f04f55.jpg"},3575:(t,e,n)=>{t.exports=n.p+"f27b2925d3ad018051b2.wav"},5874:(t,e,n)=>{t.exports=n.p+"2542ae01024b300ac6b6.wav"},4416:(t,e,n)=>{t.exports=n.p+"f8359f147782f6227a80.wav"},9660:(t,e,n)=>{t.exports=n.p+"c7c448a45df60a70e395.wav"},2553:(t,e,n)=>{t.exports=n.p+"e6189838f50c83158d1f.wav"},5467:(t,e,n)=>{t.exports=n.p+"29dc1b85b5736a0e41a1.wav"},5499:(t,e,n)=>{t.exports=n.p+"281a0364b94c6c04eb39.wav"},8754:(t,e,n)=>{t.exports=n.p+"970974eef614d6596be3.wav"},4517:(t,e,n)=>{t.exports=n.p+"ce917a9d45860969fe6a.wav"},8652:(t,e,n)=>{t.exports=n.p+"dd6c44d077c37a911be3.wav"},8983:(t,e,n)=>{t.exports=n.p+"83096fecd44b5b000aa6.wav"},9545:(t,e,n)=>{t.exports=n.p+"cfc2ee70b2ae26911a5e.wav"},1304:(t,e,n)=>{t.exports=n.p+"612a2b1d88aa92153d6d.jpg"},9165:(t,e,n)=>{t.exports=n.p+"c04beafb9f3a9bd689bc.jpg"},8863:(t,e,n)=>{t.exports=n.p+"d66f714181e2bac9610e.jpg"},2374:(t,e,n)=>{t.exports=n.p+"a738c8143e3961740b6f.png"},1960:(t,e,n)=>{t.exports=n.p+"546f52320481d9beaa01.png"},7319:(t,e,n)=>{t.exports=n.p+"cc0d7f28e126866fd971.png"},5396:(t,e,n)=>{var i,r,o,a=n(6329),s=n(107),l=n.n(s),u=n(7531),h=n(7802),c=n(685),f=n(1019),y=n(3210),d=n(2070),v=n(8708),p=n(5943);function m(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return g(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}!function(t){t[t.Empty=0]="Empty",t[t.Wall=1]="Wall",t[t.Rock=2]="Rock",t[t.Energy=3]="Energy",t[t.RedDoor=4]="RedDoor",t[t.YellowDoor=5]="YellowDoor",t[t.GreenDoor=6]="GreenDoor",t[t.BlueDoor=7]="BlueDoor",t[t.RedKey=8]="RedKey",t[t.YellowKey=9]="YellowKey",t[t.GreenKey=10]="GreenKey",t[t.BlueKey=11]="BlueKey",t[t.Battery=12]="Battery",t[t.Lever=13]="Lever",t[t.ToggleDoor=14]="ToggleDoor",t[t.InverseToggleDoor=15]="InverseToggleDoor",t[t.ADoor=16]="ADoor",t[t.BDoor=17]="BDoor",t[t.CDoor=18]="CDoor",t[t.ABox=19]="ABox",t[t.BBox=20]="BBox",t[t.CBox=21]="CBox",t[t.Drone=22]="Drone",t[t.BigDoor=23]="BigDoor",t[t.Portal=24]="Portal",t[t.Map=25]="Map",t[t.Gun=26]="Gun"}(o||(o={}));var k=[o.RedDoor,o.YellowDoor,o.GreenDoor,o.BlueDoor,o.ToggleDoor,o.ADoor,o.BDoor,o.CDoor],Z=(i={},(0,p.Z)(i,o.RedDoor,{oneTimeItem:o.RedKey}),(0,p.Z)(i,o.YellowDoor,{oneTimeItem:o.YellowKey}),(0,p.Z)(i,o.GreenDoor,{oneTimeItem:o.GreenKey}),(0,p.Z)(i,o.BlueDoor,{oneTimeItem:o.BlueKey}),(0,p.Z)(i,o.ToggleDoor,{reuseItem:o.Lever}),(0,p.Z)(i,o.ADoor,{oneTimeItem:o.Battery,reuseItem:o.ABox}),(0,p.Z)(i,o.BDoor,{oneTimeItem:o.Battery,reuseItem:o.BBox}),(0,p.Z)(i,o.CDoor,{oneTimeItem:o.Battery,reuseItem:o.CBox}),i),b=(r={},(0,p.Z)(r," ",o.Empty),(0,p.Z)(r,"#",o.Wall),(0,p.Z)(r,"@",o.Rock),(0,p.Z)(r,"*",o.Energy),(0,p.Z)(r,"R",o.RedDoor),(0,p.Z)(r,"Y",o.YellowDoor),(0,p.Z)(r,"G",o.GreenDoor),(0,p.Z)(r,"L",o.BlueDoor),(0,p.Z)(r,"r",o.RedKey),(0,p.Z)(r,"y",o.YellowKey),(0,p.Z)(r,"g",o.GreenKey),(0,p.Z)(r,"l",o.BlueKey),(0,p.Z)(r,":",o.Battery),(0,p.Z)(r,"/",o.Lever),(0,p.Z)(r,"t",o.ToggleDoor),(0,p.Z)(r,"T",o.InverseToggleDoor),(0,p.Z)(r,"A",o.ADoor),(0,p.Z)(r,"B",o.BDoor),(0,p.Z)(r,"C",o.CDoor),(0,p.Z)(r,"a",o.ABox),(0,p.Z)(r,"b",o.BBox),(0,p.Z)(r,"c",o.CBox),(0,p.Z)(r,"d",o.Drone),(0,p.Z)(r,"n",o.BigDoor),(0,p.Z)(r,"P",o.Portal),(0,p.Z)(r,"m",o.Map),(0,p.Z)(r,"%",o.Gun),r);function w(t){var e,n=t.split(/\r?\n/),i=0,r=m(n);try{for(r.s();!(e=r.n()).done;){var a=e.value;i=Math.max(i,a.length)}}catch(t){r.e(t)}finally{r.f()}var s,l=[],u=m(n);try{for(u.s();!(s=u.n()).done;){var h,c=s.value,f=[],y=m(c);try{for(y.s();!(h=y.n()).done;){var d=h.value,v=b[d];void 0===v?f.push(o.Empty):f.push(v)}}catch(t){y.e(t)}finally{y.f()}for(;f.length<i;)f.push(o.Empty);l.push(f)}}catch(t){u.e(t)}finally{u.f()}return l}var A=n(6709),S=function(){function t(e){(0,h.Z)(this,t),(0,p.Z)(this,"maze",void 0),this.maze=e}return(0,c.Z)(t,[{key:"mazeWidth",get:function(){return this.maze[0].length}},{key:"mazeHeight",get:function(){return this.maze.length}},{key:"tileLocationToPosition",value:function(t,e){var n=5*t-5*Math.floor(this.mazeHeight/2),i=5*Math.floor(this.mazeWidth/2)-5*e;return new A.Pa4(n,0,i)}},{key:"positionToTileLocation",value:function(t){return[Math.round(t.x/5)+Math.floor(this.mazeHeight/2),Math.floor(this.mazeWidth/2)-Math.round(t.z/5)]}}]),t}(),D=n(5567);function x(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return T(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function T(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var M=new A.nls({color:16777215}),C=new A.Uk6(new A.cJO(1,2)),B=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),R=new A.a$l([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3),E=(new A.u9r).setIndex(new A.TlE(B,1)).setAttribute("position",R),j=function(){function t(e){(0,h.Z)(this,t),(0,p.Z)(this,"box",void 0),(0,p.Z)(this,"_showMask",!1),(0,p.Z)(this,"helper",null),this.box=new A.ZzF,e instanceof A.ZzF?this.box.copy(e):e instanceof A.Tme&&this.update(e)}return(0,c.Z)(t,[{key:"showMask",get:function(){return this._showMask},set:function(t){this._showMask=t,!1===t&&null!==this.helper&&(this.helper.parent.remove(this.helper),this.helper=null)}},{key:"isCollidingWith",value:function(t){return t.intersectsBox(this.box)}},{key:"intersectsBox",value:function(t){return this.box.intersectsBox(t)}},{key:"intersectsSphere",value:function(t){return this.box.intersectsSphere(t)}},{key:"intersectRay",value:function(t){return t.intersectBox(this.box,new A.Pa4)}},{key:"containsPoint",value:function(t){return this.box.containsPoint(t)}},{key:"update",value:function(t){this.box.setFromObject(t)}},{key:"_drawMask",value:function(t){this.showMask?(null===this.helper&&(this.helper=new A.ejS(E,M),t.add(this.helper)),this.box.getCenter(this.helper.position),this.box.getSize(this.helper.scale),this.helper.scale.multiplyScalar(.5)):null!==this.helper&&(t.remove(this.helper),this.helper=null)}}]),t}(),P=function(){function t(e){(0,h.Z)(this,t),(0,p.Z)(this,"sphere",void 0),(0,p.Z)(this,"_showMask",!1),(0,p.Z)(this,"helper",null),this.sphere=new A.aLr,e instanceof A.aLr?this.sphere.copy(e):e instanceof A.Tme&&this.update(e)}return(0,c.Z)(t,[{key:"showMask",get:function(){return this._showMask},set:function(t){this._showMask=t,!1===t&&null!==this.helper&&(this.helper.parent.remove(this.helper),this.helper=null)}},{key:"isCollidingWith",value:function(t){return t.intersectsSphere(this.sphere)}},{key:"intersectsBox",value:function(t){return this.sphere.intersectsBox(t)}},{key:"intersectsSphere",value:function(t){return this.sphere.intersectsSphere(t)}},{key:"intersectRay",value:function(t){return t.intersectSphere(this.sphere,new A.Pa4)}},{key:"containsPoint",value:function(t){return this.sphere.containsPoint(t)}},{key:"update",value:function(t){var e=(new A.ZzF).setFromObject(t).getBoundingSphere(new A.aLr);this.sphere.set(e.center,e.radius)}},{key:"expandByObject",value:function(t){t.updateWorldMatrix(!1,!1);var e=t.geometry;if(void 0!==e){null===e.boundingSphere&&e.computeBoundingSphere();var n=e.boundingSphere.clone();n.applyMatrix4(t.matrixWorld),this.sphere.union(n)}var i,r=x(t.children);try{for(r.s();!(i=r.n()).done;){var o=i.value;this.expandByObject(o)}}catch(t){r.e(t)}finally{r.f()}}},{key:"_drawMask",value:function(t){this.showMask?(null===this.helper&&(this.helper=new A.ejS(C,M),t.add(this.helper)),this.helper.position.copy(this.sphere.center),this.helper.scale.set(this.sphere.radius,this.sphere.radius,this.sphere.radius)):null!==this.helper&&(t.remove(this.helper),this.helper=null)}}]),t}(),I=function(){function t(){(0,h.Z)(this,t),(0,p.Z)(this,"masks",void 0),(0,p.Z)(this,"_showMask",!1);for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];this.masks=(0,D.Z)(n.flat(1))}return(0,c.Z)(t,[{key:"showMask",get:function(){return this._showMask},set:function(t){this._showMask=t;var e,n=x(this.masks);try{for(n.s();!(e=n.n()).done;)e.value.showMask=t}catch(t){n.e(t)}finally{n.f()}}},{key:"addMask",value:function(){for(var t,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];(t=this.masks).push.apply(t,(0,D.Z)(n.flat(1)))}},{key:"isCollidingWith",value:function(t){return this.masks.some((function(e){return e.isCollidingWith(t)}))}},{key:"intersectsBox",value:function(t){return this.masks.some((function(e){return e.intersectsBox(t)}))}},{key:"intersectsSphere",value:function(t){return this.masks.some((function(e){return e.intersectsSphere(t)}))}},{key:"intersectRay",value:function(t){var e,n=null,i=x(this.masks);try{for(i.s();!(e=i.n()).done;){var r=e.value.intersectRay(t);null!==r&&(null===n||r.distanceTo(t.origin)<n.distanceTo(t.origin))&&(n=r)}}catch(t){i.e(t)}finally{i.f()}return n}},{key:"containsPoint",value:function(t){return this.masks.some((function(e){return e.containsPoint(t)}))}},{key:"update",value:function(t){var e,n=x(this.masks);try{for(n.s();!(e=n.n()).done;)e.value.update(t)}catch(t){n.e(t)}finally{n.f()}}},{key:"_drawMask",value:function(t){if(this.showMask){var e,n=x(this.masks);try{for(n.s();!(e=n.n()).done;)e.value._drawMask(t)}catch(t){n.e(t)}finally{n.f()}}}}]),t}(),L=function(){function t(){(0,h.Z)(this,t),(0,p.Z)(this,"showMask",void 0)}return(0,c.Z)(t,[{key:"isCollidingWith",value:function(t){return!1}},{key:"intersectsBox",value:function(t){return!1}},{key:"intersectsSphere",value:function(t){return!1}},{key:"intersectRay",value:function(t){return null}},{key:"containsPoint",value:function(t){return!1}},{key:"update",value:function(t){}},{key:"_drawMask",value:function(t){}}]),t}(),F=new A.DvJ(1,1,1),O=new A.Wid,W=new A.ZzF(new A.Pa4(-.5,-.5,-.5),new A.Pa4(.5,.5,.5)),G=function(){function t(e,n){(0,h.Z)(this,t),(0,p.Z)(this,"tags",["wall"]),(0,p.Z)(this,"entity",void 0),(0,p.Z)(this,"walls",void 0),(0,p.Z)(this,"mask",void 0),(0,p.Z)(this,"currentWall",0),this.mask=new I,O.map=t.buildWallTexture("BrickColor",n),O.normalMap=t.buildWallTexture("BrickNormal",n),O.aoMap=t.buildWallTexture("BrickOcclusion",n),O.side=A.Wl3,this.walls=new A.SPe(F,O,e),this.walls.castShadow=!0,this.walls.receiveShadow=!1}return(0,c.Z)(t,[{key:"addWall",value:function(t,e,n){if(!(this.currentWall>=this.walls.count)){var i=n.tileLocationToPosition(t,e),r=new A.yGw;r.makeTranslation(i.x,9,i.z),r.scale(new A.Pa4(5,20,5)),this.walls.setMatrixAt(this.currentWall,r);var o=W.clone();o.applyMatrix4(r),this.mask.addMask(new j(o)),this.currentWall+=1}}},{key:"onCreate",value:function(t){this.entity=t,this.walls.instanceMatrix.needsUpdate=!0,this.entity.object=this.walls,this.entity.mask=this.mask}},{key:"onDestroy",value:function(){}},{key:"onStep",value:function(){}},{key:"onTimer",value:function(t){}},{key:"onDraw",value:function(t){}}],[{key:"buildWallTexture",value:function(t,e){var n=e.game.assets.getTexture(t);return n.wrapS=A.rpg,n.wrapT=A.rpg,n.repeat.set(1,4),n}}]),t}(),N=Math.PI/4,H=Math.PI/64,z=function(){function t(){(0,h.Z)(this,t),(0,p.Z)(this,"tags",["light"]),(0,p.Z)(this,"entity",void 0),(0,p.Z)(this,"light",void 0),(0,p.Z)(this,"lightAngle",5*Math.PI/12),(0,p.Z)(this,"reverse",!1),(0,p.Z)(this,"lightDistance",void 0)}return(0,c.Z)(t,[{key:"onCreate",value:function(t){this.entity=t,this.light=new A.Ox3(16777215,1),this.calculateLight(),this.entity.object=this.light}},{key:"onDestroy",value:function(){}},{key:"calculateLight",value:function(){var t=this.entity.area.state,e=5*t.mazeWidth,n=5*t.mazeHeight;this.light.castShadow=!0,this.light.shadow.camera.top=n/2,this.light.shadow.camera.bottom=-n/2,this.light.shadow.camera.left=-e/2,this.light.shadow.camera.right=e/2,this.lightDistance=e/Math.cos(Math.PI/4),this.updateLightAngle(),this.entity.setTimer(0,1e3,!0)}},{key:"onTimer",value:function(t){0===t&&(this.lightAngle+=this.reverse?-H:H,this.updateLightAngle(),this.lightAngle<N?this.reverse=!1:this.lightAngle>Math.PI-N&&(this.reverse=!0))}},{key:"updateLightAngle",value:function(){this.light.position.x=0,this.light.position.y=this.lightDistance*Math.sin(this.lightAngle),this.light.position.z=-this.lightDistance*Math.cos(this.lightAngle)}},{key:"onStep",value:function(){}},{key:"onDraw",value:function(t){}}]),t}(),K=new A._12,_=new A.Wid,Y=function(){function t(e,n){(0,h.Z)(this,t),(0,p.Z)(this,"tags",["wall"]),(0,p.Z)(this,"width",void 0),(0,p.Z)(this,"height",void 0),(0,p.Z)(this,"entity",void 0),this.width=e,this.height=n}return(0,c.Z)(t,[{key:"onCreate",value:function(t){this.entity=t,_.map=this.buildTexture("GrassColor"),_.normalMap=this.buildTexture("GrassNormal"),_.aoMap=this.buildTexture("GrassOcclusion"),this.entity.object=new A.Kj0(K,_),this.entity.object.rotation.x=3*Math.PI/2,this.entity.object.scale.set(5*this.height+2,5*this.width+2,1),this.entity.object.castShadow=!0,this.entity.object.receiveShadow=!0}},{key:"buildTexture",value:function(t){var e=this.entity.area.game.assets.getTexture(t);return e.wrapS=A.rpg,e.wrapT=A.rpg,e.repeat.set(5*this.width/2,5*this.height/2),e.offset.set(.5,.5),e.rotation=Math.PI/6,e}},{key:"onDestroy",value:function(){}},{key:"onStep",value:function(){}},{key:"onTimer",value:function(t){}},{key:"onDraw",value:function(t){}}]),t}();function U(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return X(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?X(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function X(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var V=function(){function t(e,n,i){(0,h.Z)(this,t),(0,p.Z)(this,"entity",void 0),(0,p.Z)(this,"row",void 0),(0,p.Z)(this,"column",void 0),(0,p.Z)(this,"_open",!1),(0,p.Z)(this,"doorObject",void 0),(0,p.Z)(this,"leftDoor",void 0),(0,p.Z)(this,"leftDoorMask",void 0),(0,p.Z)(this,"rightDoor",void 0),(0,p.Z)(this,"rightDoorMask",void 0),(0,p.Z)(this,"mixer",void 0),(0,p.Z)(this,"leftDoorAction",void 0),(0,p.Z)(this,"rightDoorAction",void 0),(0,p.Z)(this,"keyHoleAction",void 0),this.row=e,this.column=n,this.doorObject=i}return(0,c.Z)(t,[{key:"open",get:function(){return this._open}},{key:"onCreate",value:function(e){this.entity=e;var n=e.area.game.assets.getObject(this.doorObject).clone();n.scale.y=2.5,n.scale.z=2.5,n.position.copy(e.area.state.tileLocationToPosition(this.row,this.column)),this.row%2!=0&&(n.rotation.y=Math.PI/2);var i,r=U(n.children);try{for(r.s();!(i=r.n()).done;)i.value.castShadow=!0}catch(t){r.e(t)}finally{r.f()}var o,a=U(n.children[0].children);try{for(a.s();!(o=a.n()).done;)o.value.castShadow=!0}catch(t){a.e(t)}finally{a.f()}this.entity.object=n,this.leftDoor=this.entity.object.children[2],this.leftDoorMask=new j(this.leftDoor),this.rightDoor=this.entity.object.children[1],this.rightDoorMask=new j(this.rightDoor),this.entity.mask=new I(this.leftDoorMask,this.rightDoorMask),this.mixer=new A.Xcj(n),this.leftDoorAction=this.mixer.clipAction(e.area.game.assets.getAnimation("LeftDoorAction")),this.rightDoorAction=this.mixer.clipAction(e.area.game.assets.getAnimation("RightDoorAction")),this.keyHoleAction=this.mixer.clipAction(e.area.game.assets.getAnimation("KeyHoleAction")),t.configureAnimation(this.leftDoorAction),t.configureAnimation(this.rightDoorAction),t.configureAnimation(this.keyHoleAction),this.onCreateDoor()}},{key:"onStep",value:function(){this.mixer.update(.01),!this._open&&this.isAnimationPlaying()?(this.leftDoorMask.update(this.entity.object),this.rightDoorMask.update(this.entity.object)):(this.leftDoorMask.update(this.leftDoor),this.rightDoorMask.update(this.rightDoor)),this.onStepDoor()}},{key:"openDoor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this._open=!0,t.playAction(this.leftDoorAction,e),t.playAction(this.rightDoorAction,e),t.playAction(this.keyHoleAction,e)}},{key:"closeDoor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this._open=!1,t.playActionInverse(this.leftDoorAction,e),t.playActionInverse(this.rightDoorAction,e),t.playActionInverse(this.keyHoleAction,e)}},{key:"isAnimationPlaying",value:function(){return this.leftDoorAction.isRunning()||this.rightDoorAction.isRunning()||this.keyHoleAction.isRunning()}}],[{key:"configureAnimation",value:function(t){t.loop=A.jAl,t.clampWhenFinished=!0}},{key:"playAction",value:function(t,e){t.timeScale=Math.abs(e),t.paused=!1,t.play()}},{key:"playActionInverse",value:function(t,e){t.timeScale=-Math.abs(e),t.paused=!1,t.play()}}]),t}();var $,q,Q,J,tt,et,nt=function(t){(0,y.Z)(r,t);var e,n,i=(e=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=(0,v.Z)(e);if(n){var r=(0,v.Z)(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return(0,d.Z)(this,t)});function r(t,e){var n;return(0,h.Z)(this,r),n=i.call(this,t,e,"Door"),(0,p.Z)((0,f.Z)(n),"tags",["wall"]),(0,p.Z)((0,f.Z)(n),"showMessage",!1),n}return(0,c.Z)(r,[{key:"onCreateDoor",value:function(){this.entity.object.scale.y=20/3,this.entity.object.scale.x=10,this.entity.object.children[0].visible=!1,this.openDoor(1/6)}},{key:"onDestroy",value:function(){}},{key:"onStepDoor",value:function(){}},{key:"onTimer",value:function(t){}},{key:"onDraw",value:function(t){}}]),r}(V);function it(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}!function(t){t[t.Up=0]="Up",t[t.Down=1]="Down",t[t.Left=2]="Left",t[t.Right=3]="Right",t[t.Control=4]="Control",t[t.Alt=5]="Alt",t[t.Delete=6]="Delete",t[t.Backspace=7]="Backspace",t[t.CapsLock=8]="CapsLock",t[t.Enter=9]="Enter",t[t.Escape=10]="Escape",t[t.End=11]="End",t[t.Shift=12]="Shift",t[t.PageUp=13]="PageUp",t[t.PageDown=14]="PageDown",t[t.Pause=15]="Pause",t[t.Cancel=16]="Cancel",t[t.ScrollLock=17]="ScrollLock",t[t.A=18]="A",t[t.B=19]="B",t[t.C=20]="C",t[t.D=21]="D",t[t.E=22]="E",t[t.F=23]="F",t[t.G=24]="G",t[t.H=25]="H",t[t.I=26]="I",t[t.J=27]="J",t[t.K=28]="K",t[t.L=29]="L",t[t.M=30]="M",t[t.N=31]="N",t[t.O=32]="O",t[t.P=33]="P",t[t.Q=34]="Q",t[t.R=35]="R",t[t.S=36]="S",t[t.T=37]="T",t[t.U=38]="U",t[t.V=39]="V",t[t.W=40]="W",t[t.X=41]="X",t[t.Y=42]="Y",t[t.Z=43]="Z",t[t.F1=44]="F1",t[t.F2=45]="F2",t[t.F3=46]="F3",t[t.F4=47]="F4",t[t.F5=48]="F5",t[t.F6=49]="F6",t[t.F7=50]="F7",t[t.F8=51]="F8",t[t.F9=52]="F9",t[t.F10=53]="F10",t[t.F11=54]="F11",t[t.F12=55]="F12",t[t.Num1=56]="Num1",t[t.Num2=57]="Num2",t[t.Num3=58]="Num3",t[t.Num4=59]="Num4",t[t.Num5=60]="Num5",t[t.Num6=61]="Num6",t[t.Num7=62]="Num7",t[t.Num8=63]="Num8",t[t.Num9=64]="Num9",t[t.Num0=65]="Num0",t[t.Amperstand=66]="Amperstand",t[t.Asterisk=67]="Asterisk",t[t.At=68]="At",t[t.BackSlash=69]="BackSlash",t[t.BraceLeft=70]="BraceLeft",t[t.BraceRight=71]="BraceRight",t[t.Caret=72]="Caret",t[t.CloseBracket=73]="CloseBracket",t[t.Colon=74]="Colon",t[t.Comma=75]="Comma",t[t.Dollar=76]="Dollar",t[t.EqualSign=77]="EqualSign",t[t.ExclamationPoint=78]="ExclamationPoint",t[t.GreaterThan=79]="GreaterThan",t[t.LeftParen=80]="LeftParen",t[t.LessThan=81]="LessThan",t[t.Minus=82]="Minus",t[t.Hashtag=83]="Hashtag",t[t.OpenBracket=84]="OpenBracket",t[t.Period=85]="Period",t[t.QuestionMark=86]="QuestionMark",t[t.SingleQuote=87]="SingleQuote",t[t.DoubleQuote=88]="DoubleQuote",t[t.RightParen=89]="RightParen",t[t.Semicolon=90]="Semicolon",t[t.ForwardSlash=91]="ForwardSlash",t[t.Underscore=92]="Underscore",t[t.Space=93]="Space",t[t.Tick=94]="Tick",t[t.Tilda=95]="Tilda"}(Q||(Q={})),function(t){t[t.Up=12]="Up",t[t.Down=13]="Down",t[t.Left=14]="Left",t[t.Right=15]="Right",t[t.ACross=0]="ACross",t[t.BCircle=1]="BCircle",t[t.XSquare=2]="XSquare",t[t.YTriangle=3]="YTriangle",t[t.Select=8]="Select",t[t.Start=9]="Start",t[t.Center=16]="Center",t[t.LeftBumper=4]="LeftBumper",t[t.RightBumper=5]="RightBumper",t[t.LeftStickCenter=10]="LeftStickCenter",t[t.RightStickCenter=11]="RightStickCenter"}(J||(J={})),function(t){t[t.LeftStickX=0]="LeftStickX",t[t.LeftStickY=1]="LeftStickY",t[t.RightStickX=2]="RightStickX",t[t.RightStickY=3]="RightStickY",t[t.LeftTrigger=4]="LeftTrigger",t[t.RightTrigger=5]="RightTrigger"}(tt||(tt={})),function(t){t[t.Left=0]="Left",t[t.Middle=1]="Middle",t[t.Right=2]="Right"}(et||(et={}));var rt=($={},(0,p.Z)($,"ArrowUp",Q.Up),(0,p.Z)($,"ArrowDown",Q.Down),(0,p.Z)($,"ArrowLeft",Q.Left),(0,p.Z)($,"ArrowRight",Q.Right),(0,p.Z)($,"Control",Q.Control),(0,p.Z)($,"Alt",Q.Alt),(0,p.Z)($,"Delete",Q.Delete),(0,p.Z)($,"Backspace",Q.Backspace),(0,p.Z)($,"CapsLock",Q.CapsLock),(0,p.Z)($,"Enter",Q.Enter),(0,p.Z)($,"Escape",Q.Escape),(0,p.Z)($,"End",Q.End),(0,p.Z)($,"Shift",Q.Shift),(0,p.Z)($,"PageUp",Q.PageUp),(0,p.Z)($,"PageDown",Q.PageDown),(0,p.Z)($,"Pause",Q.Pause),(0,p.Z)($,"Cancel",Q.Cancel),(0,p.Z)($,"ScrollLock",Q.ScrollLock),(0,p.Z)($,"a",Q.A),(0,p.Z)($,"b",Q.B),(0,p.Z)($,"c",Q.C),(0,p.Z)($,"d",Q.D),(0,p.Z)($,"e",Q.E),(0,p.Z)($,"f",Q.F),(0,p.Z)($,"g",Q.G),(0,p.Z)($,"h",Q.H),(0,p.Z)($,"i",Q.I),(0,p.Z)($,"j",Q.J),(0,p.Z)($,"k",Q.K),(0,p.Z)($,"l",Q.L),(0,p.Z)($,"m",Q.M),(0,p.Z)($,"n",Q.N),(0,p.Z)($,"o",Q.O),(0,p.Z)($,"p",Q.P),(0,p.Z)($,"q",Q.Q),(0,p.Z)($,"r",Q.R),(0,p.Z)($,"s",Q.S),(0,p.Z)($,"t",Q.T),(0,p.Z)($,"u",Q.U),(0,p.Z)($,"v",Q.V),(0,p.Z)($,"w",Q.W),(0,p.Z)($,"x",Q.X),(0,p.Z)($,"y",Q.Y),(0,p.Z)($,"z",Q.Z),(0,p.Z)($,"A",Q.A),(0,p.Z)($,"B",Q.B),(0,p.Z)($,"C",Q.C),(0,p.Z)($,"D",Q.D),(0,p.Z)($,"E",Q.E),(0,p.Z)($,"F",Q.F),(0,p.Z)($,"G",Q.G),(0,p.Z)($,"H",Q.H),(0,p.Z)($,"I",Q.I),(0,p.Z)($,"J",Q.J),(0,p.Z)($,"K",Q.K),(0,p.Z)($,"L",Q.L),(0,p.Z)($,"M",Q.M),(0,p.Z)($,"N",Q.N),(0,p.Z)($,"O",Q.O),(0,p.Z)($,"P",Q.P),(0,p.Z)($,"Q",Q.Q),(0,p.Z)($,"R",Q.R),(0,p.Z)($,"S",Q.S),(0,p.Z)($,"T",Q.T),(0,p.Z)($,"U",Q.U),(0,p.Z)($,"V",Q.V),(0,p.Z)($,"W",Q.W),(0,p.Z)($,"X",Q.X),(0,p.Z)($,"Y",Q.Y),(0,p.Z)($,"Z",Q.Z),(0,p.Z)($,"F1",Q.F1),(0,p.Z)($,"F2",Q.F2),(0,p.Z)($,"F3",Q.F3),(0,p.Z)($,"F4",Q.F4),(0,p.Z)($,"F5",Q.F5),(0,p.Z)($,"F6",Q.F6),(0,p.Z)($,"F7",Q.F7),(0,p.Z)($,"F8",Q.F8),(0,p.Z)($,"F9",Q.F9),(0,p.Z)($,"F10",Q.F10),(0,p.Z)($,"F11",Q.F11),(0,p.Z)($,"F12",Q.F12),(0,p.Z)($,"1",Q.Num1),(0,p.Z)($,"2",Q.Num2),(0,p.Z)($,"3",Q.Num3),(0,p.Z)($,"4",Q.Num4),(0,p.Z)($,"5",Q.Num5),(0,p.Z)($,"6",Q.Num6),(0,p.Z)($,"7",Q.Num7),(0,p.Z)($,"8",Q.Num8),(0,p.Z)($,"9",Q.Num9),(0,p.Z)($,"0",Q.Num0),(0,p.Z)($,"&",Q.Amperstand),(0,p.Z)($,"*",Q.Asterisk),(0,p.Z)($,"@",Q.At),(0,p.Z)($,"\\",Q.BackSlash),(0,p.Z)($,"{",Q.BraceLeft),(0,p.Z)($,"}",Q.BraceRight),(0,p.Z)($,"^",Q.Caret),(0,p.Z)($,"]",Q.CloseBracket),(0,p.Z)($,":",Q.Colon),(0,p.Z)($,",",Q.Comma),(0,p.Z)($,"$",Q.Dollar),(0,p.Z)($,"=",Q.EqualSign),(0,p.Z)($,"!",Q.ExclamationPoint),(0,p.Z)($,">",Q.GreaterThan),(0,p.Z)($,"(",Q.LeftParen),(0,p.Z)($,"<",Q.LessThan),(0,p.Z)($,"-",Q.Minus),(0,p.Z)($,"#",Q.Hashtag),(0,p.Z)($,"[",Q.OpenBracket),(0,p.Z)($,".",Q.Period),(0,p.Z)($,"?",Q.QuestionMark),(0,p.Z)($,"'",Q.SingleQuote),(0,p.Z)($,'"',Q.DoubleQuote),(0,p.Z)($,")",Q.RightParen),(0,p.Z)($,";",Q.Semicolon),(0,p.Z)($,"/",Q.ForwardSlash),(0,p.Z)($,"_",Q.Underscore),(0,p.Z)($," ",Q.Space),(0,p.Z)($,"`",Q.Tick),(0,p.Z)($,"~",Q.Tilda),$),ot=(q={},(0,p.Z)(q,0,et.Left),(0,p.Z)(q,1,et.Middle),(0,p.Z)(q,2,et.Right),q),at=function(){function t(){(0,h.Z)(this,t),(0,p.Z)(this,"buttonsStart",void 0),(0,p.Z)(this,"buttonsDown",void 0),(0,p.Z)(this,"buttonsReleased",void 0),(0,p.Z)(this,"axes",void 0)}return(0,c.Z)(t,null,[{key:"fromGamepad",value:function(t){return{buttonsStart:new Set,buttonsDown:new Set,buttonsReleased:new Set,axes:[].concat((0,D.Z)(t.axes),[t.buttons[6].value,t.buttons[7].value])}}}]),t}(),st=function(){function t(e){(0,h.Z)(this,t),(0,p.Z)(this,"canvas",void 0),(0,p.Z)(this,"keysStart",new Set),(0,p.Z)(this,"keysDown",new Set),(0,p.Z)(this,"keysReleased",new Set),(0,p.Z)(this,"gamepadState",{}),(0,p.Z)(this,"mouseCoords",[0,0]),(0,p.Z)(this,"mouseMovement",[0,0]),(0,p.Z)(this,"mouseStart",new Set),(0,p.Z)(this,"mouseDown",new Set),(0,p.Z)(this,"mouseReleased",new Set),(0,p.Z)(this,"_pointerLockEnabled",!1),this.canvas=e,e.addEventListener("keydown",this.onKeyDown.bind(this)),e.addEventListener("keyup",this.onKeyRelease.bind(this)),window.addEventListener("gamepadconnected",this.onGamepadConnected.bind(this)),window.addEventListener("gamepaddisconnected",this.onGamepadDisconnected.bind(this)),e.addEventListener("mousemove",this.onMouseMove.bind(this)),e.addEventListener("mousedown",this.onMouseDown.bind(this)),e.addEventListener("mouseup",this.onMouseUp.bind(this)),e.addEventListener("click",this.onPointerLockClick.bind(this)),document.addEventListener("pointerlockchange",this.onPointerLockChange.bind(this)),document.addEventListener("pointerlockerror",this.onPointerLockError.bind(this))}return(0,c.Z)(t,[{key:"onKeyDown",value:function(t){var e=rt[t.key];void 0!==e&&(this.keysDown.add(e),t.repeat||this.keysStart.add(e))}},{key:"onKeyRelease",value:function(t){var e=rt[t.key];void 0!==e&&(this.keysDown.delete(e),this.keysReleased.add(e))}},{key:"_clearKeyTick",value:function(){this.keysStart.clear(),this.keysReleased.clear()}},{key:"isKeyStarted",value:function(t){return this.keysStart.has(t)}},{key:"isKeyDown",value:function(t){return this.keysDown.has(t)}},{key:"isKeyReleased",value:function(t){return this.keysReleased.has(t)}},{key:"onGamepadConnected",value:function(t){var e=t.gamepad;"standard"===e.mapping&&(this.gamepadState[e.index]=at.fromGamepad(e))}},{key:"onGamepadDisconnected",value:function(t){var e=t.gamepad;delete this.gamepadState[e.index]}},{key:"_updateGamepad",value:function(){if(void 0!==navigator.getGamepads){var t,e=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return it(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?it(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(navigator.getGamepads());try{for(e.s();!(t=e.n()).done;){var n=t.value;if(null!==n){var i=this.gamepadState[n.index]||at.fromGamepad(n),r=new Set,o=new Set,a=new Set;for(var s in J)if(!isNaN(Number(s))){var l=Number(s);n.buttons[l].pressed?(o.add(l),i.buttonsDown.has(l)||r.add(l)):i.buttonsDown.has(l)&&a.add(l)}var u=[].concat((0,D.Z)(n.axes),[n.buttons[6].value,n.buttons[7].value]);Object.assign(this.gamepadState[n.index],{buttonsStart:r,buttonsDown:o,buttonsReleased:a,axes:u})}}}catch(t){e.e(t)}finally{e.f()}}}},{key:"isGamepadButtonStarted",value:function(t,e){var n=this.gamepadState[t];return void 0!==n&&n.buttonsStart.has(e)}},{key:"isGamepadButtonDown",value:function(t,e){var n=this.gamepadState[t];return void 0!==n&&n.buttonsDown.has(e)}},{key:"isGamepadButtonReleased",value:function(t,e){var n=this.gamepadState[t];return void 0!==n&&n.buttonsReleased.has(e)}},{key:"getGamepadAxis",value:function(t,e){var n=this.gamepadState[t];return void 0===n?0:n.axes[e]}},{key:"pointerLockEnabled",get:function(){return this._pointerLockEnabled},set:function(t){this._pointerLockEnabled=t,t||document.exitPointerLock()}},{key:"onMouseMove",value:function(t){this.mouseCoords=[t.clientX*this.canvas.width/this.canvas.clientWidth,t.clientY*this.canvas.height/this.canvas.clientHeight],document.pointerLockElement===this.canvas?this.mouseMovement=[t.movementX,t.movementY]:this.mouseMovement=[0,0]}},{key:"onMouseDown",value:function(t){var e=ot[t.button];void 0!==e&&(this.mouseDown.add(e),this.mouseStart.add(e))}},{key:"onMouseUp",value:function(t){var e=ot[t.button];void 0!==e&&(this.mouseDown.delete(e),this.mouseReleased.delete(e))}},{key:"onPointerLockClick",value:function(){this._pointerLockEnabled&&this.canvas.requestPointerLock()}},{key:"onPointerLockChange",value:function(t){document.pointerLockElement!==this.canvas&&(this.mouseMovement=[0,0])}},{key:"onPointerLockError",value:function(t){}},{key:"_clearMouseTick",value:function(){this.mouseStart.clear(),this.mouseReleased.clear(),this.mouseMovement=[0,0]}},{key:"isMouseButtonStarted",value:function(t){return this.mouseStart.has(t)}},{key:"isMouseButtonDown",value:function(t){return this.mouseDown.has(t)}},{key:"isMouseButtonReleased",value:function(t){return this.mouseReleased.has(t)}},{key:"getMouseX",value:function(){return this.mouseCoords[0]}},{key:"getMouseY",value:function(){return this.mouseCoords[1]}},{key:"getMouseMovementX",value:function(){return this.mouseMovement[0]}},{key:"getMouseMovementY",value:function(){return this.mouseMovement[1]}}]),t}();function lt(t,e){return Math.floor(Math.random()*(e-t+1)+t)}function ut(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t}function ht(t){return t[ut(0,t.length-1)]}function ct(t,e,n){return Math.min(Math.max(t,e),n)}function ft(t,e,n){return t>=e&&t<=n}function yt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return ft(t,Math.round(t)-e,Math.round(t)+e)}function dt(t){return Math.atan2(Math.sin(t),Math.cos(t))}var vt=function(){function t(e){(0,h.Z)(this,t),(0,p.Z)(this,"x",0),(0,p.Z)(this,"y",0),(0,p.Z)(this,"width",10),(0,p.Z)(this,"height",10),(0,p.Z)(this,"text",void 0),(0,p.Z)(this,"font","12pt sans-serif"),(0,p.Z)(this,"textColor",new A.Ilk("white")),(0,p.Z)(this,"backgroundColor",new A.Ilk("black")),(0,p.Z)(this,"borderColor",new A.Ilk("white")),(0,p.Z)(this,"entity",void 0),(0,p.Z)(this,"hoveringOver",!1),this.text=e}return(0,c.Z)(t,[{key:"onCreate",value:function(t){this.entity=t,this.onCreateButton()}},{key:"onStep",value:function(){var t=this.entity.area.game.input;this.hoveringOver=ft(t.getMouseX(),this.x,this.x+this.width)&&ft(t.getMouseY(),this.y,this.y+this.height),this.hoveringOver&&t.isMouseButtonStarted(et.Left)&&this.onClick(),this.onStepButton()}},{key:"onDraw",value:function(t){t.globalAlpha=this.hoveringOver?1:.5,t.fillStyle="#".concat(this.backgroundColor.getHexString()),t.fillRect(this.x,this.y,this.width,this.height),t.font=this.font,t.textAlign="center",t.textBaseline="middle",t.fillStyle="#".concat(this.textColor.getHexString()),t.fillText(this.text,this.x+this.width/2,this.y+this.height/2),t.beginPath(),t.rect(this.x,this.y,this.width,this.height),t.lineWidth=1,t.strokeStyle="#".concat(this.borderColor.getHexString()),t.stroke(),t.globalAlpha=1}}]),t}();var pt=function(t){(0,y.Z)(r,t);var e,n,i=(e=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=(0,v.Z)(e);if(n){var r=(0,v.Z)(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return(0,d.Z)(this,t)});function r(){var t;return(0,h.Z)(this,r),t=i.call(this,"Start Game"),(0,p.Z)((0,f.Z)(t),"tags",["start-button"]),t}return(0,c.Z)(r,[{key:"onCreateButton",value:function(){this.x=this.entity.area.overlayWidth/2-100,this.y=this.entity.area.overlayHeight-70,this.width=200,this.height=30}},{key:"onDestroy",value:function(){}},{key:"onClick",value:function(){this.entity.area.state.startGame()}},{key:"onStepButton",value:function(){}},{key:"onTimer",value:function(t){}}]),r}(vt),mt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;(0,h.Z)(this,t),(0,p.Z)(this,"tags",[]),(0,p.Z)(this,"entity",void 0),(0,p.Z)(this,"ticks",void 0),(0,p.Z)(this,"fade",void 0),(0,p.Z)(this,"alpha",1),this.ticks=Math.abs(e),this.fade=Math.abs(n)}return(0,c.Z)(t,[{key:"onCreate",value:function(t){this.entity=t,this.entity.setTimer(1,this.ticks,!0)}},{key:"onDestroy",value:function(){}},{key:"onStep",value:function(){}},{key:"onTimer",value:function(t){1===t&&(this.onTick(this.alpha),this.fadeIn())}},{key:"onTick",value:function(t){}},{key:"fadeIn",value:function(){this.alpha=ct(this.alpha-this.fade,0,1),this.alpha<=0&&(this.entity.clearTimer(1),this.onFinish())}},{key:"onFinish",value:function(){}},{key:"onDraw",value:function(t){t.globalAlpha=this.alpha,t.fillStyle="black",t.fillRect(0,0,this.entity.area.overlayWidth,this.entity.area.overlayHeight),t.globalAlpha=1}}]),t}();var gt=function(t){(0,y.Z)(r,t);var e,n,i=(e=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=(0,v.Z)(e);if(n){var r=(0,v.Z)(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return(0,d.Z)(this,t)});function r(){var t;return(0,h.Z)(this,r),t=i.call(this,"Restart"),(0,p.Z)((0,f.Z)(t),"tags",["restart-button"]),t}return(0,c.Z)(r,[{key:"onCreateButton",value:function(){this.x=this.entity.area.overlayWidth/2-100,this.y=this.entity.area.overlayHeight-70,this.width=200,this.height=30}},{key:"onDestroy",value:function(){}},{key:"onClick",value:function(){this.entity.area.game.setArea(new gn)}},{key:"onStepButton",value:function(){var t=this.entity.area.game.input;(t.isKeyStarted(Q.Enter)||t.isKeyStarted(Q.Space)||t.isGamepadButtonStarted(0,J.ACross)||t.isGamepadButtonStarted(0,J.XSquare)||t.isGamepadButtonStarted(0,J.YTriangle)||t.isGamepadButtonStarted(0,J.Start)||t.getGamepadAxis(0,tt.RightTrigger)>.5)&&this.onClick()}},{key:"onTimer",value:function(t){}}]),r}(vt),kt=function(){function t(){(0,h.Z)(this,t),(0,p.Z)(this,"area",void 0)}return(0,c.Z)(t,[{key:"onCreate",value:function(t){this.area=t,this.area.createEntity(new gt),this.area.game.input.pointerLockEnabled=!1}},{key:"onTimer",value:function(t){}},{key:"onStep",value:function(){}},{key:"onDraw",value:function(t){t.font="48pt sans-serif",t.textAlign="center",t.textBaseline="top",t.fillStyle="red",t.fillText("Game Over",this.area.overlayWidth/2,40)}}]),t}(),Zt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;(0,h.Z)(this,t),(0,p.Z)(this,"tags",[]),(0,p.Z)(this,"entity",void 0),(0,p.Z)(this,"ticks",void 0),(0,p.Z)(this,"fade",void 0),(0,p.Z)(this,"alpha",0),this.ticks=Math.abs(e),this.fade=Math.abs(n)}return(0,c.Z)(t,[{key:"onCreate",value:function(t){this.entity=t,this.entity.setTimer(1,this.ticks,!0)}},{key:"onDestroy",value:function(){}},{key:"onStep",value:function(){}},{key:"onTimer",value:function(t){1===t&&(this.onTick(this.alpha),this.fadeOut())}},{key:"onTick",value:function(t){}},{key:"fadeOut",value:function(){this.alpha=ct(this.alpha+this.fade,0,1),this.alpha>=1&&(this.entity.clearTimer(1),this.onFinish())}},{key:"onFinish",value:function(){}},{key:"onDraw",value:function(t){t.globalAlpha=this.alpha,t.fillStyle="black",t.fillRect(0,0,this.entity.area.overlayWidth,this.entity.area.overlayHeight),t.globalAlpha=1}}]),t}();var bt=function(t){(0,y.Z)(r,t);var e,n,i=(e=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=(0,v.Z)(e);if(n){var r=(0,v.Z)(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return(0,d.Z)(this,t)});function r(){return(0,h.Z)(this,r),i.apply(this,arguments)}return(0,c.Z)(r,[{key:"onTick",value:function(t){this.entity.area.state.forestAmbience.volume=1-t}},{key:"onFinish",value:function(){this.entity.area.state.forestAmbience.stop(),this.entity.area.game.setArea(new kt)}}]),r}(Zt),wt=new A.Kj0(new A.fHI,new A.vBJ({color:16776960}));wt.scale.set(.1,2,.1);var At=function(){function t(e,n){(0,h.Z)(this,t),(0,p.Z)(this,"tags",["player-bullet"]),(0,p.Z)(this,"entity",void 0),(0,p.Z)(this,"position",void 0),(0,p.Z)(this,"rotation",void 0),this.position=e.getWorldPosition(new A.Pa4),this.rotation=n}return(0,c.Z)(t,[{key:"onCreate",value:function(t){this.entity=t;var e=wt.clone();e.position.copy(this.position),e.rotation.setFromVector3(this.rotation),e.updateMatrix(),e.rotateZ(Math.PI/2),e.translateY(-.8),this.entity.object=e,this.entity.mask=new P(this.entity.object),this.entity.setTimer(0,250)}},{key:"onDestroy",value:function(){}},{key:"onStep",value:function(){this.entity.object.translateY(-.8),this.entity.mask.update(this.entity.object),this.entity.mask.sphere.radius/=6,this.testForWallCollision()}},{key:"testForWallCollision",value:function(){this.isCollidingWithWalls()&&this.entity.destroy()}},{key:"isCollidingWithWalls",value:function(){var t=this;return this.entity.area.findEntities("wall").some((function(e){return t.entity.isCollidingWith(e)}))}},{key:"onTimer",value:function(t){this.entity.destroy()}},{key:"onDraw",value:function(t){}}]),t}();function St(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var Dt,xt,Tt=.1,Mt=Math.PI/2*.75,Ct=.5,Bt=new A.ZzF(new A.Pa4(-.5,0,-.5),new A.Pa4(.5,3,.5)),Rt=function(){function t(e,n){(0,h.Z)(this,t),(0,p.Z)(this,"tags",["player"]),(0,p.Z)(this,"entity",void 0),(0,p.Z)(this,"mask",void 0),(0,p.Z)(this,"camera",void 0),(0,p.Z)(this,"gun",void 0),(0,p.Z)(this,"gunCollected",!1),(0,p.Z)(this,"startRow",void 0),(0,p.Z)(this,"startCol",void 0),(0,p.Z)(this,"horDir",Math.PI/2),(0,p.Z)(this,"vertDir",0),(0,p.Z)(this,"rightTriggerPressed",!1),this.startRow=e,this.startCol=n}return(0,c.Z)(t,[{key:"getFacingAngle",value:function(){return function(t,e,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=n-e;return t===n&&i?t:((t-e)%r+r)%r+e}(this.horDir,0,2*Math.PI,!1)}},{key:"onCreate",value:function(t){this.entity=t,this.entity.area.game.input.pointerLockEnabled=!0,this.camera=new A.cPb(50,t.area.game.canvasWidth/t.area.game.canvasHeight,.001,1e3),this.entity.area.camera=this.camera,this.entity.object=this.camera;var e=t.area.game.assets.getObject("Gun").clone();e.scale.set(.1,.1,.1),e.position.set(.15,-.04,.05),e.rotation.y=Math.atan2(1/0,1.8),e.visible=!1,this.camera.add(e),this.gun=e;var n=this.entity.area.state.tileLocationToPosition(this.startRow,this.startCol);this.camera.position.copy(n),this.camera.position.y=2,this.mask=new j(Bt),this.entity.mask=this.mask,this.mask.box.translate(n)}},{key:"onDestroy",value:function(){}},{key:"onStep",value:function(){this.camera.aspect=this.entity.area.game.canvasWidth/this.entity.area.game.canvasHeight,this.camera.updateProjectionMatrix(),this.testForGunCollected(),this.handleInput(),this.testForDeath()}},{key:"testForGunCollected",value:function(){this.gunCollected||this.entity.area.game.resources.getResource("inventory").hasCollectedGun()&&(this.gunCollected=!0,this.gun.visible=!0)}},{key:"handleInput",value:function(){var t=this.entity.area.game.input,e=t.getMouseMovementX();Math.abs(e)>2&&(this.horDir+=.002*-e);var n=t.getMouseMovementY();Math.abs(n)>2&&(this.vertDir+=.002*-n,this.vertDir=ct(this.vertDir,-Mt,Mt));var i=t.getGamepadAxis(0,tt.LeftTrigger)>Ct,r=i?.01:.02;this.camera.fov=i?45:50;var o=t.getGamepadAxis(0,tt.RightStickX);Math.abs(o)>Ct&&(this.horDir+=1.5*-o*r);var a=t.getGamepadAxis(0,tt.RightStickY);Math.abs(a)>Ct&&(this.vertDir+=-a*r,this.vertDir=ct(this.vertDir,-Mt,Mt)),this.updateCameraRotation();var s=0,l=0;t.isKeyDown(Q.W)&&(s+=Tt),t.isKeyDown(Q.S)&&(s-=Tt),t.isKeyDown(Q.A)&&(l+=Tt),t.isKeyDown(Q.D)&&(l-=Tt);var u=t.getGamepadAxis(0,tt.LeftStickX),h=-t.getGamepadAxis(0,tt.LeftStickY);if(u<-.5||u>Ct||h<-.5||h>Ct){var c=Math.atan2(h,u);s=Tt*Math.sin(c),l=-.1*Math.cos(c)}this.updatePosition(s,l);var f=t.getGamepadAxis(0,tt.RightTrigger)>Ct,y=!this.rightTriggerPressed&&f;this.rightTriggerPressed=f,(t.isMouseButtonStarted(et.Left)||t.isGamepadButtonStarted(0,J.ACross)||y)&&this.shoot()}},{key:"updateCameraRotation",value:function(){var t=new A.USm(this.vertDir,this.horDir,0,"YXZ");this.camera.quaternion.setFromEuler(t)}},{key:"updatePosition",value:function(t,e){var n=new A.Pa4(-e,0,-t);n.applyAxisAngle(new A.Pa4(0,1,0),this.horDir);var i=new A.Pa4(n.x,0,0),r=new A.Pa4(0,0,n.z);this.mask.box.translate(i),this.isCollidingWithWalls()?this.mask.box.translate(i.negate()):this.camera.position.add(i),this.mask.box.translate(r),this.isCollidingWithWalls()?this.mask.box.translate(r.negate()):this.camera.position.add(r)}},{key:"isCollidingWithWalls",value:function(){var t=this;return this.entity.area.findEntities("wall").some((function(e){return t.entity.isCollidingWith(e)}))||this.entity.area.findEntities("rock").some((function(e){return t.entity.isCollidingWith(e)}))}},{key:"shoot",value:function(){if(this.gunCollected){var t=new A.USm(0,this.horDir+Math.PI/2,this.vertDir,"YXZ");this.entity.area.createEntity(new At(this.gun,t.toVector3()));var e=this.entity.area.state;e.playerShoot.volume=.125,e.playerShoot.play()}}},{key:"testForDeath",value:function(){if(!this.entity.area.game.resources.getResource("health").hasHealthLeft()){this.entity.destroy();var t,e=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return St(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?St(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(this.entity.area.findEntities("hud"));try{for(e.s();!(t=e.n()).done;)t.value.destroy()}catch(t){e.e(t)}finally{e.f()}this.entity.area.createEntity(new bt)}}},{key:"onTimer",value:function(t){}},{key:"onDraw",value:function(t){}}]),t}();!function(t){t[t.Red=0]="Red",t[t.Yellow=1]="Yellow",t[t.Green=2]="Green",t[t.Blue=3]="Blue"}(Dt||(Dt={}));var Et,jt=(xt={},(0,p.Z)(xt,Dt.Red,new A.Wid({color:16711680,emissive:16711680,emissiveIntensity:1})),(0,p.Z)(xt,Dt.Yellow,new A.Wid({color:16776960,emissive:16776960,emissiveIntensity:1})),(0,p.Z)(xt,Dt.Green,new A.Wid({color:65280,emissive:65280,emissiveIntensity:1})),(0,p.Z)(xt,Dt.Blue,new A.Wid({color:255,emissive:255,emissiveIntensity:1})),xt),Pt=function(t){(0,y.Z)(r,t);var e,n,i=(e=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=(0,v.Z)(e);if(n){var r=(0,v.Z)(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return(0,d.Z)(this,t)});function r(t,e,n){var o;return(0,h.Z)(this,r),o=i.call(this,t,e,"Door"),(0,p.Z)((0,f.Z)(o),"tags",["wall"]),(0,p.Z)((0,f.Z)(o),"doorColor",void 0),(0,p.Z)((0,f.Z)(o),"interactMask",void 0),o.doorColor=n,o}return(0,c.Z)(r,[{key:"onCreateDoor",value:function(){this.configureMaterialColor(this.entity.object.children[0].children[1]),this.interactMask=new P(this.entity.object)}},{key:"configureMaterialColor",value:function(t){var e=jt[this.doorColor];void 0!==e&&(t.material=e)}},{key:"onDestroy",value:function(){}},{key:"onStepDoor",value:function(){this.testForPlayerInteraction()}},{key:"testForPlayerInteraction",value:function(){if(!this.open){var t=this.entity.area.findFirstEntity("player");if(null!==t&&this.interactMask.isCollidingWith(t.mask)){var e=this.entity.area.findFirstEntity("hud"),n=this.entity.area.game.resources.getResource("inventory"),i=n.hasKeyAvailable(this.doorColor);if(null!==e){if(e.state.message.length>0)return;var r=Dt[this.doorColor].toLowerCase();e.state.message=i?"Action: Use ".concat(r," key"):"Needs a ".concat(r," key")}var o=this.entity.area.game.input;(o.isKeyStarted(Q.E)||o.isGamepadButtonStarted(0,J.XSquare))&&i&&(n.useKey(this.doorColor),this.openDoor(),this.entity.area.game.resources.getResource("door-state").setColoredDoorOpened(this.row,this.column),this.entity.area.state.openDoor.play())}}}},{key:"onTimer",value:function(t){}},{key:"onDraw",value:function(t){}}]),r}(V),It=(Et={},(0,p.Z)(Et,Dt.Red,new A.Wid({color:16711680,emissive:16711680,emissiveIntensity:.25})),(0,p.Z)(Et,Dt.Yellow,new A.Wid({color:16776960,emissive:16776960,emissiveIntensity:.25})),(0,p.Z)(Et,Dt.Green,new A.Wid({color:65280,emissive:65280,emissiveIntensity:.25})),(0,p.Z)(Et,Dt.Blue,new A.Wid({color:255,emissive:255,emissiveIntensity:.25})),Et),Lt=function(){function t(e,n,i){(0,h.Z)(this,t),(0,p.Z)(this,"tags",["key"]),(0,p.Z)(this,"color",void 0),(0,p.Z)(this,"entity",void 0),(0,p.Z)(this,"row",void 0),(0,p.Z)(this,"column",void 0),this.row=e,this.column=n,this.color=i}return(0,c.Z)(t,[{key:"onCreate",value:function(t){this.entity=t;var e=t.area.game.assets.getObject("Key").clone();e.position.copy(t.area.state.tileLocationToPosition(this.row,this.column)),e.position.y=2,e.rotation.y=lt(0,2*Math.PI),e.scale.set(.5,.25,.25),e.castShadow=!0,this.entity.object=e;var n=It[this.color];void 0!==n&&(e.material=n),this.entity.mask=new P(this.entity.object)}},{key:"onDestroy",value:function(){var t=this.entity.area.state;t.maze[this.row][this.column]=o.Empty,this.entity.area.game.resources.getResource("inventory").collectKey(this.color),t.collectItem.play()}},{key:"onStep",value:function(){this.entity.object.rotateY(Math.PI/256);var t=this.entity.area.findFirstEntity("player");null!==t&&this.entity.isCollidingWith(t)&&this.entity.destroy()}},{key:"onTimer",value:function(t){}},{key:"onDraw",value:function(t){}}]),t}(),Ft=function(){function t(){(0,h.Z)(this,t),(0,p.Z)(this,"tags",["hit-animation"]),(0,p.Z)(this,"entity",void 0)}return(0,c.Z)(t,[{key:"onCreate",value:function(t){this.entity=t,this.entity.setTimer(1,5,!1);var e=this.entity.area.state;e.oofSound.volume=.5,e.oofSound.isPlaying||e.oofSound.play()}},{key:"onDestroy",value:function(){}},{key:"onStep",value:function(){}},{key:"onTimer",value:function(t){this.entity.destroy()}},{key:"onDraw",value:function(t){t.globalAlpha=.5,t.strokeStyle="red",t.lineWidth=20,t.beginPath(),t.rect(0,0,this.entity.area.overlayWidth,this.entity.area.overlayHeight),t.stroke()}}]),t}();function Ot(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var Wt=new A.Kj0(new A.xo$,new A.vBJ({color:16755200}));Wt.scale.set(.15,.15,.15);var Gt,Nt=function(){function t(e){(0,h.Z)(this,t),(0,p.Z)(this,"tags",["bullet"]),(0,p.Z)(this,"entity",void 0),(0,p.Z)(this,"position",void 0),(0,p.Z)(this,"rotation",void 0),this.position=e.object.position.clone(),this.rotation=e.object.rotation.clone()}return(0,c.Z)(t,[{key:"onCreate",value:function(t){this.entity=t;var e=Wt.clone();e.position.copy(this.position),e.rotation.copy(this.rotation),e.updateMatrix(),this.entity.object=e,this.entity.mask=new P(this.entity.object),this.entity.setTimer(0,250)}},{key:"onDestroy",value:function(){}},{key:"onStep",value:function(){this.entity.object.translateX(.5),this.entity.mask.update(this.entity.object),this.entity.mask.sphere.radius/=3,this.testForPlayerCollision(),this.testForWallCollision()}},{key:"testForPlayerCollision",value:function(){var t=this.entity.area.findFirstEntity("player");null!==t&&this.entity.isCollidingWith(t)&&(this.entity.area.game.resources.getResource("health").hit(1),this.entity.area.createEntity(new Ft),this.entity.destroy())}},{key:"testForWallCollision",value:function(){var t,e=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Ot(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ot(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(this.entity.area.findEntities("wall"));try{for(e.s();!(t=e.n()).done;){var n=t.value;if(this.entity.isCollidingWith(n))return void this.entity.destroy()}}catch(t){e.e(t)}finally{e.f()}}},{key:"onTimer",value:function(t){this.entity.destroy()}},{key:"onDraw",value:function(t){}}]),t}(),Ht=function(){function t(e,n){(0,h.Z)(this,t),(0,p.Z)(this,"tags",["explosion"]),(0,p.Z)(this,"entity",void 0),(0,p.Z)(this,"position",void 0),(0,p.Z)(this,"scale",void 0),(0,p.Z)(this,"scaleAnimation",Math.PI/2),this.position=e,this.scale=n}return(0,c.Z)(t,[{key:"onCreate",value:function(t){this.entity=t;var e=this.entity.area.game.assets.getObject("Explosion").clone();e.position.copy(this.position),e.scale.set(this.scale,this.scale,this.scale),this.entity.object=e;var n=this.entity.area.state;n.explosion.audio.playbackRate=2,n.explosion.play()}},{key:"onDestroy",value:function(){}},{key:"onStep",value:function(){var t=this.scale*Math.sin(this.scaleAnimation);this.entity.object.scale.set(t,t,t),this.scaleAnimation+=Math.PI/24,this.scaleAnimation>Math.PI&&this.entity.destroy()}},{key:"onTimer",value:function(t){}},{key:"onDraw",value:function(t){}}]),t}();function zt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var Kt,_t,Yt=Math.PI/64,Ut=1e-4,Xt=1e-4,Vt=new Set([o.Wall,o.BigDoor]);!function(t){t[t.Moving=0]="Moving",t[t.Turning=1]="Turning"}(Kt||(Kt={})),function(t){t[t.Up=0]="Up",t[t.Down=1]="Down",t[t.Left=2]="Left",t[t.Right=3]="Right"}(_t||(_t={}));var $t,qt,Qt,Jt=(Gt={},(0,p.Z)(Gt,_t.Up,{opposite:_t.Down,angle:Math.PI,reverse:_t.Right}),(0,p.Z)(Gt,_t.Down,{opposite:_t.Up,angle:0,reverse:_t.Left}),(0,p.Z)(Gt,_t.Left,{opposite:_t.Right,angle:3*Math.PI/2,reverse:_t.Up}),(0,p.Z)(Gt,_t.Right,{opposite:_t.Left,angle:Math.PI/2,reverse:_t.Down}),Gt),te=function(){function t(e,n){(0,h.Z)(this,t),(0,p.Z)(this,"tags",["drone"]),(0,p.Z)(this,"entity",void 0),(0,p.Z)(this,"row",void 0),(0,p.Z)(this,"column",void 0),(0,p.Z)(this,"state",Kt.Turning),(0,p.Z)(this,"dir",_t.Down),(0,p.Z)(this,"rotDir",Yt),(0,p.Z)(this,"angle",0),(0,p.Z)(this,"health",30),this.row=e,this.column=n}return(0,c.Z)(t,[{key:"onCreate",value:function(t){this.entity=t;var e=t.area.game.assets.getObject("Drone").clone();e.position.copy(t.area.state.tileLocationToPosition(this.row,this.column)),e.position.y=10,e.children[0].castShadow=!0,this.entity.object=e,this.entity.mask=new j(e.children[4]),this.entity.setTimer(0,10,!0),this.pickNewDirection()}},{key:"onDestroy",value:function(){}},{key:"onStep",value:function(){this.entity.mask.update(this.entity.object.children[4]),this.updateMazePosition(),this.canSeePlayer()&&this.inCenterOfTile()?this.pointTowardsPlayer():this.moveDrone(),this.checkForBulletCollision(),this.checkHealth()}},{key:"updateMazePosition",value:function(){var t=this.entity.area.state.positionToTileLocation(this.entity.object.position),e=(0,u.Z)(t,2);this.row=e[0],this.column=e[1]}},{key:"canSeePlayer",value:function(){var t=this,e=this.entity.area.findFirstEntity("player");if(null!==e){var n=e.object.position.clone();n.sub(this.entity.object.position);var i=n.length();if(i>=40)return!1;var r=new A.iMs(this.entity.object.position,n.normalize(),0,i);return this.entity.area.findEntities("wall").every((function(e){var n=e.mask.intersectRay(r.ray);return null===n||n.distanceTo(t.entity.object.position)>=i}))}}},{key:"inCenterOfTile",value:function(){return yt(this.entity.object.position.x/5,Ut)&&yt(this.entity.object.position.z/5,Ut)}},{key:"pointTowardsPlayer",value:function(){var t=this.entity.area.findFirstEntity("player");if(null!==t){var e=this.entity.object.position.clone();e.sub(t.object.position);var n=Math.atan2(-e.z,e.x)+Math.PI,i=Math.sqrt(e.z*e.z+e.x*e.x),r=-Math.atan2(e.y,i),o=new A.USm(0,n,r,"YXZ");this.entity.object.quaternion.setFromEuler(o)}}},{key:"moveDrone",value:function(){switch(this.entity.object.rotation.set(0,this.angle,0),this.state){case Kt.Moving:if(this.entity.object.translateX(.1),this.inCenterOfTile()){var t=this.entity.area.state.tileLocationToPosition(this.row,this.column);this.entity.object.position.x=t.x,this.entity.object.position.z=t.z,this.pickNewDirection(),this.state=Kt.Turning}break;case Kt.Turning:var e=Jt[this.dir].angle;n=this.angle,o=dt((r=e+Xt)-(i=e-Xt)),Math.abs(dt(i-n))<o&&Math.abs(dt(r-n))<o?(this.angle=e,this.state=Kt.Moving):this.angle+=this.rotDir}var n,i,r,o}},{key:"pickNewDirection",value:function(){var t=this.entity.area.state,e=[];if(Vt.has(t.maze[this.row-1][this.column])||e.push(_t.Up),Vt.has(t.maze[this.row+1][this.column])||e.push(_t.Down),Vt.has(t.maze[this.row][this.column-1])||e.push(_t.Left),Vt.has(t.maze[this.row][this.column+1])||e.push(_t.Right),e.length<=1)this.dir=e[0]||Jt[this.dir].opposite;else{var n=this.dir,i=Jt[this.dir].opposite,r=ht(e.filter((function(t){return t!==i})));this.rotDir=Jt[n].reverse===r?-Yt:Yt,this.dir=r}}},{key:"checkForBulletCollision",value:function(){var t,e=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return zt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zt(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(this.entity.area.findEntities("player-bullet"));try{for(e.s();!(t=e.n()).done;){var n=t.value;if(this.entity.isCollidingWith(n)){n.destroy(),this.health-=1;var i=this.entity.area.state;i.hitObject.volume=.125,i.hitObject.play()}}}catch(t){e.e(t)}finally{e.f()}}},{key:"checkHealth",value:function(){this.health<=0&&(this.entity.destroy(),this.entity.area.createEntity(new Ht(this.entity.object.position,2)))}},{key:"onTimer",value:function(t){if(0===t&&this.canSeePlayer()&&this.inCenterOfTile()){this.entity.area.createEntity(new Nt(this.entity));var e=this.entity.area.state;e.droneShoot.volume=.125,e.droneShoot.play()}}},{key:"onDraw",value:function(t){}}]),t}();function ee(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}!function(t){t[t.A=0]="A",t[t.B=1]="B",t[t.C=2]="C"}($t||($t={}));var ne=16,ie="#a0a914",re=(qt={},(0,p.Z)(qt,o.Wall,(function(t,e,n){t.fillStyle="#6b6764",t.fillRect(e,n,ne,ne)})),(0,p.Z)(qt,o.Energy,le("Energy")),(0,p.Z)(qt,o.RedDoor,ue("red",he)),(0,p.Z)(qt,o.YellowDoor,ue("yellow",he)),(0,p.Z)(qt,o.GreenDoor,ue("green",he)),(0,p.Z)(qt,o.BlueDoor,ue("blue",he)),(0,p.Z)(qt,o.RedKey,le("RedKey")),(0,p.Z)(qt,o.YellowKey,le("YellowKey")),(0,p.Z)(qt,o.GreenKey,le("GreenKey")),(0,p.Z)(qt,o.BlueKey,le("BlueKey")),(0,p.Z)(qt,o.Battery,le("Battery")),(0,p.Z)(qt,o.Lever,(function(t,e,n,i,r,o){le(o.area.game.resources.getResource("door-state").getToggleState()?"LeverReverse":"Lever")(t,e,n,i,r,o)})),(0,p.Z)(qt,o.ToggleDoor,ue("orange",ce())),(0,p.Z)(qt,o.InverseToggleDoor,ue("orange",ce(!0))),(0,p.Z)(qt,o.ADoor,ue("grey",fe($t.A))),(0,p.Z)(qt,o.BDoor,ue("grey",fe($t.B))),(0,p.Z)(qt,o.CDoor,ue("grey",fe($t.C))),(0,p.Z)(qt,o.ABox,le("ElectricBox")),(0,p.Z)(qt,o.BBox,le("ElectricBox")),(0,p.Z)(qt,o.CBox,le("ElectricBox")),(0,p.Z)(qt,o.BigDoor,ue("#654321",(function(t){return t.area.game.resources.getResource("door-state").isBigDoorOpened()}))),(0,p.Z)(qt,o.Portal,(function(t,e,n,i,r,o){var a=o.area.state;if(0===a.energyLeft?t.fillStyle="#5B00E7":t.fillStyle="#511f1f",t.fillRect(e-32/3,n+4,112/3,8),0===a.energyLeft){var s=o.area.game.assets.getImage("Energy");t.drawImage(s,e+4,n+4,8,8)}})),(0,p.Z)(qt,o.Gun,le("Gun")),(0,p.Z)(qt,o.Map,le("Map")),qt),oe=(Qt={},(0,p.Z)(Qt,Dt.Red,"RedKey"),(0,p.Z)(Qt,Dt.Yellow,"YellowKey"),(0,p.Z)(Qt,Dt.Green,"GreenKey"),(0,p.Z)(Qt,Dt.Blue,"BlueKey"),Qt),ae=function(){function t(){(0,h.Z)(this,t),(0,p.Z)(this,"tags",["hud"]),(0,p.Z)(this,"entity",void 0),(0,p.Z)(this,"mapCanvas",void 0),(0,p.Z)(this,"mapVisited",void 0),(0,p.Z)(this,"shouldDrawMap",!1),(0,p.Z)(this,"message",""),this.mapCanvas=document.createElement("canvas")}return(0,c.Z)(t,[{key:"onCreate",value:function(t){this.entity=t;var e=t.area.state;this.mapVisited=Array(e.mazeHeight).fill(null).map((function(){return Array(e.mazeWidth).fill(null).map((function(){return!1}))})),this.entity.setTimer(0,24,!0),this.redrawMap()}},{key:"onDestroy",value:function(){}},{key:"onStep",value:function(){this.updateVisited();var t=this.entity.area.game.input;this.shouldDrawMap=t.isKeyDown(Q.Space)||t.isGamepadButtonDown(0,J.LeftBumper)||t.isGamepadButtonDown(0,J.YTriangle)}},{key:"updateVisited",value:function(){for(var t=this.entity.area.state,e=t.getPlayerTileLocation(),n=(0,u.Z)(e,2),i=n[0],r=n[1],o=-3;o<=3;o+=1)for(var a=-3;a<=3;a+=1)this.mapVisited[ct(i+o,0,t.mazeHeight-1)][ct(r+a,0,t.mazeWidth-1)]=!0}},{key:"redrawMap",value:function(){var t=this.entity.area.state,e=this.mapCanvas.getContext("2d"),n=t.mazeWidth*ne+8,i=t.mazeHeight*ne+8;this.mapCanvas.width=n,this.mapCanvas.height=i,e.fillStyle="#a0d914",e.fillRect(0,0,n,i);for(var r=0;r<t.mazeHeight;r+=1)for(var o=0;o<t.mazeWidth;o+=1){var a=4+o*ne,s=4+r*ne;if(this.mapVisited[r][o]){var l=re[t.maze[r][o]];void 0!==l&&l(e,a,s,r,o,this.entity)}else e.fillStyle="#3b3b3b",e.fillRect(a,s,ne,ne)}var h,c=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return ee(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ee(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(this.entity.area.findEntities("drone"));try{for(c.s();!(h=c.n()).done;){var f=h.value,y=t.positionToTileLocation(f.object.position),d=(0,u.Z)(y,2),v=d[0],p=d[1];if(this.mapVisited[v][p]){var m=4+p*ne,g=4+v*ne;e.fillStyle="lightgrey",e.beginPath(),e.arc(m+8,g+8,ne/3,0,2*Math.PI),e.fill(),e.strokeStyle="black",e.lineWidth=1,e.stroke()}}}catch(t){c.e(t)}finally{c.f()}}},{key:"onTimer",value:function(t){0===t&&this.redrawMap()}},{key:"onDraw",value:function(t){this.shouldDrawMap?this.drawFullMap(t):this.drawHUD(t),this.message=""}},{key:"drawHUD",value:function(t){var e=this.entity.area.game.resources.getResource("inventory");e.hasCollectedMap()&&(this.drawHealthBar(t),this.drawMapSubset(t)),e.hasCollectedMap()&&e.hasCollectedGun()&&(this.drawInventory(t),this.drawMessage(t)),e.hasCollectedGun()&&this.drawTarget(t)}},{key:"drawHealthBar",value:function(t){t.textAlign="left",t.textBaseline="top",t.font="30px sans-serif",t.fillStyle="#ffffff",t.fillText("Health:",10,10),function(t,e,n,i,r,o,a,s){e=ct(e,0,1);var l=new A.Ilk;l.lerpColors(s,a,e),t.fillStyle="#"+l.getHexString(),t.fillRect(n,10,100*e,25),t.beginPath(),t.strokeStyle="black",t.rect(n,10,100,25),t.stroke()}(t,this.entity.area.game.resources.getResource("health").getHealthPercentLeft(),10+t.measureText("Health:").width+10,0,0,0,new A.Ilk(0,1,0),new A.Ilk(1,0,0))}},{key:"drawMapSubset",value:function(t){var e=this.entity.area.state,n=e.getPlayerTileLocation(),i=(0,u.Z)(n,2),r=i[0],o=i[1]-Math.floor(4.5),a=r-Math.floor(4.5),s=o*ne,l=a*ne,h=152,c=this.entity.area.overlayWidth-162;t.fillStyle=ie,t.fillRect(c,10,h,h),t.drawImage(this.mapCanvas,s,l,h,h,c,10,h,h),t.beginPath(),t.rect(c,10,h,h),t.strokeStyle="brown",t.lineWidth=4,t.stroke(),t.fillStyle="red",t.font="10pt sans-serif",t.textAlign="center",t.textBaseline="middle",t.fillText("N",c+76,25),t.fillStyle="white",t.fillText("S",c+76,147),t.fillText("W",c+15,86),t.fillText("E",c+h-15,86),t.strokeStyle="red",t.lineWidth=2,se(t,c+76,86,e.getPlayerAngle(),ne)}},{key:"drawInventory",value:function(t){var e=this.entity.area.state,n=this.entity.area.game.resources.getResource("inventory"),i=this.entity.area.game.assets,r=32;t.drawImage(i.getImage("Energy"),10,40,r,r),t.font="10pt sans-serif",t.fillStyle="white",t.textAlign="center",t.textBaseline="top",t.fillText("".concat(e.totalEnergy-e.energyLeft," / ").concat(e.totalEnergy),26,72);for(var o=50,a=0,s=[Dt.Red,Dt.Yellow,Dt.Green,Dt.Blue];a<s.length;a++){var l=s[a];if(n.hasKeyAvailable(l)){var u=i.getImage(oe[l]);t.drawImage(u,o,40,r,r),t.fillText("x".concat(n.getKeyCount(l)),o+16,72),o+=40}}if(n.hasCollectedBattery()){var h=i.getImage("Battery");t.drawImage(h,o,40,r,r),t.fillText("x".concat(n.getBatteryCount()),o+16,72),o+=40}}},{key:"drawMessage",value:function(t){if(!(this.message.length<=0)){t.font="24pt sans-serif",t.textAlign="center",t.textBaseline="bottom";var e=t.measureText(this.message),n=e.width+10,i=e.actualBoundingBoxAscent-e.fontBoundingBoxDescent+10,r=this.entity.area.overlayWidth/2,o=this.entity.area.overlayHeight-20;t.fillStyle="black",t.fillRect(r-n/2,o-i,n,i),t.lineWidth=2,t.strokeStyle="orange",t.beginPath(),t.rect(r-n/2,o-i,n,i),t.stroke(),t.fillStyle="white",t.fillText(this.message,r,o)}}},{key:"drawTarget",value:function(t){var e=this.entity.area.overlayWidth/2,n=this.entity.area.overlayHeight/2;t.lineWidth=1,t.strokeStyle="white",t.beginPath(),t.moveTo(e-5,n),t.lineTo(e+5,n),t.moveTo(e,n-5),t.lineTo(e,n+5),t.stroke()}},{key:"drawFullMap",value:function(t){if(this.entity.area.game.resources.getResource("inventory").hasCollectedMap()){var e=this.entity.area.state,n=e.getPlayerTileLocation(),i=(0,u.Z)(n,2),r=i[0],o=i[1],a=this.entity.area.overlayWidth-30,s=this.entity.area.overlayHeight-30,l=Math.min(a,this.mapCanvas.width),h=Math.min(s,this.mapCanvas.height),c=o*ne+8+4,f=r*ne+8+4,y=this.entity.area.overlayWidth/2-l/2,d=this.entity.area.overlayHeight/2-h/2;t.fillStyle=ie,t.fillRect(y,d,l,h),t.drawImage(this.mapCanvas,c-l/2,f-h/2,l,h,y,d,l,h),t.beginPath(),t.rect(y,d,l,h),t.strokeStyle="brown",t.lineWidth=4,t.stroke(),t.fillStyle="red",t.font="24pt sans-serif",t.textAlign="center",t.textBaseline="middle",t.fillText("N",y+l/2,d+25),t.fillStyle="white",t.fillText("S",y+l/2,d+h-25),t.fillText("W",y+25,d+h/2),t.fillText("E",y+l-25,d+h/2),t.strokeStyle="red",t.lineWidth=2,se(t,y+l/2,d+h/2,e.getPlayerAngle(),ne)}}}]),t}();function se(t,e,n,i,r){var o=e+r/2*Math.cos(i),a=n-r/2*Math.sin(i),s=e-r/2*Math.cos(i),l=n+r/2*Math.sin(i),u=Math.PI/6;t.beginPath(),t.moveTo(s,l),t.lineTo(o,a),t.lineTo(o-6*Math.cos(i-u),a+6*Math.sin(i-u)),t.moveTo(o,a),t.lineTo(o-6*Math.cos(i+u),a+6*Math.sin(i+u)),t.stroke()}function le(t){return function(e,n,i,r,o,a){var s=a.area.game.assets.getImage(t);e.drawImage(s,n,i,ne,ne)}}function ue(t,e){return function(n,i,r,o,a,s){e(s,o,a)?function(t){return function(e,n,i,r){e.fillStyle=t,r%2==1?(e.fillRect(n+4,i,8,2),e.fillRect(n+4,i+ne-2,8,2)):(e.fillRect(n,i+4,2,8),e.fillRect(n+ne-2,i+4,2,8))}}(t)(n,i,r,o,a,s):function(t){return function(e,n,i,r){e.fillStyle=t,r%2==1?e.fillRect(n+4,i,8,ne):e.fillRect(n,i+4,ne,8)}}(t)(n,i,r,o,a,s)}}function he(t,e,n){return t.area.game.resources.getResource("door-state").isColoredDoorOpened(e,n)}function ce(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(e){return e.area.game.resources.getResource("door-state").getToggleState()!==t}}function fe(t){return function(e){return e.area.game.resources.getResource("door-state").isDoorPowered(t)}}var ye=function(){function t(){(0,h.Z)(this,t),(0,p.Z)(this,"health",100)}return(0,c.Z)(t,[{key:"getHealthPercentLeft",value:function(){return this.health/100}},{key:"heal",value:function(t){this.health=Math.min(this.health+t,100)}},{key:"hit",value:function(t){this.health=Math.max(this.health-t,0)}},{key:"hasHealthLeft",value:function(){return this.health>0}}]),t}(),de=function(){function t(){var e;(0,h.Z)(this,t),(0,p.Z)(this,"mapCollected",!1),(0,p.Z)(this,"gunCollected",!1),(0,p.Z)(this,"keysCollected",(e={},(0,p.Z)(e,Dt.Red,0),(0,p.Z)(e,Dt.Yellow,0),(0,p.Z)(e,Dt.Green,0),(0,p.Z)(e,Dt.Blue,0),e)),(0,p.Z)(this,"batteryCollected",0)}return(0,c.Z)(t,[{key:"collectMap",value:function(){this.mapCollected=!0}},{key:"hasCollectedMap",value:function(){return this.mapCollected}},{key:"collectGun",value:function(){this.gunCollected=!0}},{key:"hasCollectedGun",value:function(){return this.gunCollected}},{key:"collectKey",value:function(t){this.keysCollected[t]+=1}},{key:"getKeyCount",value:function(t){return this.keysCollected[t]}},{key:"hasKeyAvailable",value:function(t){return this.getKeyCount(t)>0}},{key:"useKey",value:function(t){return this.keysCollected[t]>0&&(this.keysCollected[t]-=1,!0)}},{key:"collectBattery",value:function(){this.batteryCollected+=1}},{key:"getBatteryCount",value:function(){return this.batteryCollected}},{key:"hasCollectedBattery",value:function(){return this.batteryCollected>0}},{key:"useBattery",value:function(){return this.batteryCollected>0&&(this.batteryCollected-=1,!0)}}]),t}(),ve=new A.cJO(1,3),pe=new A.Wid({color:16744448,emissive:16711680}),me=Math.PI/24,ge=function(){function t(e,n){(0,h.Z)(this,t),(0,p.Z)(this,"tags",["energy"]),(0,p.Z)(this,"entity",void 0),(0,p.Z)(this,"row",void 0),(0,p.Z)(this,"column",void 0),(0,p.Z)(this,"scale",0),this.row=e,this.column=n}return(0,c.Z)(t,[{key:"onCreate",value:function(t){this.entity=t;var e=new A.Kj0(ve,pe);e.position.copy(t.area.state.tileLocationToPosition(this.row,this.column)),e.position.y=2.5,e.castShadow=!0,this.entity.object=e,this.entity.mask=new j(e)}},{key:"onDestroy",value:function(){var t=this.entity.area.state;t.maze[this.row][this.column]=o.Empty,0===t.energyLeft?(t.activatePortal.volume=.5,t.activatePortal.play()):t.collectItem.play()}},{key:"onStep",value:function(){this.playScaleAnimation(),this.checkForPlayerCollision()}},{key:"playScaleAnimation",value:function(){var t=1+.1*Math.sin(this.scale);this.scale+=me,this.entity.object.scale.set(t,t,t),this.entity.mask.update(this.entity.object)}},{key:"checkForPlayerCollision",value:function(){var t=this.entity.area.findFirstEntity("player");null!==t&&this.entity.isCollidingWith(t)&&this.entity.destroy()}},{key:"onTimer",value:function(t){}},{key:"onDraw",value:function(t){}}]),t}(),ke=function(){function t(e,n){(0,h.Z)(this,t),(0,p.Z)(this,"tags",["lever"]),(0,p.Z)(this,"entity",void 0),(0,p.Z)(this,"row",void 0),(0,p.Z)(this,"column",void 0),(0,p.Z)(this,"mixer",void 0),(0,p.Z)(this,"leverAction",void 0),(0,p.Z)(this,"open",!1),this.row=e,this.column=n}return(0,c.Z)(t,[{key:"onCreate",value:function(t){this.entity=t;var e=this.entity.area.game.assets.getObject("Lever").clone();e.position.copy(t.area.state.tileLocationToPosition(this.row,this.column)),e.scale.set(1.5,1.5,1.5),e.castShadow=!0,e.children[0].castShadow=!0,this.entity.object=e,this.entity.mask=new P(e),this.mixer=new A.Xcj(e),this.leverAction=this.mixer.clipAction(t.area.game.assets.getAnimation("LeverAction")),this.leverAction.loop=A.jAl,this.leverAction.repetitions=1,this.leverAction.clampWhenFinished=!0}},{key:"onDestroy",value:function(){}},{key:"onStep",value:function(){this.mixer.update(.02),this.testForPlayerInteraction()}},{key:"testForPlayerInteraction",value:function(){var t=this.entity.area.findFirstEntity("player");if(null!==t&&this.entity.isCollidingWith(t)){var e=this.entity.area.findFirstEntity("hud");if(null!==e){if(e.state.message.length>0||this.leverAction.isRunning())return;e.state.message="Action: Pull Lever"}this.leverAction.isRunning()||this.checkInteractionInput()}}},{key:"checkInteractionInput",value:function(){var t=this.entity.area.game.input;if(t.isKeyStarted(Q.E)||t.isGamepadButtonStarted(0,J.XSquare)){this.open?this.closeLever():this.openLever(),this.entity.area.game.resources.getResource("door-state").toggleDoors();var e=this.entity.area.state;e.toggleLever.play(),e.openDoor.play()}}},{key:"openLever",value:function(){this.open=!0,this.leverAction.timeScale=1,this.leverAction.paused=!1,this.leverAction.play()}},{key:"closeLever",value:function(){this.open=!1,this.leverAction.timeScale=-1,this.leverAction.time=this.leverAction.getClip().duration,this.leverAction.paused=!1,this.leverAction.play()}},{key:"onTimer",value:function(t){}},{key:"onDraw",value:function(t){}}]),t}();function Ze(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var be=function(){function t(e,n){(0,h.Z)(this,t),(0,p.Z)(this,"tags",["rock"]),(0,p.Z)(this,"entity",void 0),(0,p.Z)(this,"row",void 0),(0,p.Z)(this,"column",void 0),(0,p.Z)(this,"health",10),this.row=e,this.column=n}return(0,c.Z)(t,[{key:"onCreate",value:function(t){this.entity=t;var e=t.area.game.assets.getObject("Rock").clone();e.scale.set(2.5,2.5,2.5),e.position.copy(t.area.state.tileLocationToPosition(this.row,this.column)),e.castShadow=!0,this.entity.object=e,this.entity.mask=new j(e)}},{key:"onDestroy",value:function(){this.entity.area.state.maze[this.row][this.column]=o.Empty}},{key:"onStep",value:function(){this.checkForBulletCollision(),this.checkHealth()}},{key:"checkForBulletCollision",value:function(){var t,e=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Ze(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ze(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(this.entity.area.findEntities("player-bullet"));try{for(e.s();!(t=e.n()).done;){var n=t.value;if(this.entity.isCollidingWith(n)){var i=this.entity.area.state;i.hitObject.volume=.125,i.hitObject.play(),n.destroy(),this.health-=1}}}catch(t){e.e(t)}finally{e.f()}}},{key:"checkHealth",value:function(){if(this.health<=0){this.entity.destroy();var t=this.entity.object.position.clone();t.y+=5/4,this.entity.area.createEntity(new Ht(t,2.5))}}},{key:"onTimer",value:function(t){}},{key:"onDraw",value:function(t){}}]),t}(),we=function(){function t(e,n){(0,h.Z)(this,t),(0,p.Z)(this,"tags",["battery"]),(0,p.Z)(this,"entity",void 0),(0,p.Z)(this,"row",void 0),(0,p.Z)(this,"column",void 0),this.row=e,this.column=n}return(0,c.Z)(t,[{key:"onCreate",value:function(t){this.entity=t;var e=this.entity.area.game.assets.getObject("Battery").clone();e.position.copy(t.area.state.tileLocationToPosition(this.row,this.column)),e.position.y=2,e.scale.set(2,2,2),e.children[2].castShadow=!0,this.entity.object=e,this.entity.mask=new j(e)}},{key:"onDestroy",value:function(){var t=this.entity.area.state;t.maze[this.row][this.column]=o.Empty,this.entity.area.game.resources.getResource("inventory").collectBattery(),t.collectItem.play()}},{key:"onStep",value:function(){var t=this.entity.area.findFirstEntity("player");null!==t&&this.entity.isCollidingWith(t)&&this.entity.destroy()}},{key:"onTimer",value:function(t){}},{key:"onDraw",value:function(t){}}]),t}(),Ae=function(){function t(e,n,i){(0,h.Z)(this,t),(0,p.Z)(this,"tags",["electric-box","wall"]),(0,p.Z)(this,"entity",void 0),(0,p.Z)(this,"row",void 0),(0,p.Z)(this,"column",void 0),(0,p.Z)(this,"type",void 0),(0,p.Z)(this,"hasBattery",!1),(0,p.Z)(this,"interactMask",void 0),(0,p.Z)(this,"mixer",void 0),(0,p.Z)(this,"insertBattery",void 0),(0,p.Z)(this,"spinWheel",void 0),(0,p.Z)(this,"batteryObject",void 0),this.row=e,this.column=n,this.type=i}return(0,c.Z)(t,[{key:"onCreate",value:function(t){this.entity=t;var e=this.entity.area.game.assets.getObject("ElectricBox").clone();e.position.copy(t.area.state.tileLocationToPosition(this.row,this.column)),e.children[0].castShadow=!0,e.children[3].castShadow=!0,this.batteryObject=e.children[2],this.batteryObject.visible=!1,this.entity.object=e,this.entity.mask=new j(e),this.interactMask=new P(e),this.interactMask.sphere.radius*=1.5,this.mixer=new A.Xcj(e),this.insertBattery=this.mixer.clipAction(t.area.game.assets.getAnimation("BatteryAction")),this.insertBattery.loop=A.jAl,this.insertBattery.clampWhenFinished=!0,this.spinWheel=this.mixer.clipAction(t.area.game.assets.getAnimation("WheelAction")),this.spinWheel.loop=A.YKA,this.spinWheel.repetitions=1/0,this.spinWheel.paused=!0,this.spinWheel.play()}},{key:"onDestroy",value:function(){}},{key:"onStep",value:function(){if(this.mixer.update(.01),this.testForPlayerInteraction(),this.hasBattery&&!this.insertBattery.isRunning()&&!this.spinWheel.isRunning()){this.spinWheel.paused=!1,this.entity.area.game.resources.getResource("door-state").setDoorPowered(this.type,!0);var t=this.entity.area.state;t.electricBox.volume=.25,t.electricBox.play()}this.hasBattery||this.insertBattery.isRunning()||!this.batteryObject.visible||(this.batteryObject.visible=!1,this.entity.area.game.resources.getResource("inventory").collectBattery())}},{key:"testForPlayerInteraction",value:function(){var t=this.entity.area.findFirstEntity("player");if(null!==t&&this.interactMask.isCollidingWith(t.mask)){var e=this.entity.area.findFirstEntity("hud");if(null!==e){var n=this.entity.area.game.resources.getResource("inventory");if(e.state.message.length>0||this.insertBattery.isRunning())return;this.hasBattery?e.state.message="Action: Take Battery":e.state.message=n.hasCollectedBattery()?"Action: Insert Battery":"Needs a battery for power"}this.insertBattery.isRunning()||this.checkInteractionInput()}}},{key:"checkInteractionInput",value:function(){var t=this.entity.area.game.input;if(t.isKeyStarted(Q.E)||t.isGamepadButtonStarted(0,J.XSquare)){var e=this.entity.area.game.resources.getResource("inventory");if(this.hasBattery){this.spinWheel.paused=!0,this.insertBattery.timeScale=-1,this.insertBattery.paused=!1,this.insertBattery.play(),this.entity.area.game.resources.getResource("door-state").setDoorPowered(this.type,!1),this.hasBattery=!1;var n=this.entity.area.state;n.toggleLever.play(),n.openDoor.play()}else e.hasCollectedBattery()&&(this.insertBattery.timeScale=1,this.batteryObject.visible=!0,this.insertBattery.paused=!1,this.insertBattery.play(),e.useBattery(),this.hasBattery=!0)}}},{key:"onTimer",value:function(t){}},{key:"onDraw",value:function(t){}}]),t}(),Se=function(){function t(){var e;(0,h.Z)(this,t),(0,p.Z)(this,"bigDoorOpened",!1),(0,p.Z)(this,"coloredDoors",new Set),(0,p.Z)(this,"toggle",!1),(0,p.Z)(this,"powered",(e={},(0,p.Z)(e,$t.A,!1),(0,p.Z)(e,$t.B,!1),(0,p.Z)(e,$t.C,!1),e))}return(0,c.Z)(t,[{key:"isBigDoorOpened",value:function(){return this.bigDoorOpened}},{key:"openBigDoor",value:function(){this.bigDoorOpened=!0}},{key:"isColoredDoorOpened",value:function(t,e){return this.coloredDoors.has("".concat(t,"-").concat(e))}},{key:"setColoredDoorOpened",value:function(t,e){this.coloredDoors.add("".concat(t,"-").concat(e))}},{key:"getToggleState",value:function(){return this.toggle}},{key:"toggleDoors",value:function(){this.toggle=!this.toggle}},{key:"isDoorPowered",value:function(t){return this.powered[t]}},{key:"setDoorPowered",value:function(t,e){this.powered[t]=e}}]),t}();var De=function(t){(0,y.Z)(r,t);var e,n,i=(e=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=(0,v.Z)(e);if(n){var r=(0,v.Z)(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return(0,d.Z)(this,t)});function r(t,e){var n,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,h.Z)(this,r),n=i.call(this,t,e,"ToggleDoor"),(0,p.Z)((0,f.Z)(n),"tags",["wall"]),(0,p.Z)((0,f.Z)(n),"reverse",void 0),(0,p.Z)((0,f.Z)(n),"interactMask",void 0),n.reverse=o,n}return(0,c.Z)(r,[{key:"onCreateDoor",value:function(){this.interactMask=new P(this.entity.object)}},{key:"onDestroy",value:function(){}},{key:"onStepDoor",value:function(){this.syncWithState(),this.testForPlayerInteraction()}},{key:"syncWithState",value:function(){var t=this.entity.area.game.resources.getResource("door-state"),e=this.reverse?!t.getToggleState():t.getToggleState();this.open!==e&&(this.open?this.closeDoor():this.openDoor())}},{key:"testForPlayerInteraction",value:function(){if(!this.open){var t=this.entity.area.findFirstEntity("player");if(null!==t&&this.interactMask.isCollidingWith(t.mask)){var e=this.entity.area.findFirstEntity("hud");null!==e&&0===e.state.message.length&&(e.state.message="Flip lever to toggle door")}}}},{key:"onTimer",value:function(t){}},{key:"onDraw",value:function(t){}}]),r}(V);var xe=function(t){(0,y.Z)(r,t);var e,n,i=(e=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=(0,v.Z)(e);if(n){var r=(0,v.Z)(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return(0,d.Z)(this,t)});function r(t,e,n){var o;return(0,h.Z)(this,r),o=i.call(this,t,e,"ElectricDoor"),(0,p.Z)((0,f.Z)(o),"tags",["wall"]),(0,p.Z)((0,f.Z)(o),"type",void 0),(0,p.Z)((0,f.Z)(o),"interactMask",void 0),o.type=n,o}return(0,c.Z)(r,[{key:"onCreateDoor",value:function(){this.interactMask=new P(this.entity.object)}},{key:"onDestroy",value:function(){}},{key:"onStepDoor",value:function(){this.syncWithState(),this.testForPlayerInteraction()}},{key:"syncWithState",value:function(){var t=this.entity.area.game.resources.getResource("door-state");this.open!==t.isDoorPowered(this.type)&&(this.open?this.closeDoor():this.openDoor())}},{key:"testForPlayerInteraction",value:function(){if(!this.open){var t=this.entity.area.findFirstEntity("player");if(null!==t&&this.interactMask.isCollidingWith(t.mask)){var e=this.entity.area.findFirstEntity("hud");null!==e&&0===e.state.message.length&&(e.state.message="Door needs to be powered")}}}},{key:"onTimer",value:function(t){}},{key:"onDraw",value:function(t){}}]),r}(V),Te=function(){function t(){(0,h.Z)(this,t),(0,p.Z)(this,"area",void 0),(0,p.Z)(this,"heartMonitor",void 0),(0,p.Z)(this,"startTime",void 0),(0,p.Z)(this,"alpha",0)}return(0,c.Z)(t,[{key:"onCreate",value:function(t){this.area=t,this.heartMonitor=this.area.createAudio("HeartMonitor"),this.heartMonitor.volume=0,this.heartMonitor.play(!0),this.startTime=this.heartMonitor.audio.context.currentTime,this.area.setTimer(1,10,!0),this.area.setTimer(2,300,!1)}},{key:"onTimer",value:function(t){1===t&&this.fadeInSound(),2===t&&this.fadeInText(),3===t&&this.fadeOutText(),4===t&&this.area.game.setArea(new In)}},{key:"fadeInSound",value:function(){this.heartMonitor.volume=Math.min(1,this.heartMonitor.volume+.05),this.heartMonitor.volume>=1&&this.area.clearTimer(1)}},{key:"fadeInText",value:function(){this.alpha=Math.min(1,this.alpha+.1),this.alpha>=1?(this.area.clearTimer(2),this.area.setTimer(3,500,!1)):this.area.setTimer(2,10,!1)}},{key:"fadeOutText",value:function(){this.alpha=Math.max(0,this.alpha-.05),this.heartMonitor.volume=Math.max(0,this.heartMonitor.volume-.05),this.alpha<=0&&this.heartMonitor.volume<=0?(this.area.clearTimer(3),this.heartMonitor.stop(),this.heartMonitor.volume=0,this.area.setTimer(4,200,!1)):this.area.setTimer(3,15,!1)}},{key:"onStep",value:function(){this.area.game.input.isMouseButtonDown(et.Left)&&this.heartMonitor.audio.context.resume()}},{key:"onDraw",value:function(t){t.font="20pt sans-serif",t.textAlign="center",t.textBaseline="middle",t.fillStyle="white",t.globalAlpha=this.alpha,t.fillText("Good news: the operation was successful!",this.area.overlayWidth/2,this.area.overlayHeight/4),t.fillText("You just woke up from the coma.",this.area.overlayWidth/2,this.area.overlayHeight/2),t.fillText("We expect you to make a full recovery.",this.area.overlayWidth/2,3*this.area.overlayHeight/4);var e=(this.heartMonitor.audio.context.currentTime-this.startTime)%this.heartMonitor.audio.buffer.duration;e>=.5&&e<1&&this.heartMonitor.volume>0&&(t.globalAlpha=this.heartMonitor.volume,t.beginPath(),t.strokeStyle="green",t.lineWidth=20,t.strokeRect(0,0,this.area.overlayWidth,this.area.overlayHeight),t.stroke()),t.globalAlpha=1}}]),t}(),Me=function(){function t(){(0,h.Z)(this,t),(0,p.Z)(this,"tags",[]),(0,p.Z)(this,"entity",void 0),(0,p.Z)(this,"fadeAlpha",0),(0,p.Z)(this,"blackAlpha",0)}return(0,c.Z)(t,[{key:"onCreate",value:function(t){this.entity=t,this.entity.setTimer(1,15,!0),this.entity.area.state.enterPortal.play()}},{key:"onDestroy",value:function(){}},{key:"onStep",value:function(){}},{key:"onTimer",value:function(t){1===t&&(this.fadeForestAmbience(),this.fadeOut()),2===t&&this.fadeToBlack(),3===t&&this.entity.area.game.setArea(new Te)}},{key:"fadeForestAmbience",value:function(){this.entity.area.state.forestAmbience.volume=1-this.fadeAlpha}},{key:"fadeOut",value:function(){this.fadeAlpha=ct(this.fadeAlpha+.1,0,1),this.fadeAlpha>=1&&(this.entity.clearTimer(1),this.entity.area.state.forestAmbience.stop(),this.entity.setTimer(2,10,!0))}},{key:"fadeToBlack",value:function(){this.blackAlpha=ct(this.blackAlpha+.1,0,1),this.blackAlpha>=1&&(this.entity.clearTimer(2),this.entity.setTimer(3,200,!1))}},{key:"onDraw",value:function(t){t.globalAlpha=this.fadeAlpha,t.fillStyle="#29004a",t.fillRect(0,0,this.entity.area.overlayWidth,this.entity.area.overlayHeight),t.globalAlpha=this.blackAlpha,t.fillStyle="black",t.fillRect(0,0,this.entity.area.overlayWidth,this.entity.area.overlayHeight),t.globalAlpha=1}}]),t}();function Ce(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Be(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Be(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Be(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var Re=function(){function t(e,n){(0,h.Z)(this,t),(0,p.Z)(this,"tags",["wall"]),(0,p.Z)(this,"entity",void 0),(0,p.Z)(this,"row",void 0),(0,p.Z)(this,"column",void 0),(0,p.Z)(this,"interactMask",void 0),(0,p.Z)(this,"exitMask",void 0),(0,p.Z)(this,"portalObject",void 0),(0,p.Z)(this,"ballMat",void 0),(0,p.Z)(this,"mixer",void 0),(0,p.Z)(this,"portalAction",void 0),this.row=e,this.column=n}return(0,c.Z)(t,[{key:"onCreate",value:function(t){this.entity=t;var e=this.entity.area.game.assets.getObject("Portal").clone();e.position.copy(t.area.state.tileLocationToPosition(this.row,this.column)),e.position.y=-.5,e.scale.set(2,2,2),e.updateWorldMatrix(!1,!0);var n,i=Ce(e.children);try{for(i.s();!(n=i.n()).done;)n.value.castShadow=!0}catch(t){i.e(t)}finally{i.f()}this.entity.object=e,this.portalObject=e.children[2],this.portalObject.visible=!1,this.ballMat=e.children[4].material,this.ballMat.color.set(3289650);var r=new j(e.children[1]),o=new j(e.children[3]);this.entity.mask=new I(r,o),this.interactMask=new P(e.children[2]),this.exitMask=new j(e.children[2]),this.mixer=new A.Xcj(e),this.portalAction=this.mixer.clipAction(t.area.game.assets.getAnimation("PortalEnergyAction")),this.portalAction.loop=A.uEv}},{key:"onDestroy",value:function(){}},{key:"onStep",value:function(){this.mixer.update(.01),this.portalObject.visible?this.testPlayerEntersPortal():(this.testActivatePortal(),this.handleUserMessage())}},{key:"testActivatePortal",value:function(){0===this.entity.area.state.energyLeft&&(this.portalObject.visible=!0,this.ballMat.color.set(13386496),this.portalAction.play())}},{key:"handleUserMessage",value:function(){var t=this.entity.area.findFirstEntity("player");if(null!==t&&this.interactMask.isCollidingWith(t.mask)){var e=this.entity.area.state,n=this.entity.area.findFirstEntity("hud");null!==n&&0===n.state.message.length&&(n.state.message="Portal requires "+e.totalEnergy+" total energy to activate")}}},{key:"testPlayerEntersPortal",value:function(){var t=this.entity.area.findFirstEntity("player");if(null!==t&&this.exitMask.isCollidingWith(t.mask)){t.destroy();var e,n=Ce(this.entity.area.findEntities("hud"));try{for(n.s();!(e=n.n()).done;)e.value.destroy()}catch(t){n.e(t)}finally{n.f()}this.entity.area.createEntity(new Me)}}},{key:"onTimer",value:function(t){}},{key:"onDraw",value:function(t){}}]),t}();var Ee=function(t){(0,y.Z)(r,t);var e,n,i=(e=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=(0,v.Z)(e);if(n){var r=(0,v.Z)(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return(0,d.Z)(this,t)});function r(t,e){var n;return(0,h.Z)(this,r),n=i.call(this,t,e,"Door"),(0,p.Z)((0,f.Z)(n),"tags",["wall"]),(0,p.Z)((0,f.Z)(n),"showMessage",!1),n}return(0,c.Z)(r,[{key:"onCreateDoor",value:function(){this.entity.object.scale.y=20/3,this.entity.object.scale.x=10,this.entity.object.children[0].visible=!1}},{key:"onDestroy",value:function(){}},{key:"onStepDoor",value:function(){if(this.testIfAllItemsCollected(),this.showMessage){var t=this.entity.area.findFirstEntity("hud");null!==t&&(t.state.message="Collect all energy to activate the portal!")}}},{key:"testIfAllItemsCollected",value:function(){if(!this.open){var t=this.entity.area.game.resources.getResource("inventory");t.hasCollectedGun()&&t.hasCollectedMap()&&this.openBigDoor()}}},{key:"openBigDoor",value:function(){this.entity.area.game.resources.getResource("door-state").openBigDoor(),this.openDoor(1/8),this.showMessage=!0,this.entity.setTimer(0,400,!1);var t=this.entity.area.state;t.openBigDoor.volume=8,t.openBigDoor.play()}},{key:"onTimer",value:function(t){0===t&&(this.showMessage=!1)}},{key:"onDraw",value:function(t){}}]),r}(V);function je(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Pe(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pe(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Pe(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var Ie=function(){function t(){(0,h.Z)(this,t)}return(0,c.Z)(t,[{key:"addAll",value:function(t){var e,n=je(t);try{for(n.s();!(e=n.n()).done;){var i=e.value;this.add(i)}}catch(t){n.e(t)}finally{n.f()}}},{key:"addRecursive",value:function(t){this.add(t);var e,n=je(t.children);try{for(n.s();!(e=n.n()).done;){var i=e.value;this.addRecursive(i)}}catch(t){n.e(t)}finally{n.f()}}},{key:"addParents",value:function(t){this.add(t),null!==t.parent&&this.addParents(t.parent)}},{key:"removeAll",value:function(t){var e,n=je(t);try{for(n.s();!(e=n.n()).done;){var i=e.value;this.remove(i)}}catch(t){n.e(t)}finally{n.f()}}},{key:"removeRecursive",value:function(t){this.remove(t);var e,n=je(t.children);try{for(n.s();!(e=n.n()).done;){var i=e.value;this.removeRecursive(i)}}catch(t){n.e(t)}finally{n.f()}}},{key:"removeParents",value:function(t){this.remove(t),null!==t.parent&&this.removeParents(t.parent)}}]),t}();var Le=function(t){(0,y.Z)(r,t);var e,n,i=(e=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=(0,v.Z)(e);if(n){var r=(0,v.Z)(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return(0,d.Z)(this,t)});function r(t){var e;return(0,h.Z)(this,r),e=i.call(this),(0,p.Z)((0,f.Z)(e),"set",new Set),void 0!==t&&e.addRecursive(t),e}return(0,c.Z)(r,[{key:"hasNode",value:function(t){return this.set.has(t)}},{key:"add",value:function(t){this.set.add(t)}},{key:"remove",value:function(t){this.set.delete(t)}},{key:"getAllNodes",value:function(){return Array.from(this.set)}},{key:"size",get:function(){return this.set.size}},{key:"pickAnyRandom",value:function(){var t=this.getAllNodes();return 0===t.length?null:ht(t)}}]),r}(Ie);function Fe(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Oe(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oe(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Oe(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var We=function(){function t(e){(0,h.Z)(this,t),(0,p.Z)(this,"root",void 0),(0,p.Z)(this,"maxDoors",void 0),(0,p.Z)(this,"lever",void 0),(0,p.Z)(this,"regularToggleDoors",new Set),(0,p.Z)(this,"allowdSpots",void 0),this.root=e}return(0,c.Z)(t,[{key:"generateInverseToggleDoors",value:function(){this.findToggleDoors(this.root),this.maxDoors=this.regularToggleDoors.size,this.allowdSpots=new Le(this.root);var e,n=Fe(this.regularToggleDoors);try{for(n.s();!(e=n.n()).done;){var i=e.value,r=t.findPathBetween(i,this.lever);this.allowdSpots.removeAll(r)}}catch(t){n.e(t)}finally{n.f()}var a,s=Fe(this.regularToggleDoors);try{for(s.s();!(a=s.n()).done;){var l=a.value;this.allowdSpots.removeRecursive(l)}}catch(t){s.e(t)}finally{s.f()}var u,h=Fe(this.allowdSpots.getAllNodes());try{for(h.s();!(u=h.n()).done;){var c=u.value;c.object!==o.Empty&&this.allowdSpots.remove(c)}}catch(t){h.e(t)}finally{h.f()}var f,y=Fe(this.allowdSpots.getAllNodes());try{for(y.s();!(f=y.n()).done;){var d=f.value;d.row%2!=0&&d.column%2!=0&&this.allowdSpots.remove(d)}}catch(t){y.e(t)}finally{y.f()}for(var v=0;v<this.regularToggleDoors.size;v+=1){var p=this.allowdSpots.pickAnyRandom();if(null===p)return;this.allowdSpots.remove(p),p.object=o.InverseToggleDoor}}},{key:"findToggleDoors",value:function(t){t.object===o.Lever?this.lever=t:t.object===o.ToggleDoor&&this.regularToggleDoors.add(t);var e,n=Fe(t.children);try{for(n.s();!(e=n.n()).done;){var i=e.value;this.findToggleDoors(i)}}catch(t){n.e(t)}finally{n.f()}}}],[{key:"findPathBetween",value:function(t,e){for(var n=[t],i=t.parent;null!==i;)n.push(i),i=i.parent;var r=[e];for(i=e.parent;null!==i;)r.push(i),i=i.parent;for(n.reverse(),r.reverse();n.length>0&&r.length>0&&n[0]===r[0];)n.shift(),r.shift();var o=[].concat(n,r);return n.length>0?o.push(n[0].parent):r.length>0&&o.push(r[0].parent),o}}]),t}();function Ge(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Ne(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ne(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Ne(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var He=function(t){(0,y.Z)(r,t);var e,n,i=(e=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=(0,v.Z)(e);if(n){var r=(0,v.Z)(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return(0,d.Z)(this,t)});function r(t){var e;return(0,h.Z)(this,r),e=i.call(this),(0,p.Z)((0,f.Z)(e),"vertices",new Map),(0,p.Z)((0,f.Z)(e),"highest",0),void 0!==t&&e.addRecursive(t),e}return(0,c.Z)(r,[{key:"highestDepth",get:function(){return this.highest}},{key:"hasNode",value:function(t){return this.vertices.has(t.depth)&&this.vertices.get(t.depth).has(t)}},{key:"add",value:function(t){this.vertices.has(t.depth)||this.vertices.set(t.depth,new Set),this.vertices.get(t.depth).add(t),this.highest=Math.max(this.highest,t.depth)}},{key:"remove",value:function(t){this.vertices.has(t.depth)&&this.vertices.get(t.depth).delete(t)}},{key:"pickRandom",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=this.getAllNodesBy(t,e,n);return 0===i.length?null:ht(i)}},{key:"size",get:function(){var t,e=0,n=Ge(this.vertices);try{for(n.s();!(t=n.n()).done;){var i=(0,u.Z)(t.value,2);i[0],e+=i[1].size}}catch(t){n.e(t)}finally{n.f()}return e}},{key:"getAllNodes",value:function(){var t,e=[],n=Ge(this.vertices);try{for(n.s();!(t=n.n()).done;){var i=t.value;e.push.apply(e,(0,D.Z)(i[1]))}}catch(t){n.e(t)}finally{n.f()}return e}},{key:"getAllNodesBy",value:function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=[],r=t;r<=e;r+=1)if(this.vertices.has(r)){var o=this.vertices.get(r);i.push.apply(i,(0,D.Z)(o))}return i.filter((function(t){return t.absoluteDepth>=n}))}}]),r}(Ie);function ze(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Ke(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ke(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Ke(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var _e=function(){function t(e){(0,h.Z)(this,t),(0,p.Z)(this,"root",void 0),(0,p.Z)(this,"hist",void 0),(0,p.Z)(this,"minDepth",void 0),(0,p.Z)(this,"doorsLeft",void 0),(0,p.Z)(this,"itemsNeeded",void 0),(0,p.Z)(this,"itemsReused",void 0),this.root=e}return(0,c.Z)(t,[{key:"generateMainPath",value:function(){do{this.resetAlgorithm(),this.runAlgorithmOnce()}while(this.doorsLeft.size>0)}},{key:"resetAlgorithm",value:function(){t.resetVertices(this.root),this.hist=new He(this.root),this.minDepth=Math.max(0,this.hist.highestDepth-Math.floor(2.5)),this.doorsLeft=new Set(k),this.itemsNeeded=[],this.itemsReused=new Set}},{key:"runAlgorithmOnce",value:function(){var e=this.pickRandomDoorLocation();if(null!==e){this.hist.removeRecursive(e),this.shiftMinDepth();var n=ht(Array.from(this.doorsLeft));this.doorsLeft.delete(n),e.object=n,t.putEnergyBehind(e),this.computeItemsNeeded(n);t:for(;this.itemsNeeded.length>0;){var i=(0,D.Z)(this.itemsNeeded);this.itemsNeeded=[];var r,a=ut(0,i.length-1),s=void 0,l=ze(i.entries());try{for(l.s();!(r=l.n()).done;){var h=(0,u.Z)(r.value,2),c=h[0],f=h[1],y=this.pickRandomItemLocation();if(null===y){e.object=o.Empty,this.doorsLeft.add(n);break t}y.object=f,this.hist.removeRecursive(y),c===a&&(s=y)}}catch(t){l.e(t)}finally{l.f()}if(this.doorsLeft.size>0){if(null===(e=this.pickRandomParentDoorLocation(s)))break t;this.hist.removeRecursive(e),n=ht(Array.from(this.doorsLeft)),this.doorsLeft.delete(n),e.object=n,this.computeItemsNeeded(n)}this.shiftMinDepth()}}}},{key:"pickRandomDoorLocation",value:function(){var t=this.hist.pickRandom(this.minDepth,this.minDepth+5,9);return null===t?null:t.row%2!=0&&t.column%2!=0?t.parent:t}},{key:"pickRandomParentDoorLocation",value:function(t){for(var e=new Le,n=t,i=0;i<7&&null!==n;i+=1)n=n.parent,i<3||n.object===o.Empty&&(n.row%2!=0&&n.column%2!=0||e.add(n));return e.pickAnyRandom()}},{key:"pickRandomItemLocation",value:function(){return this.hist.pickRandom(this.minDepth,this.minDepth+5,9)}},{key:"shiftMinDepth",value:function(){this.minDepth=Math.max(0,this.minDepth-1)}},{key:"computeItemsNeeded",value:function(t){var e=Z[t];void 0!==e.oneTimeItem&&this.itemsNeeded.push(e.oneTimeItem),void 0===e.reuseItem||this.itemsReused.has(e.reuseItem)||(this.itemsNeeded.push(e.reuseItem),this.itemsReused.add(e.reuseItem))}}],[{key:"resetVertices",value:function(e){e.object=o.Empty;var n,i=ze(e.children);try{for(i.s();!(n=i.n()).done;){var r=n.value;t.resetVertices(r)}}catch(t){i.e(t)}finally{i.f()}}},{key:"putEnergyBehind",value:function(t){var e=new Le(t);e.remove(t);var n,i=ze(e.getAllNodes());try{for(i.s();!(n=i.n()).done;){var r=n.value;r.object!==o.Empty&&e.remove(r)}}catch(t){i.e(t)}finally{i.f()}var a=e.pickAnyRandom();null!==a&&(a.object=o.Energy)}}]),t}();function Ye(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Ue(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ue(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Ue(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var Xe=function(){function t(e,n,i,r){(0,h.Z)(this,t),(0,p.Z)(this,"width",void 0),(0,p.Z)(this,"height",void 0),(0,p.Z)(this,"centerWidth",void 0),(0,p.Z)(this,"centerHeight",void 0),(0,p.Z)(this,"walls",void 0),this.width=2*e+1,this.height=2*n+1,this.centerWidth=i,this.centerHeight=r}return(0,c.Z)(t,[{key:"generateRandomMaze",value:function(){var t=this;this.walls=Array(this.height).fill(null).map((function(){return Array(t.width).fill(null).map((function(){return!0}))})),this.chiselHoles(),this.fillCenterTemplate();var e=function(t,e,n){var i,r=n(t),o=[r],a=new Map,s=Ye(t);try{for(s.s();!(i=s.n()).done;){var l=i.value;a.set(l,[])}}catch(t){s.e(t)}finally{s.f()}for(;r;){var u=t.filter((function(t){return!a.get(t).length&&e(r,t)}));if(u.length){var h=n(u);a.get(r).push(h),a.get(h).push(r),o.unshift(h),r=h}else o.shift(),r=o[0]}return a}(this.getAllVertices(),Ve,ht);return this.placeVertexWalls(e),this.walls}},{key:"chiselHoles",value:function(){for(var t=1;t<this.height-1;t+=2)for(var e=1;e<this.width-1;e+=2)this.walls[t][e]=!1}},{key:"fillCenterTemplate",value:function(){for(var t=Math.floor((this.height-this.centerHeight)/2)+Number(!(this.centerHeight%2)),e=t+this.centerHeight+Number(!(this.centerHeight%2)),n=Math.floor((this.width-this.centerWidth)/2)+Number(!(this.centerWidth%2)),i=n+this.centerWidth+Number(!(this.centerWidth%2)),r=t;r<e;r+=1)for(var o=n;o<i;o+=1)this.walls[r][o]=!0}},{key:"getAllVertices",value:function(){for(var t=[],e=1;e<this.height-1;e+=1)for(var n=1;n<this.width-1;n+=1)this.walls[e][n]||t.push({row:e,col:n});return t}},{key:"placeVertexWalls",value:function(t){var e,n=Ye(t);try{for(n.s();!(e=n.n()).done;){var i,r=(0,u.Z)(e.value,2),o=r[0],a=Ye(r[1]);try{for(a.s();!(i=a.n()).done;){var s=i.value,l=o.row+(s.row-o.row)/2,h=o.col+(s.col-o.col)/2;this.walls[l][h]=!1}}catch(t){a.e(t)}finally{a.f()}}}catch(t){n.e(t)}finally{n.f()}}}]),t}();function Ve(t,e){return Math.abs(e.row-t.row)+Math.abs(e.col-t.col)===2}function $e(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return qe(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qe(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function qe(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var Qe=new Set([o.RedKey,o.YellowKey,o.GreenKey,o.BlueKey,o.Lever,o.Battery,o.ABox,o.BBox,o.CBox]),Je=new Set([o.RedDoor,o.YellowDoor,o.GreenDoor,o.BlueDoor]),tn=function(){function t(e){(0,h.Z)(this,t),(0,p.Z)(this,"root",void 0),(0,p.Z)(this,"mainNodes",void 0),(0,p.Z)(this,"sideNodeDoors",void 0),(0,p.Z)(this,"minDepth",void 0),(0,p.Z)(this,"coloredDoor",new Map),this.root=e}return(0,c.Z)(t,[{key:"generateSidePaths",value:function(){this.mainNodes=new He,this.sideNodeDoors=new He(this.root),this.processItemNodes(this.root),this.minDepth=Math.max(0,this.sideNodeDoors.highestDepth-Math.floor(1));do{this.addSingleRandomDoor(),this.shiftMinDepth()}while(this.minDepth>0)}},{key:"processItemNodes",value:function(t){this.loadItemNodesRecursive(t);var e,n=$e(this.mainNodes.getAllNodes());try{for(n.s();!(e=n.n()).done;){var i=e.value;i.object!==o.Empty&&this.mainNodes.remove(i)}}catch(t){n.e(t)}finally{n.f()}var r,a=$e(this.sideNodeDoors.getAllNodes());try{for(a.s();!(r=a.n()).done;){var s=r.value;s.object!==o.Empty&&this.sideNodeDoors.remove(s),s.row%2!=0&&s.column%2!=0&&this.sideNodeDoors.remove(s)}}catch(t){a.e(t)}finally{a.f()}}},{key:"loadItemNodesRecursive",value:function(t){Qe.has(t.object)&&(this.mainNodes.addParents(t),this.sideNodeDoors.removeParents(t)),Je.has(t.object)&&this.coloredDoor.set(t.object,t);var e,n=$e(t.children);try{for(n.s();!(e=n.n()).done;){var i=e.value;this.loadItemNodesRecursive(i)}}catch(t){n.e(t)}finally{n.f()}}},{key:"addSingleRandomDoor",value:function(){var e=ht(k),n=this.pickRandomDoorLocation(this.coloredDoor.get(e));if(null!==n){this.sideNodeDoors.removeRecursive(n),n.object=e,t.putEnergyBehind(n);var i=Z[e];if(void 0!==i.oneTimeItem&&void 0===i.reuseItem){var r=i.oneTimeItem,a=this.mainNodes.pickRandom(0,this.mainNodes.highestDepth);null!==a?(a.object=r,this.mainNodes.remove(a)):n.object=o.Empty}}}},{key:"pickRandomDoorLocation",value:function(e){var n=new Le;if(n.addAll(this.sideNodeDoors.getAllNodesBy(this.minDepth,this.minDepth+2,2)),void 0!==e){var i,r=$e(n.getAllNodes());try{for(r.s();!(i=r.n()).done;){var o=i.value;t.isParentOf(e,o)||n.remove(o)}}catch(t){r.e(t)}finally{r.f()}}return n.pickAnyRandom()}},{key:"shiftMinDepth",value:function(){this.minDepth=Math.max(0,this.minDepth-1)}}],[{key:"isParentOf",value:function(t,e){for(var n=e.parent;null!==n;){if(n===t)return!0;n=n.parent}return!1}},{key:"putEnergyBehind",value:function(t){var e=new Le(t);e.remove(t);var n,i=$e(e.getAllNodes());try{for(i.s();!(n=i.n()).done;){var r=n.value;r.object!==o.Empty&&e.removeRecursive(r)}}catch(t){i.e(t)}finally{i.f()}var a=e.pickAnyRandom();null!==a&&(a.object=o.Energy)}}]),t}();function en(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var nn=[[-1,0],[1,0],[0,-1],[0,1]];function rn(t,e,n){return on(t,e,n,0,0,NaN,NaN)}function on(t,e,n,i,r,a,s){var l,h={row:e,column:n,object:o.Empty,parent:null,children:[],depth:i,absoluteDepth:r},c=nn.map((function(t){var i=(0,u.Z)(t,2),r=i[0],o=i[1];return[e+r,n+o]})).filter((function(e){var n=(0,u.Z)(e,2),i=n[0],r=n[1];return!t[i][r]})).filter((function(t){var e=(0,u.Z)(t,2),n=e[0],i=e[1];return!(n===a&&i===s)})),f=i+Number(c.length>1),y=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return en(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?en(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(c);try{for(y.s();!(l=y.n()).done;){var d=(0,u.Z)(l.value,2),v=d[0],p=d[1],m=on(t,v,p,f,r+1,e,n);m.parent=h,h.children.push(m)}}catch(t){y.e(t)}finally{y.f()}return h}function an(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return sn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sn(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function sn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var ln=function(){function t(e,n,i){(0,h.Z)(this,t),(0,p.Z)(this,"width",void 0),(0,p.Z)(this,"height",void 0),(0,p.Z)(this,"centerTemplate",void 0),(0,p.Z)(this,"numEnergy",20),(0,p.Z)(this,"numDrones",10),(0,p.Z)(this,"numRocks",15),(0,p.Z)(this,"emptySpots",void 0),(0,p.Z)(this,"energySpots",void 0),this.width=e,this.height=n,this.centerTemplate=i}return(0,c.Z)(t,[{key:"templateWidth",get:function(){return this.centerTemplate[0].length}},{key:"templateHeight",get:function(){return this.centerTemplate.length}},{key:"generateMaze",value:function(){var e=new Xe(this.width,this.height,this.templateWidth,this.templateHeight).generateRandomMaze(),n=this.getRootNode(),i=(0,u.Z)(n,2),r=rn(e,i[0],i[1]);new _e(r).generateMainPath(),new tn(r).generateSidePaths(),new We(r).generateInverseToggleDoors(),this.computeEmptySpots(r),this.addOrRemoveEnergy(),this.addDrones(),this.addRocks();var a=e.map((function(t){return t.map((function(t){return t?o.Wall:o.Empty}))}));return this.fillTemplate(a),t.loadNodes(a,r),a}},{key:"getRootNode",value:function(){for(var t=this.getTemplateTopRow(),e=t+this.templateHeight-1,n=this.getTemplateLeftColumn(),i=n+this.templateWidth-1,r=0;r<this.templateWidth;r+=1)if(this.centerTemplate[0][r]===o.BigDoor)return[t-1,n+r];for(var a=0;a<this.templateWidth;a+=1)if(this.centerTemplate[this.templateHeight-1][a]===o.BigDoor)return[e+1,n+a];for(var s=0;s<this.templateHeight;s+=1)if(this.centerTemplate[s][0]===o.BigDoor)return[t+s,n-1];for(var l=0;l<this.templateHeight;l+=1)if(this.centerTemplate[l][this.templateWidth-1]===o.BigDoor)return[t+l,i+1];return[t-1,n+Math.floor(this.templateWidth/2)]}},{key:"getTemplateTopRow",value:function(){return Math.floor((2*this.height+1-this.templateHeight)/2)+Number(!(this.templateHeight%2))}},{key:"getTemplateLeftColumn",value:function(){return Math.floor((2*this.width+1-this.templateWidth)/2)+Number(!(this.templateWidth%2))}},{key:"fillTemplate",value:function(t){for(var e=this.getTemplateTopRow(),n=e+this.templateHeight,i=this.getTemplateLeftColumn(),r=i+this.templateWidth,o=e;o<n;o+=1)for(var a=i;a<r;a+=1)t[o][a]=this.centerTemplate[o-e][a-i]}},{key:"computeEmptySpots",value:function(t){this.emptySpots=new Le(t),this.energySpots=new Le;var e,n=an(this.emptySpots.getAllNodes());try{for(n.s();!(e=n.n()).done;){var i=e.value;i.object===o.Energy&&this.energySpots.add(i),i.object!==o.Empty&&this.emptySpots.remove(i)}}catch(t){n.e(t)}finally{n.f()}}},{key:"addOrRemoveEnergy",value:function(){if(this.energySpots.size>this.numEnergy)for(;this.energySpots.size>this.numEnergy;){var t=this.energySpots.pickAnyRandom();if(null===t)return;this.energySpots.remove(t),t.object=o.Empty,this.emptySpots.add(t)}else for(;this.energySpots.size<this.numEnergy;){var e=this.emptySpots.pickAnyRandom();if(null===e)return;this.emptySpots.remove(e),e.object=o.Energy,this.energySpots.add(e)}}},{key:"addDrones",value:function(){for(var t=0;t<this.numDrones;t+=1){var e=this.emptySpots.pickAnyRandom();if(null===e)return;this.emptySpots.remove(e),e.object=o.Drone}}},{key:"addRocks",value:function(){for(var t=0;t<this.numRocks;t+=1){var e=this.emptySpots.pickAnyRandom();if(null===e)return;this.emptySpots.remove(e),e.object=o.Rock}}}],[{key:"loadNodes",value:function(t,e){t[e.row][e.column]=e.object;var n,i=an(e.children);try{for(i.s();!(n=i.n()).done;){var r=n.value;this.loadNodes(t,r)}}catch(t){i.e(t)}finally{i.f()}}}]),t}(),un=function(){function t(e,n){(0,h.Z)(this,t),(0,p.Z)(this,"tags",["map"]),(0,p.Z)(this,"entity",void 0),(0,p.Z)(this,"row",void 0),(0,p.Z)(this,"column",void 0),this.row=e,this.column=n}return(0,c.Z)(t,[{key:"onCreate",value:function(t){this.entity=t;var e=t.area.game.assets.getObject("Map").clone();e.position.copy(t.area.state.tileLocationToPosition(this.row,this.column)),e.position.y=2,e.rotation.y=lt(0,2*Math.PI),e.scale.set(.125,.125,.125),e.castShadow=!0,this.entity.object=e,this.entity.mask=new P(this.entity.object)}},{key:"onDestroy",value:function(){var t=this.entity.area.state;t.maze[this.row][this.column]=o.Empty,this.entity.area.game.resources.getResource("inventory").collectMap(),t.collectItem.play()}},{key:"onStep",value:function(){this.entity.object.rotateY(Math.PI/256);var t=this.entity.area.findFirstEntity("player");null!==t&&this.entity.isCollidingWith(t)&&this.entity.destroy()}},{key:"onTimer",value:function(t){}},{key:"onDraw",value:function(t){}}]),t}();function hn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var cn=function(){function t(e,n){(0,h.Z)(this,t),(0,p.Z)(this,"tags",["gun"]),(0,p.Z)(this,"entity",void 0),(0,p.Z)(this,"row",void 0),(0,p.Z)(this,"column",void 0),this.row=e,this.column=n}return(0,c.Z)(t,[{key:"onCreate",value:function(t){this.entity=t;var e=t.area.game.assets.getObject("Gun").clone();e.position.copy(t.area.state.tileLocationToPosition(this.row,this.column)),e.position.y=2,e.rotation.y=lt(0,2*Math.PI),e.scale.set(.35,.35,.35);var n,i=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return hn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hn(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(e.children[0].children);try{for(i.s();!(n=i.n()).done;)n.value.castShadow=!0}catch(t){i.e(t)}finally{i.f()}this.entity.object=e,this.entity.mask=new P(this.entity.object)}},{key:"onDestroy",value:function(){var t=this.entity.area.state;t.maze[this.row][this.column]=o.Empty,this.entity.area.game.resources.getResource("inventory").collectGun(),t.collectItem.play()}},{key:"onStep",value:function(){this.entity.object.rotateY(Math.PI/256);var t=this.entity.area.findFirstEntity("player");null!==t&&this.entity.isCollidingWith(t)&&this.entity.destroy()}},{key:"onTimer",value:function(t){}},{key:"onDraw",value:function(t){}}]),t}();var fn,yn=function(t){(0,y.Z)(r,t);var e,n,i=(e=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=(0,v.Z)(e);if(n){var r=(0,v.Z)(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return(0,d.Z)(this,t)});function r(){return(0,h.Z)(this,r),i.call(this)}return(0,c.Z)(r,[{key:"onTick",value:function(t){this.entity.area.state.forestAmbience.volume=1-t}}]),r}(mt),dn=n(3012);function vn(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return pn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pn(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function pn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var mn=(fn={},(0,p.Z)(fn,o.Rock,(function(t,e){return new be(t,e)})),(0,p.Z)(fn,o.RedDoor,kn(Dt.Red)),(0,p.Z)(fn,o.YellowDoor,kn(Dt.Yellow)),(0,p.Z)(fn,o.GreenDoor,kn(Dt.Green)),(0,p.Z)(fn,o.BlueDoor,kn(Dt.Blue)),(0,p.Z)(fn,o.RedKey,Zn(Dt.Red)),(0,p.Z)(fn,o.YellowKey,Zn(Dt.Yellow)),(0,p.Z)(fn,o.GreenKey,Zn(Dt.Green)),(0,p.Z)(fn,o.BlueKey,Zn(Dt.Blue)),(0,p.Z)(fn,o.Battery,(function(t,e){return new we(t,e)})),(0,p.Z)(fn,o.Lever,(function(t,e){return new ke(t,e)})),(0,p.Z)(fn,o.ToggleDoor,(function(t,e){return new De(t,e)})),(0,p.Z)(fn,o.InverseToggleDoor,(function(t,e){return new De(t,e,!0)})),(0,p.Z)(fn,o.ABox,bn($t.A)),(0,p.Z)(fn,o.BBox,bn($t.B)),(0,p.Z)(fn,o.CBox,bn($t.C)),(0,p.Z)(fn,o.ADoor,wn($t.A)),(0,p.Z)(fn,o.BDoor,wn($t.B)),(0,p.Z)(fn,o.CDoor,wn($t.C)),(0,p.Z)(fn,o.Drone,(function(t,e){return new te(t,e)})),(0,p.Z)(fn,o.BigDoor,(function(t,e){return new Ee(t,e)})),(0,p.Z)(fn,o.Map,(function(t,e){return new un(t,e)})),(0,p.Z)(fn,o.Gun,(function(t,e){return new cn(t,e)})),fn),gn=function(t){(0,y.Z)(r,t);var e,n,i=(e=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=(0,v.Z)(e);if(n){var r=(0,v.Z)(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return(0,d.Z)(this,t)});function r(){var t;return(0,h.Z)(this,r),t=i.call(this,r.generateNewMaze()),(0,p.Z)((0,f.Z)(t),"area",void 0),(0,p.Z)((0,f.Z)(t),"_totalEnergy",void 0),(0,p.Z)((0,f.Z)(t),"playerTileLocation",void 0),(0,p.Z)((0,f.Z)(t),"playerAngle",void 0),(0,p.Z)((0,f.Z)(t),"forestAmbience",void 0),(0,p.Z)((0,f.Z)(t),"playerShoot",void 0),(0,p.Z)((0,f.Z)(t),"droneShoot",void 0),(0,p.Z)((0,f.Z)(t),"hitObject",void 0),(0,p.Z)((0,f.Z)(t),"oofSound",void 0),(0,p.Z)((0,f.Z)(t),"collectItem",void 0),(0,p.Z)((0,f.Z)(t),"openDoor",void 0),(0,p.Z)((0,f.Z)(t),"openBigDoor",void 0),(0,p.Z)((0,f.Z)(t),"toggleLever",void 0),(0,p.Z)((0,f.Z)(t),"electricBox",void 0),(0,p.Z)((0,f.Z)(t),"explosion",void 0),(0,p.Z)((0,f.Z)(t),"activatePortal",void 0),(0,p.Z)((0,f.Z)(t),"enterPortal",void 0),t}return(0,c.Z)(r,[{key:"getPlayerTileLocation",value:function(){return this.playerTileLocation}},{key:"getPlayerAngle",value:function(){return this.playerAngle}},{key:"totalEnergy",get:function(){return this._totalEnergy}},{key:"energyLeft",get:function(){return this.area.findEntities("energy").length}},{key:"onCreate",value:function(t){this.area=t;var e=t.game.assets.getTexture("SkyboxBG");t.scene.background=e,this.area.createEntity(new z),t.scene.add(new A.Mig(16777215,.5)),t.game.renderer.shadowMap.enabled=!0,this.forestAmbience=t.createAudio("ForestAmbience"),this.playerShoot=t.createAudio("PlayerShoot"),this.droneShoot=t.createAudio("DroneShoot"),this.hitObject=t.createAudio("HitObject"),this.oofSound=t.createAudio("Oof"),this.collectItem=t.createAudio("CollectItem"),this.openDoor=t.createAudio("OpenDoor"),this.openBigDoor=t.createAudio("OpenBigDoor"),this.toggleLever=t.createAudio("ToggleLever"),this.electricBox=t.createAudio("ElectricBox"),this.explosion=t.createAudio("Explosion"),this.activatePortal=t.createAudio("ActivatePortal"),this.enterPortal=t.createAudio("EnterPortal"),this.forestAmbience.volume=0,this.forestAmbience.play(!0),this.area.game.resources.setResource("health",new ye),this.area.game.resources.setResource("inventory",new de),this.area.game.resources.setResource("door-state",new Se),this.area.createEntity(new Y(this.mazeWidth,this.mazeHeight)),this.buildMaze(),this.area.createEntity(new ae),this.area.createEntity(new yn)}},{key:"buildMaze",value:function(){var t,e=null,n=this.maze.reduce((function(t,e){return t+e.reduce((function(t,e){return t+Number(e===o.Wall)}),0)}),0),i=this.area.createEntity(new G(n,this.area)),r=0,a=vn(this.maze.entries());try{for(a.s();!(t=a.n()).done;){var s,l=(0,u.Z)(t.value,2),h=l[0],c=vn(l[1].entries());try{for(c.s();!(s=c.n()).done;){var f=(0,u.Z)(s.value,2),y=f[0],d=f[1];switch(d){case o.Wall:i.state.addWall(h,y,this);break;case o.Energy:r+=1,this.area.createEntity(new ge(h,y));break;case o.Portal:null===e&&(e=[h,y],this.area.createEntity(new Re(h,y)));break;default:var v=mn[d];void 0!==v&&this.area.createEntity(v(h,y,this.area))}}}catch(t){c.e(t)}finally{c.f()}}}catch(t){a.e(t)}finally{a.f()}this._totalEnergy=r,null===e&&(e=[Math.floor(this.mazeWidth/2),Math.floor(this.mazeHeight/2)]),this.playerTileLocation=e,this.area.createEntity(new Rt(e[0],e[1]))}},{key:"onTimer",value:function(t){}},{key:"onStep",value:function(){this.updatePlayerTileLocationAndAngle(),this.area.game.input.isMouseButtonDown(et.Left)&&this.forestAmbience.audio.context.resume()}},{key:"updatePlayerTileLocationAndAngle",value:function(){var t=this.area.findFirstEntity("player");null!==t&&(this.playerTileLocation=this.positionToTileLocation(t.object.position),this.playerAngle=t.state.getFacingAngle())}},{key:"onDraw",value:function(t){}}],[{key:"generateNewMaze",value:function(){return new ln(13,13,w(dn)).generateMaze()}}]),r}(S);function kn(t){return function(e,n){return new Pt(e,n,t)}}function Zn(t){return function(e,n){return new Lt(e,n,t)}}function bn(t){return function(e,n){return new Ae(e,n,t)}}function wn(t){return function(e,n){return new xe(e,n,t)}}var An=function(t){(0,y.Z)(r,t);var e,n,i=(e=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=(0,v.Z)(e);if(n){var r=(0,v.Z)(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return(0,d.Z)(this,t)});function r(){var t;return(0,h.Z)(this,r),t=i.call(this,"Skip"),(0,p.Z)((0,f.Z)(t),"tags",["skip-button"]),t}return(0,c.Z)(r,[{key:"onCreateButton",value:function(){this.x=this.entity.area.overlayWidth-50-20,this.y=this.entity.area.overlayHeight-30-20,this.width=50,this.height=30}},{key:"onDestroy",value:function(){}},{key:"onClick",value:function(){this.entity.area.state.introMusic.stop(),this.entity.area.game.setArea(new gn)}},{key:"onStepButton",value:function(){var t=this.entity.area.game.input;(t.isKeyStarted(Q.Enter)||t.isKeyStarted(Q.Space)||t.isGamepadButtonStarted(0,J.ACross)||t.isGamepadButtonStarted(0,J.XSquare)||t.isGamepadButtonStarted(0,J.YTriangle)||t.isGamepadButtonStarted(0,J.Start)||t.getGamepadAxis(0,tt.RightTrigger)>.5)&&this.onClick()}},{key:"onTimer",value:function(t){}}]),r}(vt),Sn="I remember... ",Dn="I was having a dream...",xn=[5,5,5,5,5,5,5],Tn=[.05,.05,.05,.05,.05,.05,.05],Mn=[150,200,400,250,100,180,10],Cn=function(){function t(){(0,h.Z)(this,t),(0,p.Z)(this,"area",void 0),(0,p.Z)(this,"introMusic",void 0),(0,p.Z)(this,"alpha",[0,0,0,0,0,0,0])}return(0,c.Z)(t,[{key:"shouldDrawFinalLine",value:function(){return this.alpha[5]>0}},{key:"onCreate",value:function(t){this.area=t,this.area.createEntity(new An),this.area.game.input.pointerLockEnabled=!1,this.introMusic=this.area.createAudio("Intro"),this.introMusic.volume=0,this.introMusic.play(!0),this.area.setTimer(1,100,!1),this.area.setTimer(2,200,!1)}},{key:"onTimer",value:function(t){1===t&&this.increaseVolume(),t>=2&&t<=8&&this.handleFadeIn(t,t-2),7===t&&this.decreaseVolume(),9===t&&this.area.game.setArea(new gn)}},{key:"increaseVolume",value:function(){this.introMusic.volume=Math.min(1,this.introMusic.volume+.1),1===this.introMusic.volume?this.area.clearTimer(1):this.area.setTimer(1,10,!1)}},{key:"decreaseVolume",value:function(){this.introMusic.volume=Math.max(0,this.introMusic.volume-Tn[4]),this.introMusic.volume<=Tn[4]&&this.introMusic.stop()}},{key:"handleFadeIn",value:function(t,e){if(1===this.alpha[e])return this.area.clearTimer(t),void this.area.setTimer(t+1,Mn[e],!1);this.alpha[e]=Math.min(1,this.alpha[e]+Tn[e]),e>1&&(this.alpha[e-1]=Math.max(0,this.alpha[e-1]-Tn[e]),this.alpha[e-2]=Math.max(0,this.alpha[e-2]-Tn[e])),this.area.setTimer(t,xn[e],!1)}},{key:"onStep",value:function(){this.area.game.input.isMouseButtonDown(et.Left)&&this.introMusic.audio.context.resume()}},{key:"onDraw",value:function(t){this.shouldDrawFinalLine()?this.drawFinalLine(t):this.drawThreeLines(t)}},{key:"drawThreeLines",value:function(t){t.font="24pt sans-serif",t.textAlign="left",t.textBaseline="middle",t.fillStyle="white";var e=this.area.overlayHeight/3-this.area.overlayHeight/6,n=e+this.area.overlayHeight/3,i=n+this.area.overlayHeight/3,r=t.measureText(Sn),o=t.measureText(Sn+Dn);t.globalAlpha=this.alpha[0],t.fillText(Sn,this.area.overlayWidth/2-o.width/2,e),t.globalAlpha=this.alpha[1],t.fillText(Dn,this.area.overlayWidth/2-o.width/2+r.width,e),t.textAlign="center",t.globalAlpha=this.alpha[2],t.fillText("I was trapped inside a massive labyrinth...",this.area.overlayWidth/2,n),t.globalAlpha=this.alpha[3],t.fillText("But the funny thing is...",this.area.overlayWidth/2,i)}},{key:"drawFinalLine",value:function(t){t.font="24pt sans-serif",t.textAlign="center",t.textBaseline="middle",t.fillStyle="white",t.globalAlpha=this.alpha[5],t.fillText("I don't recall ever waking up from that dream...",this.area.overlayWidth/2,this.area.overlayHeight/2)}}]),t}();var Bn=function(t){(0,y.Z)(r,t);var e,n,i=(e=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=(0,v.Z)(e);if(n){var r=(0,v.Z)(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return(0,d.Z)(this,t)});function r(){return(0,h.Z)(this,r),i.call(this,10)}return(0,c.Z)(r,[{key:"onTick",value:function(t){this.entity.area.state.titleMusic.volume=1-t}},{key:"onFinish",value:function(){this.entity.area.state.titleMusic.stop(),this.entity.area.game.setArea(new Cn)}}]),r}(Zt),Rn=n(8945);function En(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return jn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jn(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function jn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var Pn=(0,p.Z)({},o.BigDoor,(function(t,e){return new nt(t,e)})),In=function(t){(0,y.Z)(r,t);var e,n,i=(e=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=(0,v.Z)(e);if(n){var r=(0,v.Z)(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return(0,d.Z)(this,t)});function r(){var t;return(0,h.Z)(this,r),t=i.call(this,w(Rn)),(0,p.Z)((0,f.Z)(t),"area",void 0),(0,p.Z)((0,f.Z)(t),"camera",void 0),(0,p.Z)((0,f.Z)(t),"cameraPos",[0,0]),(0,p.Z)((0,f.Z)(t),"drawTitle",!0),(0,p.Z)((0,f.Z)(t),"titleMusic",void 0),t}return(0,c.Z)(r,[{key:"onCreate",value:function(t){this.area=t,this.area.createEntity(new Y(this.mazeWidth,this.mazeHeight)),this.buildDummyMaze();var e=t.game.assets.getTexture("SkyboxBG");t.scene.background=e,this.area.createEntity(new z),t.scene.add(new A.Mig(16777215,.5)),t.game.renderer.shadowMap.enabled=!0,this.area.game.input.pointerLockEnabled=!1,this.camera=new A.cPb(50,t.game.canvasWidth/t.game.canvasHeight,.001,1e3),this.area.camera=this.camera;var n=this.tileLocationToPosition(this.cameraPos[0],this.cameraPos[1]);this.camera.position.copy(n),this.camera.position.y=2.5,this.camera.position.x-=2.5,this.camera.quaternion.setFromEuler(new A.USm(Math.PI/30,Math.PI/2,0,"YXZ")),this.titleMusic=this.area.createAudio("Title"),this.titleMusic.play(!0),this.area.createEntity(new pt),this.area.createEntity(new mt(3))}},{key:"buildDummyMaze",value:function(){var t,e=this.maze.reduce((function(t,e){return t+e.reduce((function(t,e){return t+Number(e===o.Wall)}),0)}),0),n=this.area.createEntity(new G(e,this.area)),i=En(this.maze.entries());try{for(i.s();!(t=i.n()).done;){var r,a=(0,u.Z)(t.value,2),s=a[0],l=En(a[1].entries());try{for(l.s();!(r=l.n()).done;){var h=(0,u.Z)(r.value,2),c=h[0],f=h[1];switch(f){case o.Wall:n.state.addWall(s,c,this);break;case o.Portal:this.cameraPos=[s,c];break;default:var y=Pn[f];void 0!==y&&this.area.createEntity(y(s,c,this.area))}}}catch(t){l.e(t)}finally{l.f()}}}catch(t){i.e(t)}finally{i.f()}}},{key:"onTimer",value:function(t){}},{key:"onStep",value:function(){this.camera.aspect=this.area.game.canvasWidth/this.area.game.canvasHeight,this.camera.updateProjectionMatrix();var t=this.area.game.input;t.isMouseButtonDown(et.Left)&&this.titleMusic.audio.context.resume(),(t.isKeyStarted(Q.Enter)||t.isKeyStarted(Q.Space)||t.isGamepadButtonStarted(0,J.ACross)||t.isGamepadButtonStarted(0,J.XSquare)||t.isGamepadButtonStarted(0,J.YTriangle)||t.isGamepadButtonStarted(0,J.Start)||t.getGamepadAxis(0,tt.RightTrigger)>.5)&&this.startGame()}},{key:"startGame",value:function(){if(this.drawTitle){this.drawTitle=!1;var t,e=En(this.area.findEntities("start-button"));try{for(e.s();!(t=e.n()).done;)t.value.destroy()}catch(t){e.e(t)}finally{e.f()}this.area.createEntity(new Bn)}}},{key:"onDraw",value:function(t){if(this.drawTitle){t.font="bold 64pt serif",t.textAlign="center",t.textBaseline="top",t.fillStyle="#0368ff",t.fillText("Trapped Inside",this.area.overlayWidth/2,20),t.beginPath(),t.strokeStyle="black",t.lineWidth=2,t.strokeText("Trapped Inside",this.area.overlayWidth/2,20),t.stroke();var e=t.measureText("Trapped Inside");t.font="18pt sans-serif",t.fillStyle="white",t.fillText("Created by Bryan McClain",this.area.overlayWidth/2,40+e.actualBoundingBoxDescent)}}}]),r}(S),Ln=function(){function t(e,n){(0,h.Z)(this,t),(0,p.Z)(this,"ticksLeft",void 0),(0,p.Z)(this,"ticks",void 0),(0,p.Z)(this,"looping",void 0),(0,p.Z)(this,"running",void 0),this.ticksLeft=e,this.ticks=e,this.looping=n,this.running=!0}return(0,c.Z)(t,[{key:"isRunning",value:function(){return this.running}},{key:"setRunning",value:function(t){this.running=t}},{key:"tick",value:function(){switch(this.ticksLeft){case 0:return!1;case 1:return this.looping?this.ticksLeft=this.ticks:this.ticksLeft=0,!0;default:return this.ticksLeft-=1,!1}}}]),t}();function Fn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var On=function(){function t(e,n){(0,h.Z)(this,t),(0,p.Z)(this,"area",void 0),(0,p.Z)(this,"state",void 0),(0,p.Z)(this,"mask",void 0),(0,p.Z)(this,"timers",new Map),(0,p.Z)(this,"_isDestroyed",!1),(0,p.Z)(this,"_object",null),this.area=e,this.state=n,this.mask=new L}return(0,c.Z)(t,[{key:"destroy",value:function(){this._isDestroyed=!0}},{key:"isDestroyed",get:function(){return this._isDestroyed}},{key:"object",get:function(){return this._object},set:function(t){null!==this._object&&this.area.scene.remove(this._object),null!==t&&this.area.scene.add(t),this._object=t}},{key:"setTimer",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e<1||this.timers.set(t,new Ln(e,n))}},{key:"clearTimer",value:function(t){this.timers.delete(t)}},{key:"isCollidingWith",value:function(t){return this.mask.isCollidingWith(t.mask)}},{key:"_create",value:function(){this.state.onCreate(this)}},{key:"_destroy",value:function(){this.state.onDestroy(),this.mask.showMask=!1,null!==this._object&&this.area.scene.remove(this._object)}},{key:"_tickTimers",value:function(){var t,e=[],n=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Fn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fn(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(this.timers);try{for(n.s();!(t=n.n()).done;){var i=(0,u.Z)(t.value,2),r=i[0],o=i[1];o.isRunning()&&o.tick()&&e.push(r)}}catch(t){n.e(t)}finally{n.f()}for(var a=0,s=e;a<s.length;a++){var l=s[a];this.state.onTimer(l)}}},{key:"_step",value:function(){this.state.onStep()}},{key:"_draw",value:function(t){this.state.onDraw(t)}}]),t}(),Wn=function(){function t(e){(0,h.Z)(this,t),(0,p.Z)(this,"audio",void 0),this.audio=e}return(0,c.Z)(t,[{key:"volume",get:function(){return this.audio.getVolume()},set:function(t){this.audio.setVolume(t)}},{key:"loop",get:function(){return this.audio.getLoop()},set:function(t){this.audio.setLoop(t)}},{key:"isPlaying",get:function(){return this.audio.isPlaying}},{key:"play",value:function(t){this.audio.isPlaying&&this.audio.stop(),void 0!==t&&(this.loop=t),this.audio.play()}},{key:"stop",value:function(){this.audio.isPlaying&&this.audio.stop()}}]),t}();function Gn(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Nn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nn(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Nn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var Hn,zn,Kn=function(){function t(e,n){(0,h.Z)(this,t),(0,p.Z)(this,"game",void 0),(0,p.Z)(this,"state",void 0),(0,p.Z)(this,"scene",void 0),(0,p.Z)(this,"audioListener",void 0),(0,p.Z)(this,"_camera",void 0),(0,p.Z)(this,"allEntities",new Set),(0,p.Z)(this,"taggedEntities",new Map),(0,p.Z)(this,"toCreate",new Set),(0,p.Z)(this,"timers",new Map),(0,p.Z)(this,"overlayWidth",768),(0,p.Z)(this,"overlayHeight",432),this.game=e,this.state=n,this.scene=new A.xsS,this.audioListener=new A.SJI,this._camera=new A.cPb,this._camera.add(this.audioListener)}return(0,c.Z)(t,[{key:"camera",get:function(){return this._camera},set:function(t){this._camera.remove(this.audioListener),t.add(this.audioListener),this._camera=t}},{key:"createEntity",value:function(t){var e=new On(this,t);return this.toCreate.add(e),e}},{key:"getAllEntities",value:function(){return Array.from(this.allEntities)}},{key:"findEntities",value:function(t){return this.taggedEntities.has(t)?Array.from(this.taggedEntities.get(t)):[]}},{key:"findFirstEntity",value:function(t){if(!this.taggedEntities.has(t))return null;var e=this.taggedEntities.get(t).values().next();return e.done?null:e.value}},{key:"setTimer",value:function(t,e,n){e<1||this.timers.set(t,new Ln(e,n))}},{key:"clearTimer",value:function(t){this.timers.delete(t)}},{key:"createAudio",value:function(t){var e=new A.BbS(this.audioListener);return t instanceof AudioBuffer?e.buffer=t:"string"==typeof t&&(e.buffer=this.game.assets.getAudio(t)),new Wn(e)}},{key:"createPositionalAudio",value:function(t){var e=new A.VYz(this.audioListener);return t instanceof AudioBuffer?e.buffer=t:"string"==typeof t&&(e.buffer=this.game.assets.getAudio(t)),new Wn(e)}},{key:"_tickTimers",value:function(){var t,e=[],n=Gn(this.timers);try{for(n.s();!(t=n.n()).done;){var i=(0,u.Z)(t.value,2),r=i[0],o=i[1];o.isRunning()&&o.tick()&&e.push(r)}}catch(t){n.e(t)}finally{n.f()}for(var a=0,s=e;a<s.length;a++){var l=s[a];this.state.onTimer(l)}}},{key:"_createEntities",value:function(){if(0!==this.toCreate.size){var t,e=Gn(this.toCreate);try{for(e.s();!(t=e.n()).done;){var n=t.value;this.addEntityToArea(n)}}catch(t){e.e(t)}finally{e.f()}var i=this.toCreate;this.toCreate=new Set;var r,o=Gn(i);try{for(o.s();!(r=o.n()).done;)r.value._create()}catch(t){o.e(t)}finally{o.f()}}}},{key:"addEntityToArea",value:function(t){this.allEntities.add(t);var e,n=Gn(t.state.tags);try{for(n.s();!(e=n.n()).done;){var i=e.value;this.addTaggedEntityToMap(t,i)}}catch(t){n.e(t)}finally{n.f()}}},{key:"addTaggedEntityToMap",value:function(t,e){this.taggedEntities.has(e)||this.taggedEntities.set(e,new Set),this.taggedEntities.get(e).add(t)}},{key:"_destroyEntities",value:function(){var t,e=[],n=Gn(this.allEntities);try{for(n.s();!(t=n.n()).done;){var i=t.value;i.isDestroyed&&e.push(i)}}catch(t){n.e(t)}finally{n.f()}for(var r=0,o=e;r<o.length;r++){var a=o[r];this.removeEntityFromArea(a)}for(var s=0,l=e;s<l.length;s++)l[s]._destroy()}},{key:"removeEntityFromArea",value:function(t){this.allEntities.delete(t);var e,n=Gn(t.state.tags);try{for(n.s();!(e=n.n()).done;){var i=e.value;this.removeTaggedEntityFromMap(t,i)}}catch(t){n.e(t)}finally{n.f()}}},{key:"removeTaggedEntityFromMap",value:function(t,e){this.taggedEntities.has(e)&&this.taggedEntities.get(e).delete(t)}},{key:"_tickEntityTimers",value:function(){var t,e=Gn(this.allEntities);try{for(e.s();!(t=e.n()).done;)t.value._tickTimers()}catch(t){e.e(t)}finally{e.f()}}},{key:"_stepEntities",value:function(){var t,e=Gn(this.allEntities);try{for(e.s();!(t=e.n()).done;)t.value._step()}catch(t){e.e(t)}finally{e.f()}}},{key:"_drawScene",value:function(t,e){var n,i=Gn(this.allEntities);try{for(i.s();!(n=i.n()).done;)n.value.mask._drawMask(this.scene)}catch(t){i.e(t)}finally{i.f()}t.render(this.scene,this.camera);var r=e.getContext("2d");e.width=this.overlayWidth,e.height=this.overlayHeight,r.clearRect(0,0,this.overlayWidth,this.overlayHeight),this.state.onDraw(r);var o,a=Gn(this.allEntities);try{for(a.s();!(o=a.n()).done;)o.value._draw(r)}catch(t){a.e(t)}finally{a.f()}}}]),t}(),_n=n(1610),Yn=n(7623),Un=n.n(Yn),Xn=function(){function t(){(0,h.Z)(this,t),(0,p.Z)(this,"audioLoader",void 0),(0,p.Z)(this,"imageLoader",void 0),(0,p.Z)(this,"textureLoader",void 0),(0,p.Z)(this,"cubeTextureLoader",void 0),(0,p.Z)(this,"objectLoader",void 0),(0,p.Z)(this,"materialLoader",void 0),(0,p.Z)(this,"animationLoader",void 0),(0,p.Z)(this,"gltfLoader",void 0),(0,p.Z)(this,"textures",{}),(0,p.Z)(this,"sounds",{}),(0,p.Z)(this,"images",{}),(0,p.Z)(this,"objects",{}),(0,p.Z)(this,"materials",{}),(0,p.Z)(this,"animations",{}),this.audioLoader=new A.mTL,this.imageLoader=new A.S3k,this.textureLoader=new A.dpR,this.cubeTextureLoader=new A.cBK,this.objectLoader=new A.Gql,this.materialLoader=new A.u7G,this.animationLoader=new A.sYA,this.gltfLoader=new _n.E}return(0,c.Z)(t,[{key:"loadTexture",value:function(e,n){var i=this;return this.textureLoader.loadAsync(n,t.onProgress("texture",e,n)).then((function(t){i.textures[e]=t})).catch(t.onError("texture",e,n))}},{key:"loadCubeTexture",value:function(e,n){var i=this;return new Promise((function(r){var o=n.positiveX,a=n.negativeX,s=n.positiveY,l=n.negativeY,u=n.positiveZ,h=n.negativeZ;i.cubeTextureLoader.load([o,a,s,l,u,h],(function(t){i.textures[e]=t,r()}),t.onProgress("cube texture",e,n.toString()),t.onError("cube texture",e,n.toString()))}))}},{key:"saveTexture",value:function(t,e){this.textures[t]=e}},{key:"getTexture",value:function(t){var e=this.textures[t];if(void 0===e)throw new Error("No such loaded texture '".concat(t,"'"));return e}},{key:"loadAudioFile",value:function(e,n){var i=this;return this.audioLoader.loadAsync(n,t.onProgress("audio",e,n)).then((function(t){i.sounds[e]=t})).catch(t.onError("audio",e,n))}},{key:"saveAudio",value:function(t,e){this.sounds[t]=e}},{key:"getAudio",value:function(t){var e=this.sounds[t];if(void 0===e)throw new Error("No such loaded audio buffer '".concat(t,"'"));return e}},{key:"loadImage",value:function(e,n){var i=this;return this.imageLoader.loadAsync(n,t.onProgress("image",e,n)).then((function(t){i.images[e]=t})).catch(t.onError("audio",e,n))}},{key:"saveImage",value:function(t,e){this.images[t]=e}},{key:"getImage",value:function(t){var e=this.images[t];if(void 0===e)throw new Error("No such loaded image '".concat(t,"'"));return e}},{key:"loadObject",value:function(e,n){var i=this;return this.objectLoader.loadAsync(n,t.onProgress("object",e,n)).then((function(t){i.objects[e]=t})).catch(t.onError("object",e,n))}},{key:"saveObject",value:function(t,e){this.objects[t]=e}},{key:"getObject",value:function(t){var e=this.objects[t];if(void 0===e)throw new Error("No such loaded object '".concat(t,"'"));return e}},{key:"loadMaterial",value:function(e,n){var i=this;return this.materialLoader.loadAsync(n,t.onProgress("animation",e,n)).then((function(t){i.materials[e]=t})).catch(t.onError("animation",e,n))}},{key:"saveMaterial",value:function(t,e){this.materials[t]=e}},{key:"getMaterial",value:function(t){var e=this.materials[t];if(void 0===e)throw new Error("No such loaded material '".concat(t,"'"));return e}},{key:"loadAnimations",value:function(e,n){var i=this;return this.animationLoader.loadAsync(e,t.onProgress("animation",null,e)).then((function(t){return n(t,i)})).catch(t.onError("animation",null,e))}},{key:"saveAnimation",value:function(t,e){this.animations[t]=e}},{key:"getAnimation",value:function(t){var e=this.animations[t];if(void 0===e)throw new Error("No such loaded animation '".concat(t,"'"));return e}},{key:"loadGLTFFile",value:function(e,n){var i=this;return this.gltfLoader.loadAsync(e,t.onProgress("gltf",null,e)).then((function(t){return n(t,i)})).catch(t.onError("gltf",null,e))}}],[{key:"onProgress",value:function(t,e,n){return function(i){var r=null!==e?"'".concat(e,"' "):"",o="Loading ".concat(t," ").concat(r,"from '").concat(n,"': ").concat(Un()(i.loaded));if(i.lengthComputable){var a=100*i.loaded/i.total;console.log("".concat(o," / ").concat(Un()(i.total)," (").concat(a.toFixed(0),"%)"))}else console.log("".concat(o," Loaded"))}}},{key:"onError",value:function(t,e,n){var i=null!==e?"'".concat(e,"' "):"";return function(e){throw new Error("Error loading ".concat(t," ").concat(i,"from '").concat(n,"': ").concat(e.message))}}}]),t}();(zn=Hn||(Hn={})).saveObject=function(t,e){window.localStorage.setItem(t,JSON.stringify(e))},zn.loadObject=function(t,e){var n=window.localStorage.getItem(t);if(null===n){if(void 0!==e)return e;throw new Error("Key '".concat(t,"' does not exist in local storage"))}return JSON.parse(n)},zn.removeObject=function(t){window.localStorage.removeItem(t)},zn.exists=function(t){return null!==window.localStorage.getItem(t)},zn.clear=function(){window.localStorage.clear()};var Vn=function(){function t(){(0,h.Z)(this,t),(0,p.Z)(this,"resources",{})}return(0,c.Z)(t,[{key:"setResource",value:function(t,e){this.resources[t]=e}},{key:"getResource",value:function(t,e){var n=this.resources[t];if(void 0===n){if(void 0!==e)return e;throw new Error("No such resource '".concat(t,"'"))}return n}},{key:"deleteResource",value:function(t){delete this.resources[t]}},{key:"exists",value:function(t){return void 0!==this.resources[t]}},{key:"clear",value:function(){this.resources={}}}]),t}(),$n=function(){function t(e,n){(0,h.Z)(this,t),(0,p.Z)(this,"input",void 0),(0,p.Z)(this,"assets",void 0),(0,p.Z)(this,"resources",void 0),(0,p.Z)(this,"screenSize",null),(0,p.Z)(this,"_currentArea",void 0),(0,p.Z)(this,"nextArea",null),(0,p.Z)(this,"renderer",void 0),(0,p.Z)(this,"canvas",void 0),(0,p.Z)(this,"overlayCanvas",void 0),(0,p.Z)(this,"running",!1),this.input=new st(n),this.assets=new Xn,this.resources=new Vn,this.renderer=new A.CP7({canvas:e}),this.canvas=e,this.overlayCanvas=n}return(0,c.Z)(t,[{key:"start",value:function(t){!1===this.running&&(this.running=!0,this._currentArea=new Kn(this,t),this._currentArea.state.onCreate(this._currentArea),this.overlayCanvas.focus(),requestAnimationFrame(this.tick.bind(this)))}},{key:"stop",value:function(){this.running=!1}},{key:"currentArea",get:function(){return this._currentArea}},{key:"setArea",value:function(t){null===this.nextArea&&(this.nextArea=t)}},{key:"canvasWidth",get:function(){return this.canvas.width}},{key:"canvasHeight",get:function(){return this.canvas.height}},{key:"overlayWidth",get:function(){return this.overlayCanvas.width}},{key:"overlayHeight",get:function(){return this.overlayCanvas.height}},{key:"tick",value:function(){this.resizeCanvas(),null!==this.nextArea&&(this._currentArea=new Kn(this,this.nextArea),this.nextArea=null,this.currentArea.state.onCreate(this.currentArea)),this.currentArea._tickTimers(),this.currentArea.state.onStep(),this.currentArea._createEntities(),this.currentArea._destroyEntities(),this.currentArea._tickEntityTimers(),this.currentArea._stepEntities(),this.currentArea._drawScene(this.renderer,this.overlayCanvas),this.input._clearKeyTick(),this.input._updateGamepad(),this.input._clearMouseTick(),!0===this.running&&requestAnimationFrame(this.tick.bind(this))}},{key:"resizeCanvas",value:function(){var t=null===this.screenSize?[this.canvas.clientWidth,this.canvas.clientHeight]:this.screenSize,e=(0,u.Z)(t,2),n=e[0],i=e[1];this.canvas.width===n&&this.canvas.height===i||(this.canvas.width=n,this.canvas.height=i,this.renderer.setSize(n,i,!1))}}]),t}(),qn=n(5701),Qn=n.n(qn),Jn=n(28);Qn()(Jn.Z,{insert:"head",singleton:!1}),Jn.Z.locals;var ti=n(5497),ei=n(1177),ni=n(3345),ii=n(7131),ri=n(301),oi=n(1645),ai=n(2374),si=n(1960),li=n(7319),ui=n(1304),hi=n(9165),ci=n(8863),fi=n(7928),yi=n(34),di=n(4505),vi=n(111),pi=n(9216),mi=n(833),gi=n(7446),ki=n(5965),Zi=n(2409),bi=n(4316),wi=n(8244),Ai=n(5140),Si=n(4770),Di=n(2475),xi=n(8163),Ti=n(595),Mi=n(2606),Ci=n(6013),Bi=n(2798),Ri=n(4855),Ei=n(5015),ji=n(3860),Pi=n(7922),Ii=n(3049),Li=n(6627),Fi=n(8983),Oi=n(4416),Wi=n(5499),Gi=n(8754),Ni=n(5874),Hi=n(8652),zi=n(4517),Ki=n(9545),_i=n(9660),Yi=n(5467),Ui=n(3575),Xi=n(2553),Vi=n(5436),$i=n(3458),qi=n(6656),Qi=n(9812);function Ji(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return tr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tr(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function tr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var er=document.createElement("canvas");document.body.appendChild(er);var nr=document.createElement("canvas");nr.setAttribute("tabindex","0"),nr.classList.add("overlay"),document.body.appendChild(nr),nr.width=nr.clientWidth,nr.height=nr.clientHeight;var ir=nr.getContext("2d");function rr(){return(rr=(0,a.Z)(l().mark((function t(e){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([e.assets.loadTexture("GrassColor",ai),e.assets.loadTexture("GrassNormal",si),e.assets.loadTexture("GrassOcclusion",li),e.assets.loadTexture("BrickColor",ui),e.assets.loadTexture("BrickNormal",hi),e.assets.loadTexture("BrickOcclusion",ci),e.assets.loadCubeTexture("SkyboxBG",{positiveX:ti,negativeX:ei,positiveY:ni,negativeY:ii,positiveZ:ri,negativeZ:oi}),e.assets.loadGLTFFile(fi,(function(t,e){e.saveObject("Wall",t.scene.children[0])})),e.assets.loadGLTFFile(yi,(function(t,e){e.saveObject("Door",t.scene);var n,i=Ji(t.animations);try{for(i.s();!(n=i.n()).done;){var r=n.value;e.saveAnimation(r.name,r)}}catch(t){i.e(t)}finally{i.f()}or(t.scene.children[0].children[0],7566195,.25),or(t.scene.children[1],8023148,.25),or(t.scene.children[2],8023148,.25)})),e.assets.loadGLTFFile(di,(function(t,e){e.saveObject("ToggleDoor",t.scene),or(t.scene.children[0].children[0],7566195,.25),or(t.scene.children[0].children[1],6881484,.25),or(t.scene.children[1],8023148,.15),or(t.scene.children[2],8023148,.15)})),e.assets.loadGLTFFile(vi,(function(t,e){e.saveObject("ElectricDoor",t.scene),or(t.scene.children[0].children[0],16776960,.25),or(t.scene.children[1],16777215,.3),or(t.scene.children[2],16777215,.3)})),e.assets.loadGLTFFile(gi,(function(t,e){e.saveObject("Lever",t.scene.children[0]);var n,i=Ji(t.animations);try{for(i.s();!(n=i.n()).done;){var r=n.value;e.saveAnimation(r.name,r)}}catch(t){i.e(t)}finally{i.f()}})),e.assets.loadGLTFFile(pi,(function(t,e){e.saveObject("Key",t.scene.children[0])})),e.assets.loadGLTFFile(mi,(function(t,e){e.saveObject("Battery",t.scene.children[0])})),e.assets.loadGLTFFile(bi,(function(t,e){var n=t.scene.children[0];e.saveObject("Drone",n),or(n.children[0],7566195,.5),or(n.children[2],2580722,.25)})),e.assets.loadGLTFFile(ki,(function(t,e){var n=t.scene.children[0];e.saveObject("ElectricBox",n),or(n.children[0],8882055,.5);var i,r=Ji(t.animations);try{for(r.s();!(i=r.n()).done;){var o=i.value;e.saveAnimation(o.name,o)}}catch(t){r.e(t)}finally{r.f()}})),e.assets.loadGLTFFile(Zi,(function(t,e){e.saveObject("Rock",t.scene.children[0])})),e.assets.loadGLTFFile(wi,(function(t,e){e.saveObject("Gun",t.scene)})),e.assets.loadGLTFFile(Ai,(function(t,e){e.saveObject("Map",t.scene.children[0])})),e.assets.loadGLTFFile(Si,(function(t,e){var n=t.scene.children[0];e.saveObject("Explosion",n);var i=n.material;i.transparent=!0,i.opacity=.75})),e.assets.loadGLTFFile(Di,(function(t,e){e.saveObject("Portal",t.scene);var n,i=Ji(t.animations);try{for(i.s();!(n=i.n()).done;){var r=n.value;e.saveAnimation(r.name,r)}}catch(t){i.e(t)}finally{i.f()}or(t.scene.children[1],5316383,.25);var o=t.scene.children[2].material;o.transparent=!0,o.opacity=.8})),e.assets.loadImage("RedKey",xi),e.assets.loadImage("YellowKey",Ti),e.assets.loadImage("GreenKey",Mi),e.assets.loadImage("BlueKey",Ci),e.assets.loadImage("Energy",Bi),e.assets.loadImage("Battery",Ri),e.assets.loadImage("Lever",Ei),e.assets.loadImage("LeverReverse",ji),e.assets.loadImage("ElectricBox",Pi),e.assets.loadImage("Gun",Ii),e.assets.loadImage("Map",Li),e.assets.loadAudioFile("PlayerShoot",Fi),e.assets.loadAudioFile("DroneShoot",Oi),e.assets.loadAudioFile("HitObject",Wi),e.assets.loadAudioFile("Oof",Gi),e.assets.loadAudioFile("CollectItem",Ni),e.assets.loadAudioFile("OpenDoor",Hi),e.assets.loadAudioFile("OpenBigDoor",zi),e.assets.loadAudioFile("ToggleLever",Ki),e.assets.loadAudioFile("ElectricBox",_i),e.assets.loadAudioFile("Explosion",Yi),e.assets.loadAudioFile("ActivatePortal",Ui),e.assets.loadAudioFile("EnterPortal",Xi),e.assets.loadAudioFile("Title",Vi),e.assets.loadAudioFile("Intro",$i),e.assets.loadAudioFile("ForestAmbience",qi),e.assets.loadAudioFile("HeartMonitor",Qi)]);case 2:return t.abrupt("return",e);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function or(t,e,n){var i=t.material;i.emissive.set(e),i.emissiveIntensity=n}ir.font="12pt sans-serif",ir.fillStyle="white",ir.textAlign="center",ir.textBaseline="middle",ir.fillText("Loading game...",nr.width/2,nr.height/2),function(t){return rr.apply(this,arguments)}(new $n(er,nr)).then((function(t){t.start(new In)})).catch((function(t){console.log("Failed to load assets: "+t,t.stack)}))},28:(t,e,n)=>{n.d(e,{Z:()=>s});var i=n(445),r=n.n(i),o=n(352),a=n.n(o)()(r());a.push([t.id,"* {\n  margin: 0;\n  padding: 0;\n}\n\nbody,\nhtml {\n  height: 100%;\n}\n\ncanvas {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n}\n\ncanvas.overlay {\n  z-index: 10;\n}\n","",{version:3,sources:["webpack://./src/styles.css"],names:[],mappings:"AAAA;EACE,SAAS;EACT,UAAU;AACZ;;AAEA;;EAEE,YAAY;AACd;;AAEA;EACE,kBAAkB;EAClB,WAAW;EACX,YAAY;AACd;;AAEA;EACE,WAAW;AACb",sourcesContent:["* {\n  margin: 0;\n  padding: 0;\n}\n\nbody,\nhtml {\n  height: 100%;\n}\n\ncanvas {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n}\n\ncanvas.overlay {\n  z-index: 10;\n}\n"],sourceRoot:""}]);const s=a}},n={};function i(t){var r=n[t];if(void 0!==r)return r.exports;var o=n[t]={id:t,exports:{}};return e[t](o,o.exports,i),o.exports}i.m=e,t=[],i.O=(e,n,r,o)=>{if(!n){var a=1/0;for(u=0;u<t.length;u++){for(var[n,r,o]=t[u],s=!0,l=0;l<n.length;l++)(!1&o||a>=o)&&Object.keys(i.O).every((t=>i.O[t](n[l])))?n.splice(l--,1):(s=!1,o<a&&(a=o));s&&(t.splice(u--,1),e=r())}return e}o=o||0;for(var u=t.length;u>0&&t[u-1][2]>o;u--)t[u]=t[u-1];t[u]=[n,r,o]},i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.p="/TrappedInside/",(()=>{var t={179:0};i.O.j=e=>0===t[e];var e=(e,n)=>{var r,o,[a,s,l]=n,u=0;for(r in s)i.o(s,r)&&(i.m[r]=s[r]);for(l&&l(i),e&&e(n);u<a.length;u++)o=a[u],i.o(t,o)&&t[o]&&t[o][0](),t[a[u]]=0;i.O()},n=self.webpackChunkgame_engine=self.webpackChunkgame_engine||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})();var r=i.O(void 0,[826],(()=>i(5396)));r=i.O(r)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nYW1lLWVuZ2luZS93ZWJwYWNrL3J1bnRpbWUvY2h1bmsgbG9hZGVkIiwid2VicGFjazovL2dhbWUtZW5naW5lLy4vc3JjL2FyZWFzL01hemVPYmplY3QudHMiLCJ3ZWJwYWNrOi8vZ2FtZS1lbmdpbmUvLi9zcmMvYXJlYXMvQWJzdHJhY3RNYXplQXJlYS50cyIsIndlYnBhY2s6Ly9nYW1lLWVuZ2luZS8uL3NyYy9lbmdpbmUvY29sbGlzaW9uLnRzIiwid2VicGFjazovL2dhbWUtZW5naW5lLy4vc3JjL2VudGl0aWVzL21hemUtb2JqZWN0cy9NYXplV2FsbHMudHMiLCJ3ZWJwYWNrOi8vZ2FtZS1lbmdpbmUvLi9zcmMvZW50aXRpZXMvZWZmZWN0cy9TdW5saWdodC50cyIsIndlYnBhY2s6Ly9nYW1lLWVuZ2luZS8uL3NyYy9lbnRpdGllcy9tYXplLW9iamVjdHMvTWF6ZUZsb29yLnRzIiwid2VicGFjazovL2dhbWUtZW5naW5lLy4vc3JjL2VudGl0aWVzL21hemUtb2JqZWN0cy9BYnN0cmFjdERvb3IudHMiLCJ3ZWJwYWNrOi8vZ2FtZS1lbmdpbmUvLi9zcmMvZW50aXRpZXMvbWF6ZS1vYmplY3RzL0R1bW15QmlnRG9vci50cyIsIndlYnBhY2s6Ly9nYW1lLWVuZ2luZS8uL3NyYy9lbmdpbmUvaW5wdXQudHMiLCJ3ZWJwYWNrOi8vZ2FtZS1lbmdpbmUvLi9zcmMvZW5naW5lL2hlbHBlcnMudHMiLCJ3ZWJwYWNrOi8vZ2FtZS1lbmdpbmUvLi9zcmMvZW50aXRpZXMvdWkvQWJzdHJhY3RCdXR0b24udHMiLCJ3ZWJwYWNrOi8vZ2FtZS1lbmdpbmUvLi9zcmMvZW50aXRpZXMvdWkvU3RhcnRCdXR0b24udHMiLCJ3ZWJwYWNrOi8vZ2FtZS1lbmdpbmUvLi9zcmMvZW50aXRpZXMvZWZmZWN0cy9GYWRlSW5FZmZlY3QudHMiLCJ3ZWJwYWNrOi8vZ2FtZS1lbmdpbmUvLi9zcmMvZW50aXRpZXMvdWkvUmVzdGFydEJ1dHRvbi50cyIsIndlYnBhY2s6Ly9nYW1lLWVuZ2luZS8uL3NyYy9hcmVhcy9HYW1lT3ZlckFyZWEudHMiLCJ3ZWJwYWNrOi8vZ2FtZS1lbmdpbmUvLi9zcmMvZW50aXRpZXMvZWZmZWN0cy9GYWRlT3V0RWZmZWN0LnRzIiwid2VicGFjazovL2dhbWUtZW5naW5lLy4vc3JjL2VudGl0aWVzL2VmZmVjdHMvRGVhdGhBbmltYXRpb24udHMiLCJ3ZWJwYWNrOi8vZ2FtZS1lbmdpbmUvLi9zcmMvZW50aXRpZXMvUGxheWVyQnVsbGV0LnRzIiwid2VicGFjazovL2dhbWUtZW5naW5lLy4vc3JjL2VudGl0aWVzL1BsYXllci50cyIsIndlYnBhY2s6Ly9nYW1lLWVuZ2luZS8uL3NyYy9lbnRpdGllcy9Eb29yQ29sb3IudHMiLCJ3ZWJwYWNrOi8vZ2FtZS1lbmdpbmUvLi9zcmMvZW50aXRpZXMvbWF6ZS1vYmplY3RzL0NvbG9yRG9vci50cyIsIndlYnBhY2s6Ly9nYW1lLWVuZ2luZS8uL3NyYy9lbnRpdGllcy9tYXplLW9iamVjdHMvS2V5LnRzIiwid2VicGFjazovL2dhbWUtZW5naW5lLy4vc3JjL2VudGl0aWVzL2VmZmVjdHMvSGl0QW5pbWF0aW9uLnRzIiwid2VicGFjazovL2dhbWUtZW5naW5lLy4vc3JjL2VudGl0aWVzL2VuZW1pZXMvRHJvbmVCdWxsZXQudHMiLCJ3ZWJwYWNrOi8vZ2FtZS1lbmdpbmUvLi9zcmMvZW50aXRpZXMvZWZmZWN0cy9FeHBsb3Npb24udHMiLCJ3ZWJwYWNrOi8vZ2FtZS1lbmdpbmUvLi9zcmMvZW50aXRpZXMvZW5lbWllcy9Ecm9uZS50cyIsIndlYnBhY2s6Ly9nYW1lLWVuZ2luZS8uL3NyYy9lbnRpdGllcy9FbGVjdHJpY0JveFR5cGUudHMiLCJ3ZWJwYWNrOi8vZ2FtZS1lbmdpbmUvLi9zcmMvZW50aXRpZXMvSFVELnRzIiwid2VicGFjazovL2dhbWUtZW5naW5lLy4vc3JjL3Jlc291cmNlcy9IZWFsdGgudHMiLCJ3ZWJwYWNrOi8vZ2FtZS1lbmdpbmUvLi9zcmMvcmVzb3VyY2VzL0ludmVudG9yeS50cyIsIndlYnBhY2s6Ly9nYW1lLWVuZ2luZS8uL3NyYy9lbnRpdGllcy9tYXplLW9iamVjdHMvRW5lcmd5LnRzIiwid2VicGFjazovL2dhbWUtZW5naW5lLy4vc3JjL2VudGl0aWVzL21hemUtb2JqZWN0cy9MZXZlci50cyIsIndlYnBhY2s6Ly9nYW1lLWVuZ2luZS8uL3NyYy9lbnRpdGllcy9tYXplLW9iamVjdHMvUm9jay50cyIsIndlYnBhY2s6Ly9nYW1lLWVuZ2luZS8uL3NyYy9lbnRpdGllcy9tYXplLW9iamVjdHMvQmF0dGVyeS50cyIsIndlYnBhY2s6Ly9nYW1lLWVuZ2luZS8uL3NyYy9lbnRpdGllcy9tYXplLW9iamVjdHMvRWxlY3RyaWNCb3gudHMiLCJ3ZWJwYWNrOi8vZ2FtZS1lbmdpbmUvLi9zcmMvcmVzb3VyY2VzL0Rvb3JTdGF0ZS50cyIsIndlYnBhY2s6Ly9nYW1lLWVuZ2luZS8uL3NyYy9lbnRpdGllcy9tYXplLW9iamVjdHMvVG9nZ2xlRG9vci50cyIsIndlYnBhY2s6Ly9nYW1lLWVuZ2luZS8uL3NyYy9lbnRpdGllcy9tYXplLW9iamVjdHMvRWxlY3RyaWNEb29yLnRzIiwid2VicGFjazovL2dhbWUtZW5naW5lLy4vc3JjL2FyZWFzL0VuZGluZ0FyZWEudHMiLCJ3ZWJwYWNrOi8vZ2FtZS1lbmdpbmUvLi9zcmMvZW50aXRpZXMvZWZmZWN0cy9FbnRlclBvcnRhbEVmZmVjdC50cyIsIndlYnBhY2s6Ly9nYW1lLWVuZ2luZS8uL3NyYy9lbnRpdGllcy9tYXplLW9iamVjdHMvUG9ydGFsLnRzIiwid2VicGFjazovL2dhbWUtZW5naW5lLy4vc3JjL2VudGl0aWVzL21hemUtb2JqZWN0cy9CaWdEb29yLnRzIiwid2VicGFjazovL2dhbWUtZW5naW5lLy4vc3JjL2dlbmVyYXRvci9BYnN0cmFjdFNldC50cyIsIndlYnBhY2s6Ly9nYW1lLWVuZ2luZS8uL3NyYy9nZW5lcmF0b3IvVmVydGV4U2V0LnRzIiwid2VicGFjazovL2dhbWUtZW5naW5lLy4vc3JjL2dlbmVyYXRvci9JbnZlcnNlVG9nZ2xlR2VuZXJhdG9yLnRzIiwid2VicGFjazovL2dhbWUtZW5naW5lLy4vc3JjL2dlbmVyYXRvci9IaXN0b2dyYW1TZXQudHMiLCJ3ZWJwYWNrOi8vZ2FtZS1lbmdpbmUvLi9zcmMvZ2VuZXJhdG9yL01haW5QYXRoR2VuZXJhdG9yLnRzIiwid2VicGFjazovL2dhbWUtZW5naW5lLy4vc3JjL2dlbmVyYXRvci9NYXplV2FsbHNHZW5lcmF0b3IudHMiLCJ3ZWJwYWNrOi8vZ2FtZS1lbmdpbmUvLi9zcmMvZ2VuZXJhdG9yL1NpZGVQYXRoc0dlbmVyYXRvci50cyIsIndlYnBhY2s6Ly9nYW1lLWVuZ2luZS8uL3NyYy9nZW5lcmF0b3IvVHJlZU5vZGUudHMiLCJ3ZWJwYWNrOi8vZ2FtZS1lbmdpbmUvLi9zcmMvZ2VuZXJhdG9yL01hemVHZW5lcmF0b3IudHMiLCJ3ZWJwYWNrOi8vZ2FtZS1lbmdpbmUvLi9zcmMvZW50aXRpZXMvbWF6ZS1vYmplY3RzL01hemVNYXAudHMiLCJ3ZWJwYWNrOi8vZ2FtZS1lbmdpbmUvLi9zcmMvZW50aXRpZXMvbWF6ZS1vYmplY3RzL01hemVHdW4udHMiLCJ3ZWJwYWNrOi8vZ2FtZS1lbmdpbmUvLi9zcmMvZW50aXRpZXMvZWZmZWN0cy9GYWRlSW5NYWluQXJlYS50cyIsIndlYnBhY2s6Ly9nYW1lLWVuZ2luZS8uL3NyYy9hcmVhcy9NYWluQXJlYS50cyIsIndlYnBhY2s6Ly9nYW1lLWVuZ2luZS8uL3NyYy9lbnRpdGllcy91aS9Ta2lwSW50cm9CdXR0b24udHMiLCJ3ZWJwYWNrOi8vZ2FtZS1lbmdpbmUvLi9zcmMvYXJlYXMvSW50cm9BcmVhLnRzIiwid2VicGFjazovL2dhbWUtZW5naW5lLy4vc3JjL2VudGl0aWVzL2VmZmVjdHMvU3RhcnRJbnRyb2R1Y3Rpb24udHMiLCJ3ZWJwYWNrOi8vZ2FtZS1lbmdpbmUvLi9zcmMvYXJlYXMvVGl0bGVBcmVhLnRzIiwid2VicGFjazovL2dhbWUtZW5naW5lLy4vc3JjL2VuZ2luZS90aW1lckVudHJ5LnRzIiwid2VicGFjazovL2dhbWUtZW5naW5lLy4vc3JjL2VuZ2luZS9lbnRpdHkudHMiLCJ3ZWJwYWNrOi8vZ2FtZS1lbmdpbmUvLi9zcmMvZW5naW5lL2F1ZGlvLnRzIiwid2VicGFjazovL2dhbWUtZW5naW5lLy4vc3JjL2VuZ2luZS9hcmVhLnRzIiwid2VicGFjazovL2dhbWUtZW5naW5lLy4vc3JjL2VuZ2luZS9zdG9yYWdlLnRzIiwid2VicGFjazovL2dhbWUtZW5naW5lLy4vc3JjL2VuZ2luZS9hc3NldHMudHMiLCJ3ZWJwYWNrOi8vZ2FtZS1lbmdpbmUvLi9zcmMvZW5naW5lL2dhbWUudHMiLCJ3ZWJwYWNrOi8vZ2FtZS1lbmdpbmUvLi9zcmMvc3R5bGVzLmNzcz80NGIyIiwid2VicGFjazovL2dhbWUtZW5naW5lLy4vc3JjL2luZGV4LnRzIiwid2VicGFjazovL2dhbWUtZW5naW5lLy4vc3JjL3N0eWxlcy5jc3MiLCJ3ZWJwYWNrOi8vZ2FtZS1lbmdpbmUvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vZ2FtZS1lbmdpbmUvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vZ2FtZS1lbmdpbmUvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL2dhbWUtZW5naW5lL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vZ2FtZS1lbmdpbmUvd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vZ2FtZS1lbmdpbmUvd2VicGFjay9ydW50aW1lL2pzb25wIGNodW5rIGxvYWRpbmciLCJ3ZWJwYWNrOi8vZ2FtZS1lbmdpbmUvd2VicGFjay9zdGFydHVwIl0sIm5hbWVzIjpbImRlZmVycmVkIiwiTWF6ZU9iamVjdCIsIkFMTF9NQUlOX0RPT1JTIiwiUmVkRG9vciIsIlllbGxvd0Rvb3IiLCJHcmVlbkRvb3IiLCJCbHVlRG9vciIsIlRvZ2dsZURvb3IiLCJBRG9vciIsIkJEb29yIiwiQ0Rvb3IiLCJET09SX0lURU1TIiwib25lVGltZUl0ZW0iLCJSZWRLZXkiLCJZZWxsb3dLZXkiLCJHcmVlbktleSIsIkJsdWVLZXkiLCJyZXVzZUl0ZW0iLCJMZXZlciIsIkJhdHRlcnkiLCJBQm94IiwiQkJveCIsIkNCb3giLCJNQVpFX09CSkVDVF9MT09LVVAiLCJFbXB0eSIsIldhbGwiLCJSb2NrIiwiRW5lcmd5IiwiSW52ZXJzZVRvZ2dsZURvb3IiLCJEcm9uZSIsIkJpZ0Rvb3IiLCJQb3J0YWwiLCJNYXAiLCJHdW4iLCJzdHJpbmdUb01hemUiLCJpbnB1dCIsImxpbmVzIiwic3BsaXQiLCJtYXhMZW5ndGgiLCJsaW5lIiwiTWF0aCIsIm1heCIsImxlbmd0aCIsInJlc3VsdCIsIm1hemVSb3ciLCJjaGFyIiwibG9va3VwIiwicHVzaCIsIkFic3RyYWN0TWF6ZUFyZWEiLCJtYXplIiwidGhpcyIsInJvdyIsImNvbHVtbiIsIngiLCJmbG9vciIsIm1hemVIZWlnaHQiLCJ6IiwibWF6ZVdpZHRoIiwiVEhSRUUiLCJwb3NpdGlvbiIsInJvdW5kIiwiV0lSRUZSQU1FX01BVEVSSUFMIiwiY29sb3IiLCJTUEhFUkVfR0VPTUVUUlkiLCJCT1hfR0VPTUVUUllfSU5ESUNFUyIsIlVpbnQxNkFycmF5IiwiQk9YX0dFT0VUUllfVkVSVElDRVMiLCJCT1hfR0VPTUVUUlkiLCJzZXRJbmRleCIsInNldEF0dHJpYnV0ZSIsIkJveENvbGxpc2lvbk1hc2siLCJib3hPYmplY3QiLCJib3giLCJjb3B5IiwidXBkYXRlIiwiX3Nob3dNYXNrIiwibmV3TWFzayIsImhlbHBlciIsInBhcmVudCIsInJlbW92ZSIsIm90aGVyIiwiaW50ZXJzZWN0c0JveCIsInNwaGVyZSIsImludGVyc2VjdHNTcGhlcmUiLCJyYXkiLCJpbnRlcnNlY3RCb3giLCJwb2ludCIsImNvbnRhaW5zUG9pbnQiLCJvYmplY3QiLCJzZXRGcm9tT2JqZWN0Iiwic2NlbmUiLCJzaG93TWFzayIsImFkZCIsImdldENlbnRlciIsImdldFNpemUiLCJzY2FsZSIsIm11bHRpcGx5U2NhbGFyIiwiU3BoZXJlQ29sbGlzaW9uTWFzayIsInNwaGVyZU9iamVjdCIsImludGVyc2VjdFNwaGVyZSIsImJvdW5kaW5nU3BoZXJlIiwiZ2V0Qm91bmRpbmdTcGhlcmUiLCJzZXQiLCJjZW50ZXIiLCJyYWRpdXMiLCJ1cGRhdGVXb3JsZE1hdHJpeCIsImdlb21ldHJ5IiwiY29tcHV0ZUJvdW5kaW5nU3BoZXJlIiwiZ2VvbWV0cnlTcGhlcmUiLCJjbG9uZSIsImFwcGx5TWF0cml4NCIsIm1hdHJpeFdvcmxkIiwidW5pb24iLCJjaGlsZHJlbiIsImNoaWxkIiwiZXhwYW5kQnlPYmplY3QiLCJHcm91cENvbGxpc2lvbk1hc2siLCJtYXNrcyIsImZsYXQiLCJzb21lIiwibWFzayIsImlzQ29sbGlkaW5nV2l0aCIsIm1pbiIsImludGVyc2VjdGlvbiIsImludGVyc2VjdFJheSIsImRpc3RhbmNlVG8iLCJvcmlnaW4iLCJfZHJhd01hc2siLCJFbXB0eUNvbGxpc2lvbk1hc2siLCJfb3RoZXIiLCJfYm94IiwiX3NwaGVyZSIsIl9yYXkiLCJfcG9pbnQiLCJfb2JqZWN0IiwiX3NjZW5lIiwiQk9YX01BVEVSSUFMIiwiREVGQVVMVF9CT1gzIiwiTWF6ZVdhbGxzIiwibnVtV2FsbHMiLCJhcmVhIiwibWFwIiwiYnVpbGRXYWxsVGV4dHVyZSIsIm5vcm1hbE1hcCIsImFvTWFwIiwic2lkZSIsIndhbGxzIiwiY2FzdFNoYWRvdyIsInJlY2VpdmVTaGFkb3ciLCJjb2wiLCJjdXJyZW50V2FsbCIsImNvdW50IiwidGlsZUxvY2F0aW9uVG9Qb3NpdGlvbiIsIm1hdHJpeCIsIm1ha2VUcmFuc2xhdGlvbiIsIlNDQUxFX0hFSUdIVCIsInNldE1hdHJpeEF0IiwiYWRkTWFzayIsImVudGl0eSIsImluc3RhbmNlTWF0cml4IiwibmVlZHNVcGRhdGUiLCJfdGltZXJJbmRleCIsIl9nMmQiLCJuYW1lIiwidGV4dHVyZSIsImdhbWUiLCJhc3NldHMiLCJnZXRUZXh0dXJlIiwid3JhcFMiLCJ3cmFwVCIsInJlcGVhdCIsIk1BWF9BTkdMRSIsIlBJIiwiUk9UX1NQRUVEIiwiU3VubGlnaHQiLCJsaWdodCIsImNhbGN1bGF0ZUxpZ2h0IiwibWF6ZUFyZWEiLCJzdGF0ZSIsImxpZ2h0V2lkdGgiLCJsaWdodEhlaWdodCIsInNoYWRvdyIsImNhbWVyYSIsInRvcCIsImJvdHRvbSIsImxlZnQiLCJyaWdodCIsImxpZ2h0RGlzdGFuY2UiLCJjb3MiLCJ1cGRhdGVMaWdodEFuZ2xlIiwic2V0VGltZXIiLCJ0aW1lckluZGV4IiwibGlnaHRBbmdsZSIsInJldmVyc2UiLCJ5Iiwic2luIiwiUExBTkVfR0VPTUVUUlkiLCJQTEFORV9NQVRFUklBTCIsIk1hemVGbG9vciIsIndpZHRoIiwiaGVpZ2h0IiwiYnVpbGRUZXh0dXJlIiwicm90YXRpb24iLCJvZmZzZXQiLCJBYnN0cmFjdERvb3IiLCJkb29yT2JqZWN0IiwiX29wZW4iLCJnZXRPYmplY3QiLCJTQ0FMRV9CQVNFIiwibGVmdERvb3IiLCJsZWZ0RG9vck1hc2siLCJyaWdodERvb3IiLCJyaWdodERvb3JNYXNrIiwibWl4ZXIiLCJsZWZ0RG9vckFjdGlvbiIsImNsaXBBY3Rpb24iLCJnZXRBbmltYXRpb24iLCJyaWdodERvb3JBY3Rpb24iLCJrZXlIb2xlQWN0aW9uIiwiY29uZmlndXJlQW5pbWF0aW9uIiwib25DcmVhdGVEb29yIiwiaXNBbmltYXRpb25QbGF5aW5nIiwib25TdGVwRG9vciIsInRpbWVTY2FsZSIsInBsYXlBY3Rpb24iLCJwbGF5QWN0aW9uSW52ZXJzZSIsImlzUnVubmluZyIsImFjdGlvbiIsImxvb3AiLCJjbGFtcFdoZW5GaW5pc2hlZCIsImFicyIsInBhdXNlZCIsInBsYXkiLCJLZXkiLCJHYW1lcGFkQnV0dG9uIiwiR2FtZXBhZEF4aXMiLCJNb3VzZUJ1dHRvbiIsIkR1bW15QmlnRG9vciIsInZpc2libGUiLCJvcGVuRG9vciIsIktFWV9NQVAiLCJVcCIsIkRvd24iLCJMZWZ0IiwiUmlnaHQiLCJDb250cm9sIiwiQWx0IiwiRGVsZXRlIiwiQmFja3NwYWNlIiwiQ2Fwc0xvY2siLCJFbnRlciIsIkVzY2FwZSIsIkVuZCIsIlNoaWZ0IiwiUGFnZVVwIiwiUGFnZURvd24iLCJQYXVzZSIsIkNhbmNlbCIsIlNjcm9sbExvY2siLCJBIiwiQiIsIkMiLCJEIiwiRSIsIkYiLCJHIiwiSCIsIkkiLCJKIiwiSyIsIkwiLCJNIiwiTiIsIk8iLCJQIiwiUSIsIlIiLCJTIiwiVCIsIlUiLCJWIiwiVyIsIlgiLCJZIiwiWiIsIkYxIiwiRjIiLCJGMyIsIkY0IiwiRjUiLCJGNiIsIkY3IiwiRjgiLCJGOSIsIkYxMCIsIkYxMSIsIkYxMiIsIk51bTEiLCJOdW0yIiwiTnVtMyIsIk51bTQiLCJOdW01IiwiTnVtNiIsIk51bTciLCJOdW04IiwiTnVtOSIsIk51bTAiLCJBbXBlcnN0YW5kIiwiQXN0ZXJpc2siLCJBdCIsIkJhY2tTbGFzaCIsIkJyYWNlTGVmdCIsIkJyYWNlUmlnaHQiLCJDYXJldCIsIkNsb3NlQnJhY2tldCIsIkNvbG9uIiwiQ29tbWEiLCJEb2xsYXIiLCJFcXVhbFNpZ24iLCJFeGNsYW1hdGlvblBvaW50IiwiR3JlYXRlclRoYW4iLCJMZWZ0UGFyZW4iLCJMZXNzVGhhbiIsIk1pbnVzIiwiSGFzaHRhZyIsIk9wZW5CcmFja2V0IiwiUGVyaW9kIiwiUXVlc3Rpb25NYXJrIiwiU2luZ2xlUXVvdGUiLCJEb3VibGVRdW90ZSIsIlJpZ2h0UGFyZW4iLCJTZW1pY29sb24iLCJGb3J3YXJkU2xhc2giLCJVbmRlcnNjb3JlIiwiU3BhY2UiLCJUaWNrIiwiVGlsZGEiLCJNT1VTRV9NQVAiLCJNaWRkbGUiLCJHYW1lcGFkU3RhdGUiLCJnYW1lcGFkIiwiYnV0dG9uc1N0YXJ0IiwiU2V0IiwiYnV0dG9uc0Rvd24iLCJidXR0b25zUmVsZWFzZWQiLCJheGVzIiwiYnV0dG9ucyIsInZhbHVlIiwiSW5wdXRNYW5hZ2VyIiwiY2FudmFzIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9uS2V5RG93biIsImJpbmQiLCJvbktleVJlbGVhc2UiLCJ3aW5kb3ciLCJvbkdhbWVwYWRDb25uZWN0ZWQiLCJvbkdhbWVwYWREaXNjb25uZWN0ZWQiLCJvbk1vdXNlTW92ZSIsIm9uTW91c2VEb3duIiwib25Nb3VzZVVwIiwib25Qb2ludGVyTG9ja0NsaWNrIiwiZG9jdW1lbnQiLCJvblBvaW50ZXJMb2NrQ2hhbmdlIiwib25Qb2ludGVyTG9ja0Vycm9yIiwiZXZlbnQiLCJrZXkiLCJrZXlzRG93biIsImtleXNTdGFydCIsImtleXNSZWxlYXNlZCIsImNsZWFyIiwiaGFzIiwibWFwcGluZyIsImdhbWVwYWRTdGF0ZSIsImluZGV4IiwiZnJvbUdhbWVwYWQiLCJuYXZpZ2F0b3IiLCJnZXRHYW1lcGFkcyIsImJ1dHRvbktleSIsImlzTmFOIiwiTnVtYmVyIiwiYnV0dG9uIiwicHJlc3NlZCIsIk9iamVjdCIsImFzc2lnbiIsImF4aXMiLCJfcG9pbnRlckxvY2tFbmFibGVkIiwiZW5hYmxlZCIsImV4aXRQb2ludGVyTG9jayIsIm1vdXNlQ29vcmRzIiwiY2xpZW50WCIsImNsaWVudFdpZHRoIiwiY2xpZW50WSIsImNsaWVudEhlaWdodCIsInBvaW50ZXJMb2NrRWxlbWVudCIsIm1vdXNlTW92ZW1lbnQiLCJtb3ZlbWVudFgiLCJtb3ZlbWVudFkiLCJtb3VzZURvd24iLCJtb3VzZVN0YXJ0IiwibW91c2VSZWxlYXNlZCIsInJlcXVlc3RQb2ludGVyTG9jayIsIl9ldmVudCIsIl9lcnJvciIsInJhbmRvbUZsb2F0IiwicmFuZG9tIiwicmFuZG9tSW50IiwiY2VpbCIsInBpY2tSYW5kb21BcnJheSIsInZhbHVlcyIsImNsYW1wIiwiaXNCZXR3ZWVuIiwiaXNCYXNpY2FsbHlJbnRlZ2VyIiwidGhyZXNoaG9sZCIsIm5vcm1hbGl6ZUFuZ2xlIiwiYW5nbGUiLCJhdGFuMiIsIkFic3RyYWN0QnV0dG9uIiwidGV4dCIsIm9uQ3JlYXRlQnV0dG9uIiwiaG92ZXJpbmdPdmVyIiwiZ2V0TW91c2VYIiwiZ2V0TW91c2VZIiwiaXNNb3VzZUJ1dHRvblN0YXJ0ZWQiLCJvbkNsaWNrIiwib25TdGVwQnV0dG9uIiwiZzJkIiwiZ2xvYmFsQWxwaGEiLCJmaWxsU3R5bGUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJnZXRIZXhTdHJpbmciLCJmaWxsUmVjdCIsImZvbnQiLCJ0ZXh0QWxpZ24iLCJ0ZXh0QmFzZWxpbmUiLCJ0ZXh0Q29sb3IiLCJmaWxsVGV4dCIsImJlZ2luUGF0aCIsInJlY3QiLCJsaW5lV2lkdGgiLCJzdHJva2VTdHlsZSIsImJvcmRlckNvbG9yIiwic3Ryb2tlIiwiU3RhcnRCdXR0b24iLCJvdmVybGF5V2lkdGgiLCJXSURUSCIsIm92ZXJsYXlIZWlnaHQiLCJzdGFydEdhbWUiLCJGYWRlSW5FZmZlY3QiLCJ0aWNrcyIsImZhZGUiLCJvblRpY2siLCJhbHBoYSIsImZhZGVJbiIsIl9hbHBoYSIsImNsZWFyVGltZXIiLCJvbkZpbmlzaCIsIlJlc3RhcnRCdXR0b24iLCJzZXRBcmVhIiwiTWFpbkFyZWEiLCJpc0tleVN0YXJ0ZWQiLCJpc0dhbWVwYWRCdXR0b25TdGFydGVkIiwiQUNyb3NzIiwiWFNxdWFyZSIsIllUcmlhbmdsZSIsIlN0YXJ0IiwiZ2V0R2FtZXBhZEF4aXMiLCJSaWdodFRyaWdnZXIiLCJHYW1lT3ZlckFyZWEiLCJjcmVhdGVFbnRpdHkiLCJwb2ludGVyTG9ja0VuYWJsZWQiLCJGYWRlT3V0RWZmZWN0IiwiZmFkZU91dCIsIkRlYXRoQW5pbWF0aW9uIiwiZm9yZXN0QW1iaWVuY2UiLCJ2b2x1bWUiLCJzdG9wIiwiQlVMTEVUX01FU0giLCJQbGF5ZXJCdWxsZXQiLCJzaG9vdEZyb20iLCJkaXJlY3Rpb24iLCJnZXRXb3JsZFBvc2l0aW9uIiwic2V0RnJvbVZlY3RvcjMiLCJ1cGRhdGVNYXRyaXgiLCJyb3RhdGVaIiwidHJhbnNsYXRlWSIsInRlc3RGb3JXYWxsQ29sbGlzaW9uIiwiaXNDb2xsaWRpbmdXaXRoV2FsbHMiLCJkZXN0cm95IiwiZmluZEVudGl0aWVzIiwid2FsbCIsIkRvb3JDb2xvciIsIk1PVkVNRU5UX1NQRUVEIiwiTUFYX1ZFUlRfQU5HTEUiLCJERUFEX1pPTkUiLCJQTEFZRVJfQk9YM19NQVNLIiwiUGxheWVyIiwic3RhcnRSb3ciLCJzdGFydENvbCIsImluY2x1ZGVNYXgiLCJkIiwid3JhcE51bWJlciIsImhvckRpciIsImNhbnZhc1dpZHRoIiwiY2FudmFzSGVpZ2h0IiwiZ3VuIiwiSW5maW5pdHkiLCJ0cmFuc2xhdGUiLCJhc3BlY3QiLCJ1cGRhdGVQcm9qZWN0aW9uTWF0cml4IiwidGVzdEZvckd1bkNvbGxlY3RlZCIsImhhbmRsZUlucHV0IiwidGVzdEZvckRlYXRoIiwiZ3VuQ29sbGVjdGVkIiwicmVzb3VyY2VzIiwiZ2V0UmVzb3VyY2UiLCJoYXNDb2xsZWN0ZWRHdW4iLCJtb3VzZVgiLCJnZXRNb3VzZU1vdmVtZW50WCIsIm1vdXNlWSIsImdldE1vdXNlTW92ZW1lbnRZIiwidmVydERpciIsInNsb3dDb250cm9sbGVyUm90YXRpb24iLCJMZWZ0VHJpZ2dlciIsImNvbnRyb2xsZXJSb3RhdGlvbiIsImZvdiIsImNvbnRyb2xsZXJYIiwiUmlnaHRTdGlja1giLCJjb250cm9sbGVyWSIsIlJpZ2h0U3RpY2tZIiwidXBkYXRlQ2FtZXJhUm90YXRpb24iLCJkZWx0YVgiLCJkZWx0YVoiLCJpc0tleURvd24iLCJwb3NYIiwiTGVmdFN0aWNrWCIsInBvc1kiLCJMZWZ0U3RpY2tZIiwicm90YXRpb25BbmdsZSIsInVwZGF0ZVBvc2l0aW9uIiwicmlnaHRUcmlnZ2VyUHJlc3NlZCIsInJpZ2h0VHJpZ2dlclN0YXJ0ZWQiLCJzaG9vdCIsImV1bGVyIiwicXVhdGVybmlvbiIsInNldEZyb21FdWxlciIsIm1vdmVtZW50VmVjdG9yIiwiYXBwbHlBeGlzQW5nbGUiLCJtb3ZlWCIsIm1vdmVaIiwibmVnYXRlIiwicm9jayIsInRvVmVjdG9yMyIsIm1haW5BcmVhIiwicGxheWVyU2hvb3QiLCJoYXNIZWFsdGhMZWZ0IiwiRE9PUl9DT0xPUl9NQVRFUklBTFMiLCJSZWQiLCJlbWlzc2l2ZSIsImVtaXNzaXZlSW50ZW5zaXR5IiwiWWVsbG93IiwiR3JlZW4iLCJCbHVlIiwiQ29sb3JEb29yIiwiZG9vckNvbG9yIiwiY29uZmlndXJlTWF0ZXJpYWxDb2xvciIsImludGVyYWN0TWFzayIsIm1hdGVyaWFsIiwidGVzdEZvclBsYXllckludGVyYWN0aW9uIiwib3BlbiIsInBsYXllciIsImZpbmRGaXJzdEVudGl0eSIsImh1ZCIsImludmVudG9yeSIsImtleUF2YWlsYWJsZSIsImhhc0tleUF2YWlsYWJsZSIsIm1lc3NhZ2UiLCJ0b0xvd2VyQ2FzZSIsInVzZUtleSIsInNldENvbG9yZWREb29yT3BlbmVkIiwiS0VZX0NPTE9SX01BVEVSSUFMUyIsImNvbGxlY3RLZXkiLCJjb2xsZWN0SXRlbSIsInJvdGF0ZVkiLCJIaXRBbmltYXRpb24iLCJvb2ZTb3VuZCIsImlzUGxheWluZyIsIkRyb25lQnVsbGV0IiwidHJhbnNsYXRlWCIsInRlc3RGb3JQbGF5ZXJDb2xsaXNpb24iLCJoaXQiLCJFeHBsb3Npb24iLCJleHBsb3Npb24iLCJhdWRpbyIsInBsYXliYWNrUmF0ZSIsIm5ld1NjYWxlIiwic2NhbGVBbmltYXRpb24iLCJNb3ZlbWVudFN0YXRlIiwiRGlyZWN0aW9uIiwiUk9UQVRJT05fU1BFRUQiLCJDTEFNUF9USFJFU0hIT0xEIiwiUk9UQVRJT05fVEhSRVNISE9MRCIsIkNBTk5PVF9NT1ZFX1RIUk9VR0giLCJFbGVjdHJpY0JveFR5cGUiLCJESVJFQ1RJT05fREFUQSIsIm9wcG9zaXRlIiwiVHVybmluZyIsInBpY2tOZXdEaXJlY3Rpb24iLCJ1cGRhdGVNYXplUG9zaXRpb24iLCJjYW5TZWVQbGF5ZXIiLCJpbkNlbnRlck9mVGlsZSIsInBvaW50VG93YXJkc1BsYXllciIsIm1vdmVEcm9uZSIsImNoZWNrRm9yQnVsbGV0Q29sbGlzaW9uIiwiY2hlY2tIZWFsdGgiLCJwb3NpdGlvblRvVGlsZUxvY2F0aW9uIiwidmVjdG9yIiwic3ViIiwiZGlzdGFuY2UiLCJyYXljYXN0ZXIiLCJub3JtYWxpemUiLCJldmVyeSIsImhvckFuZ2xlIiwiaG9yRGlzdCIsInNxcnQiLCJ2ZXJBbmdsZSIsIk1vdmluZyIsImRpckFuZ2xlIiwiZGlyIiwibWF4RGlzdGFuY2UiLCJiIiwiYSIsInJvdERpciIsImF2YWlsYWJsZSIsImN1cnJlbnREaXIiLCJvcHBvc2l0ZURpciIsIm5ld0RpciIsImZpbHRlciIsImJ1bGxldCIsImhlYWx0aCIsImhpdE9iamVjdCIsImRyb25lU2hvb3QiLCJUSUxFX1NJWkVfUFgiLCJPVVRTSURFX0NPTE9SIiwiTUFQX0RSQVdfRlVOQ1RJT05TIiwibWFwRHJhd0ljb24iLCJtYXBEcmF3RG9vciIsImNoZWNrQ29sb3JlZERvb3IiLCJnZXRUb2dnbGVTdGF0ZSIsImNoZWNrVG9nZ2xlRG9vciIsImNoZWNrRWxlY3RyaWNEb29yIiwiaXNCaWdEb29yT3BlbmVkIiwiX3JvdyIsIl9jb2wiLCJlbmVyZ3lMZWZ0IiwiaWNvbkltYWdlIiwiZ2V0SW1hZ2UiLCJkcmF3SW1hZ2UiLCJLRVlfQ09MT1JfSUNPTiIsIkhVRCIsIm1hcENhbnZhcyIsImNyZWF0ZUVsZW1lbnQiLCJtYXBWaXNpdGVkIiwiQXJyYXkiLCJmaWxsIiwicmVkcmF3TWFwIiwidXBkYXRlVmlzaXRlZCIsInNob3VsZERyYXdNYXAiLCJpc0dhbWVwYWRCdXR0b25Eb3duIiwiTGVmdEJ1bXBlciIsImdldFBsYXllclRpbGVMb2NhdGlvbiIsInBsYXllclRpbGVSb3ciLCJwbGF5ZXJUaWxlQ29sIiwiZ2V0Q29udGV4dCIsImltYWdlV2lkdGgiLCJpbWFnZUhlaWdodCIsImRyYXdGdW5jIiwiZHJvbmUiLCJhcmMiLCJkcmF3RnVsbE1hcCIsImRyYXdIVUQiLCJoYXNDb2xsZWN0ZWRNYXAiLCJkcmF3SGVhbHRoQmFyIiwiZHJhd01hcFN1YnNldCIsImRyYXdJbnZlbnRvcnkiLCJkcmF3TWVzc2FnZSIsImRyYXdUYXJnZXQiLCJmdWxsSGVhbHRoIiwibm9IZWFsdGgiLCJsZXJwQ29sb3JzIiwiSFVEX1RPUCIsImdldEhlYWx0aFBlcmNlbnRMZWZ0IiwibWVhc3VyZVRleHQiLCJsZWZ0VGlsZVgiLCJNQVBfVElMRVNfVklTSUJMRSIsInRvcFRpbGVZIiwibGVmdFgiLCJ0b3BZIiwiaW1hZ2VTaXplIiwibGVmdFZhbHVlWCIsImRyYXdBcnJvdyIsImdldFBsYXllckFuZ2xlIiwic2xvdFNpemUiLCJ0b3RhbEVuZXJneSIsIkhVRF9MRUZUIiwiY3VycmVudFgiLCJrZXlDb2xvciIsImljb24iLCJnZXRLZXlDb3VudCIsImhhc0NvbGxlY3RlZEJhdHRlcnkiLCJnZXRCYXR0ZXJ5Q291bnQiLCJtZXRyaWNzIiwiYWN0dWFsQm91bmRpbmdCb3hBc2NlbnQiLCJmb250Qm91bmRpbmdCb3hEZXNjZW50IiwiY2VudGVyWCIsImNlbnRlclkiLCJtb3ZlVG8iLCJsaW5lVG8iLCJtYXhXaWR0aCIsIk1BUF9NQVJHSU4iLCJtYXhIZWlnaHQiLCJpbWdXaWR0aCIsImltZ0hlaWdodCIsImxlZnRJbWdYIiwibGVmdEltZ1kiLCJyIiwiaGVhZFgiLCJoZWFkWSIsInRhaWxYIiwidGFpbFkiLCJoZWFkQW5nbGUiLCJpc09wZW4iLCJtYXBEcmF3T3BlbmVkRG9vciIsIm1hcERyYXdDbG9zZWREb29yIiwiaXNDb2xvcmVkRG9vck9wZW5lZCIsInR5cGUiLCJpc0Rvb3JQb3dlcmVkIiwiSGVhbHRoIiwiYW1vdW50IiwiSW52ZW50b3J5IiwibWFwQ29sbGVjdGVkIiwia2V5c0NvbGxlY3RlZCIsImJhdHRlcnlDb2xsZWN0ZWQiLCJFTkVSR1lfR0VPTUVUUlkiLCJFTkVSR1lfTUFURVJJQUwiLCJTQ0FMRV9TUEVFRCIsImFjdGl2YXRlUG9ydGFsIiwicGxheVNjYWxlQW5pbWF0aW9uIiwiY2hlY2tGb3JQbGF5ZXJDb2xsaXNpb24iLCJsZXZlckFjdGlvbiIsInJlcGV0aXRpb25zIiwiY2hlY2tJbnRlcmFjdGlvbklucHV0IiwiY2xvc2VMZXZlciIsIm9wZW5MZXZlciIsInRvZ2dsZURvb3JzIiwidG9nZ2xlTGV2ZXIiLCJ0aW1lIiwiZ2V0Q2xpcCIsImR1cmF0aW9uIiwiZXhwbG9zaW9uUG9zIiwiY29sbGVjdEJhdHRlcnkiLCJFbGVjdHJpY0JveCIsImJhdHRlcnlPYmplY3QiLCJpbnNlcnRCYXR0ZXJ5Iiwic3BpbldoZWVsIiwiaGFzQmF0dGVyeSIsInNldERvb3JQb3dlcmVkIiwiZWxlY3RyaWNCb3giLCJ1c2VCYXR0ZXJ5IiwiRG9vclN0YXRlIiwiYmlnRG9vck9wZW5lZCIsImNvbG9yZWREb29ycyIsInRvZ2dsZSIsInBvd2VyZWQiLCJzeW5jV2l0aFN0YXRlIiwiZXhwZWN0ZWRTdGF0ZSIsImNsb3NlRG9vciIsIkVsZWN0cmljRG9vciIsIkVuZGluZ0FyZWEiLCJoZWFydE1vbml0b3IiLCJjcmVhdGVBdWRpbyIsInN0YXJ0VGltZSIsImNvbnRleHQiLCJjdXJyZW50VGltZSIsImZhZGVJblNvdW5kIiwiZmFkZUluVGV4dCIsImZhZGVPdXRUZXh0IiwiVGl0bGVBcmVhIiwiaXNNb3VzZUJ1dHRvbkRvd24iLCJyZXN1bWUiLCJidWZmZXIiLCJzdHJva2VSZWN0IiwiRW50ZXJQb3J0YWxFZmZlY3QiLCJlbnRlclBvcnRhbCIsImZhZGVGb3Jlc3RBbWJpZW5jZSIsImZhZGVUb0JsYWNrIiwiZmFkZUFscGhhIiwiYmxhY2tBbHBoYSIsInBvcnRhbE9iamVjdCIsImJhbGxNYXQiLCJsZWZ0TWFzayIsInJpZ2h0TWFzayIsImV4aXRNYXNrIiwicG9ydGFsQWN0aW9uIiwidGVzdFBsYXllckVudGVyc1BvcnRhbCIsInRlc3RBY3RpdmF0ZVBvcnRhbCIsImhhbmRsZVVzZXJNZXNzYWdlIiwidGVzdElmQWxsSXRlbXNDb2xsZWN0ZWQiLCJzaG93TWVzc2FnZSIsIm9wZW5CaWdEb29yIiwiQWJzdHJhY3RTZXQiLCJub2RlcyIsIm5vZGUiLCJhZGRSZWN1cnNpdmUiLCJhZGRQYXJlbnRzIiwicmVtb3ZlUmVjdXJzaXZlIiwicmVtb3ZlUGFyZW50cyIsIlZlcnRleFNldCIsInJvb3ROb2RlIiwiZnJvbSIsInNpemUiLCJnZXRBbGxOb2RlcyIsIkludmVyc2VUb2dnbGVHZW5lcmF0b3IiLCJyb290IiwiZmluZFRvZ2dsZURvb3JzIiwibWF4RG9vcnMiLCJyZWd1bGFyVG9nZ2xlRG9vcnMiLCJhbGxvd2RTcG90cyIsInRvZ2dsZURvb3IiLCJwYXRoIiwiZmluZFBhdGhCZXR3ZWVuIiwibGV2ZXIiLCJyZW1vdmVBbGwiLCJzcG90IiwiZG9vciIsInRvZ2dsZUxvY2F0aW9uIiwicGlja0FueVJhbmRvbSIsImxlZnRIZXJpdGFnZSIsInJpZ2h0SGVyaXRhZ2UiLCJzaGlmdCIsIkhpc3RvZ3JhbVNldCIsImhpZ2hlc3QiLCJ2ZXJ0aWNlcyIsImRlcHRoIiwiZ2V0IiwibWluRGVwdGgiLCJtYXhEZXB0aCIsIm1pbkFic29sdXRlRGVwdGgiLCJhbGxOb2RlcyIsImdldEFsbE5vZGVzQnkiLCJ0b3RhbCIsImVudHJ5IiwiYWJzb2x1dGVEZXB0aCIsIk1haW5QYXRoR2VuZXJhdG9yIiwicmVzZXRBbGdvcml0aG0iLCJydW5BbGdvcml0aG1PbmNlIiwiZG9vcnNMZWZ0IiwicmVzZXRWZXJ0aWNlcyIsImhpc3QiLCJoaWdoZXN0RGVwdGgiLCJXSU5ET1dfU0laRSIsIml0ZW1zTmVlZGVkIiwiaXRlbXNSZXVzZWQiLCJkb29yTG9jYXRpb24iLCJwaWNrUmFuZG9tRG9vckxvY2F0aW9uIiwic2hpZnRNaW5EZXB0aCIsInJhbmRvbURvb3IiLCJwdXRFbmVyZ3lCZWhpbmQiLCJjb21wdXRlSXRlbXNOZWVkZWQiLCJvdXRlckxvb3AiLCJuZWVkZWQiLCJkb29ySW5kZXgiLCJkb29ySXRlbU5vZGUiLCJlbnRyaWVzIiwiaXRlbUluZGV4IiwiaXRlbSIsIml0ZW1Mb2NhdGlvbiIsInBpY2tSYW5kb21JdGVtTG9jYXRpb24iLCJwaWNrUmFuZG9tUGFyZW50RG9vckxvY2F0aW9uIiwibG9jYXRpb24iLCJwaWNrUmFuZG9tIiwiYWxsQXZhaWxhYmxlIiwiaSIsImRvb3JOb2RlIiwiYXZhaWxhYmxlTm9kZXMiLCJlbmVyZ3lMb2NhdGlvbiIsIk1hemVXYWxsc0dlbmVyYXRvciIsImNlbnRlcldpZHRoIiwiY2VudGVySGVpZ2h0IiwiY2hpc2VsSG9sZXMiLCJmaWxsQ2VudGVyVGVtcGxhdGUiLCJhZGphY2VudCIsImNob29zZSIsInN0YWNrIiwibiIsIm5laWdoYm9ycyIsIm5laWdoYm9yIiwidW5zaGlmdCIsImdlbmVyYXRlIiwiZ2V0QWxsVmVydGljZXMiLCJpc0FkamFjZW50IiwicGxhY2VWZXJ0ZXhXYWxscyIsInRvcFJvdyIsImJvdHRvbVJvdyIsImxlZnRDb2wiLCJyaWdodENvbCIsIm1pZHBvaW50Um93IiwibWlkcG9pbnRDb2wiLCJJVEVNX05PREVTIiwiQ09MT1JFRF9ET09SUyIsIlNpZGVQYXRoc0dlbmVyYXRvciIsIm1haW5Ob2RlcyIsInNpZGVOb2RlRG9vcnMiLCJwcm9jZXNzSXRlbU5vZGVzIiwiYWRkU2luZ2xlUmFuZG9tRG9vciIsImxvYWRJdGVtTm9kZXNSZWN1cnNpdmUiLCJjb2xvcmVkRG9vciIsImRvb3JUeXBlIiwiaXRlbVR5cGVzIiwiYWxsQWxsb3dlZCIsImFkZEFsbCIsImlzUGFyZW50T2YiLCJ0ZW1wUGFyZW50IiwiQUxMX0RJUkVDVElPTlMiLCJidWlsZFRyZWVOb2RlcyIsInJvb3RSb3ciLCJyb290Q29sIiwiYnVpbGRUcmVlTm9kZXNSZWN1cnNlIiwiTmFOIiwibGFzdFJvdyIsImxhc3RDb2wiLCJjaGlsZERpcmVjdGlvbnMiLCJkZWx0YVJvdyIsImRlbHRhQ29sIiwibmV3Um93IiwibmV3Q29sIiwibmV3RGVwdGgiLCJNYXplR2VuZXJhdG9yIiwiY2VudGVyVGVtcGxhdGUiLCJ0ZW1wbGF0ZVdpZHRoIiwidGVtcGxhdGVIZWlnaHQiLCJnZW5lcmF0ZVJhbmRvbU1hemUiLCJnZXRSb290Tm9kZSIsImdlbmVyYXRlTWFpblBhdGgiLCJnZW5lcmF0ZVNpZGVQYXRocyIsImdlbmVyYXRlSW52ZXJzZVRvZ2dsZURvb3JzIiwiY29tcHV0ZUVtcHR5U3BvdHMiLCJhZGRPclJlbW92ZUVuZXJneSIsImFkZERyb25lcyIsImFkZFJvY2tzIiwib2JqZWN0cyIsImZpbGxUZW1wbGF0ZSIsImxvYWROb2RlcyIsImdldFRlbXBsYXRlVG9wUm93IiwiZ2V0VGVtcGxhdGVMZWZ0Q29sdW1uIiwiZW1wdHlTcG90cyIsImVuZXJneVNwb3RzIiwibnVtRW5lcmd5IiwidG9SZW1vdmUiLCJudW1Ecm9uZXMiLCJudW1Sb2NrcyIsIk1hemVNYXAiLCJjb2xsZWN0TWFwIiwiTWF6ZUd1biIsImNvbGxlY3RHdW4iLCJGYWRlSW5NYWluQXJlYSIsIkNPTlNUUlVDVE9SUyIsImJ1aWxkQ29sb3JEb29yIiwiYnVpbGRLZXkiLCJidWlsZEVsZWN0cmljQm94IiwiYnVpbGRFbGVjdHJpY0Rvb3IiLCJnZW5lcmF0ZU5ld01hemUiLCJwbGF5ZXJUaWxlTG9jYXRpb24iLCJwbGF5ZXJBbmdsZSIsIl90b3RhbEVuZXJneSIsImJhY2tncm91bmQiLCJyZW5kZXJlciIsInNoYWRvd01hcCIsInNldFJlc291cmNlIiwiYnVpbGRNYXplIiwicGxheWVyUG9zaXRpb24iLCJyZWR1Y2UiLCJjZWxsIiwid2FsbEVudGl0eSIsInJvd0luZGV4IiwiY29sSW5kZXgiLCJhZGRXYWxsIiwiY29uc3RydWN0IiwidXBkYXRlUGxheWVyVGlsZUxvY2F0aW9uQW5kQW5nbGUiLCJnZXRGYWNpbmdBbmdsZSIsIlRlbXBsYXRlIiwiZ2VuZXJhdGVNYXplIiwiU2tpcEludHJvQnV0dG9uIiwiaW50cm9NdXNpYyIsIkxJTkUxXzEiLCJMSU5FMV8yIiwiRkFERV9JTl9TUEVFRFMiLCJGQURFX0lOX0FMUEhBIiwiRkFERV9JTl9ERUxBWVMiLCJJbnRyb0FyZWEiLCJpbmNyZWFzZVZvbHVtZSIsImhhbmRsZUZhZGVJbiIsImRlY3JlYXNlVm9sdW1lIiwiYWxwaGFJbmRleCIsInNob3VsZERyYXdGaW5hbExpbmUiLCJkcmF3RmluYWxMaW5lIiwiZHJhd1RocmVlTGluZXMiLCJ0b3BMaW5lIiwibWlkZGxlTGluZSIsImJvdHRvbUxpbmUiLCJzaW5nbGVNZXRyaWNzIiwidG90YWxNZXRyaWNzIiwiU3RhcnRJbnRyb2R1Y3Rpb24iLCJ0aXRsZU11c2ljIiwiVGl0bGUiLCJidWlsZER1bW15TWF6ZSIsImNhbWVyYVBvcyIsImRyYXdUaXRsZSIsInN0cm9rZVRleHQiLCJhY3R1YWxCb3VuZGluZ0JveERlc2NlbnQiLCJUaW1lckVudHJ5IiwibG9vcGluZyIsInRpY2tzTGVmdCIsInJ1bm5pbmciLCJFbnRpdHkiLCJfaXNEZXN0cm95ZWQiLCJ0aW1lcnMiLCJvbkNyZWF0ZSIsIm9uRGVzdHJveSIsInRpbWVyc0ZpcmVkIiwidGltZXIiLCJ0aWNrIiwib25UaW1lciIsIm9uU3RlcCIsIm9uRHJhdyIsIkF1ZGlvV3JhcHBlciIsImdldFZvbHVtZSIsInNldFZvbHVtZSIsImdldExvb3AiLCJzZXRMb29wIiwiQXJlYSIsImF1ZGlvTGlzdGVuZXIiLCJfY2FtZXJhIiwibmV3Q2FtZXJhIiwibmV3RW50aXR5IiwidG9DcmVhdGUiLCJhbGxFbnRpdGllcyIsInRhZyIsInRhZ2dlZEVudGl0aWVzIiwiZmlyc3RFbnRyeSIsIm5leHQiLCJkb25lIiwiQXVkaW9CdWZmZXIiLCJnZXRBdWRpbyIsImFkZEVudGl0eVRvQXJlYSIsImNyZWF0ZWQiLCJfY3JlYXRlIiwidGFncyIsImFkZFRhZ2dlZEVudGl0eVRvTWFwIiwidG9EZXN0cm95IiwiaXNEZXN0cm95ZWQiLCJyZW1vdmVFbnRpdHlGcm9tQXJlYSIsIl9kZXN0cm95IiwicmVtb3ZlVGFnZ2VkRW50aXR5RnJvbU1hcCIsIl90aWNrVGltZXJzIiwiX3N0ZXAiLCJvdmVybGF5IiwicmVuZGVyIiwiY2xlYXJSZWN0IiwiX2RyYXciLCJBc3NldHNNYW5hZ2VyIiwiYXVkaW9Mb2FkZXIiLCJpbWFnZUxvYWRlciIsInRleHR1cmVMb2FkZXIiLCJjdWJlVGV4dHVyZUxvYWRlciIsIm9iamVjdExvYWRlciIsIm1hdGVyaWFsTG9hZGVyIiwiYW5pbWF0aW9uTG9hZGVyIiwiZ2x0ZkxvYWRlciIsIkdMVEZMb2FkZXIiLCJmaWxlIiwibG9hZEFzeW5jIiwib25Qcm9ncmVzcyIsInRoZW4iLCJ0ZXh0dXJlcyIsIm9uRXJyb3IiLCJmaWxlcyIsIlByb21pc2UiLCJyZXNvbHZlIiwicG9zaXRpdmVYIiwibmVnYXRpdmVYIiwicG9zaXRpdmVZIiwibmVnYXRpdmVZIiwicG9zaXRpdmVaIiwibmVnYXRpdmVaIiwibG9hZCIsInRvU3RyaW5nIiwiRXJyb3IiLCJzb3VuZHMiLCJpbWFnZSIsImltYWdlcyIsIm1hdGVyaWFscyIsIm9uTG9hZCIsImFuaW1hdGlvbnMiLCJhbmltYXRpb24iLCJnbHRmIiwiZmlsZXR5cGUiLCJuYW1lU3RyaW5nIiwicHJlZml4IiwicHJldHR5U2l6ZSIsImxvYWRlZCIsImxlbmd0aENvbXB1dGFibGUiLCJwZXJjZW50TG9hZGVkIiwiY29uc29sZSIsImxvZyIsInRvRml4ZWQiLCJlcnJvciIsIkxvY2FsU3RvcmFnZSIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJKU09OIiwic3RyaW5naWZ5IiwiZGVmIiwiZ2V0SXRlbSIsInBhcnNlIiwicmVtb3ZlSXRlbSIsIlJlc291cmNlTWFuYWdlciIsInJlc291cmNlIiwiR2FtZSIsImdhbWVDYW52YXMiLCJvdmVybGF5Q2FudmFzIiwiX2N1cnJlbnRBcmVhIiwiZm9jdXMiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJuZXh0QXJlYSIsInJlc2l6ZUNhbnZhcyIsImN1cnJlbnRBcmVhIiwiX2NyZWF0ZUVudGl0aWVzIiwiX2Rlc3Ryb3lFbnRpdGllcyIsIl90aWNrRW50aXR5VGltZXJzIiwiX3N0ZXBFbnRpdGllcyIsIl9kcmF3U2NlbmUiLCJfY2xlYXJLZXlUaWNrIiwiX3VwZGF0ZUdhbWVwYWQiLCJfY2xlYXJNb3VzZVRpY2siLCJzY3JlZW5TaXplIiwiZGlzcGxheVdpZHRoIiwiZGlzcGxheUhlaWdodCIsInNldFNpemUiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJjbGFzc0xpc3QiLCJhbGwiLCJsb2FkVGV4dHVyZSIsIkdyYXNzQ29sb3IiLCJHcmFzc05ybSIsIkdyYXNzT2NjIiwiQnJpY2tDb2xvciIsIkJyaWNrTnJtIiwiQnJpY2tPY2MiLCJsb2FkQ3ViZVRleHR1cmUiLCJTa3lib3hQb3NYIiwiU2t5Ym94TmVnWCIsIlNreWJveFBvc1kiLCJTa3lib3hOZWdZIiwiU2t5Ym94UG9zWiIsIlNreWJveE5lZ1oiLCJsb2FkR0xURkZpbGUiLCJnbGIiLCJtYW5hZ2VyIiwic2F2ZU9iamVjdCIsIkRvb3IiLCJzYXZlQW5pbWF0aW9uIiwiYWRqdXN0RW1pc3Npb24iLCJ0cmFuc3BhcmVudCIsIm9wYWNpdHkiLCJsb2FkSW1hZ2UiLCJCYXR0ZXJ5SWNvbiIsIkxldmVySWNvbiIsIkxldmVyUmV2ZXJzZUljb24iLCJFbGVjdHJpY0JveEljb24iLCJHdW5JY29uIiwiTWFwSWNvbiIsImxvYWRBdWRpb0ZpbGUiLCJQbGF5ZXJTaG9vdCIsIkRyb25lU2hvb3QiLCJIaXRPYmplY3QiLCJPb2YiLCJDb2xsZWN0SXRlbSIsIk9wZW5Eb29yIiwiT3BlbkJpZ0Rvb3IiLCJUb2dnbGVMZXZlciIsIkVsZWN0cmljQm94U291bmQiLCJFeHBsb3Npb25Tb3VuZCIsIkFjdGl2YXRlUG9ydGFsIiwiRW50ZXJQb3J0YWwiLCJUaXRsZU11c2ljIiwiSW50cm9NdXNpYyIsIkZvcmVzdEFtYmllbmNlIiwiSGVhcnRNb25pdG9yIiwibWVzaCIsImludGVuc2l0eSIsImxvYWRBbGxBc3NldHMiLCJzdGFydCIsIl9fX0NTU19MT0FERVJfRVhQT1JUX19fIiwibW9kdWxlIiwiaWQiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJleHBvcnRzIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsIm0iLCJjaHVua0lkcyIsImZuIiwicHJpb3JpdHkiLCJub3RGdWxmaWxsZWQiLCJmdWxmaWxsZWQiLCJqIiwia2V5cyIsInNwbGljZSIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkZWZpbml0aW9uIiwibyIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJwIiwiaW5zdGFsbGVkQ2h1bmtzIiwiMTc5IiwiY2h1bmtJZCIsIndlYnBhY2tKc29ucENhbGxiYWNrIiwicGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24iLCJkYXRhIiwibW9yZU1vZHVsZXMiLCJydW50aW1lIiwiY2h1bmtMb2FkaW5nR2xvYmFsIiwic2VsZiIsImZvckVhY2giLCJfX3dlYnBhY2tfZXhwb3J0c19fIl0sIm1hcHBpbmdzIjoidUJBQUlBLEUsMHRHQ0NRQyxFLHluQ0FBQUEsTyxpQkFBQUEsSSxlQUFBQSxJLGVBQUFBLEksbUJBQUFBLEkscUJBQUFBLEksMkJBQUFBLEkseUJBQUFBLEksdUJBQUFBLEksbUJBQUFBLEkseUJBQUFBLEksd0JBQUFBLEksc0JBQUFBLEksc0JBQUFBLEksa0JBQUFBLEksNEJBQUFBLEksMENBQUFBLEksa0JBQUFBLEksa0JBQUFBLEksa0JBQUFBLEksZ0JBQUFBLEksZ0JBQUFBLEksZ0JBQUFBLEksa0JBQUFBLEksc0JBQUFBLEksb0JBQUFBLEksY0FBQUEsSSxlQUFBQSxNLEtBZ0NMLElBQU1DLEVBQStCLENBQzFDRCxFQUFXRSxRQUNYRixFQUFXRyxXQUNYSCxFQUFXSSxVQUNYSixFQUFXSyxTQUNYTCxFQUFXTSxXQUNYTixFQUFXTyxNQUNYUCxFQUFXUSxNQUNYUixFQUFXUyxPQVNBQyxHQUE2QyxlQUN2RFYsRUFBV0UsUUFBVSxDQUFFUyxZQUFhWCxFQUFXWSxVQURRLFNBRXZEWixFQUFXRyxXQUFhLENBQUVRLFlBQWFYLEVBQVdhLGFBRkssU0FHdkRiLEVBQVdJLFVBQVksQ0FBRU8sWUFBYVgsRUFBV2MsWUFITSxTQUl2RGQsRUFBV0ssU0FBVyxDQUFFTSxZQUFhWCxFQUFXZSxXQUpPLFNBS3ZEZixFQUFXTSxXQUFhLENBQUVVLFVBQVdoQixFQUFXaUIsU0FMTyxTQU12RGpCLEVBQVdPLE1BQVEsQ0FBRUksWUFBYVgsRUFBV2tCLFFBQVNGLFVBQVdoQixFQUFXbUIsUUFOckIsU0FPdkRuQixFQUFXUSxNQUFRLENBQUVHLFlBQWFYLEVBQVdrQixRQUFTRixVQUFXaEIsRUFBV29CLFFBUHJC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cnJlZCA9IFtdO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5PID0gKHJlc3VsdCwgY2h1bmtJZHMsIGZuLCBwcmlvcml0eSkgPT4ge1xuXHRpZihjaHVua0lkcykge1xuXHRcdHByaW9yaXR5ID0gcHJpb3JpdHkgfHwgMDtcblx0XHRmb3IodmFyIGkgPSBkZWZlcnJlZC5sZW5ndGg7IGkgPiAwICYmIGRlZmVycmVkW2kgLSAxXVsyXSA+IHByaW9yaXR5OyBpLS0pIGRlZmVycmVkW2ldID0gZGVmZXJyZWRbaSAtIDFdO1xuXHRcdGRlZmVycmVkW2ldID0gW2NodW5rSWRzLCBmbiwgcHJpb3JpdHldO1xuXHRcdHJldHVybjtcblx0fVxuXHR2YXIgbm90RnVsZmlsbGVkID0gSW5maW5pdHk7XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgZGVmZXJyZWQubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgW2NodW5rSWRzLCBmbiwgcHJpb3JpdHldID0gZGVmZXJyZWRbaV07XG5cdFx0dmFyIGZ1bGZpbGxlZCA9IHRydWU7XG5cdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBjaHVua0lkcy5sZW5ndGg7IGorKykge1xuXHRcdFx0aWYgKChwcmlvcml0eSAmIDEgPT09IDAgfHwgbm90RnVsZmlsbGVkID49IHByaW9yaXR5KSAmJiBPYmplY3Qua2V5cyhfX3dlYnBhY2tfcmVxdWlyZV9fLk8pLmV2ZXJ5KChrZXkpID0+IChfX3dlYnBhY2tfcmVxdWlyZV9fLk9ba2V5XShjaHVua0lkc1tqXSkpKSkge1xuXHRcdFx0XHRjaHVua0lkcy5zcGxpY2Uoai0tLCAxKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGZ1bGZpbGxlZCA9IGZhbHNlO1xuXHRcdFx0XHRpZihwcmlvcml0eSA8IG5vdEZ1bGZpbGxlZCkgbm90RnVsZmlsbGVkID0gcHJpb3JpdHk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmKGZ1bGZpbGxlZCkge1xuXHRcdFx0ZGVmZXJyZWQuc3BsaWNlKGktLSwgMSlcblx0XHRcdHJlc3VsdCA9IGZuKCk7XG5cdFx0fVxuXHR9XG5cdHJldHVybiByZXN1bHQ7XG59OyIsIi8vLyBBbGwgb2JqZWN0cyB0aGF0IGNhbiBiZSBpbnNpZGUgdGhlIG1hemVcbmV4cG9ydCBlbnVtIE1hemVPYmplY3Qge1xuICBFbXB0eSxcbiAgV2FsbCxcbiAgUm9jayxcbiAgRW5lcmd5LFxuICBSZWREb29yLFxuICBZZWxsb3dEb29yLFxuICBHcmVlbkRvb3IsXG4gIEJsdWVEb29yLFxuICBSZWRLZXksXG4gIFllbGxvd0tleSxcbiAgR3JlZW5LZXksXG4gIEJsdWVLZXksXG4gIEJhdHRlcnksXG4gIExldmVyLFxuICBUb2dnbGVEb29yLFxuICBJbnZlcnNlVG9nZ2xlRG9vcixcbiAgQURvb3IsXG4gIEJEb29yLFxuICBDRG9vcixcbiAgQUJveCxcbiAgQkJveCxcbiAgQ0JveCxcbiAgRHJvbmUsXG4gIEJpZ0Rvb3IsXG4gIFBvcnRhbCxcbiAgTWFwLFxuICBHdW4sXG59XG5cbi8vLyBMaXN0IG9mIG1haW4gZG9vcnMgdXNlZCBieSB0aGUgZ2VuZXJhdG9yXG4vLy8gIE5vdGU6IERvZXMgbm90IGluY2x1ZGUgdGhlIGludmVyc2UgdG9nZ2xlIGRvb3IsIGFzIHRoaXMgcmVxdWlyZXMgYSBzcGVjaWFsIGNhc2UgYWxnb3JpdGhtXG5leHBvcnQgY29uc3QgQUxMX01BSU5fRE9PUlM6IE1hemVPYmplY3RbXSA9IFtcbiAgTWF6ZU9iamVjdC5SZWREb29yLFxuICBNYXplT2JqZWN0LlllbGxvd0Rvb3IsXG4gIE1hemVPYmplY3QuR3JlZW5Eb29yLFxuICBNYXplT2JqZWN0LkJsdWVEb29yLFxuICBNYXplT2JqZWN0LlRvZ2dsZURvb3IsXG4gIE1hemVPYmplY3QuQURvb3IsXG4gIE1hemVPYmplY3QuQkRvb3IsXG4gIE1hemVPYmplY3QuQ0Rvb3IsXG5dO1xuXG4vLy8gTGlzdCBvZiBpdGVtcyByZXF1aXJlZCB0byBvcGVuIGEgZG9vclxuZXhwb3J0IGludGVyZmFjZSBEb29ySXRlbXMge1xuICBvbmVUaW1lSXRlbT86IE1hemVPYmplY3Q7IC8vIEl0ZW1zIHVzZWQgb25jZSB0byBvcGVuIHRoZSBkb29yXG4gIHJldXNlSXRlbT86IE1hemVPYmplY3Q7IC8vIEl0ZW0gdGhhdCBpcyByZXVzZWQgdG8gb3BlbiB0aGUgZG9vclxufVxuXG5leHBvcnQgY29uc3QgRE9PUl9JVEVNUzogeyBbSyBpbiBNYXplT2JqZWN0XT86IERvb3JJdGVtcyB9ID0ge1xuICBbTWF6ZU9iamVjdC5SZWREb29yXTogeyBvbmVUaW1lSXRlbTogTWF6ZU9iamVjdC5SZWRLZXkgfSxcbiAgW01hemVPYmplY3QuWWVsbG93RG9vcl06IHsgb25lVGltZUl0ZW06IE1hemVPYmplY3QuWWVsbG93S2V5IH0sXG4gIFtNYXplT2JqZWN0LkdyZWVuRG9vcl06IHsgb25lVGltZUl0ZW06IE1hemVPYmplY3QuR3JlZW5LZXkgfSxcbiAgW01hemVPYmplY3QuQmx1ZURvb3JdOiB7IG9uZVRpbWVJdGVtOiBNYXplT2JqZWN0LkJsdWVLZXkgfSxcbiAgW01hemVPYmplY3QuVG9nZ2xlRG9vcl06IHsgcmV1c2VJdGVtOiBNYXplT2JqZWN0LkxldmVyIH0sXG4gIFtNYXplT2JqZWN0LkFEb29yXTogeyBvbmVUaW1lSXRlbTogTWF6ZU9iamVjdC5CYXR0ZXJ5LCByZXVzZUl0ZW06IE1hemVPYmplY3QuQUJveCB9LFxuICBbTWF6ZU9iamVjdC5CRG9vcl06IHsgb25lVGltZUl0ZW06IE1hemVPYmplY3QuQmF0dGVyeSwgcmV1c2VJdGVtOiBNYXplT2JqZWN0LkJCb3ggfSxcbiAgW01hemVPYmplY3QuQ0Rvb3JdOiB7IG9uZVRpbWVJdGVtOiBNYXplT2JqZWN0LkJhdHRlcnksIHJldXNlSXRlbTogTWF6ZU9iamVjdC5DQm94IH0sXG59O1xuXG5jb25zdCBNQVpFX09CSkVDVF9MT09LVVA6IFJlY29yZDxzdHJpbmcsIE1hemVPYmplY3Q+ID0ge1xuICBbJyAnXTogTWF6ZU9iamVjdC5FbXB0eSxcbiAgWycjJ106IE1hemVPYmplY3QuV2FsbCxcbiAgWydAJ106IE1hemVPYmplY3QuUm9jayxcbiAgWycqJ106IE1hemVPYmplY3QuRW5lcmd5LFxuICBbJ1InXTogTWF6ZU9iamVjdC5SZWREb29yLFxuICBbJ1knXTogTWF6ZU9iamVjdC5ZZWxsb3dEb29yLFxuICBbJ0cnXTogTWF6ZU9iamVjdC5HcmVlbkRvb3IsXG4gIFsnTCddOiBNYXplT2JqZWN0LkJsdWVEb29yLFxuICBbJ3InXTogTWF6ZU9iamVjdC5SZWRLZXksXG4gIFsneSddOiBNYXplT2JqZWN0LlllbGxvd0tleSxcbiAgWydnJ106IE1hemVPYmplY3QuR3JlZW5LZXksXG4gIFsnbCddOiBNYXplT2JqZWN0LkJsdWVLZXksXG4gIFsnOiddOiBNYXplT2JqZWN0LkJhdHRlcnksXG4gIFsnLyddOiBNYXplT2JqZWN0LkxldmVyLFxuICBbJ3QnXTogTWF6ZU9iamVjdC5Ub2dnbGVEb29yLFxuICBbJ1QnXTogTWF6ZU9iamVjdC5JbnZlcnNlVG9nZ2xlRG9vcixcbiAgWydBJ106IE1hemVPYmplY3QuQURvb3IsXG4gIFsnQiddOiBNYXplT2JqZWN0LkJEb29yLFxuICBbJ0MnXTogTWF6ZU9iamVjdC5DRG9vcixcbiAgWydhJ106IE1hemVPYmplY3QuQUJveCxcbiAgWydiJ106IE1hemVPYmplY3QuQkJveCxcbiAgWydjJ106IE1hemVPYmplY3QuQ0JveCxcbiAgWydkJ106IE1hemVPYmplY3QuRHJvbmUsXG4gIFsnbiddOiBNYXplT2JqZWN0LkJpZ0Rvb3IsXG4gIFsnUCddOiBNYXplT2JqZWN0LlBvcnRhbCxcbiAgWydtJ106IE1hemVPYmplY3QuTWFwLFxuICBbJyUnXTogTWF6ZU9iamVjdC5HdW4sXG59O1xuXG4vKipcbiAqIE1hcCBhIHN0cmluZyB0byBhbiBhcnJheSBvZiBtYXplIG9iamVjdHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0cmluZ1RvTWF6ZShpbnB1dDogc3RyaW5nKTogTWF6ZU9iamVjdFtdW10ge1xuICAvLyBTcGxpdCBieSBuZXdsaW5lc1xuICBjb25zdCBsaW5lcyA9IGlucHV0LnNwbGl0KC9cXHI/XFxuLyk7XG5cbiAgLy8gRmlndXJlIG91dCB0aGUgbG9uZ2VzdCBsaW5lXG4gIGxldCBtYXhMZW5ndGggPSAwO1xuICBmb3IgKGNvbnN0IGxpbmUgb2YgbGluZXMpIHtcbiAgICBtYXhMZW5ndGggPSBNYXRoLm1heChtYXhMZW5ndGgsIGxpbmUubGVuZ3RoKTtcbiAgfVxuXG4gIGNvbnN0IHJlc3VsdDogTWF6ZU9iamVjdFtdW10gPSBbXTtcbiAgZm9yIChjb25zdCBsaW5lIG9mIGxpbmVzKSB7XG4gICAgY29uc3QgbWF6ZVJvdzogTWF6ZU9iamVjdFtdID0gW107XG4gICAgZm9yIChjb25zdCBjaGFyIG9mIGxpbmUpIHtcbiAgICAgIGNvbnN0IGxvb2t1cCA9IE1BWkVfT0JKRUNUX0xPT0tVUFtjaGFyXTtcbiAgICAgIGlmICh0eXBlb2YgbG9va3VwID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBtYXplUm93LnB1c2goTWF6ZU9iamVjdC5FbXB0eSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtYXplUm93LnB1c2gobG9va3VwKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBNYWtlIHN1cmUgYWxsIGxpbmVzIGFyZSB0aGUgc2FtZSBsZW5ndGhcbiAgICB3aGlsZSAobWF6ZVJvdy5sZW5ndGggPCBtYXhMZW5ndGgpIHtcbiAgICAgIG1hemVSb3cucHVzaChNYXplT2JqZWN0LkVtcHR5KTtcbiAgICB9XG5cbiAgICByZXN1bHQucHVzaChtYXplUm93KTtcbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG4iLCJpbXBvcnQgeyBNYXplT2JqZWN0IH0gZnJvbSAnLi9NYXplT2JqZWN0JztcbmltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcblxuLy8gU2l6ZSBvZiBlYWNoIHRpbGUgaW4gdGhlIG1hemUgKE54TilcbmV4cG9ydCBjb25zdCBTQ0FMRV9CQVNFID0gNTtcblxuLy8gSGVpZ2h0IG9mIHRoZSB3YWxsc1xuZXhwb3J0IGNvbnN0IFNDQUxFX0hFSUdIVCA9IDIwO1xuXG4vKipcbiAqIFR5cGUgb2YgYXJlYSB0aGF0IHN0b3JlcyBhIG1hemUgd2l0aCBtZXRob2RzIHRvIGludGVyYWN0IHdpdGggaXRcbiAqL1xuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEFic3RyYWN0TWF6ZUFyZWEge1xuICBwdWJsaWMgcmVhZG9ubHkgbWF6ZTogTWF6ZU9iamVjdFtdW107XG5cbiAgY29uc3RydWN0b3IobWF6ZTogTWF6ZU9iamVjdFtdW10pIHtcbiAgICB0aGlzLm1hemUgPSBtYXplO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBudW1iZXIgb2YgY29sdW1ucyBpbiB0aGUgbWF6ZVxuICAgKi9cbiAgcHVibGljIGdldCBtYXplV2lkdGgoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5tYXplWzBdLmxlbmd0aDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgbnVtYmVyIG9mIHJvd3MgaW4gdGhlIG1hemVcbiAgICovXG4gIHB1YmxpYyBnZXQgbWF6ZUhlaWdodCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLm1hemUubGVuZ3RoO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnQgYW4gKHJvdyxjb2x1bW4pIHRpbGUgbG9jYXRpb24gaW50byBhbiBhYnNvbHV0ZSBYLDAsWiBwb3NpdGlvbiBpbnNpZGUgdGhlIHJvb21cbiAgICpcbiAgICogT3V0cHV0OlxuICAgKiAgIFggPSBYXG4gICAqICAgWSA9IDBcbiAgICogICBaID0gWlxuICAgKi9cbiAgcHVibGljIHRpbGVMb2NhdGlvblRvUG9zaXRpb24ocm93OiBudW1iZXIsIGNvbHVtbjogbnVtYmVyKTogVEhSRUUuVmVjdG9yMyB7XG4gICAgY29uc3QgeCA9IHJvdyAqIFNDQUxFX0JBU0UgLSBTQ0FMRV9CQVNFICogTWF0aC5mbG9vcih0aGlzLm1hemVIZWlnaHQgLyAyKTtcbiAgICBjb25zdCB6ID0gU0NBTEVfQkFTRSAqIE1hdGguZmxvb3IodGhpcy5tYXplV2lkdGggLyAyKSAtIGNvbHVtbiAqIFNDQUxFX0JBU0U7XG4gICAgcmV0dXJuIG5ldyBUSFJFRS5WZWN0b3IzKHgsIDAsIHopO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZSB0aGUgUm93LENvbHVtbiB2YWx1ZSBnaXZlbiBhIHBvc2l0aW9uXG4gICAqIEBwYXJhbSBwb3NpdGlvblxuICAgKi9cbiAgcHVibGljIHBvc2l0aW9uVG9UaWxlTG9jYXRpb24ocG9zaXRpb246IFRIUkVFLlZlY3RvcjMpOiBbbnVtYmVyLCBudW1iZXJdIHtcbiAgICBjb25zdCByb3cgPSBNYXRoLnJvdW5kKHBvc2l0aW9uLnggLyBTQ0FMRV9CQVNFKSArIE1hdGguZmxvb3IodGhpcy5tYXplSGVpZ2h0IC8gMik7XG4gICAgY29uc3QgY29sID0gTWF0aC5mbG9vcih0aGlzLm1hemVXaWR0aCAvIDIpIC0gTWF0aC5yb3VuZChwb3NpdGlvbi56IC8gU0NBTEVfQkFTRSk7XG4gICAgcmV0dXJuIFtyb3csIGNvbF07XG4gIH1cbn1cbiIsImltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcblxuLy8gR2VvbWV0cmllcyB0byBkcmF3IGNvbGxpc2lvbiBtYXNrc1xuY29uc3QgV0lSRUZSQU1FX01BVEVSSUFMID0gbmV3IFRIUkVFLkxpbmVCYXNpY01hdGVyaWFsKHsgY29sb3I6IDB4ZmZmZmZmIH0pO1xuY29uc3QgU1BIRVJFX0dFT01FVFJZID0gbmV3IFRIUkVFLldpcmVmcmFtZUdlb21ldHJ5KG5ldyBUSFJFRS5JY29zYWhlZHJvbkdlb21ldHJ5KDEsIDIpKTtcblxuLy8gQnVpbGQgdGhlIGJveCBnZW9tZXRyeSBsaW5lIHNlZ21lbnRzIG1hbnVhbGx5XG5jb25zdCBCT1hfR0VPTUVUUllfSU5ESUNFUyA9IG5ldyBVaW50MTZBcnJheShbMCwgMSwgMSwgMiwgMiwgMywgMywgMCwgNCwgNSwgNSwgNiwgNiwgNywgNywgNCwgMCwgNCwgMSwgNSwgMiwgNiwgMywgN10pO1xuY29uc3QgQk9YX0dFT0VUUllfVkVSVElDRVMgPSBuZXcgVEhSRUUuRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZShcbiAgWzEsIDEsIDEsIC0xLCAxLCAxLCAtMSwgLTEsIDEsIDEsIC0xLCAxLCAxLCAxLCAtMSwgLTEsIDEsIC0xLCAtMSwgLTEsIC0xLCAxLCAtMSwgLTFdLFxuICAzLFxuKTtcbmNvbnN0IEJPWF9HRU9NRVRSWSA9IG5ldyBUSFJFRS5CdWZmZXJHZW9tZXRyeSgpXG4gIC5zZXRJbmRleChuZXcgVEhSRUUuQnVmZmVyQXR0cmlidXRlKEJPWF9HRU9NRVRSWV9JTkRJQ0VTLCAxKSlcbiAgLnNldEF0dHJpYnV0ZSgncG9zaXRpb24nLCBCT1hfR0VPRVRSWV9WRVJUSUNFUyk7XG5cbi8qKlxuICogUmVwcmVzZW50cyBhIGdlbmVyaWMgdHlwZSBvZiBjb2xsaXNpb24gbWFzay5cbiAqXG4gKiBDb2xsaXNpb25zIGluIHRoZSBnYW1lIGVuZ2luZSBhcmUgZWl0aGVyIGJveGVzIG9yIHNwaGVyZXMuXG4gKiBBZGRpdGlvbmFsbHksIHRoZXJlIGlzIGEgQ29sbGlzaW9uTWFza0dyb3VwIHRoYXQgY2FuIGNoZWNrIGZvciBtdWx0aXBsZSBjb2xsaXNpb24gbWFza3MuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ29sbGlzaW9uTWFzayB7XG4gIC8vIElmIHNldCB0byB0cnVlLCBkcmF3cyB0aGUgb3V0bGluZSBvZiB0aGUgbWFza1xuICAvLyAgU2V0IHRoaXMgdmFsdWUgdG8gXCJmYWxzZVwiIGJlZm9yZSByZXBsYWNpbmcgYW55IG1hc2tzIHRvIGNsZWFyIHRoZSBzY2VuZS5cbiAgc2hvd01hc2s6IGJvb2xlYW47XG5cbiAgaXNDb2xsaWRpbmdXaXRoKG90aGVyOiBDb2xsaXNpb25NYXNrKTogYm9vbGVhbjtcblxuICAvLyBDb2xsaXNpb24gbWV0aG9kcyBjb21tb24gdG8gYWxsIGNvbGxpc2lvbiBtYXNrc1xuICBpbnRlcnNlY3RzQm94KGJveDogVEhSRUUuQm94Myk6IGJvb2xlYW47XG4gIGludGVyc2VjdHNTcGhlcmUoc3BoZXJlOiBUSFJFRS5TcGhlcmUpOiBib29sZWFuO1xuICBpbnRlcnNlY3RSYXkocmF5OiBUSFJFRS5SYXkpOiBUSFJFRS5WZWN0b3IzIHwgbnVsbDtcblxuICAvLyBPdGhlciBtZXRob2RzXG4gIGNvbnRhaW5zUG9pbnQocG9pbnQ6IFRIUkVFLlZlY3RvcjMpOiBib29sZWFuO1xuICB1cGRhdGUob2JqZWN0OiBUSFJFRS5PYmplY3QzRCk6IHZvaWQ7XG5cbiAgLy8gQ2FsbGVkIGludGVybmFsbHkgYnkgdGhlIGdhbWUgZW5naW5lLCBpZ25vcmUgdGhpcyBtZXRob2RcbiAgX2RyYXdNYXNrKHNjZW5lOiBUSFJFRS5TY2VuZSk6IHZvaWQ7XG59XG5cbi8qKlxuICogSGFuZGxlcyBjb2xsaXNpb25zIGZvciBhbiBheGlzLWFsaWduZWQgYm91bmRpbmcgYm94XG4gKi9cbmV4cG9ydCBjbGFzcyBCb3hDb2xsaXNpb25NYXNrIGltcGxlbWVudHMgQ29sbGlzaW9uTWFzayB7XG4gIC8vIFlvdSBjYW4gbXV0YXRlIHRoaXMgdmFsdWVcbiAgcHVibGljIHJlYWRvbmx5IGJveDogVEhSRUUuQm94MztcblxuICAvLyBTZXQgdG8gdHJ1ZSB0byBkcmF3IHRoZSB3aXJlZnJhbWUgbWFza1xuICBwcml2YXRlIF9zaG93TWFzayA9IGZhbHNlO1xuICBwcml2YXRlIGhlbHBlcjogVEhSRUUuTGluZVNlZ21lbnRzIHwgbnVsbCA9IG51bGw7XG5cbiAgY29uc3RydWN0b3IoYm94T2JqZWN0PzogVEhSRUUuQm94MyB8IFRIUkVFLk9iamVjdDNEKSB7XG4gICAgdGhpcy5ib3ggPSBuZXcgVEhSRUUuQm94MygpO1xuXG4gICAgLy8gTWF5YmUgdXBkYXRlIHRoZSBib3hcbiAgICBpZiAoYm94T2JqZWN0IGluc3RhbmNlb2YgVEhSRUUuQm94Mykge1xuICAgICAgdGhpcy5ib3guY29weShib3hPYmplY3QpO1xuICAgIH0gZWxzZSBpZiAoYm94T2JqZWN0IGluc3RhbmNlb2YgVEhSRUUuT2JqZWN0M0QpIHtcbiAgICAgIHRoaXMudXBkYXRlKGJveE9iamVjdCk7XG4gICAgfVxuICB9XG5cbiAgZ2V0IHNob3dNYXNrKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLl9zaG93TWFzaztcbiAgfVxuXG4gIHNldCBzaG93TWFzayhuZXdNYXNrOiBib29sZWFuKSB7XG4gICAgdGhpcy5fc2hvd01hc2sgPSBuZXdNYXNrO1xuXG4gICAgLy8gRGlzcG9zZSBvZiB0aGUgQm94M0hlbHBlclxuICAgIC8vICAgTXVzdCBtYW51YWxseSByZW1vdmUgdGhlIGdlb21ldHJ5IG9yIGVsc2Ugd2UgaGF2ZSBhIG1lbW9yeSBsZWFrXG4gICAgaWYgKG5ld01hc2sgPT09IGZhbHNlICYmIHRoaXMuaGVscGVyICE9PSBudWxsKSB7XG4gICAgICB0aGlzLmhlbHBlci5wYXJlbnQucmVtb3ZlKHRoaXMuaGVscGVyKTtcbiAgICAgIHRoaXMuaGVscGVyID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICBpc0NvbGxpZGluZ1dpdGgob3RoZXI6IENvbGxpc2lvbk1hc2spOiBib29sZWFuIHtcbiAgICByZXR1cm4gb3RoZXIuaW50ZXJzZWN0c0JveCh0aGlzLmJveCk7XG4gIH1cblxuICBpbnRlcnNlY3RzQm94KGJveDogVEhSRUUuQm94Myk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmJveC5pbnRlcnNlY3RzQm94KGJveCk7XG4gIH1cblxuICBpbnRlcnNlY3RzU3BoZXJlKHNwaGVyZTogVEhSRUUuU3BoZXJlKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuYm94LmludGVyc2VjdHNTcGhlcmUoc3BoZXJlKTtcbiAgfVxuXG4gIGludGVyc2VjdFJheShyYXk6IFRIUkVFLlJheSk6IFRIUkVFLlZlY3RvcjMgfCBudWxsIHtcbiAgICByZXR1cm4gcmF5LmludGVyc2VjdEJveCh0aGlzLmJveCwgbmV3IFRIUkVFLlZlY3RvcjMoKSk7XG4gIH1cblxuICBjb250YWluc1BvaW50KHBvaW50OiBUSFJFRS5WZWN0b3IzKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuYm94LmNvbnRhaW5zUG9pbnQocG9pbnQpO1xuICB9XG5cbiAgdXBkYXRlKG9iamVjdDogVEhSRUUuT2JqZWN0M0QpOiB2b2lkIHtcbiAgICB0aGlzLmJveC5zZXRGcm9tT2JqZWN0KG9iamVjdCk7XG4gIH1cblxuICAvLy8gVXNlZCBpbnRlcm5hbGx5IGJ5IHRoZSBnYW1lIGVuZ2luZVxuICBfZHJhd01hc2soc2NlbmU6IFRIUkVFLlNjZW5lKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuc2hvd01hc2spIHtcbiAgICAgIC8vIEJ1aWxkIGEgbmV3IGJveCBtZXNoIGZvciB0aGUgc2NlbmVcbiAgICAgIGlmICh0aGlzLmhlbHBlciA9PT0gbnVsbCkge1xuICAgICAgICB0aGlzLmhlbHBlciA9IG5ldyBUSFJFRS5MaW5lU2VnbWVudHMoQk9YX0dFT01FVFJZLCBXSVJFRlJBTUVfTUFURVJJQUwpO1xuICAgICAgICBzY2VuZS5hZGQodGhpcy5oZWxwZXIpO1xuICAgICAgfVxuXG4gICAgICAvLyBSZXNpemUgYm94IHRvIGZpdCB0aGUgY29sbGlzaW9uIGJveFxuICAgICAgdGhpcy5ib3guZ2V0Q2VudGVyKHRoaXMuaGVscGVyLnBvc2l0aW9uKTtcbiAgICAgIHRoaXMuYm94LmdldFNpemUodGhpcy5oZWxwZXIuc2NhbGUpO1xuICAgICAgdGhpcy5oZWxwZXIuc2NhbGUubXVsdGlwbHlTY2FsYXIoMC41KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gUmVsZWFzZSB0aGUgYm94IHJlc291cmNlc1xuICAgICAgaWYgKHRoaXMuaGVscGVyICE9PSBudWxsKSB7XG4gICAgICAgIHNjZW5lLnJlbW92ZSh0aGlzLmhlbHBlcik7XG4gICAgICAgIHRoaXMuaGVscGVyID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBIYW5kbGVzIGNvbGxpc2lvbiBmb3IgYSBzcGhlcmVcbiAqL1xuZXhwb3J0IGNsYXNzIFNwaGVyZUNvbGxpc2lvbk1hc2sgaW1wbGVtZW50cyBDb2xsaXNpb25NYXNrIHtcbiAgLy8gWW91IGNhbiBtdXRhdGUgdGhpcyB2YWx1ZVxuICBwdWJsaWMgcmVhZG9ubHkgc3BoZXJlOiBUSFJFRS5TcGhlcmU7XG5cbiAgLy8gU2V0IHRvIHRydWUgdG8gZHJhdyB0aGUgd2lyZWZyYW1lIG1hc2tcbiAgcHJpdmF0ZSBfc2hvd01hc2sgPSBmYWxzZTtcbiAgcHJpdmF0ZSBoZWxwZXI6IFRIUkVFLkxpbmVTZWdtZW50cyB8IG51bGwgPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKHNwaGVyZU9iamVjdD86IFRIUkVFLlNwaGVyZSB8IFRIUkVFLk9iamVjdDNEKSB7XG4gICAgdGhpcy5zcGhlcmUgPSBuZXcgVEhSRUUuU3BoZXJlKCk7XG5cbiAgICBpZiAoc3BoZXJlT2JqZWN0IGluc3RhbmNlb2YgVEhSRUUuU3BoZXJlKSB7XG4gICAgICB0aGlzLnNwaGVyZS5jb3B5KHNwaGVyZU9iamVjdCk7XG4gICAgfSBlbHNlIGlmIChzcGhlcmVPYmplY3QgaW5zdGFuY2VvZiBUSFJFRS5PYmplY3QzRCkge1xuICAgICAgdGhpcy51cGRhdGUoc3BoZXJlT2JqZWN0KTtcbiAgICB9XG4gIH1cblxuICBnZXQgc2hvd01hc2soKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuX3Nob3dNYXNrO1xuICB9XG5cbiAgc2V0IHNob3dNYXNrKG5ld01hc2s6IGJvb2xlYW4pIHtcbiAgICB0aGlzLl9zaG93TWFzayA9IG5ld01hc2s7XG5cbiAgICAvLyBSZWxlYXNlIHRoZSBzcGhlcmUgcmVzb3VyY2VzXG4gICAgaWYgKG5ld01hc2sgPT09IGZhbHNlICYmIHRoaXMuaGVscGVyICE9PSBudWxsKSB7XG4gICAgICB0aGlzLmhlbHBlci5wYXJlbnQucmVtb3ZlKHRoaXMuaGVscGVyKTtcbiAgICAgIHRoaXMuaGVscGVyID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICBpc0NvbGxpZGluZ1dpdGgob3RoZXI6IENvbGxpc2lvbk1hc2spOiBib29sZWFuIHtcbiAgICByZXR1cm4gb3RoZXIuaW50ZXJzZWN0c1NwaGVyZSh0aGlzLnNwaGVyZSk7XG4gIH1cblxuICBpbnRlcnNlY3RzQm94KGJveDogVEhSRUUuQm94Myk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnNwaGVyZS5pbnRlcnNlY3RzQm94KGJveCk7XG4gIH1cblxuICBpbnRlcnNlY3RzU3BoZXJlKHNwaGVyZTogVEhSRUUuU3BoZXJlKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuc3BoZXJlLmludGVyc2VjdHNTcGhlcmUoc3BoZXJlKTtcbiAgfVxuXG4gIGludGVyc2VjdFJheShyYXk6IFRIUkVFLlJheSk6IFRIUkVFLlZlY3RvcjMgfCBudWxsIHtcbiAgICByZXR1cm4gcmF5LmludGVyc2VjdFNwaGVyZSh0aGlzLnNwaGVyZSwgbmV3IFRIUkVFLlZlY3RvcjMoKSk7XG4gIH1cblxuICBjb250YWluc1BvaW50KHBvaW50OiBUSFJFRS5WZWN0b3IzKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuc3BoZXJlLmNvbnRhaW5zUG9pbnQocG9pbnQpO1xuICB9XG5cbiAgdXBkYXRlKG9iamVjdDogVEhSRUUuT2JqZWN0M0QpOiB2b2lkIHtcbiAgICBjb25zdCBib3VuZGluZ1NwaGVyZSA9IG5ldyBUSFJFRS5Cb3gzKCkuc2V0RnJvbU9iamVjdChvYmplY3QpLmdldEJvdW5kaW5nU3BoZXJlKG5ldyBUSFJFRS5TcGhlcmUoKSk7XG4gICAgdGhpcy5zcGhlcmUuc2V0KGJvdW5kaW5nU3BoZXJlLmNlbnRlciwgYm91bmRpbmdTcGhlcmUucmFkaXVzKTtcblxuICAgIC8vIFNhZGx5LCB0aGUgcmVjdXJzaXZlIGFsZ29yaXRobSBiZWxvdyBkb2VzIG5vdCB3b3JrIGJlY2F1c2UgdGhlcmUgaXMgc29tZSBzb3J0IG9mIGdsaXRjaFxuICAgIC8vICB3aXRoIHNwaGVyZS51bmlvbigpLiBJIGhhdmUgbm8gaWRlYSB3aGF0IGlzIGNhdXNpaW5nIHRoaXMgcHJvYmxlbSBpbiBUSFJFRS5qc1xuICAgIC8vXG4gICAgLy8gdGhpcy5leHBhbmRCeU9iamVjdChvYmplY3QpO1xuICAgIC8vIGlmICh0aGlzLnNwaGVyZS5yYWRpdXMgPT09IDApIHtcbiAgICAvLyAgIHRoaXMuc3BoZXJlLnJhZGl1cyA9IGJvdW5kaW5nU3BoZXJlLnJhZGl1cztcbiAgICAvLyB9XG4gIH1cblxuICAvKipcbiAgICogUmVjdXJzaXZlbHkgZXhwYW5kIHRoZSBzcGhlcmUgZm9yIGFsbCBnZW9tZXRyaWVzIGluIHRoZSBzY2VuZVxuICAgKi9cbiAgcHJpdmF0ZSBleHBhbmRCeU9iamVjdChvYmplY3Q6IFRIUkVFLk9iamVjdDNEKTogdm9pZCB7XG4gICAgLy8gRm9yY2UgdGhlIHdvcmxkIG1hdHJpeCB0byB1cGRhdGVcbiAgICBvYmplY3QudXBkYXRlV29ybGRNYXRyaXgoZmFsc2UsIGZhbHNlKTtcblxuICAgIC8vIEV4cGFuZCBieSB0aGUgY3VycmVudCBnZW9tZXRyeVxuICAgIGNvbnN0IGdlb21ldHJ5ID0gKG9iamVjdCBhcyBUSFJFRS5NZXNoKS5nZW9tZXRyeTtcbiAgICBpZiAodHlwZW9mIGdlb21ldHJ5ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgaWYgKGdlb21ldHJ5LmJvdW5kaW5nU3BoZXJlID09PSBudWxsKSB7XG4gICAgICAgIGdlb21ldHJ5LmNvbXB1dGVCb3VuZGluZ1NwaGVyZSgpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBnZW9tZXRyeVNwaGVyZSA9IGdlb21ldHJ5LmJvdW5kaW5nU3BoZXJlLmNsb25lKCk7XG4gICAgICBnZW9tZXRyeVNwaGVyZS5hcHBseU1hdHJpeDQob2JqZWN0Lm1hdHJpeFdvcmxkKTtcbiAgICAgIHRoaXMuc3BoZXJlLnVuaW9uKGdlb21ldHJ5U3BoZXJlKTtcbiAgICB9XG5cbiAgICAvLyBSZWN1cnNpdmVseSBleHBhbmQgYnkgYWxsIGNoaWxkcmVuXG4gICAgZm9yIChjb25zdCBjaGlsZCBvZiBvYmplY3QuY2hpbGRyZW4pIHtcbiAgICAgIHRoaXMuZXhwYW5kQnlPYmplY3QoY2hpbGQpO1xuICAgIH1cbiAgfVxuXG4gIC8vLyBVc2VkIGludGVybmFsbHkgYnkgdGhlIGdhbWUgZW5naW5lXG4gIF9kcmF3TWFzayhzY2VuZTogVEhSRUUuU2NlbmUpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5zaG93TWFzaykge1xuICAgICAgLy8gQnVpbGQgYSBuZXcgc3BoZXJlIG1lc2ggZm9yIHRoZSBzY2VuZVxuICAgICAgaWYgKHRoaXMuaGVscGVyID09PSBudWxsKSB7XG4gICAgICAgIHRoaXMuaGVscGVyID0gbmV3IFRIUkVFLkxpbmVTZWdtZW50cyhTUEhFUkVfR0VPTUVUUlksIFdJUkVGUkFNRV9NQVRFUklBTCk7XG4gICAgICAgIHNjZW5lLmFkZCh0aGlzLmhlbHBlcik7XG4gICAgICB9XG5cbiAgICAgIC8vIFVwZGF0ZSB0aGUgc3BoZXJlIHBvc2l0aW9uXG4gICAgICB0aGlzLmhlbHBlci5wb3NpdGlvbi5jb3B5KHRoaXMuc3BoZXJlLmNlbnRlcik7XG4gICAgICB0aGlzLmhlbHBlci5zY2FsZS5zZXQodGhpcy5zcGhlcmUucmFkaXVzLCB0aGlzLnNwaGVyZS5yYWRpdXMsIHRoaXMuc3BoZXJlLnJhZGl1cyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFJlbGVhc2UgdGhlIHNwaGVyZSByZXNvdXJjZXNcbiAgICAgIGlmICh0aGlzLmhlbHBlciAhPT0gbnVsbCkge1xuICAgICAgICBzY2VuZS5yZW1vdmUodGhpcy5oZWxwZXIpO1xuICAgICAgICB0aGlzLmhlbHBlciA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogUmVwcmVzZW50cyBhIGNvbGxlY3Rpb24gb2Ygb2JqZWN0cyB3aGljaCBmb3JtIGEgbWFzay5cbiAqXG4gKiBUaGVzZSBtZXRob2RzIGFsbCBjaGVjayBhZ2FpbnN0IGFsbCBtYXNrcyBpbiB0aGUgY29sbGVjdGlvbi5cbiAqIERvIE5PVCBpbmZpbml0ZWx5IG5lc3QgYSBjb2xsaXNpb24gbWFzaywgbGlrZSBhIG1hc2sgd2l0aCBpdHNlbGYgaW4gdGhlIGxpc3QuXG4gKi9cbmV4cG9ydCBjbGFzcyBHcm91cENvbGxpc2lvbk1hc2sgaW1wbGVtZW50cyBDb2xsaXNpb25NYXNrIHtcbiAgcHVibGljIHJlYWRvbmx5IG1hc2tzOiBDb2xsaXNpb25NYXNrW107XG5cbiAgcHJpdmF0ZSBfc2hvd01hc2sgPSBmYWxzZTtcblxuICBjb25zdHJ1Y3RvciguLi5tYXNrczogKENvbGxpc2lvbk1hc2sgfCBDb2xsaXNpb25NYXNrW10pW10pIHtcbiAgICB0aGlzLm1hc2tzID0gWy4uLm1hc2tzLmZsYXQoMSldO1xuICB9XG5cbiAgZ2V0IHNob3dNYXNrKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLl9zaG93TWFzaztcbiAgfVxuXG4gIC8qKlxuICAgKiBBdXRvbWF0aWNhbGx5IHNldHMgYWxsIG9mIHRoZSBtYXNrcyBvZiB0aGUgY2hpbGRyZW5cbiAgICovXG4gIHNldCBzaG93TWFzayhuZXdNYXNrOiBib29sZWFuKSB7XG4gICAgdGhpcy5fc2hvd01hc2sgPSBuZXdNYXNrO1xuICAgIGZvciAoY29uc3QgbWFzayBvZiB0aGlzLm1hc2tzKSB7XG4gICAgICBtYXNrLnNob3dNYXNrID0gbmV3TWFzaztcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgYWRkTWFzayguLi5tYXNrczogKENvbGxpc2lvbk1hc2sgfCBDb2xsaXNpb25NYXNrW10pW10pOiB2b2lkIHtcbiAgICB0aGlzLm1hc2tzLnB1c2goLi4ubWFza3MuZmxhdCgxKSk7XG4gIH1cblxuICBpc0NvbGxpZGluZ1dpdGgob3RoZXI6IENvbGxpc2lvbk1hc2spOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5tYXNrcy5zb21lKChtYXNrKSA9PiBtYXNrLmlzQ29sbGlkaW5nV2l0aChvdGhlcikpO1xuICB9XG5cbiAgaW50ZXJzZWN0c0JveChib3g6IFRIUkVFLkJveDMpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5tYXNrcy5zb21lKChtYXNrKSA9PiBtYXNrLmludGVyc2VjdHNCb3goYm94KSk7XG4gIH1cblxuICBpbnRlcnNlY3RzU3BoZXJlKHNwaGVyZTogVEhSRUUuU3BoZXJlKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMubWFza3Muc29tZSgobWFzaykgPT4gbWFzay5pbnRlcnNlY3RzU3BoZXJlKHNwaGVyZSkpO1xuICB9XG5cbiAgaW50ZXJzZWN0UmF5KHJheTogVEhSRUUuUmF5KTogVEhSRUUuVmVjdG9yMyB8IG51bGwge1xuICAgIC8vIEZpbmQgdGhlIGNsb3Nlc3QgaW50ZXJzZWN0aW9uXG4gICAgbGV0IG1pbjogVEhSRUUuVmVjdG9yMyB8IG51bGwgPSBudWxsO1xuICAgIGZvciAoY29uc3QgbWFzayBvZiB0aGlzLm1hc2tzKSB7XG4gICAgICBjb25zdCBpbnRlcnNlY3Rpb24gPSBtYXNrLmludGVyc2VjdFJheShyYXkpO1xuICAgICAgaWYgKGludGVyc2VjdGlvbiA9PT0gbnVsbCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKG1pbiA9PT0gbnVsbCB8fCBpbnRlcnNlY3Rpb24uZGlzdGFuY2VUbyhyYXkub3JpZ2luKSA8IG1pbi5kaXN0YW5jZVRvKHJheS5vcmlnaW4pKSB7XG4gICAgICAgIG1pbiA9IGludGVyc2VjdGlvbjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbWluO1xuICB9XG5cbiAgY29udGFpbnNQb2ludChwb2ludDogVEhSRUUuVmVjdG9yMyk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLm1hc2tzLnNvbWUoKG1hc2spID0+IG1hc2suY29udGFpbnNQb2ludChwb2ludCkpO1xuICB9XG5cbiAgdXBkYXRlKG9iamVjdDogVEhSRUUuT2JqZWN0M0QpOiB2b2lkIHtcbiAgICBmb3IgKGNvbnN0IG1hc2sgb2YgdGhpcy5tYXNrcykge1xuICAgICAgbWFzay51cGRhdGUob2JqZWN0KTtcbiAgICB9XG4gIH1cblxuICBfZHJhd01hc2soc2NlbmU6IFRIUkVFLlNjZW5lKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuc2hvd01hc2spIHtcbiAgICAgIGZvciAoY29uc3QgbWFzayBvZiB0aGlzLm1hc2tzKSB7XG4gICAgICAgIG1hc2suX2RyYXdNYXNrKHNjZW5lKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBDb2xsaXNpb24gbWFzayB0aGF0IGFsd2F5cyByZXR1cm5zIGZhbHNlIChObyBjaGVjaylcbiAqL1xuZXhwb3J0IGNsYXNzIEVtcHR5Q29sbGlzaW9uTWFzayBpbXBsZW1lbnRzIENvbGxpc2lvbk1hc2sge1xuICBzaG93TWFzazogYm9vbGVhbjtcblxuICBpc0NvbGxpZGluZ1dpdGgoX290aGVyOiBDb2xsaXNpb25NYXNrKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaW50ZXJzZWN0c0JveChfYm94OiBUSFJFRS5Cb3gzKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaW50ZXJzZWN0c1NwaGVyZShfc3BoZXJlOiBUSFJFRS5TcGhlcmUpOiBib29sZWFuIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpbnRlcnNlY3RSYXkoX3JheTogVEhSRUUuUmF5KTogVEhSRUUuVmVjdG9yMyB8IG51bGwge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgY29udGFpbnNQb2ludChfcG9pbnQ6IFRIUkVFLlZlY3RvcjMpOiBib29sZWFuIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB1cGRhdGUoX29iamVjdDogVEhSRUUuT2JqZWN0M0QpOiB2b2lkIHt9XG5cbiAgX2RyYXdNYXNrKF9zY2VuZTogVEhSRUUuU2NlbmUpOiB2b2lkIHt9XG59XG4iLCJpbXBvcnQgeyBBYnN0cmFjdE1hemVBcmVhLCBTQ0FMRV9CQVNFLCBTQ0FMRV9IRUlHSFQgfSBmcm9tICdhcmVhcy9BYnN0cmFjdE1hemVBcmVhJztcbmltcG9ydCB7IEFyZWEsIEFyZWFTdGF0ZSB9IGZyb20gJ2VuZ2luZS9hcmVhJztcbmltcG9ydCB7IEJveENvbGxpc2lvbk1hc2ssIEdyb3VwQ29sbGlzaW9uTWFzayB9IGZyb20gJ2VuZ2luZS9jb2xsaXNpb24nO1xuaW1wb3J0IHsgRW50aXR5LCBFbnRpdHlTdGF0ZSB9IGZyb20gJ2VuZ2luZS9lbnRpdHknO1xuaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuXG5jb25zdCBCT1hfR0VPTUVUUlkgPSBuZXcgVEhSRUUuQm94R2VvbWV0cnkoMSwgMSwgMSk7XG5jb25zdCBCT1hfTUFURVJJQUwgPSBuZXcgVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWwoKTtcbmNvbnN0IERFRkFVTFRfQk9YMyA9IG5ldyBUSFJFRS5Cb3gzKG5ldyBUSFJFRS5WZWN0b3IzKC0wLjUsIC0wLjUsIC0wLjUpLCBuZXcgVEhSRUUuVmVjdG9yMygwLjUsIDAuNSwgMC41KSk7XG5cbi8qKlxuICogU2luZ2xlIGVudGl0eSB0byByZXByZXNlbnQgYWxsIG1hemUgd2FsbHMgdW5kZXIgb25lIGVudGl0eVxuICovXG5leHBvcnQgY2xhc3MgTWF6ZVdhbGxzIGltcGxlbWVudHMgRW50aXR5U3RhdGUge1xuICBwdWJsaWMgcmVhZG9ubHkgdGFnczogc3RyaW5nW10gPSBbJ3dhbGwnXTtcblxuICBwcml2YXRlIGVudGl0eTogRW50aXR5PHRoaXM+O1xuXG4gIHByaXZhdGUgd2FsbHM6IFRIUkVFLkluc3RhbmNlZE1lc2g7XG4gIHByaXZhdGUgbWFzazogR3JvdXBDb2xsaXNpb25NYXNrO1xuICBwcml2YXRlIGN1cnJlbnRXYWxsID0gMDtcblxuICBjb25zdHJ1Y3RvcihudW1XYWxsczogbnVtYmVyLCBhcmVhOiBBcmVhPEFyZWFTdGF0ZT4pIHtcbiAgICB0aGlzLm1hc2sgPSBuZXcgR3JvdXBDb2xsaXNpb25NYXNrKCk7XG5cbiAgICAvLyBJbml0aWFsaXplIHRoZSBib3ggbWF0ZXJpYWxcbiAgICBCT1hfTUFURVJJQUwubWFwID0gTWF6ZVdhbGxzLmJ1aWxkV2FsbFRleHR1cmUoJ0JyaWNrQ29sb3InLCBhcmVhKTtcbiAgICBCT1hfTUFURVJJQUwubm9ybWFsTWFwID0gTWF6ZVdhbGxzLmJ1aWxkV2FsbFRleHR1cmUoJ0JyaWNrTm9ybWFsJywgYXJlYSk7XG4gICAgQk9YX01BVEVSSUFMLmFvTWFwID0gTWF6ZVdhbGxzLmJ1aWxkV2FsbFRleHR1cmUoJ0JyaWNrT2NjbHVzaW9uJywgYXJlYSk7XG4gICAgQk9YX01BVEVSSUFMLnNpZGUgPSBUSFJFRS5Gcm9udFNpZGU7XG5cbiAgICAvLyBDcmVhdGUgaW5zdGFuY2VzIGZvciBhbGwgd2FsbHNcbiAgICB0aGlzLndhbGxzID0gbmV3IFRIUkVFLkluc3RhbmNlZE1lc2goQk9YX0dFT01FVFJZLCBCT1hfTUFURVJJQUwsIG51bVdhbGxzKTtcbiAgICB0aGlzLndhbGxzLmNhc3RTaGFkb3cgPSB0cnVlO1xuICAgIHRoaXMud2FsbHMucmVjZWl2ZVNoYWRvdyA9IGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIExvYWQgYSB3YWxsIHRleHR1cmUgYW5kIGNvbmZpZ3VyZSB0ZXh0dXJlIHNjYWxpbmcgYW5kIHJlcGVhdGluZ1xuICAgKi9cbiAgcHJpdmF0ZSBzdGF0aWMgYnVpbGRXYWxsVGV4dHVyZShuYW1lOiBzdHJpbmcsIGFyZWE6IEFyZWE8QXJlYVN0YXRlPik6IFRIUkVFLlRleHR1cmUge1xuICAgIGNvbnN0IHRleHR1cmUgPSBhcmVhLmdhbWUuYXNzZXRzLmdldFRleHR1cmUobmFtZSk7XG4gICAgdGV4dHVyZS53cmFwUyA9IFRIUkVFLlJlcGVhdFdyYXBwaW5nO1xuICAgIHRleHR1cmUud3JhcFQgPSBUSFJFRS5SZXBlYXRXcmFwcGluZztcbiAgICB0ZXh0dXJlLnJlcGVhdC5zZXQoMSwgU0NBTEVfSEVJR0hUIC8gU0NBTEVfQkFTRSk7XG4gICAgcmV0dXJuIHRleHR1cmU7XG4gIH1cblxuICAvKipcbiAgICogU2V0IGEgZ2l2ZW4gKHJvdywgY29sdW1uKSBwYWlyIHRvIGJlIGEgd2FsbFxuICAgKi9cbiAgcHVibGljIGFkZFdhbGwocm93OiBudW1iZXIsIGNvbDogbnVtYmVyLCBhcmVhOiBBYnN0cmFjdE1hemVBcmVhKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuY3VycmVudFdhbGwgPj0gdGhpcy53YWxscy5jb3VudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFNldCB0aGUgd2FsbCB0cmFuc2xhdGlvbiB2YWx1ZVxuICAgIGNvbnN0IHBvc2l0aW9uID0gYXJlYS50aWxlTG9jYXRpb25Ub1Bvc2l0aW9uKHJvdywgY29sKTtcbiAgICBjb25zdCBtYXRyaXggPSBuZXcgVEhSRUUuTWF0cml4NCgpO1xuICAgIG1hdHJpeC5tYWtlVHJhbnNsYXRpb24ocG9zaXRpb24ueCwgU0NBTEVfSEVJR0hUIC8gMiAtIDEsIHBvc2l0aW9uLnopO1xuICAgIG1hdHJpeC5zY2FsZShuZXcgVEhSRUUuVmVjdG9yMyhTQ0FMRV9CQVNFLCBTQ0FMRV9IRUlHSFQsIFNDQUxFX0JBU0UpKTtcbiAgICB0aGlzLndhbGxzLnNldE1hdHJpeEF0KHRoaXMuY3VycmVudFdhbGwsIG1hdHJpeCk7XG5cbiAgICAvLyBBbHNvIGdlbmVyYXRlIGEgY29sbGlzaW9uIG1hc2tcbiAgICBjb25zdCBib3ggPSBERUZBVUxUX0JPWDMuY2xvbmUoKTtcbiAgICBib3guYXBwbHlNYXRyaXg0KG1hdHJpeCk7XG4gICAgdGhpcy5tYXNrLmFkZE1hc2sobmV3IEJveENvbGxpc2lvbk1hc2soYm94KSk7XG5cbiAgICB0aGlzLmN1cnJlbnRXYWxsICs9IDE7XG4gIH1cblxuICBvbkNyZWF0ZShlbnRpdHk6IEVudGl0eTx0aGlzPik6IHZvaWQge1xuICAgIHRoaXMuZW50aXR5ID0gZW50aXR5O1xuXG4gICAgdGhpcy53YWxscy5pbnN0YW5jZU1hdHJpeC5uZWVkc1VwZGF0ZSA9IHRydWU7XG4gICAgdGhpcy5lbnRpdHkub2JqZWN0ID0gdGhpcy53YWxscztcbiAgICB0aGlzLmVudGl0eS5tYXNrID0gdGhpcy5tYXNrO1xuICB9XG5cbiAgb25EZXN0cm95KCk6IHZvaWQge31cblxuICBvblN0ZXAoKTogdm9pZCB7fVxuXG4gIG9uVGltZXIoX3RpbWVySW5kZXg6IG51bWJlcik6IHZvaWQge31cblxuICBvbkRyYXcoX2cyZDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTogdm9pZCB7fVxufVxuIiwiaW1wb3J0IHsgQWJzdHJhY3RNYXplQXJlYSwgU0NBTEVfQkFTRSB9IGZyb20gJ2FyZWFzL0Fic3RyYWN0TWF6ZUFyZWEnO1xuaW1wb3J0IHsgRW50aXR5LCBFbnRpdHlTdGF0ZSB9IGZyb20gJ2VuZ2luZS9lbnRpdHknO1xuaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuXG5jb25zdCBNQVhfQU5HTEUgPSBNYXRoLlBJIC8gNDtcbmNvbnN0IFJPVF9TUEVFRCA9IE1hdGguUEkgLyA2NDtcblxuLyoqXG4gKiBIYW5kbGVzIHRoZSBzdW5saWdodCBpbnNpZGUgdGhlIG1hemVcbiAqL1xuZXhwb3J0IGNsYXNzIFN1bmxpZ2h0IGltcGxlbWVudHMgRW50aXR5U3RhdGUge1xuICBwdWJsaWMgcmVhZG9ubHkgdGFnczogc3RyaW5nW10gPSBbJ2xpZ2h0J107XG5cbiAgcHJpdmF0ZSBlbnRpdHk6IEVudGl0eTx0aGlzPjtcblxuICBwcml2YXRlIGxpZ2h0OiBUSFJFRS5EaXJlY3Rpb25hbExpZ2h0O1xuICBwcml2YXRlIGxpZ2h0QW5nbGUgPSAoTWF0aC5QSSAqIDUpIC8gMTI7XG4gIHByaXZhdGUgcmV2ZXJzZSA9IGZhbHNlO1xuICBwcml2YXRlIGxpZ2h0RGlzdGFuY2U6IG51bWJlcjtcblxuICBvbkNyZWF0ZShlbnRpdHk6IEVudGl0eTx0aGlzPik6IHZvaWQge1xuICAgIHRoaXMuZW50aXR5ID0gZW50aXR5O1xuXG4gICAgLy8gQnVpbGQgdGhlIHN0YXRpYyBsaWdodFxuICAgIHRoaXMubGlnaHQgPSBuZXcgVEhSRUUuRGlyZWN0aW9uYWxMaWdodCgweGZmZmZmZiwgMSk7XG4gICAgdGhpcy5jYWxjdWxhdGVMaWdodCgpO1xuICAgIHRoaXMuZW50aXR5Lm9iamVjdCA9IHRoaXMubGlnaHQ7XG4gIH1cblxuICBvbkRlc3Ryb3koKTogdm9pZCB7fVxuXG4gIC8qKlxuICAgKiBDb21wdXRlIGluZm9ybWF0aW9uIGFib3V0IHRoZSBkaXJlY3Rpb25hbCBsaWdodFxuICAgKi9cbiAgcHJpdmF0ZSBjYWxjdWxhdGVMaWdodCgpOiB2b2lkIHtcbiAgICBjb25zdCBtYXplQXJlYSA9ICh0aGlzLmVudGl0eS5hcmVhLnN0YXRlIGFzIHVua25vd24pIGFzIEFic3RyYWN0TWF6ZUFyZWE7XG4gICAgY29uc3QgbGlnaHRXaWR0aCA9IG1hemVBcmVhLm1hemVXaWR0aCAqIFNDQUxFX0JBU0U7XG4gICAgY29uc3QgbGlnaHRIZWlnaHQgPSBtYXplQXJlYS5tYXplSGVpZ2h0ICogU0NBTEVfQkFTRTtcblxuICAgIHRoaXMubGlnaHQuY2FzdFNoYWRvdyA9IHRydWU7XG5cbiAgICB0aGlzLmxpZ2h0LnNoYWRvdy5jYW1lcmEudG9wID0gbGlnaHRIZWlnaHQgLyAyO1xuICAgIHRoaXMubGlnaHQuc2hhZG93LmNhbWVyYS5ib3R0b20gPSAtbGlnaHRIZWlnaHQgLyAyO1xuICAgIHRoaXMubGlnaHQuc2hhZG93LmNhbWVyYS5sZWZ0ID0gLWxpZ2h0V2lkdGggLyAyO1xuICAgIHRoaXMubGlnaHQuc2hhZG93LmNhbWVyYS5yaWdodCA9IGxpZ2h0V2lkdGggLyAyO1xuXG4gICAgLy8gV2Ugd2FudCBsaWdodCB0byBjb3ZlciBzY2VuZSB3aGVuIGF0IHRoZSA0NSBkZWdyZWUgYW5nbGVcbiAgICAvL1xuICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgIExpZ2h0XG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgLy8gTCAgICAgICAgICBbQ2VudGVyXSAtIC0gLSAtIC1SXG4gICAgdGhpcy5saWdodERpc3RhbmNlID0gbGlnaHRXaWR0aCAvIE1hdGguY29zKE1hdGguUEkgLyA0KTtcbiAgICB0aGlzLnVwZGF0ZUxpZ2h0QW5nbGUoKTtcblxuICAgIC8vIFNwZWVkIHRoZSBzdW4gbW92ZXNcbiAgICB0aGlzLmVudGl0eS5zZXRUaW1lcigwLCAxMDAwLCB0cnVlKTtcbiAgfVxuXG4gIG9uVGltZXIodGltZXJJbmRleDogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKHRpbWVySW5kZXggPT09IDApIHtcbiAgICAgIHRoaXMubGlnaHRBbmdsZSArPSB0aGlzLnJldmVyc2UgPyAtUk9UX1NQRUVEIDogUk9UX1NQRUVEO1xuICAgICAgdGhpcy51cGRhdGVMaWdodEFuZ2xlKCk7XG5cbiAgICAgIC8vIFJldmVyc2UgdGhlIGxpZ2h0IHNvIGl0IGZsaXAtZmxvcHNcbiAgICAgIGlmICh0aGlzLmxpZ2h0QW5nbGUgPCBNQVhfQU5HTEUpIHtcbiAgICAgICAgdGhpcy5yZXZlcnNlID0gZmFsc2U7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMubGlnaHRBbmdsZSA+IE1hdGguUEkgLSBNQVhfQU5HTEUpIHtcbiAgICAgICAgdGhpcy5yZXZlcnNlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIHRoZSBhbmdsZSBvZiB0aGUgc3VubGlnaHQgaW4gdGhlIHNjZW5lXG4gICAqL1xuICBwcml2YXRlIHVwZGF0ZUxpZ2h0QW5nbGUoKTogdm9pZCB7XG4gICAgdGhpcy5saWdodC5wb3NpdGlvbi54ID0gMDtcbiAgICB0aGlzLmxpZ2h0LnBvc2l0aW9uLnkgPSB0aGlzLmxpZ2h0RGlzdGFuY2UgKiBNYXRoLnNpbih0aGlzLmxpZ2h0QW5nbGUpO1xuICAgIHRoaXMubGlnaHQucG9zaXRpb24ueiA9IC10aGlzLmxpZ2h0RGlzdGFuY2UgKiBNYXRoLmNvcyh0aGlzLmxpZ2h0QW5nbGUpO1xuICB9XG5cbiAgb25TdGVwKCk6IHZvaWQge31cblxuICBvbkRyYXcoX2cyZDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTogdm9pZCB7fVxufVxuIiwiaW1wb3J0IHsgU0NBTEVfQkFTRSB9IGZyb20gJ2FyZWFzL0Fic3RyYWN0TWF6ZUFyZWEnO1xuaW1wb3J0IHsgRW50aXR5LCBFbnRpdHlTdGF0ZSB9IGZyb20gJ2VuZ2luZS9lbnRpdHknO1xuaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuXG5jb25zdCBQTEFORV9HRU9NRVRSWSA9IG5ldyBUSFJFRS5QbGFuZUdlb21ldHJ5KCk7XG5jb25zdCBQTEFORV9NQVRFUklBTCA9IG5ldyBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbCgpO1xuXG4vKipcbiAqIFJlcHJlc2VudHMgdGhlIGZsb29yIGluIHRoZSBtYXplXG4gKi9cbmV4cG9ydCBjbGFzcyBNYXplRmxvb3IgaW1wbGVtZW50cyBFbnRpdHlTdGF0ZSB7XG4gIHB1YmxpYyByZWFkb25seSB0YWdzOiBzdHJpbmdbXSA9IFsnd2FsbCddO1xuXG4gIHB1YmxpYyByZWFkb25seSB3aWR0aDogbnVtYmVyO1xuICBwdWJsaWMgcmVhZG9ubHkgaGVpZ2h0OiBudW1iZXI7XG5cbiAgcHJpdmF0ZSBlbnRpdHk6IEVudGl0eTx0aGlzPjtcblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IHBsYW5lIGZvciB0aGUgZmxvb3JcbiAgICpcbiAgICogQHBhcmFtIHdpZHRoIE51bWJlciBvZiB0aWxlcyB3aWRlXG4gICAqIEBwYXJhbSBoZWlnaHQgTnVtYmVyIG9mIHRpbGVzIGhpZ2hcbiAgICovXG4gIGNvbnN0cnVjdG9yKHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKSB7XG4gICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICB9XG5cbiAgb25DcmVhdGUoZW50aXR5OiBFbnRpdHk8dGhpcz4pOiB2b2lkIHtcbiAgICB0aGlzLmVudGl0eSA9IGVudGl0eTtcblxuICAgIC8vIExvYWQgYW5kIGluaXRpYWxpemUgdGhlIHRleHR1cmVcbiAgICBQTEFORV9NQVRFUklBTC5tYXAgPSB0aGlzLmJ1aWxkVGV4dHVyZSgnR3Jhc3NDb2xvcicpO1xuICAgIFBMQU5FX01BVEVSSUFMLm5vcm1hbE1hcCA9IHRoaXMuYnVpbGRUZXh0dXJlKCdHcmFzc05vcm1hbCcpO1xuICAgIFBMQU5FX01BVEVSSUFMLmFvTWFwID0gdGhpcy5idWlsZFRleHR1cmUoJ0dyYXNzT2NjbHVzaW9uJyk7XG5cbiAgICAvLyBCdWlsZCB0aGUgcGxhbmUgb2JqZWN0XG4gICAgdGhpcy5lbnRpdHkub2JqZWN0ID0gbmV3IFRIUkVFLk1lc2goUExBTkVfR0VPTUVUUlksIFBMQU5FX01BVEVSSUFMKTtcbiAgICB0aGlzLmVudGl0eS5vYmplY3Qucm90YXRpb24ueCA9ICgzICogTWF0aC5QSSkgLyAyO1xuICAgIHRoaXMuZW50aXR5Lm9iamVjdC5zY2FsZS5zZXQodGhpcy5oZWlnaHQgKiBTQ0FMRV9CQVNFICsgMiwgdGhpcy53aWR0aCAqIFNDQUxFX0JBU0UgKyAyLCAxKTtcbiAgICB0aGlzLmVudGl0eS5vYmplY3QuY2FzdFNoYWRvdyA9IHRydWU7XG4gICAgdGhpcy5lbnRpdHkub2JqZWN0LnJlY2VpdmVTaGFkb3cgPSB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIExvYWQgYSB3YWxsIHRleHR1cmUgYW5kIGNvbmZpZ3VyZSB0ZXh0dXJlIHNjYWxpbmcgYW5kIHJlcGVhdGluZ1xuICAgKi9cbiAgcHJpdmF0ZSBidWlsZFRleHR1cmUobmFtZTogc3RyaW5nKTogVEhSRUUuVGV4dHVyZSB7XG4gICAgY29uc3QgdGV4dHVyZSA9IHRoaXMuZW50aXR5LmFyZWEuZ2FtZS5hc3NldHMuZ2V0VGV4dHVyZShuYW1lKTtcbiAgICB0ZXh0dXJlLndyYXBTID0gVEhSRUUuUmVwZWF0V3JhcHBpbmc7XG4gICAgdGV4dHVyZS53cmFwVCA9IFRIUkVFLlJlcGVhdFdyYXBwaW5nO1xuICAgIHRleHR1cmUucmVwZWF0LnNldCgoU0NBTEVfQkFTRSAqIHRoaXMud2lkdGgpIC8gMiwgKFNDQUxFX0JBU0UgKiB0aGlzLmhlaWdodCkgLyAyKTtcbiAgICB0ZXh0dXJlLm9mZnNldC5zZXQoMC41LCAwLjUpO1xuICAgIHRleHR1cmUucm90YXRpb24gPSBNYXRoLlBJIC8gNjtcbiAgICByZXR1cm4gdGV4dHVyZTtcbiAgfVxuXG4gIG9uRGVzdHJveSgpOiB2b2lkIHt9XG4gIG9uU3RlcCgpOiB2b2lkIHt9XG4gIG9uVGltZXIoX3RpbWVySW5kZXg6IG51bWJlcik6IHZvaWQge31cbiAgb25EcmF3KF9nMmQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk6IHZvaWQge31cbn1cbiIsImltcG9ydCB7IE1haW5BcmVhIH0gZnJvbSAnYXJlYXMvTWFpbkFyZWEnO1xuaW1wb3J0IHsgU0NBTEVfQkFTRSB9IGZyb20gJ2FyZWFzL0Fic3RyYWN0TWF6ZUFyZWEnO1xuaW1wb3J0IHsgQm94Q29sbGlzaW9uTWFzaywgR3JvdXBDb2xsaXNpb25NYXNrIH0gZnJvbSAnZW5naW5lL2NvbGxpc2lvbic7XG5pbXBvcnQgeyBFbnRpdHksIEVudGl0eVN0YXRlIH0gZnJvbSAnZW5naW5lL2VudGl0eSc7XG5pbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XG5cbi8qKlxuICogSGFuZGxlcyBhbnkgZ2VuZXJpYyB0eXBlIG9mIGRvb3IgaW4gdGhlIG1hemUuXG4gKiBUaGlzIGlzIGhlbHBmdWwgYmVjYXVzZSBhbGwgZG9vcnMgdXNlIHRoZSBzYW1lIG9wZW5pbmcsIGNsb3NpbmcsIGFuZCBjb2xsaXNpb24gbWFzayBiZWhhdmlvci5cbiAqL1xuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEFic3RyYWN0RG9vciB7XG4gIHByb3RlY3RlZCBlbnRpdHk6IEVudGl0eTxFbnRpdHlTdGF0ZT47XG5cbiAgcHJvdGVjdGVkIHJvdzogbnVtYmVyO1xuICBwcm90ZWN0ZWQgY29sdW1uOiBudW1iZXI7XG4gIHByaXZhdGUgX29wZW4gPSBmYWxzZTtcblxuICAvLyBTdG9yZSByZWZlcmVuY2VzIHRvIHRoZSBtZXNoIG9iamVjdHMgYW5kIGNvbGxpc2lvbiBtYXNrIGNvbXBvbmVudHNcbiAgcHJpdmF0ZSBkb29yT2JqZWN0OiBzdHJpbmc7XG4gIHByaXZhdGUgbGVmdERvb3I6IFRIUkVFLk1lc2g7XG4gIHByaXZhdGUgbGVmdERvb3JNYXNrOiBCb3hDb2xsaXNpb25NYXNrO1xuICBwcml2YXRlIHJpZ2h0RG9vcjogVEhSRUUuTWVzaDtcbiAgcHJpdmF0ZSByaWdodERvb3JNYXNrOiBCb3hDb2xsaXNpb25NYXNrO1xuXG4gIC8vIEFuaW1hdGlvbnNcbiAgcHJpdmF0ZSBtaXhlcjogVEhSRUUuQW5pbWF0aW9uTWl4ZXI7XG4gIHByaXZhdGUgbGVmdERvb3JBY3Rpb246IFRIUkVFLkFuaW1hdGlvbkFjdGlvbjtcbiAgcHJpdmF0ZSByaWdodERvb3JBY3Rpb246IFRIUkVFLkFuaW1hdGlvbkFjdGlvbjtcbiAgcHJpdmF0ZSBrZXlIb2xlQWN0aW9uOiBUSFJFRS5BbmltYXRpb25BY3Rpb247XG5cbiAgY29uc3RydWN0b3Iocm93OiBudW1iZXIsIGNvbHVtbjogbnVtYmVyLCBkb29yT2JqZWN0OiBzdHJpbmcpIHtcbiAgICB0aGlzLnJvdyA9IHJvdztcbiAgICB0aGlzLmNvbHVtbiA9IGNvbHVtbjtcbiAgICB0aGlzLmRvb3JPYmplY3QgPSBkb29yT2JqZWN0O1xuICB9XG5cbiAgLy8vIFRlc3QgaWYgdGhlIGRvb3IgaXMgb3BlbmVkIG9yIG5vdFxuICBwcm90ZWN0ZWQgZ2V0IG9wZW4oKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuX29wZW47XG4gIH1cblxuICAvLy8gSGFuZGxlcyBvbiBjcmVhdGUgbWV0aG9kIGZvciBzcGVjaWZpYyBkb29yc1xuICBwcm90ZWN0ZWQgYWJzdHJhY3Qgb25DcmVhdGVEb29yKCk6IHZvaWQ7XG5cbiAgLy8vIEhhbmRsZXMgb24gc3RlcCBtZXRob2QgZm9yIHNwZWNpZmljIGRvb3JzXG4gIHByb3RlY3RlZCBhYnN0cmFjdCBvblN0ZXBEb29yKCk6IHZvaWQ7XG5cbiAgb25DcmVhdGUoZW50aXR5OiBFbnRpdHk8RW50aXR5U3RhdGU+KTogdm9pZCB7XG4gICAgdGhpcy5lbnRpdHkgPSBlbnRpdHk7XG5cbiAgICAvLyBQdXQgb2JqZWN0IGluIHRoZSBjb3JyZWN0IGxvY2F0aW9uXG4gICAgY29uc3Qgb2JqZWN0ID0gZW50aXR5LmFyZWEuZ2FtZS5hc3NldHMuZ2V0T2JqZWN0KHRoaXMuZG9vck9iamVjdCkuY2xvbmUoKTtcbiAgICBvYmplY3Quc2NhbGUueSA9IFNDQUxFX0JBU0UgLyAyO1xuICAgIG9iamVjdC5zY2FsZS56ID0gU0NBTEVfQkFTRSAvIDI7XG4gICAgb2JqZWN0LnBvc2l0aW9uLmNvcHkoKGVudGl0eS5hcmVhLnN0YXRlIGFzIE1haW5BcmVhKS50aWxlTG9jYXRpb25Ub1Bvc2l0aW9uKHRoaXMucm93LCB0aGlzLmNvbHVtbikpO1xuXG4gICAgLy8gRG9vcnMgaW4gZXZlbi1udW1iZXJlZCByb3dzIGFyZSBob3Jpem9udGFsIChkZWZhdWx0KVxuICAgIC8vIERvb3JzIGluIG9kZC1udW1iZXJlZCByb3dzIGFyZSB2ZXJ0aWNhbFxuICAgIGNvbnN0IGlzVmVydGljYWwgPSB0aGlzLnJvdyAlIDIgIT09IDA7XG4gICAgaWYgKGlzVmVydGljYWwpIHtcbiAgICAgIG9iamVjdC5yb3RhdGlvbi55ID0gTWF0aC5QSSAvIDI7XG4gICAgfVxuXG4gICAgLy8gRG9vcnMgc2hvdWxkIGNhc3Qgc2hhZG93c1xuICAgIGZvciAoY29uc3QgY2hpbGQgb2Ygb2JqZWN0LmNoaWxkcmVuKSB7XG4gICAgICBjaGlsZC5jYXN0U2hhZG93ID0gdHJ1ZTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBrZXlDaGlsZCBvZiBvYmplY3QuY2hpbGRyZW5bMF0uY2hpbGRyZW4pIHtcbiAgICAgIGtleUNoaWxkLmNhc3RTaGFkb3cgPSB0cnVlO1xuICAgIH1cblxuICAgIHRoaXMuZW50aXR5Lm9iamVjdCA9IG9iamVjdDtcblxuICAgIC8vIENvbmZpZ3VyZSBjb2xsaXNpb24gbWFza3NcbiAgICB0aGlzLmxlZnREb29yID0gdGhpcy5lbnRpdHkub2JqZWN0LmNoaWxkcmVuWzJdIGFzIFRIUkVFLk1lc2g7XG4gICAgdGhpcy5sZWZ0RG9vck1hc2sgPSBuZXcgQm94Q29sbGlzaW9uTWFzayh0aGlzLmxlZnREb29yKTtcbiAgICB0aGlzLnJpZ2h0RG9vciA9IHRoaXMuZW50aXR5Lm9iamVjdC5jaGlsZHJlblsxXSBhcyBUSFJFRS5NZXNoO1xuICAgIHRoaXMucmlnaHREb29yTWFzayA9IG5ldyBCb3hDb2xsaXNpb25NYXNrKHRoaXMucmlnaHREb29yKTtcblxuICAgIHRoaXMuZW50aXR5Lm1hc2sgPSBuZXcgR3JvdXBDb2xsaXNpb25NYXNrKHRoaXMubGVmdERvb3JNYXNrLCB0aGlzLnJpZ2h0RG9vck1hc2spO1xuXG4gICAgLy8gTG9hZCBhbmltYXRpb25zXG4gICAgdGhpcy5taXhlciA9IG5ldyBUSFJFRS5BbmltYXRpb25NaXhlcihvYmplY3QpO1xuICAgIHRoaXMubGVmdERvb3JBY3Rpb24gPSB0aGlzLm1peGVyLmNsaXBBY3Rpb24oZW50aXR5LmFyZWEuZ2FtZS5hc3NldHMuZ2V0QW5pbWF0aW9uKCdMZWZ0RG9vckFjdGlvbicpKTtcbiAgICB0aGlzLnJpZ2h0RG9vckFjdGlvbiA9IHRoaXMubWl4ZXIuY2xpcEFjdGlvbihlbnRpdHkuYXJlYS5nYW1lLmFzc2V0cy5nZXRBbmltYXRpb24oJ1JpZ2h0RG9vckFjdGlvbicpKTtcbiAgICB0aGlzLmtleUhvbGVBY3Rpb24gPSB0aGlzLm1peGVyLmNsaXBBY3Rpb24oZW50aXR5LmFyZWEuZ2FtZS5hc3NldHMuZ2V0QW5pbWF0aW9uKCdLZXlIb2xlQWN0aW9uJykpO1xuXG4gICAgQWJzdHJhY3REb29yLmNvbmZpZ3VyZUFuaW1hdGlvbih0aGlzLmxlZnREb29yQWN0aW9uKTtcbiAgICBBYnN0cmFjdERvb3IuY29uZmlndXJlQW5pbWF0aW9uKHRoaXMucmlnaHREb29yQWN0aW9uKTtcbiAgICBBYnN0cmFjdERvb3IuY29uZmlndXJlQW5pbWF0aW9uKHRoaXMua2V5SG9sZUFjdGlvbik7XG5cbiAgICAvLyBDYWxsIHRoZSBzdWJjbGFzcyBcIm9uQ3JlYXRlXCIgbWV0aG9kXG4gICAgdGhpcy5vbkNyZWF0ZURvb3IoKTtcbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIGNvbmZpZ3VyZUFuaW1hdGlvbihhY3Rpb246IFRIUkVFLkFuaW1hdGlvbkFjdGlvbik6IHZvaWQge1xuICAgIGFjdGlvbi5sb29wID0gVEhSRUUuTG9vcE9uY2U7XG4gICAgYWN0aW9uLmNsYW1wV2hlbkZpbmlzaGVkID0gdHJ1ZTtcbiAgfVxuXG4gIG9uU3RlcCgpOiB2b2lkIHtcbiAgICB0aGlzLm1peGVyLnVwZGF0ZSgwLjAxKTtcblxuICAgIC8vIFNwZWNpYWwgY2FzZTogbWFzayBlbnRpcmUgZG9vciB3aGVuIGNsb3Npbmcgc28gcGxheWVyIGRvZXMgbm90IGdldCBzdHVjayBpbiBkb29yXG4gICAgaWYgKCF0aGlzLl9vcGVuICYmIHRoaXMuaXNBbmltYXRpb25QbGF5aW5nKCkpIHtcbiAgICAgIHRoaXMubGVmdERvb3JNYXNrLnVwZGF0ZSh0aGlzLmVudGl0eS5vYmplY3QpO1xuICAgICAgdGhpcy5yaWdodERvb3JNYXNrLnVwZGF0ZSh0aGlzLmVudGl0eS5vYmplY3QpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmxlZnREb29yTWFzay51cGRhdGUodGhpcy5sZWZ0RG9vcik7XG4gICAgICB0aGlzLnJpZ2h0RG9vck1hc2sudXBkYXRlKHRoaXMucmlnaHREb29yKTtcbiAgICB9XG5cbiAgICAvLyBDYWxsIHRoZSBzdWJjbGFzcyBcIm9uU3RlcFwiIG1ldGhvZFxuICAgIHRoaXMub25TdGVwRG9vcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIFBsYXkgdGhlIG9wZW4gZG9vciBhbmltYXRpb24gYW5kIGNsb3NlcyB0aGUgZG9vci5cbiAgICogT3B0aW9uYWxseSBzcGVjaWZ5IGEgY3VzdG9tIHRpbWUgc2NhbGUgKHJlbGF0aXZlIHNwZWVkKSBmb3IgdGhlIGRvb3IgKFNob3VsZCBiZSA+IDApLlxuICAgKi9cbiAgcHJvdGVjdGVkIG9wZW5Eb29yKHRpbWVTY2FsZSA9IDEpOiB2b2lkIHtcbiAgICB0aGlzLl9vcGVuID0gdHJ1ZTtcblxuICAgIEFic3RyYWN0RG9vci5wbGF5QWN0aW9uKHRoaXMubGVmdERvb3JBY3Rpb24sIHRpbWVTY2FsZSk7XG4gICAgQWJzdHJhY3REb29yLnBsYXlBY3Rpb24odGhpcy5yaWdodERvb3JBY3Rpb24sIHRpbWVTY2FsZSk7XG4gICAgQWJzdHJhY3REb29yLnBsYXlBY3Rpb24odGhpcy5rZXlIb2xlQWN0aW9uLCB0aW1lU2NhbGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFBsYXkgdGhlIGNsb3NlIGRvb3IgYW5pbWF0aW9uIGFuZCBjbG9zZXMgdGhlIGRvb3IuXG4gICAqIE9wdGlvbmFsbHkgc3BlY2lmeSBhIGN1c3RvbSB0aW1lIHNjYWxlIChyZWxhdGl2ZSBzcGVlZCkgZm9yIHRoZSBkb29yIChTaG91bGQgYmUgPiAwKS5cbiAgICovXG4gIHByb3RlY3RlZCBjbG9zZURvb3IodGltZVNjYWxlID0gMSk6IHZvaWQge1xuICAgIHRoaXMuX29wZW4gPSBmYWxzZTtcblxuICAgIEFic3RyYWN0RG9vci5wbGF5QWN0aW9uSW52ZXJzZSh0aGlzLmxlZnREb29yQWN0aW9uLCB0aW1lU2NhbGUpO1xuICAgIEFic3RyYWN0RG9vci5wbGF5QWN0aW9uSW52ZXJzZSh0aGlzLnJpZ2h0RG9vckFjdGlvbiwgdGltZVNjYWxlKTtcbiAgICBBYnN0cmFjdERvb3IucGxheUFjdGlvbkludmVyc2UodGhpcy5rZXlIb2xlQWN0aW9uLCB0aW1lU2NhbGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRlc3QgaWYgdGhlIGFuaW1hdGlvbiBpcyBjdXJyZW50bHkgb3BlblxuICAgKi9cbiAgcHJpdmF0ZSBpc0FuaW1hdGlvblBsYXlpbmcoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMubGVmdERvb3JBY3Rpb24uaXNSdW5uaW5nKCkgfHwgdGhpcy5yaWdodERvb3JBY3Rpb24uaXNSdW5uaW5nKCkgfHwgdGhpcy5rZXlIb2xlQWN0aW9uLmlzUnVubmluZygpO1xuICB9XG5cbiAgLyoqXG4gICAqIFBsYXkgYW4gYWN0aW9uIGluIHRoZSBmb3J3YXJkIGRpcmVjdGlvblxuICAgKi9cbiAgcHJpdmF0ZSBzdGF0aWMgcGxheUFjdGlvbihhY3Rpb246IFRIUkVFLkFuaW1hdGlvbkFjdGlvbiwgdGltZVNjYWxlOiBudW1iZXIpIHtcbiAgICBhY3Rpb24udGltZVNjYWxlID0gTWF0aC5hYnModGltZVNjYWxlKTtcbiAgICBhY3Rpb24ucGF1c2VkID0gZmFsc2U7XG4gICAgYWN0aW9uLnBsYXkoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQbGF5IGFuIGFjdGlvbiBpbiB0aGUgaW52ZXJzZSBkaXJlY3Rpb25cbiAgICovXG4gIHByaXZhdGUgc3RhdGljIHBsYXlBY3Rpb25JbnZlcnNlKGFjdGlvbjogVEhSRUUuQW5pbWF0aW9uQWN0aW9uLCB0aW1lU2NhbGU6IG51bWJlcikge1xuICAgIGFjdGlvbi50aW1lU2NhbGUgPSAtTWF0aC5hYnModGltZVNjYWxlKTtcbiAgICBhY3Rpb24ucGF1c2VkID0gZmFsc2U7XG4gICAgYWN0aW9uLnBsYXkoKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgU0NBTEVfSEVJR0hUIH0gZnJvbSAnYXJlYXMvQWJzdHJhY3RNYXplQXJlYSc7XG5pbXBvcnQgeyBFbnRpdHlTdGF0ZSB9IGZyb20gJ2VuZ2luZS9lbnRpdHknO1xuaW1wb3J0IHsgQWJzdHJhY3REb29yIH0gZnJvbSAnLi9BYnN0cmFjdERvb3InO1xuXG4vKipcbiAqIERvb3Igb2JqZWN0IGluIHRoZSBtYXplXG4gKi9cbmV4cG9ydCBjbGFzcyBEdW1teUJpZ0Rvb3IgZXh0ZW5kcyBBYnN0cmFjdERvb3IgaW1wbGVtZW50cyBFbnRpdHlTdGF0ZSB7XG4gIHB1YmxpYyByZWFkb25seSB0YWdzOiBzdHJpbmdbXSA9IFsnd2FsbCddO1xuXG4gIHByaXZhdGUgc2hvd01lc3NhZ2UgPSBmYWxzZTtcblxuICBjb25zdHJ1Y3Rvcihyb3c6IG51bWJlciwgY29sdW1uOiBudW1iZXIpIHtcbiAgICBzdXBlcihyb3csIGNvbHVtbiwgJ0Rvb3InKTtcbiAgfVxuXG4gIG9uQ3JlYXRlRG9vcigpOiB2b2lkIHtcbiAgICAvLyBNYWtlIHRoZSBkb29yIFJFQUxMWSBUQUxMLCBSRUFMTFkgVEhJQ0ssIGFuZCBoaWRlIHRoZSBrZXkgaG9sZSBjb2xvclxuICAgIHRoaXMuZW50aXR5Lm9iamVjdC5zY2FsZS55ID0gU0NBTEVfSEVJR0hUIC8gMztcbiAgICB0aGlzLmVudGl0eS5vYmplY3Quc2NhbGUueCA9IDEwO1xuICAgIHRoaXMuZW50aXR5Lm9iamVjdC5jaGlsZHJlblswXS52aXNpYmxlID0gZmFsc2U7XG5cbiAgICAvLyBGb3JjZSB0aGUgZG9vciB0byBiZSBvcGVuZWRcbiAgICB0aGlzLm9wZW5Eb29yKDEgLyA2KTtcbiAgfVxuXG4gIG9uRGVzdHJveSgpOiB2b2lkIHt9XG5cbiAgb25TdGVwRG9vcigpOiB2b2lkIHt9XG5cbiAgb25UaW1lcihfdGltZXJJbmRleDogbnVtYmVyKTogdm9pZCB7fVxuXG4gIG9uRHJhdyhfZzJkOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpOiB2b2lkIHt9XG59XG4iLCIvKipcbiAqIFJlcHJlc2VudHMgYSBrZXkgdGhhdCBjYW4gYmUgcHJlc3NlZCBvbiB0aGUga2V5Ym9hcmQuXG4gKlxuICogTGV0dGVyIGtleXMgYXJlIGhhbmRsZWQgYXMgbG93ZXJjYXNlIGlucHV0LCBldmVuIGlmIHRoZSBcIlNoaWZ0XCIga2V5IGlzIHByZXNzZWQuXG4gKi9cbmV4cG9ydCBlbnVtIEtleSB7XG4gIFVwLFxuICBEb3duLFxuICBMZWZ0LFxuICBSaWdodCxcblxuICBDb250cm9sLFxuICBBbHQsXG4gIERlbGV0ZSxcbiAgQmFja3NwYWNlLFxuICBDYXBzTG9jayxcbiAgRW50ZXIsXG4gIEVzY2FwZSxcbiAgRW5kLFxuICBTaGlmdCxcbiAgUGFnZVVwLFxuICBQYWdlRG93bixcbiAgUGF1c2UsXG4gIENhbmNlbCxcbiAgU2Nyb2xsTG9jayxcblxuICBBLFxuICBCLFxuICBDLFxuICBELFxuICBFLFxuICBGLFxuICBHLFxuICBILFxuICBJLFxuICBKLFxuICBLLFxuICBMLFxuICBNLFxuICBOLFxuICBPLFxuICBQLFxuICBRLFxuICBSLFxuICBTLFxuICBULFxuICBVLFxuICBWLFxuICBXLFxuICBYLFxuICBZLFxuICBaLFxuXG4gIEYxLFxuICBGMixcbiAgRjMsXG4gIEY0LFxuICBGNSxcbiAgRjYsXG4gIEY3LFxuICBGOCxcbiAgRjksXG4gIEYxMCxcbiAgRjExLFxuICBGMTIsXG5cbiAgTnVtMSxcbiAgTnVtMixcbiAgTnVtMyxcbiAgTnVtNCxcbiAgTnVtNSxcbiAgTnVtNixcbiAgTnVtNyxcbiAgTnVtOCxcbiAgTnVtOSxcbiAgTnVtMCxcblxuICBBbXBlcnN0YW5kLFxuICBBc3RlcmlzayxcbiAgQXQsXG4gIEJhY2tTbGFzaCxcbiAgQnJhY2VMZWZ0LFxuICBCcmFjZVJpZ2h0LFxuICBDYXJldCxcbiAgQ2xvc2VCcmFja2V0LFxuICBDb2xvbixcbiAgQ29tbWEsXG4gIERvbGxhcixcbiAgRXF1YWxTaWduLFxuICBFeGNsYW1hdGlvblBvaW50LFxuICBHcmVhdGVyVGhhbixcbiAgTGVmdFBhcmVuLFxuICBMZXNzVGhhbixcbiAgTWludXMsXG4gIEhhc2h0YWcsXG4gIE9wZW5CcmFja2V0LFxuICBQZXJpb2QsXG4gIFF1ZXN0aW9uTWFyayxcbiAgU2luZ2xlUXVvdGUsXG4gIERvdWJsZVF1b3RlLFxuICBSaWdodFBhcmVuLFxuICBTZW1pY29sb24sXG4gIEZvcndhcmRTbGFzaCxcbiAgVW5kZXJzY29yZSxcbiAgU3BhY2UsXG4gIFRpY2ssXG4gIFRpbGRhLFxufVxuXG4vKipcbiAqIFJlcHJlc2VudHMgYnV0dG9ucyBvbiBhIGdhbWVwYWQuXG4gKiBOb3QgYWxsIGdhbWVwYWRzIHN1cHBvcnQgYWxsIGJ1dHRvbnMuXG4gKi9cbmV4cG9ydCBlbnVtIEdhbWVwYWRCdXR0b24ge1xuICBVcCA9IDEyLFxuICBEb3duID0gMTMsXG4gIExlZnQgPSAxNCxcbiAgUmlnaHQgPSAxNSxcbiAgQUNyb3NzID0gMCxcbiAgQkNpcmNsZSA9IDEsXG4gIFhTcXVhcmUgPSAyLFxuICBZVHJpYW5nbGUgPSAzLFxuICBTZWxlY3QgPSA4LCAvLyBbWF0gICAgIFsgXVxuICBTdGFydCA9IDksIC8vICBbIF0gICAgIFtYXVxuICBDZW50ZXIgPSAxNixcbiAgTGVmdEJ1bXBlciA9IDQsIC8vIExCLCBUb3AgYnV0dG9uXG4gIFJpZ2h0QnVtcGVyID0gNSwgLy8gUkIsIFRvcCBidXR0b25cbiAgTGVmdFN0aWNrQ2VudGVyID0gMTAsXG4gIFJpZ2h0U3RpY2tDZW50ZXIgPSAxMSxcbn1cblxuLyoqXG4gKiBSZXByZXNlbnQgYXhlcyBvbiB0aGUgZ2FtZXBhZCBzdGlja3MuXG4gKiBOb3QgYWxsIGdhbWVwYWRzIHN1cHBvcnQgYWxsIGF4ZXMuXG4gKi9cbmV4cG9ydCBlbnVtIEdhbWVwYWRBeGlzIHtcbiAgTGVmdFN0aWNrWCA9IDAsIC8vIE5lZ2F0aXZlID0gTGVmdCwgUG9zaXRpdmUgPSBSaWdodFxuICBMZWZ0U3RpY2tZID0gMSwgLy8gTmVnYXRpdmUgPSBVcCwgUG9zaXRpdmUgPSBEb3duXG4gIFJpZ2h0U3RpY2tYID0gMiwgLy8gTmVnYXRpdmUgPSBMZWZ0LCBQb3NpdGl2ZSA9IFJpZ2h0XG4gIFJpZ2h0U3RpY2tZID0gMywgLy8gTmVnYXRpdmUgPSBVcCwgUG9zaXRpdmUgPSBEb3duXG4gIExlZnRUcmlnZ2VyID0gNCwgLy8gTFQsIEJvdHRvbSBidXR0b25cbiAgUmlnaHRUcmlnZ2VyID0gNSwgLy8gUlQsIEJvdHRvbSBidXR0b25cbn1cblxuLyoqXG4gKiBBbGwgbW91c2UgYnV0dG9uc1xuICovXG5leHBvcnQgZW51bSBNb3VzZUJ1dHRvbiB7XG4gIExlZnQsXG4gIE1pZGRsZSxcbiAgUmlnaHQsXG59XG5cbi8qKlxuICogTWFwIHRoZSBKYXZhU2NyaXB0IHN0cmluZyBvZiBldmVudC5rZXkgdG8gYSBLZXkgZW51bVxuICovXG5jb25zdCBLRVlfTUFQOiBSZWNvcmQ8c3RyaW5nLCBLZXk+ID0ge1xuICBbJ0Fycm93VXAnXTogS2V5LlVwLFxuICBbJ0Fycm93RG93biddOiBLZXkuRG93bixcbiAgWydBcnJvd0xlZnQnXTogS2V5LkxlZnQsXG4gIFsnQXJyb3dSaWdodCddOiBLZXkuUmlnaHQsXG5cbiAgWydDb250cm9sJ106IEtleS5Db250cm9sLFxuICBbJ0FsdCddOiBLZXkuQWx0LFxuICBbJ0RlbGV0ZSddOiBLZXkuRGVsZXRlLFxuICBbJ0JhY2tzcGFjZSddOiBLZXkuQmFja3NwYWNlLFxuICBbJ0NhcHNMb2NrJ106IEtleS5DYXBzTG9jayxcbiAgWydFbnRlciddOiBLZXkuRW50ZXIsXG4gIFsnRXNjYXBlJ106IEtleS5Fc2NhcGUsXG4gIFsnRW5kJ106IEtleS5FbmQsXG4gIFsnU2hpZnQnXTogS2V5LlNoaWZ0LFxuICBbJ1BhZ2VVcCddOiBLZXkuUGFnZVVwLFxuICBbJ1BhZ2VEb3duJ106IEtleS5QYWdlRG93bixcbiAgWydQYXVzZSddOiBLZXkuUGF1c2UsXG4gIFsnQ2FuY2VsJ106IEtleS5DYW5jZWwsXG4gIFsnU2Nyb2xsTG9jayddOiBLZXkuU2Nyb2xsTG9jayxcblxuICBbJ2EnXTogS2V5LkEsXG4gIFsnYiddOiBLZXkuQixcbiAgWydjJ106IEtleS5DLFxuICBbJ2QnXTogS2V5LkQsXG4gIFsnZSddOiBLZXkuRSxcbiAgWydmJ106IEtleS5GLFxuICBbJ2cnXTogS2V5LkcsXG4gIFsnaCddOiBLZXkuSCxcbiAgWydpJ106IEtleS5JLFxuICBbJ2onXTogS2V5LkosXG4gIFsnayddOiBLZXkuSyxcbiAgWydsJ106IEtleS5MLFxuICBbJ20nXTogS2V5Lk0sXG4gIFsnbiddOiBLZXkuTixcbiAgWydvJ106IEtleS5PLFxuICBbJ3AnXTogS2V5LlAsXG4gIFsncSddOiBLZXkuUSxcbiAgWydyJ106IEtleS5SLFxuICBbJ3MnXTogS2V5LlMsXG4gIFsndCddOiBLZXkuVCxcbiAgWyd1J106IEtleS5VLFxuICBbJ3YnXTogS2V5LlYsXG4gIFsndyddOiBLZXkuVyxcbiAgWyd4J106IEtleS5YLFxuICBbJ3knXTogS2V5LlksXG4gIFsneiddOiBLZXkuWixcblxuICBbJ0EnXTogS2V5LkEsXG4gIFsnQiddOiBLZXkuQixcbiAgWydDJ106IEtleS5DLFxuICBbJ0QnXTogS2V5LkQsXG4gIFsnRSddOiBLZXkuRSxcbiAgWydGJ106IEtleS5GLFxuICBbJ0cnXTogS2V5LkcsXG4gIFsnSCddOiBLZXkuSCxcbiAgWydJJ106IEtleS5JLFxuICBbJ0onXTogS2V5LkosXG4gIFsnSyddOiBLZXkuSyxcbiAgWydMJ106IEtleS5MLFxuICBbJ00nXTogS2V5Lk0sXG4gIFsnTiddOiBLZXkuTixcbiAgWydPJ106IEtleS5PLFxuICBbJ1AnXTogS2V5LlAsXG4gIFsnUSddOiBLZXkuUSxcbiAgWydSJ106IEtleS5SLFxuICBbJ1MnXTogS2V5LlMsXG4gIFsnVCddOiBLZXkuVCxcbiAgWydVJ106IEtleS5VLFxuICBbJ1YnXTogS2V5LlYsXG4gIFsnVyddOiBLZXkuVyxcbiAgWydYJ106IEtleS5YLFxuICBbJ1knXTogS2V5LlksXG4gIFsnWiddOiBLZXkuWixcblxuICBbJ0YxJ106IEtleS5GMSxcbiAgWydGMiddOiBLZXkuRjIsXG4gIFsnRjMnXTogS2V5LkYzLFxuICBbJ0Y0J106IEtleS5GNCxcbiAgWydGNSddOiBLZXkuRjUsXG4gIFsnRjYnXTogS2V5LkY2LFxuICBbJ0Y3J106IEtleS5GNyxcbiAgWydGOCddOiBLZXkuRjgsXG4gIFsnRjknXTogS2V5LkY5LFxuICBbJ0YxMCddOiBLZXkuRjEwLFxuICBbJ0YxMSddOiBLZXkuRjExLFxuICBbJ0YxMiddOiBLZXkuRjEyLFxuXG4gIFsnMSddOiBLZXkuTnVtMSxcbiAgWycyJ106IEtleS5OdW0yLFxuICBbJzMnXTogS2V5Lk51bTMsXG4gIFsnNCddOiBLZXkuTnVtNCxcbiAgWyc1J106IEtleS5OdW01LFxuICBbJzYnXTogS2V5Lk51bTYsXG4gIFsnNyddOiBLZXkuTnVtNyxcbiAgWyc4J106IEtleS5OdW04LFxuICBbJzknXTogS2V5Lk51bTksXG4gIFsnMCddOiBLZXkuTnVtMCxcblxuICBbJyYnXTogS2V5LkFtcGVyc3RhbmQsXG4gIFsnKiddOiBLZXkuQXN0ZXJpc2ssXG4gIFsnQCddOiBLZXkuQXQsXG4gIFsnXFxcXCddOiBLZXkuQmFja1NsYXNoLFxuICBbJ3snXTogS2V5LkJyYWNlTGVmdCxcbiAgWyd9J106IEtleS5CcmFjZVJpZ2h0LFxuICBbJ14nXTogS2V5LkNhcmV0LFxuICBbJ10nXTogS2V5LkNsb3NlQnJhY2tldCxcbiAgWyc6J106IEtleS5Db2xvbixcbiAgWycsJ106IEtleS5Db21tYSxcbiAgWyckJ106IEtleS5Eb2xsYXIsXG4gIFsnPSddOiBLZXkuRXF1YWxTaWduLFxuICBbJyEnXTogS2V5LkV4Y2xhbWF0aW9uUG9pbnQsXG4gIFsnPiddOiBLZXkuR3JlYXRlclRoYW4sXG4gIFsnKCddOiBLZXkuTGVmdFBhcmVuLFxuICBbJzwnXTogS2V5Lkxlc3NUaGFuLFxuICBbJy0nXTogS2V5Lk1pbnVzLFxuICBbJyMnXTogS2V5Lkhhc2h0YWcsXG4gIFsnWyddOiBLZXkuT3BlbkJyYWNrZXQsXG4gIFsnLiddOiBLZXkuUGVyaW9kLFxuICBbJz8nXTogS2V5LlF1ZXN0aW9uTWFyayxcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHF1b3Rlc1xuICBbXCInXCJdOiBLZXkuU2luZ2xlUXVvdGUsXG4gIFsnXCInXTogS2V5LkRvdWJsZVF1b3RlLFxuICBbJyknXTogS2V5LlJpZ2h0UGFyZW4sXG4gIFsnOyddOiBLZXkuU2VtaWNvbG9uLFxuICBbJy8nXTogS2V5LkZvcndhcmRTbGFzaCxcbiAgWydfJ106IEtleS5VbmRlcnNjb3JlLFxuICBbJyAnXTogS2V5LlNwYWNlLFxuICBbJ2AnXTogS2V5LlRpY2ssXG4gIFsnfiddOiBLZXkuVGlsZGEsXG59O1xuXG4vKipcbiAqIE1hcCB0aGUgSmF2YVNjcmlwdCBldmVudC5idXR0b24gdG8gYSBtb3VzZSBidXR0b25cbiAqL1xuY29uc3QgTU9VU0VfTUFQOiBSZWNvcmQ8bnVtYmVyLCBNb3VzZUJ1dHRvbj4gPSB7XG4gIFswXTogTW91c2VCdXR0b24uTGVmdCxcbiAgWzFdOiBNb3VzZUJ1dHRvbi5NaWRkbGUsXG4gIFsyXTogTW91c2VCdXR0b24uUmlnaHQsXG59O1xuXG4vLyBPdGhlciBpbnRlcm5hbCBjb25zdGFudHNcbmNvbnN0IExFRlRfVFJJR0dFUl9CVVRUT04gPSA2O1xuY29uc3QgUklHSFRfVFJJR0dFUl9CVVRUT04gPSA3O1xuXG4vLyBTdG9yZSBkYXRhIGFib3V0IGEgc2luZ2xlIGdhbWVwYWRcbmNsYXNzIEdhbWVwYWRTdGF0ZSB7XG4gIHB1YmxpYyBidXR0b25zU3RhcnQ6IFNldDxHYW1lcGFkQnV0dG9uPjtcbiAgcHVibGljIGJ1dHRvbnNEb3duOiBTZXQ8R2FtZXBhZEJ1dHRvbj47XG4gIHB1YmxpYyBidXR0b25zUmVsZWFzZWQ6IFNldDxHYW1lcGFkQnV0dG9uPjtcbiAgcHVibGljIGF4ZXM6IG51bWJlcltdO1xuXG4gIHB1YmxpYyBzdGF0aWMgZnJvbUdhbWVwYWQoZ2FtZXBhZDogR2FtZXBhZCk6IEdhbWVwYWRTdGF0ZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGJ1dHRvbnNTdGFydDogbmV3IFNldCgpLFxuICAgICAgYnV0dG9uc0Rvd246IG5ldyBTZXQoKSxcbiAgICAgIGJ1dHRvbnNSZWxlYXNlZDogbmV3IFNldCgpLFxuICAgICAgYXhlczogWy4uLmdhbWVwYWQuYXhlcywgZ2FtZXBhZC5idXR0b25zW0xFRlRfVFJJR0dFUl9CVVRUT05dLnZhbHVlLCBnYW1lcGFkLmJ1dHRvbnNbUklHSFRfVFJJR0dFUl9CVVRUT05dLnZhbHVlXSxcbiAgICB9O1xuICB9XG59XG5cbi8qKlxuICogSGFuZGxlcyBhbGwgdXNlci1pbnB1dCBmcm9tIHRoZSBnYW1lXG4gKi9cbmV4cG9ydCBjbGFzcyBJbnB1dE1hbmFnZXIge1xuICBwcml2YXRlIHJlYWRvbmx5IGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQ7XG5cbiAgcHJpdmF0ZSBrZXlzU3RhcnQ6IFNldDxLZXk+ID0gbmV3IFNldCgpO1xuICBwcml2YXRlIGtleXNEb3duOiBTZXQ8S2V5PiA9IG5ldyBTZXQoKTtcbiAgcHJpdmF0ZSBrZXlzUmVsZWFzZWQ6IFNldDxLZXk+ID0gbmV3IFNldCgpO1xuXG4gIHByaXZhdGUgZ2FtZXBhZFN0YXRlOiBSZWNvcmQ8bnVtYmVyLCBHYW1lcGFkU3RhdGU+ID0ge307XG5cbiAgcHJpdmF0ZSBtb3VzZUNvb3JkczogW251bWJlciwgbnVtYmVyXSA9IFswLCAwXTtcbiAgcHJpdmF0ZSBtb3VzZU1vdmVtZW50OiBbbnVtYmVyLCBudW1iZXJdID0gWzAsIDBdOyAvLyBVc2VkIHdpdGggUG9pbnRlciBMb2NrXG4gIHByaXZhdGUgbW91c2VTdGFydDogU2V0PE1vdXNlQnV0dG9uPiA9IG5ldyBTZXQoKTtcbiAgcHJpdmF0ZSBtb3VzZURvd246IFNldDxNb3VzZUJ1dHRvbj4gPSBuZXcgU2V0KCk7XG4gIHByaXZhdGUgbW91c2VSZWxlYXNlZDogU2V0PE1vdXNlQnV0dG9uPiA9IG5ldyBTZXQoKTtcbiAgcHJpdmF0ZSBfcG9pbnRlckxvY2tFbmFibGVkID0gZmFsc2U7XG5cbiAgY29uc3RydWN0b3IoY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCkge1xuICAgIHRoaXMuY2FudmFzID0gY2FudmFzO1xuXG4gICAgLy8gS2V5Ym9hcmRcbiAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMub25LZXlEb3duLmJpbmQodGhpcykpO1xuICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMub25LZXlSZWxlYXNlLmJpbmQodGhpcykpO1xuXG4gICAgLy8gR2FtZXBhZFxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdnYW1lcGFkY29ubmVjdGVkJywgdGhpcy5vbkdhbWVwYWRDb25uZWN0ZWQuYmluZCh0aGlzKSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2dhbWVwYWRkaXNjb25uZWN0ZWQnLCB0aGlzLm9uR2FtZXBhZERpc2Nvbm5lY3RlZC5iaW5kKHRoaXMpKTtcblxuICAgIC8vIE1vdXNlXG4gICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMub25Nb3VzZU1vdmUuYmluZCh0aGlzKSk7XG4gICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMub25Nb3VzZURvd24uYmluZCh0aGlzKSk7XG4gICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLm9uTW91c2VVcC5iaW5kKHRoaXMpKTtcbiAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uUG9pbnRlckxvY2tDbGljay5iaW5kKHRoaXMpKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVybG9ja2NoYW5nZScsIHRoaXMub25Qb2ludGVyTG9ja0NoYW5nZS5iaW5kKHRoaXMpKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVybG9ja2Vycm9yJywgdGhpcy5vblBvaW50ZXJMb2NrRXJyb3IuYmluZCh0aGlzKSk7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIHdoZW5ldmVyIGEga2V5IGlzIHByZXNzZWQgb24gdGhlIGtleWJvYXJkLlxuICAgKiBGaXJlZCBtdWx0aXBsZSB0aW1lcyBpZiBhIGtleSBpcyBjb250aW51YWxseSBwcmVzc2VkIGluLlxuICAgKi9cbiAgcHJpdmF0ZSBvbktleURvd24oZXZlbnQ6IEtleWJvYXJkRXZlbnQpIHtcbiAgICBjb25zdCBrZXkgPSBLRVlfTUFQW2V2ZW50LmtleV07XG4gICAgaWYgKHR5cGVvZiBrZXkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aGlzLmtleXNEb3duLmFkZChrZXkpO1xuXG4gICAgICBpZiAoIWV2ZW50LnJlcGVhdCkge1xuICAgICAgICB0aGlzLmtleXNTdGFydC5hZGQoa2V5KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gYSBrZXkgaXMgcmVsZWFzZWQgZnJvbSBiZWluZyBwcmVzc2VkXG4gICAqL1xuICBwcml2YXRlIG9uS2V5UmVsZWFzZShldmVudDogS2V5Ym9hcmRFdmVudCkge1xuICAgIGNvbnN0IGtleSA9IEtFWV9NQVBbZXZlbnQua2V5XTtcbiAgICBpZiAodHlwZW9mIGtleSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXMua2V5c0Rvd24uZGVsZXRlKGtleSk7XG4gICAgICB0aGlzLmtleXNSZWxlYXNlZC5hZGQoa2V5KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIGludGVybmFsbHkgYnkgdGhlIGdhbWUgZW5naW5lIHRvIGNsZWFyIGFsbCBrZXlzIHN0YXJ0ZWQgYW5kIGtleXMgcmVsZWFzZWQuXG4gICAqL1xuICBfY2xlYXJLZXlUaWNrKCk6IHZvaWQge1xuICAgIHRoaXMua2V5c1N0YXJ0LmNsZWFyKCk7XG4gICAgdGhpcy5rZXlzUmVsZWFzZWQuY2xlYXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUZXN0IGlmIGEga2V5IGhhcyBqdXN0IGJlZW4gcHJlc3NlZCBkb3duLlxuICAgKiBPbmx5IHJldHVybnMgdHJ1ZSBkdXJpbmcgdGhpcyB0aWNrLCBhbmQgdGhlbiB0aGUgZXZlbnQgaXMgY2xlYXJlZC5cbiAgICovXG4gIHB1YmxpYyBpc0tleVN0YXJ0ZWQoa2V5OiBLZXkpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5rZXlzU3RhcnQuaGFzKGtleSk7XG4gIH1cblxuICAvKipcbiAgICogVGVzdCBpZiBhIGtleSBpcyBjdXJyZW50bHkgcHJlc3NlZCBkb3duLlxuICAgKiBXaWxsIGNvbnRpbnVlIHRvIHJldHVybiB0cnVlIGFzIGxvbmcgYXMgdGhlIGtleSBpcyBiZWluZyBwcmVzc2VkIGRvd24uXG4gICAqL1xuICBwdWJsaWMgaXNLZXlEb3duKGtleTogS2V5KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMua2V5c0Rvd24uaGFzKGtleSk7XG4gIH1cblxuICAvKipcbiAgICogVGVzdCBpZiBhIGtleSBoYXMganVzdCBiZWVuIHJlbGVhc2VkLlxuICAgKiBPbmx5IHJldHVybnMgdHJ1ZSBkdXJpbmcgdGhpcyB0aWNrLCBhbmQgdGhlbiB0aGUgZXZlbnQgaXMgY2xlYXJlZC5cbiAgICovXG4gIHB1YmxpYyBpc0tleVJlbGVhc2VkKGtleTogS2V5KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMua2V5c1JlbGVhc2VkLmhhcyhrZXkpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIGEgZ2FtZXBhZCBpcyBjb25uZWN0ZWQgdG8gdGhlIGJyb3dzZXJcbiAgICovXG4gIHByaXZhdGUgb25HYW1lcGFkQ29ubmVjdGVkKGV2ZW50OiBHYW1lcGFkRXZlbnQpIHtcbiAgICBjb25zdCBnYW1lcGFkID0gZXZlbnQuZ2FtZXBhZDtcbiAgICBpZiAoZ2FtZXBhZC5tYXBwaW5nICE9PSAnc3RhbmRhcmQnKSB7XG4gICAgICByZXR1cm47IC8qIFVuc3VwcG9ydGVkIGdhbWVwYWQgKi9cbiAgICB9XG5cbiAgICB0aGlzLmdhbWVwYWRTdGF0ZVtnYW1lcGFkLmluZGV4XSA9IEdhbWVwYWRTdGF0ZS5mcm9tR2FtZXBhZChnYW1lcGFkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgYnkgdGhlIGJyb3dzZXIgd2hlbiBhIGdhbWVwYWQgaXMgZGlzY29ubmVjdGVkIGZyb20gdGhlIHN5c3RlbVxuICAgKi9cbiAgcHJpdmF0ZSBvbkdhbWVwYWREaXNjb25uZWN0ZWQoZXZlbnQ6IEdhbWVwYWRFdmVudCkge1xuICAgIGNvbnN0IGdhbWVwYWQgPSBldmVudC5nYW1lcGFkO1xuICAgIGRlbGV0ZSB0aGlzLmdhbWVwYWRTdGF0ZVtnYW1lcGFkLmluZGV4XTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgaW50ZXJuYWxseSBieSB0aGUgZ2FtZSBlbmdpbmUgdG8gdXBkYXRlIGdhbWVwYWRzXG4gICAqL1xuICBfdXBkYXRlR2FtZXBhZCgpOiB2b2lkIHtcbiAgICAvLyBNYWtlIHN1cmUgd2Ugc3VwcG9ydCBnYW1lcGFkc1xuICAgIGlmICh0eXBlb2YgbmF2aWdhdG9yLmdldEdhbWVwYWRzID09PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFVwZGF0ZSB0aGUgaW5kaXZpZHVhbCBnYW1lcGFkcyBieSBxdWVycnlpbmcgdGhlIG5ldyBzdGF0ZVxuICAgIGZvciAoY29uc3QgZ2FtZXBhZCBvZiBuYXZpZ2F0b3IuZ2V0R2FtZXBhZHMoKSkge1xuICAgICAgaWYgKGdhbWVwYWQgPT09IG51bGwpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGdhbWVwYWRTdGF0ZSA9IHRoaXMuZ2FtZXBhZFN0YXRlW2dhbWVwYWQuaW5kZXhdIHx8IEdhbWVwYWRTdGF0ZS5mcm9tR2FtZXBhZChnYW1lcGFkKTtcbiAgICAgIGNvbnN0IGJ1dHRvbnNTdGFydDogU2V0PEdhbWVwYWRCdXR0b24+ID0gbmV3IFNldCgpO1xuICAgICAgY29uc3QgYnV0dG9uc0Rvd246IFNldDxHYW1lcGFkQnV0dG9uPiA9IG5ldyBTZXQoKTtcbiAgICAgIGNvbnN0IGJ1dHRvbnNSZWxlYXNlZDogU2V0PEdhbWVwYWRCdXR0b24+ID0gbmV3IFNldCgpO1xuXG4gICAgICAvLyBMb29wIG92ZXIgZXZlcnkgYnV0dG9uIHN1cHBvcnRlZFxuICAgICAgZm9yIChjb25zdCBidXR0b25LZXkgaW4gR2FtZXBhZEJ1dHRvbikge1xuICAgICAgICBpZiAoaXNOYU4oTnVtYmVyKGJ1dHRvbktleSkpKSB7XG4gICAgICAgICAgY29udGludWU7IC8qIFNraXAgZW51bSBzdHJpbmcgdmFsdWVzICovXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBidXR0b246IEdhbWVwYWRCdXR0b24gPSBOdW1iZXIoYnV0dG9uS2V5KSBhcyBHYW1lcGFkQnV0dG9uO1xuICAgICAgICBpZiAoZ2FtZXBhZC5idXR0b25zW2J1dHRvbl0ucHJlc3NlZCkge1xuICAgICAgICAgIGJ1dHRvbnNEb3duLmFkZChidXR0b24pO1xuXG4gICAgICAgICAgaWYgKCFnYW1lcGFkU3RhdGUuYnV0dG9uc0Rvd24uaGFzKGJ1dHRvbikpIHtcbiAgICAgICAgICAgIGJ1dHRvbnNTdGFydC5hZGQoYnV0dG9uKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGdhbWVwYWRTdGF0ZS5idXR0b25zRG93bi5oYXMoYnV0dG9uKSkge1xuICAgICAgICAgICAgYnV0dG9uc1JlbGVhc2VkLmFkZChidXR0b24pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBBbHNvIGdldCB0aGUgYXhlcyBmb3IgdGhlIGxlZnQgYW5kIHJpZ2h0IHRyaWdnZXJzXG4gICAgICBjb25zdCBheGVzID0gW1xuICAgICAgICAuLi5nYW1lcGFkLmF4ZXMsXG4gICAgICAgIGdhbWVwYWQuYnV0dG9uc1tMRUZUX1RSSUdHRVJfQlVUVE9OXS52YWx1ZSxcbiAgICAgICAgZ2FtZXBhZC5idXR0b25zW1JJR0hUX1RSSUdHRVJfQlVUVE9OXS52YWx1ZSxcbiAgICAgIF07XG5cbiAgICAgIC8vIFJlcGxhY2UgdGhlIGV4aXN0aW5nIHN0YXRlIHdpdGggdGhlIG5ldyBzdGF0ZVxuICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLmdhbWVwYWRTdGF0ZVtnYW1lcGFkLmluZGV4XSwgeyBidXR0b25zU3RhcnQsIGJ1dHRvbnNEb3duLCBidXR0b25zUmVsZWFzZWQsIGF4ZXMgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRlc3QgaWYgYSBidXR0b24gaGFzIGp1c3QgYmVlbiBwcmVzc2VkIGRvd24gb24gYSBnYW1lcGFkLlxuICAgKiBPbmx5IHJldHVybnMgdHJ1ZSBkdXJpbmcgdGhpcyB0aWNrLCBhbmQgdGhlbiB0aGUgZXZlbnQgaXMgY2xlYXJlZC5cbiAgICovXG4gIHB1YmxpYyBpc0dhbWVwYWRCdXR0b25TdGFydGVkKGdhbWVwYWQ6IG51bWJlciwgYnV0dG9uOiBHYW1lcGFkQnV0dG9uKTogYm9vbGVhbiB7XG4gICAgY29uc3QgZ2FtZXBhZFN0YXRlID0gdGhpcy5nYW1lcGFkU3RhdGVbZ2FtZXBhZF07XG4gICAgaWYgKHR5cGVvZiBnYW1lcGFkU3RhdGUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIGdhbWVwYWRTdGF0ZS5idXR0b25zU3RhcnQuaGFzKGJ1dHRvbik7XG4gIH1cblxuICAvKipcbiAgICogVGVzdCBpZiBhIGJ1dHRvbiBpcyBjdXJyZW50bHkgcHJlc3NlZCBkb3duIG9uIGEgZ2FtZXBhZC5cbiAgICogV2lsbCBjb250aW51ZSB0byByZXR1cm4gdHJ1ZSBhcyBsb25nIGFzIHRoZSBidXR0b24gaXMgYmVpbmcgcHJlc3NlZCBkb3duLlxuICAgKi9cbiAgcHVibGljIGlzR2FtZXBhZEJ1dHRvbkRvd24oZ2FtZXBhZDogbnVtYmVyLCBidXR0b246IEdhbWVwYWRCdXR0b24pOiBib29sZWFuIHtcbiAgICBjb25zdCBnYW1lcGFkU3RhdGUgPSB0aGlzLmdhbWVwYWRTdGF0ZVtnYW1lcGFkXTtcbiAgICBpZiAodHlwZW9mIGdhbWVwYWRTdGF0ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZ2FtZXBhZFN0YXRlLmJ1dHRvbnNEb3duLmhhcyhidXR0b24pO1xuICB9XG5cbiAgLyoqXG4gICAqIFRlc3QgaWYgYSBidXR0b24gaGFzIGp1c3QgYmVlbiByZWxlYXNlZCBvbiBhIGdhbWVwYWQuXG4gICAqIE9ubHkgcmV0dXJucyB0cnVlIGR1cmluZyB0aGlzIHRpY2ssIGFuZCB0aGVuIHRoZSBldmVudCBpcyBjbGVhcmVkLlxuICAgKi9cbiAgcHVibGljIGlzR2FtZXBhZEJ1dHRvblJlbGVhc2VkKGdhbWVwYWQ6IG51bWJlciwgYnV0dG9uOiBHYW1lcGFkQnV0dG9uKTogYm9vbGVhbiB7XG4gICAgY29uc3QgZ2FtZXBhZFN0YXRlID0gdGhpcy5nYW1lcGFkU3RhdGVbZ2FtZXBhZF07XG4gICAgaWYgKHR5cGVvZiBnYW1lcGFkU3RhdGUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIGdhbWVwYWRTdGF0ZS5idXR0b25zUmVsZWFzZWQuaGFzKGJ1dHRvbik7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSB2YWx1ZSBvZiBhbiBheGlzIG9uIHRoZSBnYW1lcGFkLlxuICAgKlxuICAgKiBUaGUgcmFuZ2Ugb2YgdmFsdWVzIGZvciBhIGpveXN0aWNrd2lsbCBiZSBiZXR3ZWVuIC0xLjAgYW5kIDEuMC5cbiAgICogVGhlIHJhbmdlIG9mIHZhbHVlcyBmb3IgdGhlIExUIGFuZCBSVCBpcyBiZXR3ZWVuIDAuMCBhbmQgMS4wLlxuICAgKi9cbiAgcHVibGljIGdldEdhbWVwYWRBeGlzKGdhbWVwYWQ6IG51bWJlciwgYXhpczogR2FtZXBhZEF4aXMpOiBudW1iZXIge1xuICAgIGNvbnN0IGdhbWVwYWRTdGF0ZSA9IHRoaXMuZ2FtZXBhZFN0YXRlW2dhbWVwYWRdO1xuICAgIGlmICh0eXBlb2YgZ2FtZXBhZFN0YXRlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgcmV0dXJuIGdhbWVwYWRTdGF0ZS5heGVzW2F4aXNdO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgY3VycmVudCBzdGF0dXMgb2YgdGhlIHBvaW50ZXIgbG9ja1xuICAgKi9cbiAgcHVibGljIGdldCBwb2ludGVyTG9ja0VuYWJsZWQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuX3BvaW50ZXJMb2NrRW5hYmxlZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbmFibGUgb3IgZGlzYWJsZSBwb2ludGVyIGxvY2ssIHdoaWNoIGZpeGVzIHRoZSBtb3VzZSB0byB0aGUgY2VudGVyIG9mIHRoZSBDYW52YXMuXG4gICAqL1xuICBwdWJsaWMgc2V0IHBvaW50ZXJMb2NrRW5hYmxlZChlbmFibGVkOiBib29sZWFuKSB7XG4gICAgdGhpcy5fcG9pbnRlckxvY2tFbmFibGVkID0gZW5hYmxlZDtcbiAgICBpZiAoIWVuYWJsZWQpIHtcbiAgICAgIGRvY3VtZW50LmV4aXRQb2ludGVyTG9jaygpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiB0aGUgbW91c2UgbW92ZXMgYWNyb3NzIHRoZSBDYW52YXMgZWxlbWVudFxuICAgKi9cbiAgcHJpdmF0ZSBvbk1vdXNlTW92ZShldmVudDogTW91c2VFdmVudCkge1xuICAgIHRoaXMubW91c2VDb29yZHMgPSBbXG4gICAgICAoZXZlbnQuY2xpZW50WCAqIHRoaXMuY2FudmFzLndpZHRoKSAvIHRoaXMuY2FudmFzLmNsaWVudFdpZHRoLFxuICAgICAgKGV2ZW50LmNsaWVudFkgKiB0aGlzLmNhbnZhcy5oZWlnaHQpIC8gdGhpcy5jYW52YXMuY2xpZW50SGVpZ2h0LFxuICAgIF07XG5cbiAgICBpZiAoZG9jdW1lbnQucG9pbnRlckxvY2tFbGVtZW50ID09PSB0aGlzLmNhbnZhcykge1xuICAgICAgdGhpcy5tb3VzZU1vdmVtZW50ID0gW2V2ZW50Lm1vdmVtZW50WCwgZXZlbnQubW92ZW1lbnRZXTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5tb3VzZU1vdmVtZW50ID0gWzAsIDBdO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiBhIG1vdXNlIGJ1dHRvbiBpcyBwcmVzc2VkXG4gICAqL1xuICBwcml2YXRlIG9uTW91c2VEb3duKGV2ZW50OiBNb3VzZUV2ZW50KSB7XG4gICAgY29uc3QgYnV0dG9uID0gTU9VU0VfTUFQW2V2ZW50LmJ1dHRvbl07XG4gICAgaWYgKHR5cGVvZiBidXR0b24gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aGlzLm1vdXNlRG93bi5hZGQoYnV0dG9uKTtcbiAgICAgIHRoaXMubW91c2VTdGFydC5hZGQoYnV0dG9uKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gYSBtb3VzZSBidXR0b24gaXMgcmVsZWFzZWRcbiAgICovXG4gIHByaXZhdGUgb25Nb3VzZVVwKGV2ZW50OiBNb3VzZUV2ZW50KSB7XG4gICAgY29uc3QgYnV0dG9uID0gTU9VU0VfTUFQW2V2ZW50LmJ1dHRvbl07XG4gICAgaWYgKHR5cGVvZiBidXR0b24gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aGlzLm1vdXNlRG93bi5kZWxldGUoYnV0dG9uKTtcbiAgICAgIHRoaXMubW91c2VSZWxlYXNlZC5kZWxldGUoYnV0dG9uKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIHdoZW5ldmVyIHRoZSBDYW52YXMgZWxlbWVudCBpcyBjbGlja2VkIHRvIGVuYWJsZSB0aGUgcG9pbnRlciBsb2NrLlxuICAgKiBQcm9iYWJseSBub3QgbmVjZXNzYXJ5LCBidXQganVzdCBpbiBjYXNlLlxuICAgKi9cbiAgcHJpdmF0ZSBvblBvaW50ZXJMb2NrQ2xpY2soKSB7XG4gICAgaWYgKHRoaXMuX3BvaW50ZXJMb2NrRW5hYmxlZCkge1xuICAgICAgdGhpcy5jYW52YXMucmVxdWVzdFBvaW50ZXJMb2NrKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuZXZlciB0aGUgcG9pbnRlciBsb2NrIGlzIGNoYW5nZWRcbiAgICovXG4gIHByaXZhdGUgb25Qb2ludGVyTG9ja0NoYW5nZShfZXZlbnQ6IEV2ZW50KSB7XG4gICAgaWYgKGRvY3VtZW50LnBvaW50ZXJMb2NrRWxlbWVudCAhPT0gdGhpcy5jYW52YXMpIHtcbiAgICAgIHRoaXMubW91c2VNb3ZlbWVudCA9IFswLCAwXTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIG9uIGEgcG9pbnRlciBsb2NrIGVycm9yXG4gICAqIFNvbWV0aW1lcywgdGhlIHVzZXIgbWlnaHQgbmVlZCB0byBjbGljayBtdWx0aXBsZSB0aW1lcyBiZWZvcmUgcG9pbnRlciBsb2NrIGlzIHJlLWVuZ2FnZWRcbiAgICovXG4gIHByaXZhdGUgb25Qb2ludGVyTG9ja0Vycm9yKF9lcnJvcjogRXZlbnQpIHt9XG5cbiAgLyoqXG4gICAqIENhbGxlZCBpbnRlcm5hbGx5IGJ5IHRoZSBnYW1lIGVuZ2luZSB0byBjbGVhciBhbGwga2V5cyBzdGFydGVkIGFuZCBrZXlzIHJlbGVhc2VkLlxuICAgKi9cbiAgX2NsZWFyTW91c2VUaWNrKCk6IHZvaWQge1xuICAgIHRoaXMubW91c2VTdGFydC5jbGVhcigpO1xuICAgIHRoaXMubW91c2VSZWxlYXNlZC5jbGVhcigpO1xuICAgIHRoaXMubW91c2VNb3ZlbWVudCA9IFswLCAwXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUZXN0IGlmIGEgbW91c2UgYnV0dG9uIGhhcyBqdXN0IGJlZW4gcHJlc3NlZFxuICAgKiBPbmx5IHJldHVybnMgdHJ1ZSBkdXJpbmcgdGhpcyB0aWNrLCBhbmQgdGhlbiB0aGUgZXZlbnQgaXMgY2xlYXJlZC5cbiAgICovXG4gIHB1YmxpYyBpc01vdXNlQnV0dG9uU3RhcnRlZChidXR0b246IE1vdXNlQnV0dG9uKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMubW91c2VTdGFydC5oYXMoYnV0dG9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUZXN0IGlmIGEgbW91c2UgYnV0dG9uIGlzIGN1cnJlbnRseSBwcmVzc2VkIGRvd24uXG4gICAqIFdpbGwgY29udGludWUgdG8gcmV0dXJuIHRydWUgYXMgbG9uZyBhcyB0aGUgYnV0dG9uIGlzIGJlaW5nIHByZXNzZWQgZG93bi5cbiAgICovXG4gIHB1YmxpYyBpc01vdXNlQnV0dG9uRG93bihidXR0b246IE1vdXNlQnV0dG9uKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMubW91c2VEb3duLmhhcyhidXR0b24pO1xuICB9XG5cbiAgLyoqXG4gICAqIFRlc3QgaWYgYSBtb3VzZSBidXR0b24gaGFzIGp1c3QgYmVlbiByZWxlYXNlZC5cbiAgICogT25seSByZXR1cm5zIHRydWUgZHVyaW5nIHRoaXMgdGljaywgYW5kIHRoZW4gdGhlIGV2ZW50IGlzIGNsZWFyZWQuXG4gICAqL1xuICBwdWJsaWMgaXNNb3VzZUJ1dHRvblJlbGVhc2VkKGJ1dHRvbjogTW91c2VCdXR0b24pOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5tb3VzZVJlbGVhc2VkLmhhcyhidXR0b24pO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgWCBwb3NpdGlvbiBvZiB0aGUgbW91c2UgcmVsYXRpdmUgdG8gdGhlIGxvY2F0aW9uIGluc2lkZSB0aGUgY2FudmFzLlxuICAgKlxuICAgKiBDb29yZGluYXRlcyBhcmUgY2FsY3VsYXRlZCBmcm9tIHRoZSB0b3AtbGVmdCBjb3JuZXIgb2YgdGhlIENhbnZhc1xuICAgKi9cbiAgcHVibGljIGdldE1vdXNlWCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLm1vdXNlQ29vcmRzWzBdO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgWSBwb3NpdGlvbiBvZiB0aGUgbW91c2UgcmVsYXRpdmUgdG8gdGhlIGxvY2F0aW9uIGluc2lkZSB0aGUgY2FudmFzXG4gICAqXG4gICAqIENvb3JkaW5hdGVzIGFyZSBjYWxjdWxhdGVkIGZyb20gdGhlIHRvcC1sZWZ0IGNvcm5lciBvZiB0aGUgQ2FudmFzXG4gICAqL1xuICBwdWJsaWMgZ2V0TW91c2VZKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMubW91c2VDb29yZHNbMV07XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBYIG1vdmVtZW50IG9mIHRoZSBtb3VzZSBzaW5jZSB0aGUgbGFzdCBtb3ZlbWVudCBldmVudFxuICAgKlxuICAgKiBDb29yZGluYXRlcyBhcmUgY2FsY3VsYXRlZCBmcm9tIHRoZSB0b3AtbGVmdCBjb3JuZXIgb2YgdGhlIENhbnZhc1xuICAgKlxuICAgKiBSZXR1cm5zIDAgaWYgcG9pbnRlciBsb2NrIGlzIG5vdCBlbmFibGVkXG4gICAqL1xuICBwdWJsaWMgZ2V0TW91c2VNb3ZlbWVudFgoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5tb3VzZU1vdmVtZW50WzBdO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgWSBtb3ZlbWVudCBvZiB0aGUgbW91c2Ugc2luY2UgdGhlIGxhc3QgbW92ZW1lbnQgZXZlbnRcbiAgICpcbiAgICogQ29vcmRpbmF0ZXMgYXJlIGNhbGN1bGF0ZWQgZnJvbSB0aGUgdG9wLWxlZnQgY29ybmVyIG9mIHRoZSBDYW52YXNcbiAgICpcbiAgICogUmV0dXJucyAwIGlmIHBvaW50ZXIgbG9jayBpcyBub3QgZW5hYmxlZFxuICAgKi9cbiAgcHVibGljIGdldE1vdXNlTW92ZW1lbnRZKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMubW91c2VNb3ZlbWVudFsxXTtcbiAgfVxufVxuIiwiLyoqXG4gKiBHZW5lcmF0ZSBhIHJhbmRvbSBmbG9hdCBbbWluLCBtYXgpXG4gKlxuICogQ29kZSBmcm9tOiBodHRwczovL3d3dy5jb2RlZ3JlcHBlci5jb20vY29kZS1leGFtcGxlcy9qYXZhc2NyaXB0L2dlbmVyYXRlK3JhbmRvbStmbG9hdCtudW1iZXIraW4rcmFuZ2UramF2YXNjcmlwdFxuICovXG5leHBvcnQgZnVuY3Rpb24gcmFuZG9tRmxvYXQobWluOiBudW1iZXIsIG1heDogbnVtYmVyKTogbnVtYmVyIHtcbiAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSArIG1pbik7XG59XG5cbi8qKlxuICogR2VuZXJhdGUgYSByYW5kb20gaW50ZWdlciBbbWluLCBtYXhdXG4gKlxuICogQ29kZSBmcm9tOiBodHRwczovL3d3dy5jb2RlZ3JlcHBlci5jb20vY29kZS1leGFtcGxlcy9qYXZhc2NyaXB0L2dlbmVyYXRlK3JhbmRvbStmbG9hdCtudW1iZXIraW4rcmFuZ2UramF2YXNjcmlwdFxuICovXG5leHBvcnQgZnVuY3Rpb24gcmFuZG9tSW50KG1pbjogbnVtYmVyLCBtYXg6IG51bWJlcik6IG51bWJlciB7XG4gIG1pbiA9IE1hdGguY2VpbChtaW4pO1xuICBtYXggPSBNYXRoLmZsb29yKG1heCk7XG4gIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkpICsgbWluO1xufVxuXG4vKipcbiAqIFBpY2sgYSByYW5kb20gdmFsdWUgZnJvbSBhbiBhcnJheVxuICpcbiAqIEBwYXJhbSB2YWx1ZXMgQXJyYXkgdG8gcGljayBhIHJhbmRvbSB2YWx1ZSBmcm9tXG4gKiBAcmV0dXJucyBSYW5kb20gdmFsdWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBpY2tSYW5kb21BcnJheTxUPih2YWx1ZXM6IFRbXSk6IFQge1xuICByZXR1cm4gdmFsdWVzW3JhbmRvbUludCgwLCB2YWx1ZXMubGVuZ3RoIC0gMSldO1xufVxuXG4vKipcbiAqIFdyYXAgYSBudW1iZXIgdG8gYSBnaXZlbiByYW5nZS5cbiAqXG4gKiBDb2RlIGlzIGZyb206IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzUwMDU0Njc2L3doYXQtaXMtdGhlLWNvcnJlY3Qtd2F5LXRvLWdldC1hLW51bWJlci1tb2R1bG8tcmFuZ2Utc3VjaC10aGF0LXRoZS1yZXR1cm5lZC12YWx1XG4gKlxuICogQHBhcmFtIHggTnVtYmVyIHRvIHdyYXBcbiAqIEBwYXJhbSBtaW4gTWluaW11bSBudW1iZXIgaW4gcmFuZ2VcbiAqIEBwYXJhbSBtYXggTWF4aW11bSBudW1iZXIgaW4gcmFuZ2VcbiAqIEBwYXJhbSBpbmNsdWRlTWF4IElmIHNldCB0byB0cnVlLCB0aGUgbWF4aW11bSB2YWx1ZSBpcyBpbmNsdWRlZCBpbiB0aGlzIHJhbmdlLiBUaGUgZGVmYXVsdCBpcyB0cnVlLlxuICogQHJldHVybnMgV3JhcHBlZCB2YWx1ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gd3JhcE51bWJlcih4OiBudW1iZXIsIG1pbjogbnVtYmVyLCBtYXg6IG51bWJlciwgaW5jbHVkZU1heCA9IHRydWUpOiBudW1iZXIge1xuICBjb25zdCBkID0gbWF4IC0gbWluO1xuICByZXR1cm4geCA9PT0gbWF4ICYmIGluY2x1ZGVNYXggPyB4IDogKCgoKHggLSBtaW4pICUgZCkgKyBkKSAlIGQpICsgbWluO1xufVxuXG4vKipcbiAqIENsYW1wIGEgdmFsdWUgYmV0d2VlbiB0d28gbnVtYmVycywgc28gbWluIDw9IHggPD0gbWF4XG4gKlxuICogQHBhcmFtIHggTnVtYmVyIHRvIGNsYW1wXG4gKiBAcGFyYW0gbWluIE1pbmltdW0gdmFsdWVcbiAqIEBwYXJhbSBtYXggTWF4aW11bSB2YWx1ZVxuICogQHJldHVybnMgQ2xhbXBlZCBudW1iZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsYW1wKHg6IG51bWJlciwgbWluOiBudW1iZXIsIG1heDogbnVtYmVyKTogbnVtYmVyIHtcbiAgcmV0dXJuIE1hdGgubWluKE1hdGgubWF4KHgsIG1pbiksIG1heCk7XG59XG5cbi8qKlxuICogVGVzdCBpZiBhIG51bWJlciBpcyBiZXR3ZWVuIHR3byB2YWx1ZXNcbiAqXG4gKiBAcGFyYW0geCBOdW1iZXIgdG8gdGVzdFxuICogQHBhcmFtIG1pbiBNaW5pbXVtIHZhbHVlXG4gKiBAcGFyYW0gbWF4IE1heGltdW0gdmFsdWVcbiAqIEByZXR1cm5zIFRydWUgaWYgbWluIDw9IHggPD0gbWF4XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0JldHdlZW4oeDogbnVtYmVyLCBtaW46IG51bWJlciwgbWF4OiBudW1iZXIpOiBib29sZWFuIHtcbiAgcmV0dXJuIHggPj0gbWluICYmIHggPD0gbWF4O1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIG51bWJlciBpcyBiYXNpY2FsbHkgYW4gaW50ZWdlclxuICpcbiAqIEBwYXJhbSB4IFRoZSBudW1iZXJcbiAqIEBwYXJhbSB0aHJlc2hob2xkIFRocmVzaHNob2xkIHRvIHVzZVxuICogQHJldHVybnMgVHJ1ZSBpZiBYIGlzIGJhc2ljYWxseSBhbiBpbnRlZ2VyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0Jhc2ljYWxseUludGVnZXIoeDogbnVtYmVyLCB0aHJlc2hob2xkID0gMCk6IGJvb2xlYW4ge1xuICByZXR1cm4gaXNCZXR3ZWVuKHgsIE1hdGgucm91bmQoeCkgLSB0aHJlc2hob2xkLCBNYXRoLnJvdW5kKHgpICsgdGhyZXNoaG9sZCk7XG59XG5cbi8qKlxuICogVGVzdCBpZiBhbiBhbmdlbCBpcyBiZXR3ZWVuIHR3byBvdGhlciBhbmdsZXNcbiAqXG4gKiBAcGFyYW0gYW5nbGUgICBBbmdsZSB0byB0ZXN0XG4gKiBAcGFyYW0gYSAgICAgICBGaXJzdCBhbmdsZSB0byB0ZXN0IGFnYWluc3RcbiAqIEBwYXJhbSBiICAgICAgIFNlY29uZCBhbmdsZSB0byB0ZXN0IGFnYWluc3RcbiAqIEByZXR1cm5zICAgICAgIFRydWUgaWYgdGhlIGFuZ2xlIGlzIGJldHdlZW4gdGhlIHR3byBhbmdsZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQW5nbGVCZXR3ZWVuKGFuZ2xlOiBudW1iZXIsIGE6IG51bWJlciwgYjogbnVtYmVyKTogYm9vbGVhbiB7XG4gIGNvbnN0IG1heERpc3RhbmNlID0gbm9ybWFsaXplQW5nbGUoYiAtIGEpOyAvLyA5MCBkZWdyZWVzXG4gIHJldHVybiBNYXRoLmFicyhub3JtYWxpemVBbmdsZShhIC0gYW5nbGUpKSA8IG1heERpc3RhbmNlICYmIE1hdGguYWJzKG5vcm1hbGl6ZUFuZ2xlKGIgLSBhbmdsZSkpIDwgbWF4RGlzdGFuY2U7XG59XG5cbi8qKlxuICogTm9ybWFsaXplIGFuZ2xlIGJldHdlZW4gLVBJIGFuZCArUEkgcmFkaWFuc1xuICpcbiAqIEBwYXJhbSBhbmdsZSAgICAgQW5nbGUgdG8gbm9ybWFsaXplXG4gKiBAcmV0dXJuICAgICAgICAgIE5vcm1hbGl6ZWQgYW5nbGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZUFuZ2xlKGFuZ2xlOiBudW1iZXIpOiBudW1iZXIge1xuICByZXR1cm4gTWF0aC5hdGFuMihNYXRoLnNpbihhbmdsZSksIE1hdGguY29zKGFuZ2xlKSk7XG59XG5cbi8qKlxuICogUGljayB0aGUgbnVtYmVyIHRoYXQgaXMgY2xvc2VzdCB0byB0aGUgdGFyZ2V0IG51bWJlclxuICpcbiAqIEBwYXJhbSBpbnB1dCBOdW1iZXIgdG8gZ2V0XG4gKiBAcGFyYW0gdmFsdWVzIExpc3Qgb2YgdGFyZ2V0IG51bWJlcnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBpY2tDbG9zZXN0KGlucHV0OiBudW1iZXIsIHZhbHVlczogbnVtYmVyW10pOiBudW1iZXIge1xuICBsZXQgbWluRGlzdGFuY2UgPSBJbmZpbml0eTtcbiAgbGV0IGNsb3Nlc3RWYWx1ZSA9IGlucHV0O1xuICBmb3IgKGNvbnN0IG51bWJlciBvZiB2YWx1ZXMpIHtcbiAgICBjb25zdCBkaXN0YW5jZSA9IE1hdGguYWJzKGlucHV0IC0gbnVtYmVyKTtcbiAgICBpZiAoZGlzdGFuY2UgPCBtaW5EaXN0YW5jZSkge1xuICAgICAgbWluRGlzdGFuY2UgPSBkaXN0YW5jZTtcbiAgICAgIGNsb3Nlc3RWYWx1ZSA9IG51bWJlcjtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gY2xvc2VzdFZhbHVlO1xufVxuIiwiaW1wb3J0IHsgRW50aXR5LCBFbnRpdHlTdGF0ZSB9IGZyb20gJ2VuZ2luZS9lbnRpdHknO1xuaW1wb3J0IHsgaXNCZXR3ZWVuIH0gZnJvbSAnZW5naW5lL2hlbHBlcnMnO1xuaW1wb3J0IHsgTW91c2VCdXR0b24gfSBmcm9tICdlbmdpbmUvaW5wdXQnO1xuaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuXG4vKipcbiAqIEFic3RyYWN0IGJ1dHRvbiBjbGFzcyBmb3IgZHJhd2luZ1xuICovXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQWJzdHJhY3RCdXR0b24ge1xuICAvLyBQcm9wZXJ0aWVzIHRoYXQgY2FuIGJlIGFkanVzdGVkXG4gIHB1YmxpYyB4ID0gMDtcbiAgcHVibGljIHkgPSAwO1xuICBwdWJsaWMgd2lkdGggPSAxMDtcbiAgcHVibGljIGhlaWdodCA9IDEwO1xuXG4gIHB1YmxpYyB0ZXh0OiBzdHJpbmc7XG4gIHB1YmxpYyBmb250ID0gJzEycHQgc2Fucy1zZXJpZic7XG4gIHB1YmxpYyB0ZXh0Q29sb3IgPSBuZXcgVEhSRUUuQ29sb3IoJ3doaXRlJyk7XG4gIHB1YmxpYyBiYWNrZ3JvdW5kQ29sb3IgPSBuZXcgVEhSRUUuQ29sb3IoJ2JsYWNrJyk7XG4gIHB1YmxpYyBib3JkZXJDb2xvciA9IG5ldyBUSFJFRS5Db2xvcignd2hpdGUnKTtcblxuICBwcm90ZWN0ZWQgZW50aXR5OiBFbnRpdHk8RW50aXR5U3RhdGU+O1xuICBwcml2YXRlIGhvdmVyaW5nT3ZlciA9IGZhbHNlO1xuXG4gIGNvbnN0cnVjdG9yKHRleHQ6IHN0cmluZykge1xuICAgIHRoaXMudGV4dCA9IHRleHQ7XG4gIH1cblxuICAvKipcbiAgICogRXZlbnQgaGFuZGxlciBmb3IgY2xpY2tpbmcgb24gdGhlIGJ1dHRvblxuICAgKi9cbiAgYWJzdHJhY3Qgb25DbGljaygpOiB2b2lkO1xuXG4gIC8qKlxuICAgKiBJbnRlcm5hbCB3cmFwcGVyIGZvciBzdGVwcGluZyB0aGUgYnV0dG9uXG4gICAqL1xuICBhYnN0cmFjdCBvbkNyZWF0ZUJ1dHRvbigpOiB2b2lkO1xuXG4gIC8qKlxuICAgKiBJbnRlcm5hbCB3cmFwcGVyIGZvciBzdGVwcGluZyB0aGUgYnV0dG9uXG4gICAqL1xuICBhYnN0cmFjdCBvblN0ZXBCdXR0b24oKTogdm9pZDtcblxuICBvbkNyZWF0ZShlbnRpdHk6IEVudGl0eTxFbnRpdHlTdGF0ZT4pOiB2b2lkIHtcbiAgICB0aGlzLmVudGl0eSA9IGVudGl0eTtcbiAgICB0aGlzLm9uQ3JlYXRlQnV0dG9uKCk7XG4gIH1cblxuICBvblN0ZXAoKTogdm9pZCB7XG4gICAgLy8gVGVzdCBpZiB0aGUgbW91c2UgaXMgaG92ZXJpbmdcbiAgICBjb25zdCBpbnB1dCA9IHRoaXMuZW50aXR5LmFyZWEuZ2FtZS5pbnB1dDtcbiAgICB0aGlzLmhvdmVyaW5nT3ZlciA9XG4gICAgICBpc0JldHdlZW4oaW5wdXQuZ2V0TW91c2VYKCksIHRoaXMueCwgdGhpcy54ICsgdGhpcy53aWR0aCkgJiZcbiAgICAgIGlzQmV0d2VlbihpbnB1dC5nZXRNb3VzZVkoKSwgdGhpcy55LCB0aGlzLnkgKyB0aGlzLmhlaWdodCk7XG5cbiAgICAvLyBUZXN0IGZvciBvbi1jbGlja1xuICAgIGlmICh0aGlzLmhvdmVyaW5nT3ZlciAmJiBpbnB1dC5pc01vdXNlQnV0dG9uU3RhcnRlZChNb3VzZUJ1dHRvbi5MZWZ0KSkge1xuICAgICAgdGhpcy5vbkNsaWNrKCk7XG4gICAgfVxuXG4gICAgdGhpcy5vblN0ZXBCdXR0b24oKTtcbiAgfVxuXG4gIG9uRHJhdyhnMmQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk6IHZvaWQge1xuICAgIC8vIENvbXB1dGUgb3BhY2l0eVxuICAgIGcyZC5nbG9iYWxBbHBoYSA9IHRoaXMuaG92ZXJpbmdPdmVyID8gMSA6IDAuNTtcblxuICAgIC8vIEJhY2tncm91bmRcbiAgICBnMmQuZmlsbFN0eWxlID0gYCMke3RoaXMuYmFja2dyb3VuZENvbG9yLmdldEhleFN0cmluZygpfWA7XG4gICAgZzJkLmZpbGxSZWN0KHRoaXMueCwgdGhpcy55LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG5cbiAgICAvLyBUZXN0XG4gICAgZzJkLmZvbnQgPSB0aGlzLmZvbnQ7XG4gICAgZzJkLnRleHRBbGlnbiA9ICdjZW50ZXInO1xuICAgIGcyZC50ZXh0QmFzZWxpbmUgPSAnbWlkZGxlJztcbiAgICBnMmQuZmlsbFN0eWxlID0gYCMke3RoaXMudGV4dENvbG9yLmdldEhleFN0cmluZygpfWA7XG4gICAgZzJkLmZpbGxUZXh0KHRoaXMudGV4dCwgdGhpcy54ICsgdGhpcy53aWR0aCAvIDIsIHRoaXMueSArIHRoaXMuaGVpZ2h0IC8gMik7XG5cbiAgICAvL091dGxpbmVcbiAgICBnMmQuYmVnaW5QYXRoKCk7XG4gICAgZzJkLnJlY3QodGhpcy54LCB0aGlzLnksIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgICBnMmQubGluZVdpZHRoID0gMTtcbiAgICBnMmQuc3Ryb2tlU3R5bGUgPSBgIyR7dGhpcy5ib3JkZXJDb2xvci5nZXRIZXhTdHJpbmcoKX1gO1xuICAgIGcyZC5zdHJva2UoKTtcblxuICAgIC8vIFJlc2V0IGxhcGhhXG4gICAgZzJkLmdsb2JhbEFscGhhID0gMTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgVGl0bGVBcmVhIH0gZnJvbSAnYXJlYXMvVGl0bGVBcmVhJztcbmltcG9ydCB7IEFic3RyYWN0QnV0dG9uIH0gZnJvbSAnLi9BYnN0cmFjdEJ1dHRvbic7XG5pbXBvcnQgeyBFbnRpdHlTdGF0ZSB9IGZyb20gJ2VuZ2luZS9lbnRpdHknO1xuXG5jb25zdCBXSURUSCA9IDIwMDtcbmNvbnN0IEhFSUdIVCA9IDMwO1xuXG4vKipcbiAqIEJ1dHRvbiB0byBzdGFydCB0aGUgZ2FtZVxuICovXG5leHBvcnQgY2xhc3MgU3RhcnRCdXR0b24gZXh0ZW5kcyBBYnN0cmFjdEJ1dHRvbiBpbXBsZW1lbnRzIEVudGl0eVN0YXRlIHtcbiAgcHVibGljIHJlYWRvbmx5IHRhZ3M6IHN0cmluZ1tdID0gWydzdGFydC1idXR0b24nXTtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignU3RhcnQgR2FtZScpO1xuICB9XG5cbiAgb25DcmVhdGVCdXR0b24oKTogdm9pZCB7XG4gICAgdGhpcy54ID0gdGhpcy5lbnRpdHkuYXJlYS5vdmVybGF5V2lkdGggLyAyIC0gV0lEVEggLyAyO1xuICAgIHRoaXMueSA9IHRoaXMuZW50aXR5LmFyZWEub3ZlcmxheUhlaWdodCAtIChIRUlHSFQgKyA0MCk7XG4gICAgdGhpcy53aWR0aCA9IFdJRFRIO1xuICAgIHRoaXMuaGVpZ2h0ID0gSEVJR0hUO1xuICB9XG5cbiAgb25EZXN0cm95KCk6IHZvaWQge31cblxuICBvbkNsaWNrKCk6IHZvaWQge1xuICAgICh0aGlzLmVudGl0eS5hcmVhLnN0YXRlIGFzIFRpdGxlQXJlYSkuc3RhcnRHYW1lKCk7XG4gIH1cblxuICBvblN0ZXBCdXR0b24oKTogdm9pZCB7fVxuXG4gIG9uVGltZXIoX3RpbWVySW5kZXg6IG51bWJlcik6IHZvaWQge31cbn1cbiIsImltcG9ydCB7IEVudGl0eSwgRW50aXR5U3RhdGUgfSBmcm9tICdlbmdpbmUvZW50aXR5JztcbmltcG9ydCB7IGNsYW1wIH0gZnJvbSAnZW5naW5lL2hlbHBlcnMnO1xuXG4vKipcbiAqIEZhZGUgdGhlIHNjcmVlbiBmcm9tIGJsYWNrIHRvIGNsZWFyXG4gKi9cbmV4cG9ydCBjbGFzcyBGYWRlSW5FZmZlY3QgaW1wbGVtZW50cyBFbnRpdHlTdGF0ZSB7XG4gIHB1YmxpYyByZWFkb25seSB0YWdzOiBzdHJpbmdbXSA9IFtdO1xuXG4gIHByb3RlY3RlZCBlbnRpdHk6IEVudGl0eTx0aGlzPjtcblxuICBwcml2YXRlIHRpY2tzOiBudW1iZXI7XG4gIHByaXZhdGUgZmFkZTogbnVtYmVyO1xuICBwcml2YXRlIGFscGhhID0gMTtcblxuICAvKipcbiAgICogQ29uc3RydWN0IGEgbmV3IGZhZGUgZWZmZWN0XG4gICAqXG4gICAqIEBwYXJhbSB0aWNrcyBOdW1iZXIgb2YgdGlja3MgYmV0d2VlbiBlYWNoIGZhZGVcbiAgICogQHBhcmFtIGZhZGUgQW1vdW50IHRvIGZhZGUgb24gZWFjaCB0aWNrXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih0aWNrcyA9IDEwLCBmYWRlID0gMC4xKSB7XG4gICAgdGhpcy50aWNrcyA9IE1hdGguYWJzKHRpY2tzKTtcbiAgICB0aGlzLmZhZGUgPSBNYXRoLmFicyhmYWRlKTtcbiAgfVxuXG4gIG9uQ3JlYXRlKGVudGl0eTogRW50aXR5PHRoaXM+KTogdm9pZCB7XG4gICAgdGhpcy5lbnRpdHkgPSBlbnRpdHk7XG4gICAgdGhpcy5lbnRpdHkuc2V0VGltZXIoMSwgdGhpcy50aWNrcywgdHJ1ZSk7XG4gIH1cblxuICBvbkRlc3Ryb3koKTogdm9pZCB7fVxuXG4gIG9uU3RlcCgpOiB2b2lkIHt9XG5cbiAgb25UaW1lcih0aW1lckluZGV4OiBudW1iZXIpOiB2b2lkIHtcbiAgICBpZiAodGltZXJJbmRleCA9PT0gMSkge1xuICAgICAgdGhpcy5vblRpY2sodGhpcy5hbHBoYSk7XG4gICAgICB0aGlzLmZhZGVJbigpO1xuICAgIH1cbiAgfVxuXG4gIC8vLyBDYW4gYmUgb3ZlcnJpZGRlblxuICBwcm90ZWN0ZWQgb25UaWNrKF9hbHBoYTogbnVtYmVyKTogdm9pZCB7fVxuXG4gIC8qKlxuICAgKiBTbG93bHkgZmFkZSBvdXQgdG8gYmxhY2tcbiAgICovXG4gIHByaXZhdGUgZmFkZUluKCk6IHZvaWQge1xuICAgIHRoaXMuYWxwaGEgPSBjbGFtcCh0aGlzLmFscGhhIC0gdGhpcy5mYWRlLCAwLCAxKTtcbiAgICBpZiAodGhpcy5hbHBoYSA8PSAwKSB7XG4gICAgICB0aGlzLmVudGl0eS5jbGVhclRpbWVyKDEpO1xuICAgICAgdGhpcy5vbkZpbmlzaCgpO1xuICAgIH1cbiAgfVxuXG4gIC8vLyBDYW4gYmUgb3ZlcnJpZGRlblxuICBwcm90ZWN0ZWQgb25GaW5pc2goKTogdm9pZCB7fVxuXG4gIG9uRHJhdyhnMmQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk6IHZvaWQge1xuICAgIGcyZC5nbG9iYWxBbHBoYSA9IHRoaXMuYWxwaGE7XG4gICAgZzJkLmZpbGxTdHlsZSA9ICdibGFjayc7XG4gICAgZzJkLmZpbGxSZWN0KDAsIDAsIHRoaXMuZW50aXR5LmFyZWEub3ZlcmxheVdpZHRoLCB0aGlzLmVudGl0eS5hcmVhLm92ZXJsYXlIZWlnaHQpO1xuICAgIGcyZC5nbG9iYWxBbHBoYSA9IDE7XG4gIH1cbn1cbiIsImltcG9ydCB7IEFic3RyYWN0QnV0dG9uIH0gZnJvbSAnLi9BYnN0cmFjdEJ1dHRvbic7XG5pbXBvcnQgeyBFbnRpdHlTdGF0ZSB9IGZyb20gJ2VuZ2luZS9lbnRpdHknO1xuaW1wb3J0IHsgTWFpbkFyZWEgfSBmcm9tICdhcmVhcy9NYWluQXJlYSc7XG5pbXBvcnQgeyBLZXksIEdhbWVwYWRBeGlzLCBHYW1lcGFkQnV0dG9uIH0gZnJvbSAnZW5naW5lL2lucHV0JztcblxuY29uc3QgV0lEVEggPSAyMDA7XG5jb25zdCBIRUlHSFQgPSAzMDtcblxuLyoqXG4gKiBCdXR0b24gdG8gc3RhcnQgdGhlIGdhbWVcbiAqL1xuZXhwb3J0IGNsYXNzIFJlc3RhcnRCdXR0b24gZXh0ZW5kcyBBYnN0cmFjdEJ1dHRvbiBpbXBsZW1lbnRzIEVudGl0eVN0YXRlIHtcbiAgcHVibGljIHJlYWRvbmx5IHRhZ3M6IHN0cmluZ1tdID0gWydyZXN0YXJ0LWJ1dHRvbiddO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdSZXN0YXJ0Jyk7XG4gIH1cblxuICBvbkNyZWF0ZUJ1dHRvbigpOiB2b2lkIHtcbiAgICB0aGlzLnggPSB0aGlzLmVudGl0eS5hcmVhLm92ZXJsYXlXaWR0aCAvIDIgLSBXSURUSCAvIDI7XG4gICAgdGhpcy55ID0gdGhpcy5lbnRpdHkuYXJlYS5vdmVybGF5SGVpZ2h0IC0gKEhFSUdIVCArIDQwKTtcbiAgICB0aGlzLndpZHRoID0gV0lEVEg7XG4gICAgdGhpcy5oZWlnaHQgPSBIRUlHSFQ7XG4gIH1cblxuICBvbkRlc3Ryb3koKTogdm9pZCB7fVxuXG4gIG9uQ2xpY2soKTogdm9pZCB7XG4gICAgdGhpcy5lbnRpdHkuYXJlYS5nYW1lLnNldEFyZWEobmV3IE1haW5BcmVhKCkpO1xuICB9XG5cbiAgb25TdGVwQnV0dG9uKCk6IHZvaWQge1xuICAgIGNvbnN0IGlucHV0ID0gdGhpcy5lbnRpdHkuYXJlYS5nYW1lLmlucHV0O1xuICAgIGlmIChcbiAgICAgIGlucHV0LmlzS2V5U3RhcnRlZChLZXkuRW50ZXIpIHx8XG4gICAgICBpbnB1dC5pc0tleVN0YXJ0ZWQoS2V5LlNwYWNlKSB8fFxuICAgICAgaW5wdXQuaXNHYW1lcGFkQnV0dG9uU3RhcnRlZCgwLCBHYW1lcGFkQnV0dG9uLkFDcm9zcykgfHxcbiAgICAgIGlucHV0LmlzR2FtZXBhZEJ1dHRvblN0YXJ0ZWQoMCwgR2FtZXBhZEJ1dHRvbi5YU3F1YXJlKSB8fFxuICAgICAgaW5wdXQuaXNHYW1lcGFkQnV0dG9uU3RhcnRlZCgwLCBHYW1lcGFkQnV0dG9uLllUcmlhbmdsZSkgfHxcbiAgICAgIGlucHV0LmlzR2FtZXBhZEJ1dHRvblN0YXJ0ZWQoMCwgR2FtZXBhZEJ1dHRvbi5TdGFydCkgfHxcbiAgICAgIGlucHV0LmdldEdhbWVwYWRBeGlzKDAsIEdhbWVwYWRBeGlzLlJpZ2h0VHJpZ2dlcikgPiAwLjVcbiAgICApIHtcbiAgICAgIHRoaXMub25DbGljaygpO1xuICAgIH1cbiAgfVxuXG4gIG9uVGltZXIoX3RpbWVySW5kZXg6IG51bWJlcik6IHZvaWQge31cbn1cbiIsImltcG9ydCB7IEFyZWEsIEFyZWFTdGF0ZSB9IGZyb20gJ2VuZ2luZS9hcmVhJztcbmltcG9ydCB7IFJlc3RhcnRCdXR0b24gfSBmcm9tICdlbnRpdGllcy91aS9SZXN0YXJ0QnV0dG9uJztcblxuLyoqXG4gKiBHYW1lIG92ZXIgc2NyZWVuIGluIHRoZSBnYW1lXG4gKi9cbmV4cG9ydCBjbGFzcyBHYW1lT3ZlckFyZWEgaW1wbGVtZW50cyBBcmVhU3RhdGUge1xuICBwcml2YXRlIGFyZWE6IEFyZWE8dGhpcz47XG5cbiAgb25DcmVhdGUoYXJlYTogQXJlYTx0aGlzPik6IHZvaWQge1xuICAgIHRoaXMuYXJlYSA9IGFyZWE7XG4gICAgdGhpcy5hcmVhLmNyZWF0ZUVudGl0eShuZXcgUmVzdGFydEJ1dHRvbigpKTtcblxuICAgIHRoaXMuYXJlYS5nYW1lLmlucHV0LnBvaW50ZXJMb2NrRW5hYmxlZCA9IGZhbHNlO1xuICB9XG5cbiAgb25UaW1lcihfdGltZXJJbmRleDogbnVtYmVyKTogdm9pZCB7fVxuXG4gIG9uU3RlcCgpOiB2b2lkIHt9XG5cbiAgb25EcmF3KGcyZDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTogdm9pZCB7XG4gICAgZzJkLmZvbnQgPSAnNDhwdCBzYW5zLXNlcmlmJztcbiAgICBnMmQudGV4dEFsaWduID0gJ2NlbnRlcic7XG4gICAgZzJkLnRleHRCYXNlbGluZSA9ICd0b3AnO1xuICAgIGcyZC5maWxsU3R5bGUgPSAncmVkJztcblxuICAgIGcyZC5maWxsVGV4dCgnR2FtZSBPdmVyJywgdGhpcy5hcmVhLm92ZXJsYXlXaWR0aCAvIDIsIDQwKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgRW50aXR5LCBFbnRpdHlTdGF0ZSB9IGZyb20gJ2VuZ2luZS9lbnRpdHknO1xuaW1wb3J0IHsgY2xhbXAgfSBmcm9tICdlbmdpbmUvaGVscGVycyc7XG5cbi8qKlxuICogRmFkZSB0aGUgc2NyZWVuIHRvIGJsYWNrXG4gKi9cbmV4cG9ydCBjbGFzcyBGYWRlT3V0RWZmZWN0IGltcGxlbWVudHMgRW50aXR5U3RhdGUge1xuICBwdWJsaWMgcmVhZG9ubHkgdGFnczogc3RyaW5nW10gPSBbXTtcblxuICBwcm90ZWN0ZWQgZW50aXR5OiBFbnRpdHk8dGhpcz47XG5cbiAgcHJpdmF0ZSB0aWNrczogbnVtYmVyO1xuICBwcml2YXRlIGZhZGU6IG51bWJlcjtcbiAgcHJpdmF0ZSBhbHBoYSA9IDA7XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdCBhIG5ldyBmYWRlIGVmZmVjdFxuICAgKlxuICAgKiBAcGFyYW0gdGlja3MgTnVtYmVyIG9mIHRpY2tzIGJldHdlZW4gZWFjaCBmYWRlXG4gICAqIEBwYXJhbSBmYWRlIEFtb3VudCB0byBmYWRlIG9uIGVhY2ggdGlja1xuICAgKi9cbiAgY29uc3RydWN0b3IodGlja3MgPSAxMCwgZmFkZSA9IDAuMSkge1xuICAgIHRoaXMudGlja3MgPSBNYXRoLmFicyh0aWNrcyk7XG4gICAgdGhpcy5mYWRlID0gTWF0aC5hYnMoZmFkZSk7XG4gIH1cblxuICBvbkNyZWF0ZShlbnRpdHk6IEVudGl0eTx0aGlzPik6IHZvaWQge1xuICAgIHRoaXMuZW50aXR5ID0gZW50aXR5O1xuICAgIHRoaXMuZW50aXR5LnNldFRpbWVyKDEsIHRoaXMudGlja3MsIHRydWUpO1xuICB9XG5cbiAgb25EZXN0cm95KCk6IHZvaWQge31cblxuICBvblN0ZXAoKTogdm9pZCB7fVxuXG4gIG9uVGltZXIodGltZXJJbmRleDogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKHRpbWVySW5kZXggPT09IDEpIHtcbiAgICAgIHRoaXMub25UaWNrKHRoaXMuYWxwaGEpO1xuICAgICAgdGhpcy5mYWRlT3V0KCk7XG4gICAgfVxuICB9XG5cbiAgLy8vIENhbiBiZSBvdmVycmlkZGVuXG4gIHByb3RlY3RlZCBvblRpY2soX2FscGhhOiBudW1iZXIpOiB2b2lkIHt9XG5cbiAgLyoqXG4gICAqIFNsb3dseSBmYWRlIG91dCB0byBibGFja1xuICAgKi9cbiAgcHJpdmF0ZSBmYWRlT3V0KCk6IHZvaWQge1xuICAgIHRoaXMuYWxwaGEgPSBjbGFtcCh0aGlzLmFscGhhICsgdGhpcy5mYWRlLCAwLCAxKTtcbiAgICBpZiAodGhpcy5hbHBoYSA+PSAxKSB7XG4gICAgICB0aGlzLmVudGl0eS5jbGVhclRpbWVyKDEpO1xuICAgICAgdGhpcy5vbkZpbmlzaCgpO1xuICAgIH1cbiAgfVxuXG4gIC8vLyBDYW4gYmUgb3ZlcnJpZGRlblxuICBwcm90ZWN0ZWQgb25GaW5pc2goKTogdm9pZCB7fVxuXG4gIG9uRHJhdyhnMmQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk6IHZvaWQge1xuICAgIGcyZC5nbG9iYWxBbHBoYSA9IHRoaXMuYWxwaGE7XG4gICAgZzJkLmZpbGxTdHlsZSA9ICdibGFjayc7XG4gICAgZzJkLmZpbGxSZWN0KDAsIDAsIHRoaXMuZW50aXR5LmFyZWEub3ZlcmxheVdpZHRoLCB0aGlzLmVudGl0eS5hcmVhLm92ZXJsYXlIZWlnaHQpO1xuICAgIGcyZC5nbG9iYWxBbHBoYSA9IDE7XG4gIH1cbn1cbiIsImltcG9ydCB7IEdhbWVPdmVyQXJlYSB9IGZyb20gJ2FyZWFzL0dhbWVPdmVyQXJlYSc7XG5pbXBvcnQgeyBNYWluQXJlYSB9IGZyb20gJ2FyZWFzL01haW5BcmVhJztcbmltcG9ydCB7IEZhZGVPdXRFZmZlY3QgfSBmcm9tICcuL0ZhZGVPdXRFZmZlY3QnO1xuXG4vKipcbiAqIEZhZGUgdGhlIHNjcmVlbiB0byBibGFjayBpZiB0aGUgcGxheWVyIGRpZXNcbiAqL1xuZXhwb3J0IGNsYXNzIERlYXRoQW5pbWF0aW9uIGV4dGVuZHMgRmFkZU91dEVmZmVjdCB7XG4gIHByb3RlY3RlZCBvblRpY2soYWxwaGE6IG51bWJlcik6IHZvaWQge1xuICAgIGNvbnN0IG1haW5BcmVhID0gdGhpcy5lbnRpdHkuYXJlYS5zdGF0ZSBhcyBNYWluQXJlYTtcbiAgICBtYWluQXJlYS5mb3Jlc3RBbWJpZW5jZS52b2x1bWUgPSAxIC0gYWxwaGE7XG4gIH1cblxuICBwcm90ZWN0ZWQgb25GaW5pc2goKTogdm9pZCB7XG4gICAgY29uc3QgbWFpbkFyZWEgPSB0aGlzLmVudGl0eS5hcmVhLnN0YXRlIGFzIE1haW5BcmVhO1xuICAgIG1haW5BcmVhLmZvcmVzdEFtYmllbmNlLnN0b3AoKTtcbiAgICB0aGlzLmVudGl0eS5hcmVhLmdhbWUuc2V0QXJlYShuZXcgR2FtZU92ZXJBcmVhKCkpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBTcGhlcmVDb2xsaXNpb25NYXNrIH0gZnJvbSAnZW5naW5lL2NvbGxpc2lvbic7XG5pbXBvcnQgeyBFbnRpdHksIEVudGl0eVN0YXRlIH0gZnJvbSAnZW5naW5lL2VudGl0eSc7XG5pbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XG5cbmNvbnN0IE1PVkVNRU5UX1NQRUVEID0gMC44O1xuY29uc3QgREVTVFJPWV9USUNLUyA9IDI1MDtcblxuY29uc3QgQlVMTEVUX01FU0ggPSBuZXcgVEhSRUUuTWVzaChuZXcgVEhSRUUuQ3lsaW5kZXJHZW9tZXRyeSgpLCBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoeyBjb2xvcjogMHhmZmZmMDAgfSkpO1xuQlVMTEVUX01FU0guc2NhbGUuc2V0KDAuMSwgMiwgMC4xKTtcblxuLyoqXG4gKiBCdWxsZXQgdGhhdCBpcyBzaG90IGZyb20gdGhlIHBsYXllciBvYmplY3RcbiAqL1xuZXhwb3J0IGNsYXNzIFBsYXllckJ1bGxldCBpbXBsZW1lbnRzIEVudGl0eVN0YXRlIHtcbiAgcHVibGljIHJlYWRvbmx5IHRhZ3M6IHN0cmluZ1tdID0gWydwbGF5ZXItYnVsbGV0J107XG5cbiAgcHJpdmF0ZSBlbnRpdHk6IEVudGl0eTx0aGlzPjtcbiAgcHJpdmF0ZSBwb3NpdGlvbjogVEhSRUUuVmVjdG9yMztcbiAgcHJpdmF0ZSByb3RhdGlvbjogVEhSRUUuVmVjdG9yMztcblxuICBjb25zdHJ1Y3RvcihzaG9vdEZyb206IFRIUkVFLk9iamVjdDNELCBkaXJlY3Rpb246IFRIUkVFLlZlY3RvcjMpIHtcbiAgICB0aGlzLnBvc2l0aW9uID0gc2hvb3RGcm9tLmdldFdvcmxkUG9zaXRpb24obmV3IFRIUkVFLlZlY3RvcjMoKSk7XG4gICAgdGhpcy5yb3RhdGlvbiA9IGRpcmVjdGlvbjtcbiAgfVxuXG4gIG9uQ3JlYXRlKGVudGl0eTogRW50aXR5PHRoaXM+KTogdm9pZCB7XG4gICAgdGhpcy5lbnRpdHkgPSBlbnRpdHk7XG5cbiAgICAvLyBCdWlsZCB0aGUgb2JqZWN0XG4gICAgY29uc3Qgb2JqZWN0ID0gQlVMTEVUX01FU0guY2xvbmUoKTtcbiAgICBvYmplY3QucG9zaXRpb24uY29weSh0aGlzLnBvc2l0aW9uKTtcbiAgICBvYmplY3Qucm90YXRpb24uc2V0RnJvbVZlY3RvcjModGhpcy5yb3RhdGlvbik7XG4gICAgb2JqZWN0LnVwZGF0ZU1hdHJpeCgpO1xuICAgIG9iamVjdC5yb3RhdGVaKE1hdGguUEkgLyAyKTtcbiAgICBvYmplY3QudHJhbnNsYXRlWSgtMC44KTtcbiAgICB0aGlzLmVudGl0eS5vYmplY3QgPSBvYmplY3Q7XG5cbiAgICAvLyBCdWlsZCB0aGUgbWFza1xuICAgIHRoaXMuZW50aXR5Lm1hc2sgPSBuZXcgU3BoZXJlQ29sbGlzaW9uTWFzayh0aGlzLmVudGl0eS5vYmplY3QpO1xuXG4gICAgLy8gVGltZXIgdG8gc3BlY2lmeSB3aGVuIHRvIGRlc3Ryb3kgdGhlIGJ1bGxldFxuICAgIHRoaXMuZW50aXR5LnNldFRpbWVyKDAsIERFU1RST1lfVElDS1MpO1xuICB9XG5cbiAgb25EZXN0cm95KCk6IHZvaWQge31cblxuICBvblN0ZXAoKTogdm9pZCB7XG4gICAgdGhpcy5lbnRpdHkub2JqZWN0LnRyYW5zbGF0ZVkoLU1PVkVNRU5UX1NQRUVEKTtcbiAgICB0aGlzLmVudGl0eS5tYXNrLnVwZGF0ZSh0aGlzLmVudGl0eS5vYmplY3QpO1xuICAgICh0aGlzLmVudGl0eS5tYXNrIGFzIFNwaGVyZUNvbGxpc2lvbk1hc2spLnNwaGVyZS5yYWRpdXMgLz0gNjtcblxuICAgIHRoaXMudGVzdEZvcldhbGxDb2xsaXNpb24oKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXN0cm95IGEgYnVsbGV0IGlmIGl0IGhpdHMgYSB3YWxsXG4gICAqL1xuICBwcml2YXRlIHRlc3RGb3JXYWxsQ29sbGlzaW9uKCkge1xuICAgIGlmICh0aGlzLmlzQ29sbGlkaW5nV2l0aFdhbGxzKCkpIHtcbiAgICAgIHRoaXMuZW50aXR5LmRlc3Ryb3koKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVGVzdCBpZiB0aGUgZW50aXR5IGlzIGNvbGxpZGluZyB3aXRoIGFueSB3YWxsc1xuICAgKi9cbiAgcHJpdmF0ZSBpc0NvbGxpZGluZ1dpdGhXYWxscygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5lbnRpdHkuYXJlYS5maW5kRW50aXRpZXMoJ3dhbGwnKS5zb21lKCh3YWxsKSA9PiB0aGlzLmVudGl0eS5pc0NvbGxpZGluZ1dpdGgod2FsbCkpO1xuICB9XG5cbiAgb25UaW1lcihfdGltZXJJbmRleDogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5lbnRpdHkuZGVzdHJveSgpO1xuICB9XG5cbiAgb25EcmF3KF9nMmQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk6IHZvaWQge31cbn1cbiIsImltcG9ydCB7IEVudGl0eSwgRW50aXR5U3RhdGUgfSBmcm9tICdlbmdpbmUvZW50aXR5JztcbmltcG9ydCB7IEdhbWVwYWRBeGlzLCBHYW1lcGFkQnV0dG9uLCBLZXksIE1vdXNlQnV0dG9uIH0gZnJvbSAnZW5naW5lL2lucHV0JztcbmltcG9ydCB7IGNsYW1wLCB3cmFwTnVtYmVyIH0gZnJvbSAnZW5naW5lL2hlbHBlcnMnO1xuaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuaW1wb3J0IHsgQm94Q29sbGlzaW9uTWFzayB9IGZyb20gJ2VuZ2luZS9jb2xsaXNpb24nO1xuaW1wb3J0IHsgTWFpbkFyZWEgfSBmcm9tICdhcmVhcy9NYWluQXJlYSc7XG5pbXBvcnQgeyBEZWF0aEFuaW1hdGlvbiB9IGZyb20gJy4vZWZmZWN0cy9EZWF0aEFuaW1hdGlvbic7XG5pbXBvcnQgeyBIZWFsdGggfSBmcm9tICdyZXNvdXJjZXMvSGVhbHRoJztcbmltcG9ydCB7IFBsYXllckJ1bGxldCB9IGZyb20gJy4vUGxheWVyQnVsbGV0JztcbmltcG9ydCB7IEludmVudG9yeSB9IGZyb20gJ3Jlc291cmNlcy9JbnZlbnRvcnknO1xuXG5jb25zdCBST1RBVElPTl9TUEVFRCA9IDAuMDAyO1xuY29uc3QgR0FNRVBBRF9ST1RBVElPTl9TUEVFRCA9IDAuMDI7XG5jb25zdCBTTE9XX0dBTUVQQURfUk9UQVRJT05fU1BFRUQgPSAwLjAxO1xuY29uc3QgTU9WRU1FTlRfU1BFRUQgPSAwLjE7XG5jb25zdCBNQVhfVkVSVF9BTkdMRSA9IDAuNzUgKiAoTWF0aC5QSSAvIDIpO1xuY29uc3QgREVBRF9aT05FID0gMC41O1xuXG5jb25zdCBQTEFZRVJfQk9YM19NQVNLID0gbmV3IFRIUkVFLkJveDMobmV3IFRIUkVFLlZlY3RvcjMoLTAuNSwgMCwgLTAuNSksIG5ldyBUSFJFRS5WZWN0b3IzKDAuNSwgMywgMC41KSk7XG5cbi8qKlxuICogUmVwcmVzZW50cyB0aGUgcGxheWVyIGluIHRoZSBnYW1lXG4gKi9cbmV4cG9ydCBjbGFzcyBQbGF5ZXIgaW1wbGVtZW50cyBFbnRpdHlTdGF0ZSB7XG4gIHB1YmxpYyByZWFkb25seSB0YWdzOiBzdHJpbmdbXSA9IFsncGxheWVyJ107XG5cbiAgcHJpdmF0ZSBlbnRpdHk6IEVudGl0eTx0aGlzPjtcbiAgcHJpdmF0ZSBtYXNrOiBCb3hDb2xsaXNpb25NYXNrO1xuICBwcml2YXRlIGNhbWVyYTogVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmE7XG4gIHByaXZhdGUgZ3VuOiBUSFJFRS5PYmplY3QzRDtcbiAgcHJpdmF0ZSBndW5Db2xsZWN0ZWQgPSBmYWxzZTtcblxuICBwcml2YXRlIHN0YXJ0Um93OiBudW1iZXI7XG4gIHByaXZhdGUgc3RhcnRDb2w6IG51bWJlcjtcblxuICBwcml2YXRlIGhvckRpciA9IE1hdGguUEkgLyAyO1xuICBwcml2YXRlIHZlcnREaXIgPSAwO1xuICBwcml2YXRlIHJpZ2h0VHJpZ2dlclByZXNzZWQgPSBmYWxzZTtcblxuICBjb25zdHJ1Y3RvcihzdGFydFJvdzogbnVtYmVyLCBzdGFydENvbDogbnVtYmVyKSB7XG4gICAgdGhpcy5zdGFydFJvdyA9IHN0YXJ0Um93O1xuICAgIHRoaXMuc3RhcnRDb2wgPSBzdGFydENvbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGFuZ2xlIHRoYXQgdGhlIHBsYXllciBpcyBmYWNpbmdcbiAgICovXG4gIHB1YmxpYyBnZXRGYWNpbmdBbmdsZSgpOiBudW1iZXIge1xuICAgIHJldHVybiB3cmFwTnVtYmVyKHRoaXMuaG9yRGlyLCAwLCAyICogTWF0aC5QSSwgZmFsc2UpO1xuICB9XG5cbiAgb25DcmVhdGUoZW50aXR5OiBFbnRpdHk8dGhpcz4pOiB2b2lkIHtcbiAgICB0aGlzLmVudGl0eSA9IGVudGl0eTtcblxuICAgIC8vIEVuYWJsZSBwb2ludGVyIGxvY2sgZm9yIHVzZXIgaW5wdXRcbiAgICB0aGlzLmVudGl0eS5hcmVhLmdhbWUuaW5wdXQucG9pbnRlckxvY2tFbmFibGVkID0gdHJ1ZTtcblxuICAgIC8vIEJ1aWxkIHRoZSBjYW1lcmFcbiAgICB0aGlzLmNhbWVyYSA9IG5ldyBUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYShcbiAgICAgIDUwLFxuICAgICAgZW50aXR5LmFyZWEuZ2FtZS5jYW52YXNXaWR0aCAvIGVudGl0eS5hcmVhLmdhbWUuY2FudmFzSGVpZ2h0LFxuICAgICAgMC4wMDEsXG4gICAgICAxMDAwLFxuICAgICk7XG4gICAgdGhpcy5lbnRpdHkuYXJlYS5jYW1lcmEgPSB0aGlzLmNhbWVyYTtcbiAgICB0aGlzLmVudGl0eS5vYmplY3QgPSB0aGlzLmNhbWVyYTtcblxuICAgIC8vIEFkZCBhIGd1biB0byB0aGUgY2FtZXJhXG4gICAgY29uc3QgZ3VuID0gZW50aXR5LmFyZWEuZ2FtZS5hc3NldHMuZ2V0T2JqZWN0KCdHdW4nKS5jbG9uZSgpO1xuICAgIGd1bi5zY2FsZS5zZXQoMC4xLCAwLjEsIDAuMSk7XG4gICAgZ3VuLnBvc2l0aW9uLnNldCgwLjE1LCAtMC4wNCwgMC4wNSk7XG4gICAgZ3VuLnJvdGF0aW9uLnkgPSBNYXRoLmF0YW4yKEluZmluaXR5LCAxLjgpO1xuICAgIGd1bi52aXNpYmxlID0gZmFsc2U7XG4gICAgdGhpcy5jYW1lcmEuYWRkKGd1bik7XG4gICAgdGhpcy5ndW4gPSBndW47XG5cbiAgICAvLyBTZXQgdGhlIHN0YXJ0IHBvc2l0aW9uIGluIHRoZSBtYXplXG4gICAgY29uc3QgcG9zaXRpb24gPSAodGhpcy5lbnRpdHkuYXJlYS5zdGF0ZSBhcyBNYWluQXJlYSkudGlsZUxvY2F0aW9uVG9Qb3NpdGlvbih0aGlzLnN0YXJ0Um93LCB0aGlzLnN0YXJ0Q29sKTtcbiAgICB0aGlzLmNhbWVyYS5wb3NpdGlvbi5jb3B5KHBvc2l0aW9uKTtcbiAgICB0aGlzLmNhbWVyYS5wb3NpdGlvbi55ID0gMjtcblxuICAgIC8vIEJveCBtYXNrIHRvIGRldGVjdCBjb2xsaXNpb25zXG4gICAgdGhpcy5tYXNrID0gbmV3IEJveENvbGxpc2lvbk1hc2soUExBWUVSX0JPWDNfTUFTSyk7XG4gICAgdGhpcy5lbnRpdHkubWFzayA9IHRoaXMubWFzaztcbiAgICB0aGlzLm1hc2suYm94LnRyYW5zbGF0ZShwb3NpdGlvbik7XG4gIH1cblxuICBvbkRlc3Ryb3koKTogdm9pZCB7fVxuXG4gIG9uU3RlcCgpOiB2b2lkIHtcbiAgICAvLyBNYWtlIHN1cmUgdGhlIGNhbWVyYSBpcyBzY2FsZWQgcHJvcGVybHlcbiAgICB0aGlzLmNhbWVyYS5hc3BlY3QgPSB0aGlzLmVudGl0eS5hcmVhLmdhbWUuY2FudmFzV2lkdGggLyB0aGlzLmVudGl0eS5hcmVhLmdhbWUuY2FudmFzSGVpZ2h0O1xuICAgIHRoaXMuY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcblxuICAgIC8vIENhbm5vdCBzaG9vdCB1bnRpbCBndW4gaXMgY29sbGVjdGVkXG4gICAgdGhpcy50ZXN0Rm9yR3VuQ29sbGVjdGVkKCk7XG5cbiAgICAvLyBNb3ZlIHRoZSBwbGF5ZXJcbiAgICB0aGlzLmhhbmRsZUlucHV0KCk7XG5cbiAgICAvLyBUZXN0IGZvciBkZWF0aFxuICAgIHRoaXMudGVzdEZvckRlYXRoKCk7XG4gIH1cblxuICAvKipcbiAgICogVGVzdCBpZiB0aGUgZ3VuIGhhcyBiZWVuIGNvbGxlY3RlZCB5ZXRcbiAgICovXG4gIHByaXZhdGUgdGVzdEZvckd1bkNvbGxlY3RlZCgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5ndW5Db2xsZWN0ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBpbnZlbnRvcnkgPSB0aGlzLmVudGl0eS5hcmVhLmdhbWUucmVzb3VyY2VzLmdldFJlc291cmNlPEludmVudG9yeT4oJ2ludmVudG9yeScpO1xuICAgIGlmIChpbnZlbnRvcnkuaGFzQ29sbGVjdGVkR3VuKCkpIHtcbiAgICAgIHRoaXMuZ3VuQ29sbGVjdGVkID0gdHJ1ZTtcbiAgICAgIHRoaXMuZ3VuLnZpc2libGUgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgYWxsIGlucHV0IHRvIG1vdmUgdGhlIHBsYXllclxuICAgKi9cbiAgcHJpdmF0ZSBoYW5kbGVJbnB1dCgpOiB2b2lkIHtcbiAgICBjb25zdCBpbnB1dCA9IHRoaXMuZW50aXR5LmFyZWEuZ2FtZS5pbnB1dDtcblxuICAgIC8vIFRlc3QgZm9yIG1vdXNlIGNhbWVyYSBzcGluXG4gICAgY29uc3QgbW91c2VYID0gaW5wdXQuZ2V0TW91c2VNb3ZlbWVudFgoKTtcbiAgICBpZiAoTWF0aC5hYnMobW91c2VYKSA+IDIpIHtcbiAgICAgIHRoaXMuaG9yRGlyICs9IC1tb3VzZVggKiBST1RBVElPTl9TUEVFRDtcbiAgICB9XG5cbiAgICAvLyBUZXN0IGZvciBtb3VzZSBjYW1lcmEgdmVydGljYWwgdXAtZG93blxuICAgIGNvbnN0IG1vdXNlWSA9IGlucHV0LmdldE1vdXNlTW92ZW1lbnRZKCk7XG4gICAgaWYgKE1hdGguYWJzKG1vdXNlWSkgPiAyKSB7XG4gICAgICB0aGlzLnZlcnREaXIgKz0gLW1vdXNlWSAqIFJPVEFUSU9OX1NQRUVEO1xuICAgICAgdGhpcy52ZXJ0RGlyID0gY2xhbXAodGhpcy52ZXJ0RGlyLCAtTUFYX1ZFUlRfQU5HTEUsIE1BWF9WRVJUX0FOR0xFKTtcbiAgICB9XG5cbiAgICAvLyBMZWZ0IHRyaWdnZXIgaXMgdXNlZCBmb3Igc2xvdyBtb3Rpb25cbiAgICBjb25zdCBzbG93Q29udHJvbGxlclJvdGF0aW9uOiBib29sZWFuID0gaW5wdXQuZ2V0R2FtZXBhZEF4aXMoMCwgR2FtZXBhZEF4aXMuTGVmdFRyaWdnZXIpID4gREVBRF9aT05FO1xuICAgIGNvbnN0IGNvbnRyb2xsZXJSb3RhdGlvbiA9IHNsb3dDb250cm9sbGVyUm90YXRpb24gPyBTTE9XX0dBTUVQQURfUk9UQVRJT05fU1BFRUQgOiBHQU1FUEFEX1JPVEFUSU9OX1NQRUVEO1xuICAgIGlmIChzbG93Q29udHJvbGxlclJvdGF0aW9uKSB7XG4gICAgICB0aGlzLmNhbWVyYS5mb3YgPSA0NTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jYW1lcmEuZm92ID0gNTA7XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIGdhbWVwYWQgc3BpblxuICAgIGNvbnN0IGNvbnRyb2xsZXJYID0gaW5wdXQuZ2V0R2FtZXBhZEF4aXMoMCwgR2FtZXBhZEF4aXMuUmlnaHRTdGlja1gpO1xuICAgIGlmIChNYXRoLmFicyhjb250cm9sbGVyWCkgPiBERUFEX1pPTkUpIHtcbiAgICAgIHRoaXMuaG9yRGlyICs9IC1jb250cm9sbGVyWCAqIDEuNSAqIGNvbnRyb2xsZXJSb3RhdGlvbjtcbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgZ2FtZXBhZCB2ZXJ0aWNhbCB1cC1kb3duXG4gICAgY29uc3QgY29udHJvbGxlclkgPSBpbnB1dC5nZXRHYW1lcGFkQXhpcygwLCBHYW1lcGFkQXhpcy5SaWdodFN0aWNrWSk7XG4gICAgaWYgKE1hdGguYWJzKGNvbnRyb2xsZXJZKSA+IERFQURfWk9ORSkge1xuICAgICAgdGhpcy52ZXJ0RGlyICs9IC1jb250cm9sbGVyWSAqIGNvbnRyb2xsZXJSb3RhdGlvbjtcbiAgICAgIHRoaXMudmVydERpciA9IGNsYW1wKHRoaXMudmVydERpciwgLU1BWF9WRVJUX0FOR0xFLCBNQVhfVkVSVF9BTkdMRSk7XG4gICAgfVxuXG4gICAgdGhpcy51cGRhdGVDYW1lcmFSb3RhdGlvbigpO1xuXG4gICAgLy8gSGFuZGxlIG5vcm1hbCBXU0FEIGNvbnRyb2xzXG4gICAgLy8gICBYID0gRm9yd2FyZCAoKykgYW5kIEJhY2sgKC0pXG4gICAgLy8gICBaID0gTGVmdCAoLSkgYW5kIFJpZ2h0ICgrKVxuICAgIGxldCBkZWx0YVggPSAwLFxuICAgICAgZGVsdGFaID0gMDtcbiAgICBpZiAoaW5wdXQuaXNLZXlEb3duKEtleS5XKSkge1xuICAgICAgZGVsdGFYICs9IE1PVkVNRU5UX1NQRUVEO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuaXNLZXlEb3duKEtleS5TKSkge1xuICAgICAgZGVsdGFYIC09IE1PVkVNRU5UX1NQRUVEO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuaXNLZXlEb3duKEtleS5BKSkge1xuICAgICAgZGVsdGFaICs9IE1PVkVNRU5UX1NQRUVEO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuaXNLZXlEb3duKEtleS5EKSkge1xuICAgICAgZGVsdGFaIC09IE1PVkVNRU5UX1NQRUVEO1xuICAgIH1cblxuICAgIC8vIFRlc3QgZm9yIHRoZSBhbmdsZSBvZiB0aGUgbGVmdCBqb3lzdGlja1xuICAgIGNvbnN0IHBvc1ggPSBpbnB1dC5nZXRHYW1lcGFkQXhpcygwLCBHYW1lcGFkQXhpcy5MZWZ0U3RpY2tYKTtcbiAgICBjb25zdCBwb3NZID0gLWlucHV0LmdldEdhbWVwYWRBeGlzKDAsIEdhbWVwYWRBeGlzLkxlZnRTdGlja1kpO1xuXG4gICAgLy8gTWFrZSBzdXJlIGxlZnQgam95c3RpY2sgaXMgb3V0c2lkZSBvZiB0aGUgXCJkZWFkXCIgem9uZVxuICAgIGlmIChwb3NYIDwgLURFQURfWk9ORSB8fCBwb3NYID4gREVBRF9aT05FIHx8IHBvc1kgPCAtREVBRF9aT05FIHx8IHBvc1kgPiBERUFEX1pPTkUpIHtcbiAgICAgIGNvbnN0IHJvdGF0aW9uQW5nbGUgPSBNYXRoLmF0YW4yKHBvc1ksIHBvc1gpO1xuICAgICAgZGVsdGFYID0gTU9WRU1FTlRfU1BFRUQgKiBNYXRoLnNpbihyb3RhdGlvbkFuZ2xlKTtcbiAgICAgIGRlbHRhWiA9IC1NT1ZFTUVOVF9TUEVFRCAqIE1hdGguY29zKHJvdGF0aW9uQW5nbGUpO1xuICAgIH1cblxuICAgIHRoaXMudXBkYXRlUG9zaXRpb24oZGVsdGFYLCBkZWx0YVopO1xuXG4gICAgLy8gU2hvb3QgZ3VuIVxuICAgIGNvbnN0IHJpZ2h0VHJpZ2dlclByZXNzZWQgPSBpbnB1dC5nZXRHYW1lcGFkQXhpcygwLCBHYW1lcGFkQXhpcy5SaWdodFRyaWdnZXIpID4gREVBRF9aT05FO1xuICAgIGNvbnN0IHJpZ2h0VHJpZ2dlclN0YXJ0ZWQgPSAhdGhpcy5yaWdodFRyaWdnZXJQcmVzc2VkICYmIHJpZ2h0VHJpZ2dlclByZXNzZWQ7XG4gICAgdGhpcy5yaWdodFRyaWdnZXJQcmVzc2VkID0gcmlnaHRUcmlnZ2VyUHJlc3NlZDtcbiAgICBpZiAoXG4gICAgICBpbnB1dC5pc01vdXNlQnV0dG9uU3RhcnRlZChNb3VzZUJ1dHRvbi5MZWZ0KSB8fFxuICAgICAgaW5wdXQuaXNHYW1lcGFkQnV0dG9uU3RhcnRlZCgwLCBHYW1lcGFkQnV0dG9uLkFDcm9zcykgfHxcbiAgICAgIHJpZ2h0VHJpZ2dlclN0YXJ0ZWRcbiAgICApIHtcbiAgICAgIHRoaXMuc2hvb3QoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIHRoZSBjYW1lcmEgcm90YXRpb24gdXNpbmcgdGhlIGN1cnJlbnQgcm90YXRpb24gYW5nbGVzXG4gICAqL1xuICBwcml2YXRlIHVwZGF0ZUNhbWVyYVJvdGF0aW9uKCk6IHZvaWQge1xuICAgIGNvbnN0IGV1bGVyID0gbmV3IFRIUkVFLkV1bGVyKHRoaXMudmVydERpciwgdGhpcy5ob3JEaXIsIDAsICdZWFonKTtcbiAgICB0aGlzLmNhbWVyYS5xdWF0ZXJuaW9uLnNldEZyb21FdWxlcihldWxlcik7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIHRoZSBwb3NpdGlvbiBvZiB0aGUgcGxheWVyXG4gICAqXG4gICAqIEBwYXJhbSBkZWx0YVggRm9yd2FyZCAoKykgYW5kIEJhY2sgKC0pXG4gICAqIEBwYXJhbSBkZWx0YVogTGVmdCAoLSkgYW5kIFJpZ2h0ICgrKVxuICAgKi9cbiAgcHJpdmF0ZSB1cGRhdGVQb3NpdGlvbihkZWx0YVg6IG51bWJlciwgZGVsdGFaOiBudW1iZXIpOiB2b2lkIHtcbiAgICAvLyBNdXN0IGNvbnZlcnQgbG9jYWwgdG8gZ2xvYmFsIGF4aXNcbiAgICBjb25zdCBtb3ZlbWVudFZlY3RvciA9IG5ldyBUSFJFRS5WZWN0b3IzKC1kZWx0YVosIDAsIC1kZWx0YVgpO1xuICAgIG1vdmVtZW50VmVjdG9yLmFwcGx5QXhpc0FuZ2xlKG5ldyBUSFJFRS5WZWN0b3IzKDAsIDEsIDApLCB0aGlzLmhvckRpcik7XG5cbiAgICBjb25zdCBtb3ZlWCA9IG5ldyBUSFJFRS5WZWN0b3IzKG1vdmVtZW50VmVjdG9yLngsIDAsIDApO1xuICAgIGNvbnN0IG1vdmVaID0gbmV3IFRIUkVFLlZlY3RvcjMoMCwgMCwgbW92ZW1lbnRWZWN0b3Iueik7XG5cbiAgICAvLyBUcnkgdG8gbW92ZSBhbG9uZyBYXG4gICAgLy8gVW5kbyB0aGUgbW92ZSBpZiBjb2xsaWRpbmcgd2l0aCB3YWxsc1xuICAgIHRoaXMubWFzay5ib3gudHJhbnNsYXRlKG1vdmVYKTtcbiAgICBpZiAodGhpcy5pc0NvbGxpZGluZ1dpdGhXYWxscygpKSB7XG4gICAgICB0aGlzLm1hc2suYm94LnRyYW5zbGF0ZShtb3ZlWC5uZWdhdGUoKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLmFkZChtb3ZlWCk7XG4gICAgfVxuXG4gICAgLy8gVHJ5IHRvIG1vdmUgYWxvbmcgWlxuICAgIC8vIFVuZG8gdGhlIG1vdmUgaWYgY29sbGlkaW5nIHdpdGggd2FsbHNcbiAgICB0aGlzLm1hc2suYm94LnRyYW5zbGF0ZShtb3ZlWik7XG4gICAgaWYgKHRoaXMuaXNDb2xsaWRpbmdXaXRoV2FsbHMoKSkge1xuICAgICAgdGhpcy5tYXNrLmJveC50cmFuc2xhdGUobW92ZVoubmVnYXRlKCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNhbWVyYS5wb3NpdGlvbi5hZGQobW92ZVopO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBUZXN0IGlmIHRoZSBwbGF5ZXIgaXMgY3VycmVudGx5IGNvbGxpZGluZyB3aXRoIGFueSB3YWxsc1xuICAgKi9cbiAgcHJpdmF0ZSBpc0NvbGxpZGluZ1dpdGhXYWxscygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy5lbnRpdHkuYXJlYS5maW5kRW50aXRpZXMoJ3dhbGwnKS5zb21lKCh3YWxsKSA9PiB0aGlzLmVudGl0eS5pc0NvbGxpZGluZ1dpdGgod2FsbCkpIHx8XG4gICAgICB0aGlzLmVudGl0eS5hcmVhLmZpbmRFbnRpdGllcygncm9jaycpLnNvbWUoKHJvY2spID0+IHRoaXMuZW50aXR5LmlzQ29sbGlkaW5nV2l0aChyb2NrKSlcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFNob290IHRoZSBndW4hXG4gICAqL1xuICBwcml2YXRlIHNob290KCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5ndW5Db2xsZWN0ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCByb3RhdGlvbiA9IG5ldyBUSFJFRS5FdWxlcigwLCB0aGlzLmhvckRpciArIE1hdGguUEkgLyAyLCB0aGlzLnZlcnREaXIsICdZWFonKTtcbiAgICB0aGlzLmVudGl0eS5hcmVhLmNyZWF0ZUVudGl0eShuZXcgUGxheWVyQnVsbGV0KHRoaXMuZ3VuLCByb3RhdGlvbi50b1ZlY3RvcjMoKSkpO1xuXG4gICAgY29uc3QgbWFpbkFyZWEgPSB0aGlzLmVudGl0eS5hcmVhLnN0YXRlIGFzIE1haW5BcmVhO1xuICAgIG1haW5BcmVhLnBsYXllclNob290LnZvbHVtZSA9IDAuMTI1O1xuICAgIG1haW5BcmVhLnBsYXllclNob290LnBsYXkoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUZXN0IGlmIHRoZSBwbGF5ZXIgaGFzIGRpZWQgYW5kIGhhbmRsZSBpdCFcbiAgICovXG4gIHByaXZhdGUgdGVzdEZvckRlYXRoKCk6IHZvaWQge1xuICAgIGNvbnN0IGhlYWx0aCA9IHRoaXMuZW50aXR5LmFyZWEuZ2FtZS5yZXNvdXJjZXMuZ2V0UmVzb3VyY2U8SGVhbHRoPignaGVhbHRoJyk7XG4gICAgaWYgKCFoZWFsdGguaGFzSGVhbHRoTGVmdCgpKSB7XG4gICAgICB0aGlzLmVudGl0eS5kZXN0cm95KCk7XG5cbiAgICAgIC8vIERlc3Ryb3kgdGhlIEhVRFxuICAgICAgZm9yIChjb25zdCBodWQgb2YgdGhpcy5lbnRpdHkuYXJlYS5maW5kRW50aXRpZXMoJ2h1ZCcpKSB7XG4gICAgICAgIGh1ZC5kZXN0cm95KCk7XG4gICAgICB9XG5cbiAgICAgIC8vIFByZXBhcmUgdGhlIGRlYXRoIGFuaW1hdGlvblxuICAgICAgdGhpcy5lbnRpdHkuYXJlYS5jcmVhdGVFbnRpdHkobmV3IERlYXRoQW5pbWF0aW9uKCkpO1xuICAgIH1cbiAgfVxuXG4gIG9uVGltZXIoX3RpbWVySW5kZXg6IG51bWJlcik6IHZvaWQge31cblxuICBvbkRyYXcoX2cyZDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTogdm9pZCB7fVxufVxuIiwiZXhwb3J0IGVudW0gRG9vckNvbG9yIHtcbiAgUmVkLFxuICBZZWxsb3csXG4gIEdyZWVuLFxuICBCbHVlLFxufVxuIiwiaW1wb3J0IHsgTWFpbkFyZWEgfSBmcm9tICdhcmVhcy9NYWluQXJlYSc7XG5pbXBvcnQgeyBTcGhlcmVDb2xsaXNpb25NYXNrIH0gZnJvbSAnZW5naW5lL2NvbGxpc2lvbic7XG5pbXBvcnQgeyBFbnRpdHksIEVudGl0eVN0YXRlIH0gZnJvbSAnZW5naW5lL2VudGl0eSc7XG5pbXBvcnQgeyBHYW1lcGFkQnV0dG9uLCBLZXkgfSBmcm9tICdlbmdpbmUvaW5wdXQnO1xuaW1wb3J0IHsgRG9vckNvbG9yIH0gZnJvbSAnZW50aXRpZXMvRG9vckNvbG9yJztcbmltcG9ydCB7IEhVRCB9IGZyb20gJ2VudGl0aWVzL0hVRCc7XG5pbXBvcnQgeyBJbnZlbnRvcnkgfSBmcm9tICdyZXNvdXJjZXMvSW52ZW50b3J5JztcbmltcG9ydCB7IEFic3RyYWN0RG9vciB9IGZyb20gJy4vQWJzdHJhY3REb29yJztcbmltcG9ydCB7IERvb3JTdGF0ZSB9IGZyb20gJ3Jlc291cmNlcy9Eb29yU3RhdGUnO1xuaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuXG5jb25zdCBET09SX0NPTE9SX01BVEVSSUFMUzogUmVjb3JkPERvb3JDb2xvciwgVEhSRUUuTWF0ZXJpYWw+ID0ge1xuICBbRG9vckNvbG9yLlJlZF06IG5ldyBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbCh7IGNvbG9yOiAweGZmMDAwMCwgZW1pc3NpdmU6IDB4ZmYwMDAwLCBlbWlzc2l2ZUludGVuc2l0eTogMSB9KSxcbiAgW0Rvb3JDb2xvci5ZZWxsb3ddOiBuZXcgVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWwoeyBjb2xvcjogMHhmZmZmMDAsIGVtaXNzaXZlOiAweGZmZmYwMCwgZW1pc3NpdmVJbnRlbnNpdHk6IDEgfSksXG4gIFtEb29yQ29sb3IuR3JlZW5dOiBuZXcgVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWwoeyBjb2xvcjogMHgwMGZmMDAsIGVtaXNzaXZlOiAweDAwZmYwMCwgZW1pc3NpdmVJbnRlbnNpdHk6IDEgfSksXG4gIFtEb29yQ29sb3IuQmx1ZV06IG5ldyBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbCh7IGNvbG9yOiAweDAwMDBmZiwgZW1pc3NpdmU6IDB4MDAwMGZmLCBlbWlzc2l2ZUludGVuc2l0eTogMSB9KSxcbn07XG5cbi8qKlxuICogRG9vciBvYmplY3QgaW4gdGhlIG1hemVcbiAqL1xuZXhwb3J0IGNsYXNzIENvbG9yRG9vciBleHRlbmRzIEFic3RyYWN0RG9vciBpbXBsZW1lbnRzIEVudGl0eVN0YXRlIHtcbiAgcHVibGljIHJlYWRvbmx5IHRhZ3M6IHN0cmluZ1tdID0gWyd3YWxsJ107XG5cbiAgcHVibGljIHJlYWRvbmx5IGRvb3JDb2xvcjogRG9vckNvbG9yO1xuICBwcml2YXRlIGludGVyYWN0TWFzazogU3BoZXJlQ29sbGlzaW9uTWFzaztcblxuICBjb25zdHJ1Y3Rvcihyb3c6IG51bWJlciwgY29sdW1uOiBudW1iZXIsIGNvbG9yOiBEb29yQ29sb3IpIHtcbiAgICBzdXBlcihyb3csIGNvbHVtbiwgJ0Rvb3InKTtcbiAgICB0aGlzLmRvb3JDb2xvciA9IGNvbG9yO1xuICB9XG5cbiAgb25DcmVhdGVEb29yKCk6IHZvaWQge1xuICAgIC8vIFVwZGF0ZSB0aGUgbWF0ZXJpYWwgdG8gbWF0Y2ggdGhlIGtleSBjb2xvclxuICAgIHRoaXMuY29uZmlndXJlTWF0ZXJpYWxDb2xvcih0aGlzLmVudGl0eS5vYmplY3QuY2hpbGRyZW5bMF0uY2hpbGRyZW5bMV0gYXMgVEhSRUUuTWVzaCk7XG5cbiAgICAvLyBDb25maWd1cmUgaW50ZXJhY3Rpb24gbWFza3NcbiAgICB0aGlzLmludGVyYWN0TWFzayA9IG5ldyBTcGhlcmVDb2xsaXNpb25NYXNrKHRoaXMuZW50aXR5Lm9iamVjdCk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIHRoZSBkb29yIG1hdGVyaWFsIHRvIG1hdGNoIHRoZSBrZXkgY29sb3JcbiAgICovXG4gIHByaXZhdGUgY29uZmlndXJlTWF0ZXJpYWxDb2xvcihrZXk6IFRIUkVFLk1lc2gpOiB2b2lkIHtcbiAgICBjb25zdCBtYXRlcmlhbCA9IERPT1JfQ09MT1JfTUFURVJJQUxTW3RoaXMuZG9vckNvbG9yXTtcbiAgICBpZiAodHlwZW9mIG1hdGVyaWFsICE9PSAndW5kZWZpbmVkJykge1xuICAgICAga2V5Lm1hdGVyaWFsID0gbWF0ZXJpYWw7XG4gICAgfVxuICB9XG5cbiAgb25EZXN0cm95KCk6IHZvaWQge31cblxuICBvblN0ZXBEb29yKCk6IHZvaWQge1xuICAgIHRoaXMudGVzdEZvclBsYXllckludGVyYWN0aW9uKCk7XG4gIH1cblxuICAvKipcbiAgICogU2VlIGlmIHRoZSBwbGF5ZXIgaXMgY29sbGlkaW5nIHNvIGl0IGNhbiBoYW5kbGUgdXNlciBpbnRlcmFjdGlvblxuICAgKi9cbiAgcHJpdmF0ZSB0ZXN0Rm9yUGxheWVySW50ZXJhY3Rpb24oKTogdm9pZCB7XG4gICAgaWYgKHRoaXMub3Blbikge1xuICAgICAgcmV0dXJuOyAvLyBObyBtb3JlIG5lZWQgdG8gY2hlY2tcbiAgICB9XG5cbiAgICBjb25zdCBwbGF5ZXIgPSB0aGlzLmVudGl0eS5hcmVhLmZpbmRGaXJzdEVudGl0eSgncGxheWVyJyk7XG4gICAgaWYgKHBsYXllciA9PT0gbnVsbCB8fCAhdGhpcy5pbnRlcmFjdE1hc2suaXNDb2xsaWRpbmdXaXRoKHBsYXllci5tYXNrKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFNob3cgSFVEIG1lc3NhZ2VcbiAgICBjb25zdCBodWQgPSB0aGlzLmVudGl0eS5hcmVhLmZpbmRGaXJzdEVudGl0eSgnaHVkJykgYXMgRW50aXR5PEhVRD47XG4gICAgY29uc3QgaW52ZW50b3J5ID0gdGhpcy5lbnRpdHkuYXJlYS5nYW1lLnJlc291cmNlcy5nZXRSZXNvdXJjZTxJbnZlbnRvcnk+KCdpbnZlbnRvcnknKTtcbiAgICBjb25zdCBrZXlBdmFpbGFibGUgPSBpbnZlbnRvcnkuaGFzS2V5QXZhaWxhYmxlKHRoaXMuZG9vckNvbG9yKTtcbiAgICBpZiAoaHVkICE9PSBudWxsKSB7XG4gICAgICBpZiAoaHVkLnN0YXRlLm1lc3NhZ2UubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGNvbG9yID0gRG9vckNvbG9yW3RoaXMuZG9vckNvbG9yXS50b0xvd2VyQ2FzZSgpO1xuICAgICAgaHVkLnN0YXRlLm1lc3NhZ2UgPSBrZXlBdmFpbGFibGUgPyBgQWN0aW9uOiBVc2UgJHtjb2xvcn0ga2V5YCA6IGBOZWVkcyBhICR7Y29sb3J9IGtleWA7XG4gICAgfVxuXG4gICAgLy8gVGVzdCBmb3IgdGhlIGFjdHVhbCBhY3Rpb25cbiAgICBjb25zdCBpbnB1dCA9IHRoaXMuZW50aXR5LmFyZWEuZ2FtZS5pbnB1dDtcbiAgICBpZiAoKGlucHV0LmlzS2V5U3RhcnRlZChLZXkuRSkgfHwgaW5wdXQuaXNHYW1lcGFkQnV0dG9uU3RhcnRlZCgwLCBHYW1lcGFkQnV0dG9uLlhTcXVhcmUpKSAmJiBrZXlBdmFpbGFibGUpIHtcbiAgICAgIC8vIFVzZSB0aGUga2V5XG4gICAgICBpbnZlbnRvcnkudXNlS2V5KHRoaXMuZG9vckNvbG9yKTtcbiAgICAgIHRoaXMub3BlbkRvb3IoKTtcblxuICAgICAgLy8gTWFyayB0aGUgZG9vciBhcyBvcGVuIGluIHRoZSBzdGF0ZVxuICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLmVudGl0eS5hcmVhLmdhbWUucmVzb3VyY2VzLmdldFJlc291cmNlPERvb3JTdGF0ZT4oJ2Rvb3Itc3RhdGUnKTtcbiAgICAgIHN0YXRlLnNldENvbG9yZWREb29yT3BlbmVkKHRoaXMucm93LCB0aGlzLmNvbHVtbik7XG5cbiAgICAgIC8vIFBsYXkgdGhlIHNvdW5kXG4gICAgICBjb25zdCBtYWluQXJlYSA9IHRoaXMuZW50aXR5LmFyZWEuc3RhdGUgYXMgTWFpbkFyZWE7XG4gICAgICBtYWluQXJlYS5vcGVuRG9vci5wbGF5KCk7XG4gICAgfVxuICB9XG5cbiAgb25UaW1lcihfdGltZXJJbmRleDogbnVtYmVyKTogdm9pZCB7fVxuXG4gIG9uRHJhdyhfZzJkOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpOiB2b2lkIHt9XG59XG4iLCJpbXBvcnQgeyBNYWluQXJlYSB9IGZyb20gJ2FyZWFzL01haW5BcmVhJztcbmltcG9ydCB7IEVudGl0eSwgRW50aXR5U3RhdGUgfSBmcm9tICdlbmdpbmUvZW50aXR5JztcbmltcG9ydCB7IERvb3JDb2xvciB9IGZyb20gJ2VudGl0aWVzL0Rvb3JDb2xvcic7XG5pbXBvcnQgeyBTcGhlcmVDb2xsaXNpb25NYXNrIH0gZnJvbSAnZW5naW5lL2NvbGxpc2lvbic7XG5pbXBvcnQgeyByYW5kb21GbG9hdCB9IGZyb20gJ2VuZ2luZS9oZWxwZXJzJztcbmltcG9ydCB7IEludmVudG9yeSB9IGZyb20gJ3Jlc291cmNlcy9JbnZlbnRvcnknO1xuaW1wb3J0IHsgTWF6ZU9iamVjdCB9IGZyb20gJ2FyZWFzL01hemVPYmplY3QnO1xuaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuXG5jb25zdCBLRVlfQ09MT1JfTUFURVJJQUxTOiBSZWNvcmQ8RG9vckNvbG9yLCBUSFJFRS5NYXRlcmlhbD4gPSB7XG4gIFtEb29yQ29sb3IuUmVkXTogbmV3IFRIUkVFLk1lc2hTdGFuZGFyZE1hdGVyaWFsKHsgY29sb3I6IDB4ZmYwMDAwLCBlbWlzc2l2ZTogMHhmZjAwMDAsIGVtaXNzaXZlSW50ZW5zaXR5OiAwLjI1IH0pLFxuICBbRG9vckNvbG9yLlllbGxvd106IG5ldyBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbCh7IGNvbG9yOiAweGZmZmYwMCwgZW1pc3NpdmU6IDB4ZmZmZjAwLCBlbWlzc2l2ZUludGVuc2l0eTogMC4yNSB9KSxcbiAgW0Rvb3JDb2xvci5HcmVlbl06IG5ldyBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbCh7IGNvbG9yOiAweDAwZmYwMCwgZW1pc3NpdmU6IDB4MDBmZjAwLCBlbWlzc2l2ZUludGVuc2l0eTogMC4yNSB9KSxcbiAgW0Rvb3JDb2xvci5CbHVlXTogbmV3IFRIUkVFLk1lc2hTdGFuZGFyZE1hdGVyaWFsKHsgY29sb3I6IDB4MDAwMGZmLCBlbWlzc2l2ZTogMHgwMDAwZmYsIGVtaXNzaXZlSW50ZW5zaXR5OiAwLjI1IH0pLFxufTtcblxuLyoqXG4gKiBLZXkgdGhhdCBjYW4gb3BlbiBkb29yc1xuICovXG5leHBvcnQgY2xhc3MgS2V5IGltcGxlbWVudHMgRW50aXR5U3RhdGUge1xuICBwdWJsaWMgcmVhZG9ubHkgdGFnczogc3RyaW5nW10gPSBbJ2tleSddO1xuXG4gIHB1YmxpYyByZWFkb25seSBjb2xvcjogRG9vckNvbG9yO1xuXG4gIHByaXZhdGUgZW50aXR5OiBFbnRpdHk8dGhpcz47XG4gIHByaXZhdGUgcm93OiBudW1iZXI7XG4gIHByaXZhdGUgY29sdW1uOiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3Iocm93OiBudW1iZXIsIGNvbHVtbjogbnVtYmVyLCBjb2xvcjogRG9vckNvbG9yKSB7XG4gICAgdGhpcy5yb3cgPSByb3c7XG4gICAgdGhpcy5jb2x1bW4gPSBjb2x1bW47XG4gICAgdGhpcy5jb2xvciA9IGNvbG9yO1xuICB9XG5cbiAgb25DcmVhdGUoZW50aXR5OiBFbnRpdHk8dGhpcz4pOiB2b2lkIHtcbiAgICB0aGlzLmVudGl0eSA9IGVudGl0eTtcblxuICAgIC8vIENvbmZpZ3VyZSB0aGUgb2JqZWN0XG4gICAgY29uc3Qgb2JqZWN0ID0gZW50aXR5LmFyZWEuZ2FtZS5hc3NldHMuZ2V0T2JqZWN0KCdLZXknKS5jbG9uZSgpIGFzIFRIUkVFLk1lc2g7XG4gICAgb2JqZWN0LnBvc2l0aW9uLmNvcHkoKGVudGl0eS5hcmVhLnN0YXRlIGFzIE1haW5BcmVhKS50aWxlTG9jYXRpb25Ub1Bvc2l0aW9uKHRoaXMucm93LCB0aGlzLmNvbHVtbikpO1xuICAgIG9iamVjdC5wb3NpdGlvbi55ID0gMjtcbiAgICBvYmplY3Qucm90YXRpb24ueSA9IHJhbmRvbUZsb2F0KDAsIDIgKiBNYXRoLlBJKTtcbiAgICBvYmplY3Quc2NhbGUuc2V0KDAuNSwgMC4yNSwgMC4yNSk7XG4gICAgb2JqZWN0LmNhc3RTaGFkb3cgPSB0cnVlO1xuICAgIHRoaXMuZW50aXR5Lm9iamVjdCA9IG9iamVjdDtcblxuICAgIC8vIENvbmZpZ3VyZSBvYmplY3QgbWF0ZXJpYWxcbiAgICBjb25zdCBtYXRlcmlhbCA9IEtFWV9DT0xPUl9NQVRFUklBTFNbdGhpcy5jb2xvcl07XG4gICAgaWYgKHR5cGVvZiBtYXRlcmlhbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIG9iamVjdC5tYXRlcmlhbCA9IG1hdGVyaWFsO1xuICAgIH1cblxuICAgIC8vIENvbmZpZ3VyZSBvYmplY3QgbWFza1xuICAgIHRoaXMuZW50aXR5Lm1hc2sgPSBuZXcgU3BoZXJlQ29sbGlzaW9uTWFzayh0aGlzLmVudGl0eS5vYmplY3QpO1xuICB9XG5cbiAgb25EZXN0cm95KCk6IHZvaWQge1xuICAgIC8vIFJlbW92ZSB0aGUga2V5IGZyb20gdGhlIG1hemVcbiAgICBjb25zdCBtYWluQXJlYSA9IHRoaXMuZW50aXR5LmFyZWEuc3RhdGUgYXMgTWFpbkFyZWE7XG4gICAgbWFpbkFyZWEubWF6ZVt0aGlzLnJvd11bdGhpcy5jb2x1bW5dID0gTWF6ZU9iamVjdC5FbXB0eTtcblxuICAgIC8vIFVwZGF0ZSB0aGUgaW52ZW50b3J5XG4gICAgY29uc3QgaW52ZW50b3J5ID0gdGhpcy5lbnRpdHkuYXJlYS5nYW1lLnJlc291cmNlcy5nZXRSZXNvdXJjZTxJbnZlbnRvcnk+KCdpbnZlbnRvcnknKTtcbiAgICBpbnZlbnRvcnkuY29sbGVjdEtleSh0aGlzLmNvbG9yKTtcblxuICAgIC8vIFBsYXkgdGhlIHNvdW5kXG4gICAgbWFpbkFyZWEuY29sbGVjdEl0ZW0ucGxheSgpO1xuICB9XG5cbiAgb25TdGVwKCk6IHZvaWQge1xuICAgIC8vIFNwaW4gdG8gbWFrZSB0aGUga2V5IG1vcmUgbm90aWNhYmxlXG4gICAgdGhpcy5lbnRpdHkub2JqZWN0LnJvdGF0ZVkoTWF0aC5QSSAvIDI1Nik7XG5cbiAgICAvLyBUZXN0IGZvciBwbGF5ZXIgY29sbGlzaW9uIHRvIGNvbGxlY3QgdGhlIGtleVxuICAgIGNvbnN0IHBsYXllciA9IHRoaXMuZW50aXR5LmFyZWEuZmluZEZpcnN0RW50aXR5KCdwbGF5ZXInKTtcbiAgICBpZiAocGxheWVyICE9PSBudWxsICYmIHRoaXMuZW50aXR5LmlzQ29sbGlkaW5nV2l0aChwbGF5ZXIpKSB7XG4gICAgICB0aGlzLmVudGl0eS5kZXN0cm95KCk7XG4gICAgfVxuICB9XG5cbiAgb25UaW1lcihfdGltZXJJbmRleDogbnVtYmVyKTogdm9pZCB7fVxuXG4gIG9uRHJhdyhfZzJkOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpOiB2b2lkIHt9XG59XG4iLCJpbXBvcnQgeyBNYWluQXJlYSB9IGZyb20gJ2FyZWFzL01haW5BcmVhJztcbmltcG9ydCB7IEVudGl0eSwgRW50aXR5U3RhdGUgfSBmcm9tICdlbmdpbmUvZW50aXR5JztcblxuZXhwb3J0IGNsYXNzIEhpdEFuaW1hdGlvbiBpbXBsZW1lbnRzIEVudGl0eVN0YXRlIHtcbiAgcHVibGljIHJlYWRvbmx5IHRhZ3M6IHN0cmluZ1tdID0gWydoaXQtYW5pbWF0aW9uJ107XG5cbiAgcHJpdmF0ZSBlbnRpdHk6IEVudGl0eTx0aGlzPjtcblxuICBvbkNyZWF0ZShlbnRpdHk6IEVudGl0eTx0aGlzPik6IHZvaWQge1xuICAgIHRoaXMuZW50aXR5ID0gZW50aXR5O1xuICAgIHRoaXMuZW50aXR5LnNldFRpbWVyKDEsIDUsIGZhbHNlKTtcblxuICAgIC8vIFBsYXkgdGhlIHNvdW5kIGVmZmVjdFxuICAgIGNvbnN0IG1haW5BcmVhID0gdGhpcy5lbnRpdHkuYXJlYS5zdGF0ZSBhcyBNYWluQXJlYTtcbiAgICBtYWluQXJlYS5vb2ZTb3VuZC52b2x1bWUgPSAwLjU7XG4gICAgaWYgKCFtYWluQXJlYS5vb2ZTb3VuZC5pc1BsYXlpbmcpIHtcbiAgICAgIG1haW5BcmVhLm9vZlNvdW5kLnBsYXkoKTtcbiAgICB9XG4gIH1cblxuICBvbkRlc3Ryb3koKTogdm9pZCB7fVxuXG4gIG9uU3RlcCgpOiB2b2lkIHt9XG5cbiAgb25UaW1lcihfdGltZXJJbmRleDogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5lbnRpdHkuZGVzdHJveSgpO1xuICB9XG5cbiAgb25EcmF3KGcyZDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTogdm9pZCB7XG4gICAgLy8gRHJhdyBhIHJlZCBib3JkZXIgYXJvdW5kIHRoZSBzY3JlZW5cbiAgICBnMmQuZ2xvYmFsQWxwaGEgPSAwLjU7XG4gICAgZzJkLnN0cm9rZVN0eWxlID0gJ3JlZCc7XG4gICAgZzJkLmxpbmVXaWR0aCA9IDIwO1xuXG4gICAgZzJkLmJlZ2luUGF0aCgpO1xuICAgIGcyZC5yZWN0KDAsIDAsIHRoaXMuZW50aXR5LmFyZWEub3ZlcmxheVdpZHRoLCB0aGlzLmVudGl0eS5hcmVhLm92ZXJsYXlIZWlnaHQpO1xuICAgIGcyZC5zdHJva2UoKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgU3BoZXJlQ29sbGlzaW9uTWFzayB9IGZyb20gJ2VuZ2luZS9jb2xsaXNpb24nO1xuaW1wb3J0IHsgRW50aXR5LCBFbnRpdHlTdGF0ZSB9IGZyb20gJ2VuZ2luZS9lbnRpdHknO1xuaW1wb3J0IHsgRHJvbmUgfSBmcm9tICcuL0Ryb25lJztcbmltcG9ydCB7IEhlYWx0aCB9IGZyb20gJ3Jlc291cmNlcy9IZWFsdGgnO1xuaW1wb3J0IHsgSGl0QW5pbWF0aW9uIH0gZnJvbSAnZW50aXRpZXMvZWZmZWN0cy9IaXRBbmltYXRpb24nO1xuaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuXG5jb25zdCBNT1ZFTUVOVF9TUEVFRCA9IDAuNTtcbmNvbnN0IERFU1RST1lfVElDS1MgPSAyNTA7XG5jb25zdCBEQU1BR0UgPSAxO1xuXG5jb25zdCBCVUxMRVRfTUVTSCA9IG5ldyBUSFJFRS5NZXNoKG5ldyBUSFJFRS5TcGhlcmVHZW9tZXRyeSgpLCBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoeyBjb2xvcjogMHhmZmFhMDAgfSkpO1xuQlVMTEVUX01FU0guc2NhbGUuc2V0KDAuMTUsIDAuMTUsIDAuMTUpO1xuXG4vKipcbiAqIEJ1bGxldCB0aGF0IGlzIHNob3QgZnJvbSBhIGRyb25lXG4gKi9cbmV4cG9ydCBjbGFzcyBEcm9uZUJ1bGxldCBpbXBsZW1lbnRzIEVudGl0eVN0YXRlIHtcbiAgcHVibGljIHJlYWRvbmx5IHRhZ3M6IHN0cmluZ1tdID0gWydidWxsZXQnXTtcblxuICBwcml2YXRlIGVudGl0eTogRW50aXR5PHRoaXM+O1xuICBwcml2YXRlIHBvc2l0aW9uOiBUSFJFRS5WZWN0b3IzO1xuICBwcml2YXRlIHJvdGF0aW9uOiBUSFJFRS5FdWxlcjtcblxuICBjb25zdHJ1Y3RvcihzaG9vdEZyb206IEVudGl0eTxEcm9uZT4pIHtcbiAgICB0aGlzLnBvc2l0aW9uID0gc2hvb3RGcm9tLm9iamVjdC5wb3NpdGlvbi5jbG9uZSgpO1xuICAgIHRoaXMucm90YXRpb24gPSBzaG9vdEZyb20ub2JqZWN0LnJvdGF0aW9uLmNsb25lKCk7XG4gIH1cblxuICBvbkNyZWF0ZShlbnRpdHk6IEVudGl0eTx0aGlzPik6IHZvaWQge1xuICAgIHRoaXMuZW50aXR5ID0gZW50aXR5O1xuXG4gICAgLy8gQnVpbGQgdGhlIG9iamVjdFxuICAgIGNvbnN0IG9iamVjdCA9IEJVTExFVF9NRVNILmNsb25lKCk7XG4gICAgb2JqZWN0LnBvc2l0aW9uLmNvcHkodGhpcy5wb3NpdGlvbik7XG4gICAgb2JqZWN0LnJvdGF0aW9uLmNvcHkodGhpcy5yb3RhdGlvbik7XG4gICAgb2JqZWN0LnVwZGF0ZU1hdHJpeCgpO1xuICAgIHRoaXMuZW50aXR5Lm9iamVjdCA9IG9iamVjdDtcblxuICAgIC8vIEJ1aWxkIHRoZSBtYXNrXG4gICAgdGhpcy5lbnRpdHkubWFzayA9IG5ldyBTcGhlcmVDb2xsaXNpb25NYXNrKHRoaXMuZW50aXR5Lm9iamVjdCk7XG5cbiAgICAvLyBUaW1lciB0byBzcGVjaWZ5IHdoZW4gdG8gZGVzdHJveSB0aGUgYnVsbGV0XG4gICAgdGhpcy5lbnRpdHkuc2V0VGltZXIoMCwgREVTVFJPWV9USUNLUyk7XG4gIH1cblxuICBvbkRlc3Ryb3koKTogdm9pZCB7fVxuXG4gIG9uU3RlcCgpOiB2b2lkIHtcbiAgICB0aGlzLmVudGl0eS5vYmplY3QudHJhbnNsYXRlWChNT1ZFTUVOVF9TUEVFRCk7XG5cbiAgICB0aGlzLmVudGl0eS5tYXNrLnVwZGF0ZSh0aGlzLmVudGl0eS5vYmplY3QpO1xuICAgICh0aGlzLmVudGl0eS5tYXNrIGFzIFNwaGVyZUNvbGxpc2lvbk1hc2spLnNwaGVyZS5yYWRpdXMgLz0gMztcbiAgICB0aGlzLnRlc3RGb3JQbGF5ZXJDb2xsaXNpb24oKTtcbiAgICB0aGlzLnRlc3RGb3JXYWxsQ29sbGlzaW9uKCk7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIHBsYXllciBjb2xsaXNpb24gZm9yIGhlYWx0aFxuICAgKi9cbiAgcHJpdmF0ZSB0ZXN0Rm9yUGxheWVyQ29sbGlzaW9uKCkge1xuICAgIGNvbnN0IHBsYXllciA9IHRoaXMuZW50aXR5LmFyZWEuZmluZEZpcnN0RW50aXR5KCdwbGF5ZXInKTtcbiAgICBpZiAocGxheWVyID09PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZW50aXR5LmlzQ29sbGlkaW5nV2l0aChwbGF5ZXIpKSB7XG4gICAgICBjb25zdCBoZWFsdGggPSB0aGlzLmVudGl0eS5hcmVhLmdhbWUucmVzb3VyY2VzLmdldFJlc291cmNlPEhlYWx0aD4oJ2hlYWx0aCcpO1xuICAgICAgaGVhbHRoLmhpdChEQU1BR0UpO1xuICAgICAgdGhpcy5lbnRpdHkuYXJlYS5jcmVhdGVFbnRpdHkobmV3IEhpdEFuaW1hdGlvbigpKTtcbiAgICAgIHRoaXMuZW50aXR5LmRlc3Ryb3koKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRGVzdHJveSBhIGJ1bGxldCBpZiBpdCBoaXRzIGEgd2FsbFxuICAgKi9cbiAgcHJpdmF0ZSB0ZXN0Rm9yV2FsbENvbGxpc2lvbigpIHtcbiAgICBmb3IgKGNvbnN0IHdhbGwgb2YgdGhpcy5lbnRpdHkuYXJlYS5maW5kRW50aXRpZXMoJ3dhbGwnKSkge1xuICAgICAgaWYgKHRoaXMuZW50aXR5LmlzQ29sbGlkaW5nV2l0aCh3YWxsKSkge1xuICAgICAgICB0aGlzLmVudGl0eS5kZXN0cm95KCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBvblRpbWVyKF90aW1lckluZGV4OiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLmVudGl0eS5kZXN0cm95KCk7XG4gIH1cblxuICBvbkRyYXcoX2cyZDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTogdm9pZCB7fVxufVxuIiwiaW1wb3J0IHsgTWFpbkFyZWEgfSBmcm9tICdhcmVhcy9NYWluQXJlYSc7XG5pbXBvcnQgeyBFbnRpdHksIEVudGl0eVN0YXRlIH0gZnJvbSAnZW5naW5lL2VudGl0eSc7XG5cbi8qKlxuICogRXhwbG9zaW9uIEVmZmVjdFxuICovXG5leHBvcnQgY2xhc3MgRXhwbG9zaW9uIGltcGxlbWVudHMgRW50aXR5U3RhdGUge1xuICBwdWJsaWMgcmVhZG9ubHkgdGFnczogc3RyaW5nW10gPSBbJ2V4cGxvc2lvbiddO1xuXG4gIHByaXZhdGUgZW50aXR5OiBFbnRpdHk8dGhpcz47XG4gIHByaXZhdGUgcG9zaXRpb246IFRIUkVFLlZlY3RvcjM7XG4gIHByaXZhdGUgc2NhbGU6IG51bWJlcjtcbiAgcHJpdmF0ZSBzY2FsZUFuaW1hdGlvbiA9IE1hdGguUEkgLyAyO1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgZXhwbG9zaW9uIGVmZmVjdFxuICAgKlxuICAgKiBAcGFyYW0gcG9zaXRpb24gV29ybGQgKFgsWSxaKSBsb2NhdGlvbiBvZiB0aGUgZXhwbG9zaW9uXG4gICAqIEBwYXJhbSBzY2FsZSBTaXplIG9mIHRoZSBleHBsb3Npb25cbiAgICovXG4gIGNvbnN0cnVjdG9yKHBvc2l0aW9uOiBUSFJFRS5WZWN0b3IzLCBzY2FsZTogbnVtYmVyKSB7XG4gICAgdGhpcy5wb3NpdGlvbiA9IHBvc2l0aW9uO1xuICAgIHRoaXMuc2NhbGUgPSBzY2FsZTtcbiAgfVxuXG4gIG9uQ3JlYXRlKGVudGl0eTogRW50aXR5PHRoaXM+KTogdm9pZCB7XG4gICAgdGhpcy5lbnRpdHkgPSBlbnRpdHk7XG5cbiAgICBjb25zdCBvYmplY3QgPSB0aGlzLmVudGl0eS5hcmVhLmdhbWUuYXNzZXRzLmdldE9iamVjdCgnRXhwbG9zaW9uJykuY2xvbmUoKTtcbiAgICBvYmplY3QucG9zaXRpb24uY29weSh0aGlzLnBvc2l0aW9uKTtcbiAgICBvYmplY3Quc2NhbGUuc2V0KHRoaXMuc2NhbGUsIHRoaXMuc2NhbGUsIHRoaXMuc2NhbGUpO1xuICAgIHRoaXMuZW50aXR5Lm9iamVjdCA9IG9iamVjdDtcblxuICAgIC8vIFBsYXkgdGhlIHNvdW5kIGVmZmVjdFxuICAgIGNvbnN0IG1haW5BcmVhID0gdGhpcy5lbnRpdHkuYXJlYS5zdGF0ZSBhcyBNYWluQXJlYTtcbiAgICBtYWluQXJlYS5leHBsb3Npb24uYXVkaW8ucGxheWJhY2tSYXRlID0gMjtcbiAgICBtYWluQXJlYS5leHBsb3Npb24ucGxheSgpO1xuICB9XG5cbiAgb25EZXN0cm95KCk6IHZvaWQge31cblxuICBvblN0ZXAoKTogdm9pZCB7XG4gICAgLy8gU2NhbGUgdGhlIGV4cGxvc2lvbiB0byBjcmVhdGUgYSBjb29sIGFuaW1hdGlvblxuICAgIGNvbnN0IG5ld1NjYWxlID0gdGhpcy5zY2FsZSAqIE1hdGguc2luKHRoaXMuc2NhbGVBbmltYXRpb24pO1xuICAgIHRoaXMuZW50aXR5Lm9iamVjdC5zY2FsZS5zZXQobmV3U2NhbGUsIG5ld1NjYWxlLCBuZXdTY2FsZSk7XG4gICAgdGhpcy5zY2FsZUFuaW1hdGlvbiArPSBNYXRoLlBJIC8gMjQ7XG5cbiAgICAvLyBEZXN0b3J5IGFmdGVyIGEgZ2l2ZW4gYW1vdW50IG9mIHRpbWVcbiAgICBpZiAodGhpcy5zY2FsZUFuaW1hdGlvbiA+IE1hdGguUEkpIHtcbiAgICAgIHRoaXMuZW50aXR5LmRlc3Ryb3koKTtcbiAgICB9XG4gIH1cblxuICBvblRpbWVyKF90aW1lckluZGV4OiBudW1iZXIpOiB2b2lkIHt9XG5cbiAgb25EcmF3KF9nMmQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk6IHZvaWQge31cbn1cbiIsImltcG9ydCB7IE1haW5BcmVhIH0gZnJvbSAnYXJlYXMvTWFpbkFyZWEnO1xuaW1wb3J0IHsgU0NBTEVfQkFTRSB9IGZyb20gJ2FyZWFzL0Fic3RyYWN0TWF6ZUFyZWEnO1xuaW1wb3J0IHsgQm94Q29sbGlzaW9uTWFzayB9IGZyb20gJ2VuZ2luZS9jb2xsaXNpb24nO1xuaW1wb3J0IHsgRW50aXR5LCBFbnRpdHlTdGF0ZSB9IGZyb20gJ2VuZ2luZS9lbnRpdHknO1xuaW1wb3J0IHsgaXNBbmdsZUJldHdlZW4sIGlzQmFzaWNhbGx5SW50ZWdlciwgcGlja1JhbmRvbUFycmF5IH0gZnJvbSAnZW5naW5lL2hlbHBlcnMnO1xuaW1wb3J0IHsgTWF6ZU9iamVjdCB9IGZyb20gJ2FyZWFzL01hemVPYmplY3QnO1xuaW1wb3J0IHsgRHJvbmVCdWxsZXQgfSBmcm9tICcuL0Ryb25lQnVsbGV0JztcbmltcG9ydCB7IEV4cGxvc2lvbiB9IGZyb20gJ2VudGl0aWVzL2VmZmVjdHMvRXhwbG9zaW9uJztcbmltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcblxuY29uc3QgSEVBTFRIID0gMzA7XG5jb25zdCBNQVhfUkFOR0UgPSA0MDtcbmNvbnN0IE1PVkVNRU5UX1NQRUVEID0gMC4xO1xuY29uc3QgUk9UQVRJT05fU1BFRUQgPSBNYXRoLlBJIC8gNjQ7XG5cbmNvbnN0IENMQU1QX1RIUkVTSEhPTEQgPSAwLjAwMDE7XG5jb25zdCBST1RBVElPTl9USFJFU0hIT0xEID0gMC4wMDAxO1xuXG4vLyBTZXQgb2Ygb2JqZWN0IHRoYXQgYmxvY2sgdGhlIGRyb25lXG5jb25zdCBDQU5OT1RfTU9WRV9USFJPVUdIID0gbmV3IFNldChbTWF6ZU9iamVjdC5XYWxsLCBNYXplT2JqZWN0LkJpZ0Rvb3JdKTtcblxuLy8gRHJvbmUgU3RhdGU6XG4vL1xuLy8gW01vdmluZ10gLT4gW1R1cm5pbmddXG4vLyAgICBcXC0tLS0tLTwtLS0tLS9cbmVudW0gTW92ZW1lbnRTdGF0ZSB7XG4gIE1vdmluZyxcbiAgVHVybmluZyxcbn1cblxuLy8gRGlyZWN0aW9uIGN1cnJlbnRseSBtb3ZpbmdcbmVudW0gRGlyZWN0aW9uIHtcbiAgVXAsXG4gIERvd24sXG4gIExlZnQsXG4gIFJpZ2h0LFxufVxuXG4vLyBEYXRhIHRvIG1ha2Ugc29tZSBvZiB0aGUgcm90YXRpb24gYWxnb3JpdGhtcyBlYXNpZXJcbmludGVyZmFjZSBEaXJlY3Rpb25EYXRhIHtcbiAgb3Bwb3NpdGU6IERpcmVjdGlvbjsgLy8gT3Bwb3NpdGUgYW5nbGUgdG8gdGhpcyBkaXJlY3Rpb25cbiAgYW5nbGU6IG51bWJlcjsgLy8gQW5nbGUgZm9yIHRoaXMgZGlyZWN0aW9uXG4gIHJldmVyc2U6IERpcmVjdGlvbjsgLy8gV2hpY2ggbmV3IGRpcmVjdGlvbiBzaG91bGQgc3BpbiBjbG9ja3dpc2U/XG59XG5cbmNvbnN0IERJUkVDVElPTl9EQVRBOiBSZWNvcmQ8RGlyZWN0aW9uLCBEaXJlY3Rpb25EYXRhPiA9IHtcbiAgW0RpcmVjdGlvbi5VcF06IHsgb3Bwb3NpdGU6IERpcmVjdGlvbi5Eb3duLCBhbmdsZTogTWF0aC5QSSwgcmV2ZXJzZTogRGlyZWN0aW9uLlJpZ2h0IH0sXG4gIFtEaXJlY3Rpb24uRG93bl06IHsgb3Bwb3NpdGU6IERpcmVjdGlvbi5VcCwgYW5nbGU6IDAsIHJldmVyc2U6IERpcmVjdGlvbi5MZWZ0IH0sXG4gIFtEaXJlY3Rpb24uTGVmdF06IHsgb3Bwb3NpdGU6IERpcmVjdGlvbi5SaWdodCwgYW5nbGU6ICgzICogTWF0aC5QSSkgLyAyLCByZXZlcnNlOiBEaXJlY3Rpb24uVXAgfSxcbiAgW0RpcmVjdGlvbi5SaWdodF06IHsgb3Bwb3NpdGU6IERpcmVjdGlvbi5MZWZ0LCBhbmdsZTogTWF0aC5QSSAvIDIsIHJldmVyc2U6IERpcmVjdGlvbi5Eb3duIH0sXG59O1xuXG4vKipcbiAqIERyb25lIGVuZW15IHRoYXQgZmxpZXMgYXJvdW5kIHRoZSBtYXplXG4gKi9cbmV4cG9ydCBjbGFzcyBEcm9uZSBpbXBsZW1lbnRzIEVudGl0eVN0YXRlIHtcbiAgcHVibGljIHJlYWRvbmx5IHRhZ3M6IHN0cmluZ1tdID0gWydkcm9uZSddO1xuXG4gIHByaXZhdGUgZW50aXR5OiBFbnRpdHk8dGhpcz47XG5cbiAgLy8gUG9zaXRpb24gaW4gdGhlIG1hemVcbiAgcHJpdmF0ZSByb3c6IG51bWJlcjtcbiAgcHJpdmF0ZSBjb2x1bW46IG51bWJlcjtcblxuICAvLyBIYW5kbGUgdGhlIG1vdmVtZW50IGxvZ2ljXG4gIHByaXZhdGUgc3RhdGU6IE1vdmVtZW50U3RhdGUgPSBNb3ZlbWVudFN0YXRlLlR1cm5pbmc7XG4gIHByaXZhdGUgZGlyOiBEaXJlY3Rpb24gPSBEaXJlY3Rpb24uRG93bjtcbiAgcHJpdmF0ZSByb3REaXIgPSBST1RBVElPTl9TUEVFRDsgLy8gRGlyZWN0aW9uIG9mIHJvdGF0aW9uXG4gIHByaXZhdGUgYW5nbGUgPSAwO1xuXG4gIHByaXZhdGUgaGVhbHRoID0gSEVBTFRIO1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBkcm9uZSBhdCBhIGdpdmVuIHBvc2l0aW9uIGluc2lkZSB0aGUgbWF6ZVxuICAgKi9cbiAgY29uc3RydWN0b3Iocm93OiBudW1iZXIsIGNvbHVtbjogbnVtYmVyKSB7XG4gICAgdGhpcy5yb3cgPSByb3c7XG4gICAgdGhpcy5jb2x1bW4gPSBjb2x1bW47XG4gIH1cblxuICBvbkNyZWF0ZShlbnRpdHk6IEVudGl0eTx0aGlzPik6IHZvaWQge1xuICAgIHRoaXMuZW50aXR5ID0gZW50aXR5O1xuXG4gICAgLy8gRHJvbmUgb2JqZWN0XG4gICAgY29uc3Qgb2JqZWN0ID0gZW50aXR5LmFyZWEuZ2FtZS5hc3NldHMuZ2V0T2JqZWN0KCdEcm9uZScpLmNsb25lKCk7XG4gICAgb2JqZWN0LnBvc2l0aW9uLmNvcHkoKGVudGl0eS5hcmVhLnN0YXRlIGFzIE1haW5BcmVhKS50aWxlTG9jYXRpb25Ub1Bvc2l0aW9uKHRoaXMucm93LCB0aGlzLmNvbHVtbikpO1xuICAgIG9iamVjdC5wb3NpdGlvbi55ID0gMTA7XG4gICAgb2JqZWN0LmNoaWxkcmVuWzBdLmNhc3RTaGFkb3cgPSB0cnVlO1xuICAgIHRoaXMuZW50aXR5Lm9iamVjdCA9IG9iamVjdDtcblxuICAgIC8vIENvbGxpc2lvbiBNYXNrXG4gICAgdGhpcy5lbnRpdHkubWFzayA9IG5ldyBCb3hDb2xsaXNpb25NYXNrKG9iamVjdC5jaGlsZHJlbls0XSk7XG5cbiAgICAvLyBUaW1lciB0byBzaG9vdCBtYXNrXG4gICAgdGhpcy5lbnRpdHkuc2V0VGltZXIoMCwgMTAsIHRydWUpO1xuXG4gICAgLy8gU3RhcnQgdGhlIG1hemUgbW92ZW1lbnRcbiAgICB0aGlzLnBpY2tOZXdEaXJlY3Rpb24oKTtcbiAgfVxuXG4gIG9uRGVzdHJveSgpOiB2b2lkIHt9XG5cbiAgb25TdGVwKCk6IHZvaWQge1xuICAgIHRoaXMuZW50aXR5Lm1hc2sudXBkYXRlKHRoaXMuZW50aXR5Lm9iamVjdC5jaGlsZHJlbls0XSk7XG4gICAgdGhpcy51cGRhdGVNYXplUG9zaXRpb24oKTtcblxuICAgIGlmICh0aGlzLmNhblNlZVBsYXllcigpICYmIHRoaXMuaW5DZW50ZXJPZlRpbGUoKSkge1xuICAgICAgdGhpcy5wb2ludFRvd2FyZHNQbGF5ZXIoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5tb3ZlRHJvbmUoKTtcbiAgICB9XG5cbiAgICB0aGlzLmNoZWNrRm9yQnVsbGV0Q29sbGlzaW9uKCk7XG4gICAgdGhpcy5jaGVja0hlYWx0aCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbXB1dGUgdGhlIHRpbGUgcG9zaXRpb24gb2YgdGhlIGVudGl0eSBpbiB0aGUgbWF6ZVxuICAgKi9cbiAgcHJpdmF0ZSB1cGRhdGVNYXplUG9zaXRpb24oKTogdm9pZCB7XG4gICAgY29uc3QgbWFpbkFyZWEgPSB0aGlzLmVudGl0eS5hcmVhLnN0YXRlIGFzIE1haW5BcmVhO1xuICAgIFt0aGlzLnJvdywgdGhpcy5jb2x1bW5dID0gbWFpbkFyZWEucG9zaXRpb25Ub1RpbGVMb2NhdGlvbih0aGlzLmVudGl0eS5vYmplY3QucG9zaXRpb24pO1xuICB9XG5cbiAgLyoqXG4gICAqIFRlc3QgaWYgdGhlIG9iamVjdCBjYW4gc2VlIHRoZSBwbGF5ZXJcbiAgICovXG4gIHByaXZhdGUgY2FuU2VlUGxheWVyKCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IHBsYXllciA9IHRoaXMuZW50aXR5LmFyZWEuZmluZEZpcnN0RW50aXR5KCdwbGF5ZXInKTtcbiAgICBpZiAocGxheWVyID09PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQ29tcHV0ZSBhIHZlY3RvciBmcm9tIHRoZSBkcm9uZSB0byB0aGUgcGxheWVyXG4gICAgY29uc3QgdmVjdG9yID0gcGxheWVyLm9iamVjdC5wb3NpdGlvbi5jbG9uZSgpO1xuICAgIHZlY3Rvci5zdWIodGhpcy5lbnRpdHkub2JqZWN0LnBvc2l0aW9uKTtcblxuICAgIC8vIENhbiBvbmx5IHNlZSBwbGF5ZXIgd2l0aGluIGEgZGlzdGFuY2VcbiAgICBjb25zdCBkaXN0YW5jZSA9IHZlY3Rvci5sZW5ndGgoKTtcbiAgICBpZiAoZGlzdGFuY2UgPj0gTUFYX1JBTkdFKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gTWFrZSBzdXJlIHRoZSByYXkgZG9lc24ndCBjb2xsaWRlIHdpdGggYW55IHdhbGxzIGJlZm9yZSB0aGUgcGxheWVyXG4gICAgY29uc3QgcmF5Y2FzdGVyID0gbmV3IFRIUkVFLlJheWNhc3Rlcih0aGlzLmVudGl0eS5vYmplY3QucG9zaXRpb24sIHZlY3Rvci5ub3JtYWxpemUoKSwgMCwgZGlzdGFuY2UpO1xuICAgIHJldHVybiB0aGlzLmVudGl0eS5hcmVhLmZpbmRFbnRpdGllcygnd2FsbCcpLmV2ZXJ5KCh3YWxsKSA9PiB7XG4gICAgICBjb25zdCBpbnRlcnNlY3Rpb24gPSB3YWxsLm1hc2suaW50ZXJzZWN0UmF5KHJheWNhc3Rlci5yYXkpO1xuICAgICAgaWYgKGludGVyc2VjdGlvbiA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmF5RGlzdGFuY2UgPSBpbnRlcnNlY3Rpb24uZGlzdGFuY2VUbyh0aGlzLmVudGl0eS5vYmplY3QucG9zaXRpb24pO1xuICAgICAgcmV0dXJuIHJheURpc3RhbmNlID49IGRpc3RhbmNlO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFRlc3QgaWYgdGhlIGRyb25lIGlzIGluIHRoZSBjZW50ZXIgb2YgYSB0aWxlXG4gICAqL1xuICBwcml2YXRlIGluQ2VudGVyT2ZUaWxlKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAoXG4gICAgICBpc0Jhc2ljYWxseUludGVnZXIodGhpcy5lbnRpdHkub2JqZWN0LnBvc2l0aW9uLnggLyBTQ0FMRV9CQVNFLCBDTEFNUF9USFJFU0hIT0xEKSAmJlxuICAgICAgaXNCYXNpY2FsbHlJbnRlZ2VyKHRoaXMuZW50aXR5Lm9iamVjdC5wb3NpdGlvbi56IC8gU0NBTEVfQkFTRSwgQ0xBTVBfVEhSRVNISE9MRClcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFBvaW50IHRvd2FyZHMgdGhlIHBsYXllclxuICAgKi9cbiAgcHJpdmF0ZSBwb2ludFRvd2FyZHNQbGF5ZXIoKTogdm9pZCB7XG4gICAgY29uc3QgcGxheWVyID0gdGhpcy5lbnRpdHkuYXJlYS5maW5kRmlyc3RFbnRpdHkoJ3BsYXllcicpO1xuICAgIGlmIChwbGF5ZXIgPT09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB2ZWN0b3IgPSB0aGlzLmVudGl0eS5vYmplY3QucG9zaXRpb24uY2xvbmUoKTtcbiAgICB2ZWN0b3Iuc3ViKHBsYXllci5vYmplY3QucG9zaXRpb24pO1xuXG4gICAgY29uc3QgaG9yQW5nbGUgPSBNYXRoLmF0YW4yKC12ZWN0b3IueiwgdmVjdG9yLngpICsgTWF0aC5QSTtcbiAgICBjb25zdCBob3JEaXN0ID0gTWF0aC5zcXJ0KHZlY3Rvci56ICogdmVjdG9yLnogKyB2ZWN0b3IueCAqIHZlY3Rvci54KTtcbiAgICBjb25zdCB2ZXJBbmdsZSA9IC1NYXRoLmF0YW4yKHZlY3Rvci55LCBob3JEaXN0KTtcblxuICAgIGNvbnN0IGV1bGVyID0gbmV3IFRIUkVFLkV1bGVyKDAsIGhvckFuZ2xlLCB2ZXJBbmdsZSwgJ1lYWicpO1xuICAgIHRoaXMuZW50aXR5Lm9iamVjdC5xdWF0ZXJuaW9uLnNldEZyb21FdWxlcihldWxlcik7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIGRyb25lIG1vdmVtZW50XG4gICAqL1xuICBwcml2YXRlIG1vdmVEcm9uZSgpIHtcbiAgICAvLyBHbyBiYWNrIHRvIHRoZSBkZWZhdWx0IHJvdGF0aW9uXG4gICAgdGhpcy5lbnRpdHkub2JqZWN0LnJvdGF0aW9uLnNldCgwLCB0aGlzLmFuZ2xlLCAwKTtcblxuICAgIHN3aXRjaCAodGhpcy5zdGF0ZSkge1xuICAgICAgLy8gTW92ZSB0aGUgZW50aXR5IGZvcndhcmRcbiAgICAgIGNhc2UgTW92ZW1lbnRTdGF0ZS5Nb3Zpbmc6IHtcbiAgICAgICAgdGhpcy5lbnRpdHkub2JqZWN0LnRyYW5zbGF0ZVgoTU9WRU1FTlRfU1BFRUQpO1xuXG4gICAgICAgIC8vIFBpY2sgYSBuZXcgZGlyZWN0aW9uIGF0IGV2ZXJ5IHRpbGVcbiAgICAgICAgaWYgKHRoaXMuaW5DZW50ZXJPZlRpbGUoKSkge1xuICAgICAgICAgIGNvbnN0IG1haW5BcmVhID0gdGhpcy5lbnRpdHkuYXJlYS5zdGF0ZSBhcyBNYWluQXJlYTtcbiAgICAgICAgICBjb25zdCBwb3NpdGlvbiA9IG1haW5BcmVhLnRpbGVMb2NhdGlvblRvUG9zaXRpb24odGhpcy5yb3csIHRoaXMuY29sdW1uKTtcbiAgICAgICAgICB0aGlzLmVudGl0eS5vYmplY3QucG9zaXRpb24ueCA9IHBvc2l0aW9uLng7XG4gICAgICAgICAgdGhpcy5lbnRpdHkub2JqZWN0LnBvc2l0aW9uLnogPSBwb3NpdGlvbi56O1xuXG4gICAgICAgICAgdGhpcy5waWNrTmV3RGlyZWN0aW9uKCk7XG4gICAgICAgICAgdGhpcy5zdGF0ZSA9IE1vdmVtZW50U3RhdGUuVHVybmluZztcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgLy8gVHVybiB0aGUgZW50aXR5XG4gICAgICBjYXNlIE1vdmVtZW50U3RhdGUuVHVybmluZzoge1xuICAgICAgICBjb25zdCBkaXJBbmdsZSA9IERJUkVDVElPTl9EQVRBW3RoaXMuZGlyXS5hbmdsZTtcbiAgICAgICAgaWYgKGlzQW5nbGVCZXR3ZWVuKHRoaXMuYW5nbGUsIGRpckFuZ2xlIC0gUk9UQVRJT05fVEhSRVNISE9MRCwgZGlyQW5nbGUgKyBST1RBVElPTl9USFJFU0hIT0xEKSkge1xuICAgICAgICAgIC8vIENsYW1wIHRvIHRoZSBjb3JyZWN0IGFuZ2xlXG4gICAgICAgICAgdGhpcy5hbmdsZSA9IGRpckFuZ2xlO1xuXG4gICAgICAgICAgLy8gTm93IG1vdmUgaW4gdGhhdCBkaXJlY3Rpb25cbiAgICAgICAgICB0aGlzLnN0YXRlID0gTW92ZW1lbnRTdGF0ZS5Nb3Zpbmc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gS2VlcCBzcGlubmluZ1xuICAgICAgICAgIHRoaXMuYW5nbGUgKz0gdGhpcy5yb3REaXI7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFBpY2sgYSBuZXcgcmFuZG9tIGRpcmVjdGlvbiBmb3IgdGhlIGVudGl0eVxuICAgKi9cbiAgcHJpdmF0ZSBwaWNrTmV3RGlyZWN0aW9uKCkge1xuICAgIC8vIEZpZ3VyZSBvdXQgZGlyZWN0aW9ucyBhdmFpbGFibGVcbiAgICBjb25zdCBtYWluQXJlYSA9IHRoaXMuZW50aXR5LmFyZWEuc3RhdGUgYXMgTWFpbkFyZWE7XG4gICAgY29uc3QgYXZhaWxhYmxlID0gW107XG4gICAgaWYgKCFDQU5OT1RfTU9WRV9USFJPVUdILmhhcyhtYWluQXJlYS5tYXplW3RoaXMucm93IC0gMV1bdGhpcy5jb2x1bW5dKSkge1xuICAgICAgYXZhaWxhYmxlLnB1c2goRGlyZWN0aW9uLlVwKTtcbiAgICB9XG4gICAgaWYgKCFDQU5OT1RfTU9WRV9USFJPVUdILmhhcyhtYWluQXJlYS5tYXplW3RoaXMucm93ICsgMV1bdGhpcy5jb2x1bW5dKSkge1xuICAgICAgYXZhaWxhYmxlLnB1c2goRGlyZWN0aW9uLkRvd24pO1xuICAgIH1cbiAgICBpZiAoIUNBTk5PVF9NT1ZFX1RIUk9VR0guaGFzKG1haW5BcmVhLm1hemVbdGhpcy5yb3ddW3RoaXMuY29sdW1uIC0gMV0pKSB7XG4gICAgICBhdmFpbGFibGUucHVzaChEaXJlY3Rpb24uTGVmdCk7XG4gICAgfVxuICAgIGlmICghQ0FOTk9UX01PVkVfVEhST1VHSC5oYXMobWFpbkFyZWEubWF6ZVt0aGlzLnJvd11bdGhpcy5jb2x1bW4gKyAxXSkpIHtcbiAgICAgIGF2YWlsYWJsZS5wdXNoKERpcmVjdGlvbi5SaWdodCk7XG4gICAgfVxuXG4gICAgLy8gT25seSBvcHRpb24gYXZhaWxhYmxlLCBzbyBwaWNrIGl0XG4gICAgLy8gIFNwZWNpYWwgY2FzZSBpZiB0aGVyZSBhcmUgTk8gZGlyZWN0aW9ucywgcm90YXRlIGZvcmV2ZXJcbiAgICBpZiAoYXZhaWxhYmxlLmxlbmd0aCA8PSAxKSB7XG4gICAgICB0aGlzLmRpciA9IGF2YWlsYWJsZVswXSB8fCBESVJFQ1RJT05fREFUQVt0aGlzLmRpcl0ub3Bwb3NpdGU7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gUGljayBhIHJhbmRvbSBuZXcgZGlyZWN0aW9uXG4gICAgLy8gTm90IGFsbG93ZWQgdG8gbWFrZSAxODAgZGVncmVlIHR1cm4gaW4gYSBoYWxsd2F5XG4gICAgY29uc3QgY3VycmVudERpciA9IHRoaXMuZGlyO1xuICAgIGNvbnN0IG9wcG9zaXRlRGlyID0gRElSRUNUSU9OX0RBVEFbdGhpcy5kaXJdLm9wcG9zaXRlO1xuICAgIGNvbnN0IG5ld0RpciA9IHBpY2tSYW5kb21BcnJheShhdmFpbGFibGUuZmlsdGVyKChkaXIpID0+IGRpciAhPT0gb3Bwb3NpdGVEaXIpKTtcblxuICAgIC8vIFdoZW4gdG8gcm90YXRlIGNsb2Nrd2lzZSB2ZXJzdXMgY291bnRlci1jbG9ja3dpc2VcbiAgICB0aGlzLnJvdERpciA9IERJUkVDVElPTl9EQVRBW2N1cnJlbnREaXJdLnJldmVyc2UgPT09IG5ld0RpciA/IC1ST1RBVElPTl9TUEVFRCA6IFJPVEFUSU9OX1NQRUVEO1xuICAgIHRoaXMuZGlyID0gbmV3RGlyO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGZvciBjb2xsaXNpb25zIHdpdGggYW55IG9mIHRoZSBwbGF5ZXIgYnVsbGV0c1xuICAgKi9cbiAgcHJpdmF0ZSBjaGVja0ZvckJ1bGxldENvbGxpc2lvbigpOiB2b2lkIHtcbiAgICBmb3IgKGNvbnN0IGJ1bGxldCBvZiB0aGlzLmVudGl0eS5hcmVhLmZpbmRFbnRpdGllcygncGxheWVyLWJ1bGxldCcpKSB7XG4gICAgICBpZiAodGhpcy5lbnRpdHkuaXNDb2xsaWRpbmdXaXRoKGJ1bGxldCkpIHtcbiAgICAgICAgYnVsbGV0LmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5oZWFsdGggLT0gMTtcblxuICAgICAgICAvLyBQbGF5IHRoZSBzb3VuZFxuICAgICAgICBjb25zdCBtYWluQXJlYSA9IHRoaXMuZW50aXR5LmFyZWEuc3RhdGUgYXMgTWFpbkFyZWE7XG4gICAgICAgIG1haW5BcmVhLmhpdE9iamVjdC52b2x1bWUgPSAwLjEyNTtcbiAgICAgICAgbWFpbkFyZWEuaGl0T2JqZWN0LnBsYXkoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgdGhlIGhlYWx0aCBoYXMgZGVzdHJveWVkIHRoZSByb2NrXG4gICAqL1xuICBwcml2YXRlIGNoZWNrSGVhbHRoKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmhlYWx0aCA8PSAwKSB7XG4gICAgICB0aGlzLmVudGl0eS5kZXN0cm95KCk7XG5cbiAgICAgIC8vIFNwYXduIHRoZSBleHBsb3Npb25cbiAgICAgIHRoaXMuZW50aXR5LmFyZWEuY3JlYXRlRW50aXR5KG5ldyBFeHBsb3Npb24odGhpcy5lbnRpdHkub2JqZWN0LnBvc2l0aW9uLCAyKSk7XG4gICAgfVxuICB9XG5cbiAgb25UaW1lcih0aW1lckluZGV4OiBudW1iZXIpOiB2b2lkIHtcbiAgICBpZiAodGltZXJJbmRleCA9PT0gMCAmJiB0aGlzLmNhblNlZVBsYXllcigpICYmIHRoaXMuaW5DZW50ZXJPZlRpbGUoKSkge1xuICAgICAgLy8gU2hvb3QgYXQgdGhlIHBsYXllclxuICAgICAgdGhpcy5lbnRpdHkuYXJlYS5jcmVhdGVFbnRpdHkobmV3IERyb25lQnVsbGV0KHRoaXMuZW50aXR5KSk7XG5cbiAgICAgIC8vIFBsYXkgdGhlIHNvdW5kXG4gICAgICBjb25zdCBtYWluQXJlYSA9IHRoaXMuZW50aXR5LmFyZWEuc3RhdGUgYXMgTWFpbkFyZWE7XG4gICAgICBtYWluQXJlYS5kcm9uZVNob290LnZvbHVtZSA9IDAuMTI1O1xuICAgICAgbWFpbkFyZWEuZHJvbmVTaG9vdC5wbGF5KCk7XG4gICAgfVxuICB9XG5cbiAgb25EcmF3KF9nMmQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk6IHZvaWQge31cbn1cbiIsImV4cG9ydCBlbnVtIEVsZWN0cmljQm94VHlwZSB7XG4gIEEsXG4gIEIsXG4gIEMsXG59XG4iLCJpbXBvcnQgeyBNYWluQXJlYSB9IGZyb20gJ2FyZWFzL01haW5BcmVhJztcbmltcG9ydCB7IE1hemVPYmplY3QgfSBmcm9tICdhcmVhcy9NYXplT2JqZWN0JztcbmltcG9ydCB7IEVudGl0eSwgRW50aXR5U3RhdGUgfSBmcm9tICdlbmdpbmUvZW50aXR5JztcbmltcG9ydCB7IGNsYW1wIH0gZnJvbSAnZW5naW5lL2hlbHBlcnMnO1xuaW1wb3J0IHsgR2FtZXBhZEJ1dHRvbiwgS2V5IH0gZnJvbSAnZW5naW5lL2lucHV0JztcbmltcG9ydCB7IEhlYWx0aCB9IGZyb20gJ3Jlc291cmNlcy9IZWFsdGgnO1xuaW1wb3J0IHsgSW52ZW50b3J5IH0gZnJvbSAncmVzb3VyY2VzL0ludmVudG9yeSc7XG5pbXBvcnQgeyBEb29yQ29sb3IgfSBmcm9tICcuL0Rvb3JDb2xvcic7XG5pbXBvcnQgeyBEb29yU3RhdGUgfSBmcm9tICdyZXNvdXJjZXMvRG9vclN0YXRlJztcbmltcG9ydCB7IEVsZWN0cmljQm94VHlwZSB9IGZyb20gJy4vRWxlY3RyaWNCb3hUeXBlJztcbmltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcblxuLy8gTWFwIGRyYXdpbmcgZmxhZ3NcbmNvbnN0IFRJTEVfU0laRV9QWCA9IDE2O1xuY29uc3QgTUFSR0lOX1BYID0gNDtcbmNvbnN0IE1BUF9USUxFU19WSVNJQkxFID0gOTsgLyogOXg5IFNxdWFyZSBUaWxlcyAqL1xuY29uc3QgTUFQX1RJTEVTX1ZJU0lUID0gMzsgLyogUGxheWVyIHVuY292ZXJzIG54biB0aWxlcyAqL1xuXG4vLyBBbmNob3JzIGZvciB0aGUgZGlzcGxheVxuY29uc3QgSFVEX0xFRlQgPSAxMDtcbmNvbnN0IEhVRF9UT1AgPSAxMDtcbmNvbnN0IEhVRF9SSUdIVCA9IDEwO1xuY29uc3QgSFVEX0JPVFRPTSA9IDIwO1xuY29uc3QgTUFQX01BUkdJTiA9IDE1O1xuXG4vLyBDb2xvcnNcbmNvbnN0IEdSQVNTX0NPTE9SID0gJyNhMGQ5MTQnO1xuY29uc3QgT1VUU0lERV9DT0xPUiA9ICcjYTBhOTE0JztcbmNvbnN0IFdBTExfQ09MT1IgPSAnIzZiNjc2NCc7XG5jb25zdCBVTlZJU0lURURfQ09MT1IgPSAnIzNiM2IzYic7XG5jb25zdCBEUk9ORV9DT0xPUiA9ICdsaWdodGdyZXknO1xuXG4vLyBMb29rdXAgdGFibGUgZm9yIG1hcCBvYmplY3RzXG50eXBlIERyYXdGdW5jdGlvbiA9IChcbiAgZzJkOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsXG4gIHg6IG51bWJlcixcbiAgeTogbnVtYmVyLFxuICByb3c6IG51bWJlcixcbiAgY29sOiBudW1iZXIsXG4gIGVudGl0eTogRW50aXR5PEhVRD4sXG4pID0+IHZvaWQ7XG5cbmNvbnN0IE1BUF9EUkFXX0ZVTkNUSU9OUzogeyBbSyBpbiBNYXplT2JqZWN0XT86IERyYXdGdW5jdGlvbiB9ID0ge1xuICBbTWF6ZU9iamVjdC5XYWxsXTogbWFwRHJhd1dhbGwsXG4gIFtNYXplT2JqZWN0LkVuZXJneV06IG1hcERyYXdJY29uKCdFbmVyZ3knKSxcbiAgW01hemVPYmplY3QuUmVkRG9vcl06IG1hcERyYXdEb29yKCdyZWQnLCBjaGVja0NvbG9yZWREb29yKSxcbiAgW01hemVPYmplY3QuWWVsbG93RG9vcl06IG1hcERyYXdEb29yKCd5ZWxsb3cnLCBjaGVja0NvbG9yZWREb29yKSxcbiAgW01hemVPYmplY3QuR3JlZW5Eb29yXTogbWFwRHJhd0Rvb3IoJ2dyZWVuJywgY2hlY2tDb2xvcmVkRG9vciksXG4gIFtNYXplT2JqZWN0LkJsdWVEb29yXTogbWFwRHJhd0Rvb3IoJ2JsdWUnLCBjaGVja0NvbG9yZWREb29yKSxcbiAgW01hemVPYmplY3QuUmVkS2V5XTogbWFwRHJhd0ljb24oJ1JlZEtleScpLFxuICBbTWF6ZU9iamVjdC5ZZWxsb3dLZXldOiBtYXBEcmF3SWNvbignWWVsbG93S2V5JyksXG4gIFtNYXplT2JqZWN0LkdyZWVuS2V5XTogbWFwRHJhd0ljb24oJ0dyZWVuS2V5JyksXG4gIFtNYXplT2JqZWN0LkJsdWVLZXldOiBtYXBEcmF3SWNvbignQmx1ZUtleScpLFxuICBbTWF6ZU9iamVjdC5CYXR0ZXJ5XTogbWFwRHJhd0ljb24oJ0JhdHRlcnknKSxcbiAgW01hemVPYmplY3QuTGV2ZXJdOiBtYXBEcmF3TGV2ZXJJY29uKCksXG4gIFtNYXplT2JqZWN0LlRvZ2dsZURvb3JdOiBtYXBEcmF3RG9vcignb3JhbmdlJywgY2hlY2tUb2dnbGVEb29yKCkpLFxuICBbTWF6ZU9iamVjdC5JbnZlcnNlVG9nZ2xlRG9vcl06IG1hcERyYXdEb29yKCdvcmFuZ2UnLCBjaGVja1RvZ2dsZURvb3IodHJ1ZSkpLFxuICBbTWF6ZU9iamVjdC5BRG9vcl06IG1hcERyYXdEb29yKCdncmV5JywgY2hlY2tFbGVjdHJpY0Rvb3IoRWxlY3RyaWNCb3hUeXBlLkEpKSxcbiAgW01hemVPYmplY3QuQkRvb3JdOiBtYXBEcmF3RG9vcignZ3JleScsIGNoZWNrRWxlY3RyaWNEb29yKEVsZWN0cmljQm94VHlwZS5CKSksXG4gIFtNYXplT2JqZWN0LkNEb29yXTogbWFwRHJhd0Rvb3IoJ2dyZXknLCBjaGVja0VsZWN0cmljRG9vcihFbGVjdHJpY0JveFR5cGUuQykpLFxuICBbTWF6ZU9iamVjdC5BQm94XTogbWFwRHJhd0ljb24oJ0VsZWN0cmljQm94JyksXG4gIFtNYXplT2JqZWN0LkJCb3hdOiBtYXBEcmF3SWNvbignRWxlY3RyaWNCb3gnKSxcbiAgW01hemVPYmplY3QuQ0JveF06IG1hcERyYXdJY29uKCdFbGVjdHJpY0JveCcpLFxuICBbTWF6ZU9iamVjdC5CaWdEb29yXTogbWFwRHJhd0Rvb3IoJyM2NTQzMjEnLCBjaGVja0JpZ0Rvb3IpLFxuICBbTWF6ZU9iamVjdC5Qb3J0YWxdOiBtYXBEcmF3UG9ydGFsKCksXG4gIFtNYXplT2JqZWN0Lkd1bl06IG1hcERyYXdJY29uKCdHdW4nKSxcbiAgW01hemVPYmplY3QuTWFwXTogbWFwRHJhd0ljb24oJ01hcCcpLFxufTtcblxuY29uc3QgS0VZX0NPTE9SX0lDT046IFJlY29yZDxEb29yQ29sb3IsIHN0cmluZz4gPSB7XG4gIFtEb29yQ29sb3IuUmVkXTogJ1JlZEtleScsXG4gIFtEb29yQ29sb3IuWWVsbG93XTogJ1llbGxvd0tleScsXG4gIFtEb29yQ29sb3IuR3JlZW5dOiAnR3JlZW5LZXknLFxuICBbRG9vckNvbG9yLkJsdWVdOiAnQmx1ZUtleScsXG59O1xuXG4vKipcbiAqIERyYXcgdGhlIGhlYWRzLXVwIGRpc3BsYXlcbiAqL1xuZXhwb3J0IGNsYXNzIEhVRCBpbXBsZW1lbnRzIEVudGl0eVN0YXRlIHtcbiAgcHVibGljIHJlYWRvbmx5IHRhZ3M6IHN0cmluZ1tdID0gWydodWQnXTtcblxuICBwcml2YXRlIGVudGl0eTogRW50aXR5PHRoaXM+O1xuXG4gIC8vLyBDYW52YXMgZm9yIHRoZSBtYXBcbiAgcHJpdmF0ZSBtYXBDYW52YXM6IEhUTUxDYW52YXNFbGVtZW50O1xuICBwcml2YXRlIG1hcFZpc2l0ZWQ6IGJvb2xlYW5bXVtdO1xuICBwcml2YXRlIHNob3VsZERyYXdNYXAgPSBmYWxzZTtcblxuICAvLyBNZXNzYWdlIHRvIHNob3cgZHVyaW5nIGEgZnJhbWVcbiAgcHVibGljIG1lc3NhZ2UgPSAnJztcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLm1hcENhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICB9XG5cbiAgb25DcmVhdGUoZW50aXR5OiBFbnRpdHk8dGhpcz4pOiB2b2lkIHtcbiAgICB0aGlzLmVudGl0eSA9IGVudGl0eTtcblxuICAgIGNvbnN0IG1haW5BcmVhID0gZW50aXR5LmFyZWEuc3RhdGUgYXMgTWFpbkFyZWE7XG4gICAgdGhpcy5tYXBWaXNpdGVkID0gQXJyYXkobWFpbkFyZWEubWF6ZUhlaWdodClcbiAgICAgIC5maWxsKG51bGwpXG4gICAgICAubWFwKCgpID0+XG4gICAgICAgIEFycmF5KG1haW5BcmVhLm1hemVXaWR0aClcbiAgICAgICAgICAuZmlsbChudWxsKVxuICAgICAgICAgIC5tYXAoKCkgPT4gZmFsc2UpLFxuICAgICAgKTtcblxuICAgIC8vIE9ubHkgZHJhdyBtYXAgZXZlcnkgZmV3IGZyYW1lcywgYXMgdGhpcyBpcyBhbiBleHBlbnNpdmUgb3BlcmF0aW9uXG4gICAgdGhpcy5lbnRpdHkuc2V0VGltZXIoMCwgMjQsIHRydWUpO1xuICAgIHRoaXMucmVkcmF3TWFwKCk7XG4gIH1cblxuICBvbkRlc3Ryb3koKTogdm9pZCB7fVxuXG4gIG9uU3RlcCgpOiB2b2lkIHtcbiAgICB0aGlzLnVwZGF0ZVZpc2l0ZWQoKTtcblxuICAgIGNvbnN0IGlucHV0ID0gdGhpcy5lbnRpdHkuYXJlYS5nYW1lLmlucHV0O1xuICAgIHRoaXMuc2hvdWxkRHJhd01hcCA9XG4gICAgICBpbnB1dC5pc0tleURvd24oS2V5LlNwYWNlKSB8fFxuICAgICAgaW5wdXQuaXNHYW1lcGFkQnV0dG9uRG93bigwLCBHYW1lcGFkQnV0dG9uLkxlZnRCdW1wZXIpIHx8XG4gICAgICBpbnB1dC5pc0dhbWVwYWRCdXR0b25Eb3duKDAsIEdhbWVwYWRCdXR0b24uWVRyaWFuZ2xlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgdGhlIHZpc2l0ZWQgdGlsZXNcbiAgICovXG4gIHByaXZhdGUgdXBkYXRlVmlzaXRlZCgpOiB2b2lkIHtcbiAgICBjb25zdCBtYWluQXJlYSA9IHRoaXMuZW50aXR5LmFyZWEuc3RhdGUgYXMgTWFpbkFyZWE7XG4gICAgY29uc3QgW3BsYXllclRpbGVSb3csIHBsYXllclRpbGVDb2xdID0gbWFpbkFyZWEuZ2V0UGxheWVyVGlsZUxvY2F0aW9uKCk7XG5cbiAgICBmb3IgKGxldCByb3cgPSAtTUFQX1RJTEVTX1ZJU0lUOyByb3cgPD0gTUFQX1RJTEVTX1ZJU0lUOyByb3cgKz0gMSkge1xuICAgICAgZm9yIChsZXQgY29sID0gLU1BUF9USUxFU19WSVNJVDsgY29sIDw9IE1BUF9USUxFU19WSVNJVDsgY29sICs9IDEpIHtcbiAgICAgICAgdGhpcy5tYXBWaXNpdGVkW2NsYW1wKHBsYXllclRpbGVSb3cgKyByb3csIDAsIG1haW5BcmVhLm1hemVIZWlnaHQgLSAxKV1bXG4gICAgICAgICAgY2xhbXAocGxheWVyVGlsZUNvbCArIGNvbCwgMCwgbWFpbkFyZWEubWF6ZVdpZHRoIC0gMSlcbiAgICAgICAgXSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIER5bmFtaWNhbGx5IHJlZHJhdyB0aGUgbWFwIGV2ZXJ5IGZyYW1lXG4gICAqL1xuICBwcml2YXRlIHJlZHJhd01hcCgpOiB2b2lkIHtcbiAgICBjb25zdCBtYWluQXJlYSA9IHRoaXMuZW50aXR5LmFyZWEuc3RhdGUgYXMgTWFpbkFyZWE7XG4gICAgY29uc3QgZzJkID0gdGhpcy5tYXBDYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgIGNvbnN0IGltYWdlV2lkdGggPSBtYWluQXJlYS5tYXplV2lkdGggKiBUSUxFX1NJWkVfUFggKyAyICogTUFSR0lOX1BYO1xuICAgIGNvbnN0IGltYWdlSGVpZ2h0ID0gbWFpbkFyZWEubWF6ZUhlaWdodCAqIFRJTEVfU0laRV9QWCArIDIgKiBNQVJHSU5fUFg7XG4gICAgdGhpcy5tYXBDYW52YXMud2lkdGggPSBpbWFnZVdpZHRoO1xuICAgIHRoaXMubWFwQ2FudmFzLmhlaWdodCA9IGltYWdlSGVpZ2h0O1xuXG4gICAgLy8gQ2xlYXIgdGhlIG1hcFxuICAgIGcyZC5maWxsU3R5bGUgPSBHUkFTU19DT0xPUjtcbiAgICBnMmQuZmlsbFJlY3QoMCwgMCwgaW1hZ2VXaWR0aCwgaW1hZ2VIZWlnaHQpO1xuXG4gICAgLy8gRHJhdyB0aGUgaW5kaXZpZHVhbCBncmlkIGNlbGxzXG4gICAgZm9yIChsZXQgcm93ID0gMDsgcm93IDwgbWFpbkFyZWEubWF6ZUhlaWdodDsgcm93ICs9IDEpIHtcbiAgICAgIGZvciAobGV0IGNvbCA9IDA7IGNvbCA8IG1haW5BcmVhLm1hemVXaWR0aDsgY29sICs9IDEpIHtcbiAgICAgICAgY29uc3QgeCA9IE1BUkdJTl9QWCArIGNvbCAqIFRJTEVfU0laRV9QWDtcbiAgICAgICAgY29uc3QgeSA9IE1BUkdJTl9QWCArIHJvdyAqIFRJTEVfU0laRV9QWDtcblxuICAgICAgICBpZiAoIXRoaXMubWFwVmlzaXRlZFtyb3ddW2NvbF0pIHtcbiAgICAgICAgICBnMmQuZmlsbFN0eWxlID0gVU5WSVNJVEVEX0NPTE9SO1xuICAgICAgICAgIGcyZC5maWxsUmVjdCh4LCB5LCBUSUxFX1NJWkVfUFgsIFRJTEVfU0laRV9QWCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkcmF3RnVuYyA9IE1BUF9EUkFXX0ZVTkNUSU9OU1ttYWluQXJlYS5tYXplW3Jvd11bY29sXV07XG4gICAgICAgIGlmICh0eXBlb2YgZHJhd0Z1bmMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgZHJhd0Z1bmMoZzJkLCB4LCB5LCByb3csIGNvbCwgdGhpcy5lbnRpdHkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gRHJhdyBhbnkgZHJvbmVzIGluIHRoZSBtYXplXG4gICAgZm9yIChjb25zdCBkcm9uZSBvZiB0aGlzLmVudGl0eS5hcmVhLmZpbmRFbnRpdGllcygnZHJvbmUnKSkge1xuICAgICAgY29uc3QgW3JvdywgY29sXSA9IG1haW5BcmVhLnBvc2l0aW9uVG9UaWxlTG9jYXRpb24oZHJvbmUub2JqZWN0LnBvc2l0aW9uKTtcblxuICAgICAgLy8gTWFrZSBzdXJlIHRoZSBwbGF5ZXIgY2FuIGFjdHVhbGx5IHNlZSB0aGUgdGlsZVxuICAgICAgaWYgKCF0aGlzLm1hcFZpc2l0ZWRbcm93XVtjb2xdKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB4ID0gTUFSR0lOX1BYICsgY29sICogVElMRV9TSVpFX1BYO1xuICAgICAgY29uc3QgeSA9IE1BUkdJTl9QWCArIHJvdyAqIFRJTEVfU0laRV9QWDtcblxuICAgICAgZzJkLmZpbGxTdHlsZSA9IERST05FX0NPTE9SO1xuICAgICAgZzJkLmJlZ2luUGF0aCgpO1xuICAgICAgZzJkLmFyYyh4ICsgVElMRV9TSVpFX1BYIC8gMiwgeSArIFRJTEVfU0laRV9QWCAvIDIsIFRJTEVfU0laRV9QWCAvIDMsIDAsIDIgKiBNYXRoLlBJKTtcbiAgICAgIGcyZC5maWxsKCk7XG4gICAgICBnMmQuc3Ryb2tlU3R5bGUgPSAnYmxhY2snO1xuICAgICAgZzJkLmxpbmVXaWR0aCA9IDE7XG4gICAgICBnMmQuc3Ryb2tlKCk7XG4gICAgfVxuICB9XG5cbiAgb25UaW1lcih0aW1lckluZGV4OiBudW1iZXIpOiB2b2lkIHtcbiAgICBpZiAodGltZXJJbmRleCA9PT0gMCkge1xuICAgICAgdGhpcy5yZWRyYXdNYXAoKTtcbiAgICB9XG4gIH1cblxuICBvbkRyYXcoZzJkOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5zaG91bGREcmF3TWFwKSB7XG4gICAgICB0aGlzLmRyYXdGdWxsTWFwKGcyZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZHJhd0hVRChnMmQpO1xuICAgIH1cblxuICAgIC8vIENsZWFyIGFueSBtZXNzYWdlcyBldmVyeSBmcmFtZVxuICAgIHRoaXMubWVzc2FnZSA9ICcnO1xuICB9XG5cbiAgLyoqXG4gICAqIERyYXcgdGhlIG1haW4gaGVhZHMtdXAgZGlzcGxheVxuICAgKi9cbiAgcHJpdmF0ZSBkcmF3SFVEKGcyZDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSB7XG4gICAgY29uc3QgaW52ZW50b3J5ID0gdGhpcy5lbnRpdHkuYXJlYS5nYW1lLnJlc291cmNlcy5nZXRSZXNvdXJjZTxJbnZlbnRvcnk+KCdpbnZlbnRvcnknKTtcbiAgICBpZiAoaW52ZW50b3J5Lmhhc0NvbGxlY3RlZE1hcCgpKSB7XG4gICAgICB0aGlzLmRyYXdIZWFsdGhCYXIoZzJkKTtcbiAgICAgIHRoaXMuZHJhd01hcFN1YnNldChnMmQpO1xuICAgIH1cblxuICAgIGlmIChpbnZlbnRvcnkuaGFzQ29sbGVjdGVkTWFwKCkgJiYgaW52ZW50b3J5Lmhhc0NvbGxlY3RlZEd1bigpKSB7XG4gICAgICB0aGlzLmRyYXdJbnZlbnRvcnkoZzJkKTtcbiAgICAgIHRoaXMuZHJhd01lc3NhZ2UoZzJkKTtcbiAgICB9XG5cbiAgICBpZiAoaW52ZW50b3J5Lmhhc0NvbGxlY3RlZEd1bigpKSB7XG4gICAgICB0aGlzLmRyYXdUYXJnZXQoZzJkKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRHJhdyB0aGUgcGxheWVyIGhlYWx0aCBiYXIgaW4gdGhlIHRvcCBsZWZ0IGNvcm5lclxuICAgKi9cbiAgcHJpdmF0ZSBkcmF3SGVhbHRoQmFyKGcyZDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTogdm9pZCB7XG4gICAgLy8gRHJhdyBcIkhlYWx0aFwiIFRleHRcbiAgICBnMmQudGV4dEFsaWduID0gJ2xlZnQnO1xuICAgIGcyZC50ZXh0QmFzZWxpbmUgPSAndG9wJztcbiAgICBnMmQuZm9udCA9ICczMHB4IHNhbnMtc2VyaWYnO1xuICAgIGcyZC5maWxsU3R5bGUgPSAnI2ZmZmZmZic7XG4gICAgZzJkLmZpbGxUZXh0KCdIZWFsdGg6JywgSFVEX0xFRlQsIEhVRF9UT1ApO1xuXG4gICAgLy8gRHJhdyB0aGUgXCJoZWFsdGggYmFyXCJcbiAgICBjb25zdCBoZWFsdGggPSB0aGlzLmVudGl0eS5hcmVhLmdhbWUucmVzb3VyY2VzLmdldFJlc291cmNlPEhlYWx0aD4oJ2hlYWx0aCcpO1xuICAgIGRyYXdIZWFsdGhCYXIoXG4gICAgICBnMmQsXG4gICAgICBoZWFsdGguZ2V0SGVhbHRoUGVyY2VudExlZnQoKSxcbiAgICAgIEhVRF9MRUZUICsgZzJkLm1lYXN1cmVUZXh0KCdIZWFsdGg6Jykud2lkdGggKyAxMCxcbiAgICAgIEhVRF9UT1AsXG4gICAgICAxMDAsIC8vIFdpZHRoXG4gICAgICAyNSwgLy8gSGVpZ2h0XG4gICAgICBuZXcgVEhSRUUuQ29sb3IoMCwgMSwgMCksXG4gICAgICBuZXcgVEhSRUUuQ29sb3IoMSwgMCwgMCksXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEcmF3IHRoZSBtaW5pbWFwIG9uIHRoZSBIVURcbiAgICovXG4gIHByaXZhdGUgZHJhd01hcFN1YnNldChnMmQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk6IHZvaWQge1xuICAgIGNvbnN0IG1haW5BcmVhID0gdGhpcy5lbnRpdHkuYXJlYS5zdGF0ZSBhcyBNYWluQXJlYTtcblxuICAgIGNvbnN0IFtwbGF5ZXJUaWxlUm93LCBwbGF5ZXJUaWxlQ29sXSA9IG1haW5BcmVhLmdldFBsYXllclRpbGVMb2NhdGlvbigpO1xuICAgIGNvbnN0IGxlZnRUaWxlWCA9IHBsYXllclRpbGVDb2wgLSBNYXRoLmZsb29yKE1BUF9USUxFU19WSVNJQkxFIC8gMik7XG4gICAgY29uc3QgdG9wVGlsZVkgPSBwbGF5ZXJUaWxlUm93IC0gTWF0aC5mbG9vcihNQVBfVElMRVNfVklTSUJMRSAvIDIpO1xuICAgIGNvbnN0IGxlZnRYID0gbGVmdFRpbGVYICogVElMRV9TSVpFX1BYO1xuICAgIGNvbnN0IHRvcFkgPSB0b3BUaWxlWSAqIFRJTEVfU0laRV9QWDtcbiAgICBjb25zdCBpbWFnZVNpemUgPSBUSUxFX1NJWkVfUFggKiBNQVBfVElMRVNfVklTSUJMRSArIDIgKiBNQVJHSU5fUFg7XG4gICAgY29uc3QgbGVmdFZhbHVlWCA9IHRoaXMuZW50aXR5LmFyZWEub3ZlcmxheVdpZHRoIC0gKEhVRF9SSUdIVCArIGltYWdlU2l6ZSk7XG5cbiAgICAvLyBGaWxsIHdpdGggdGhlIGRlZmF1bHQgY29sb3JcbiAgICBnMmQuZmlsbFN0eWxlID0gT1VUU0lERV9DT0xPUjtcbiAgICBnMmQuZmlsbFJlY3QobGVmdFZhbHVlWCwgSFVEX1RPUCwgaW1hZ2VTaXplLCBpbWFnZVNpemUpO1xuXG4gICAgLy8gRHJhdyB0aGUgbWFwIHN1YnNldFxuICAgIGcyZC5kcmF3SW1hZ2UodGhpcy5tYXBDYW52YXMsIGxlZnRYLCB0b3BZLCBpbWFnZVNpemUsIGltYWdlU2l6ZSwgbGVmdFZhbHVlWCwgSFVEX1RPUCwgaW1hZ2VTaXplLCBpbWFnZVNpemUpO1xuXG4gICAgLy8gQWRkIGEgYm9yZGVyXG4gICAgZzJkLmJlZ2luUGF0aCgpO1xuICAgIGcyZC5yZWN0KGxlZnRWYWx1ZVgsIEhVRF9UT1AsIGltYWdlU2l6ZSwgaW1hZ2VTaXplKTtcbiAgICBnMmQuc3Ryb2tlU3R5bGUgPSAnYnJvd24nO1xuICAgIGcyZC5saW5lV2lkdGggPSA0O1xuICAgIGcyZC5zdHJva2UoKTtcblxuICAgIC8vIC8vIERyYXcgdGhlIGNvbXBhc3MgbGV0dGVycyAoTixTLEUsVylcbiAgICBjb25zdCBjb21wYXNzTWFyZ2luID0gMTU7XG4gICAgZzJkLmZpbGxTdHlsZSA9ICdyZWQnO1xuICAgIGcyZC5mb250ID0gJzEwcHQgc2Fucy1zZXJpZic7XG4gICAgZzJkLnRleHRBbGlnbiA9ICdjZW50ZXInO1xuICAgIGcyZC50ZXh0QmFzZWxpbmUgPSAnbWlkZGxlJztcbiAgICBnMmQuZmlsbFRleHQoJ04nLCBsZWZ0VmFsdWVYICsgaW1hZ2VTaXplIC8gMiwgSFVEX1RPUCArIGNvbXBhc3NNYXJnaW4pO1xuICAgIGcyZC5maWxsU3R5bGUgPSAnd2hpdGUnO1xuICAgIGcyZC5maWxsVGV4dCgnUycsIGxlZnRWYWx1ZVggKyBpbWFnZVNpemUgLyAyLCBIVURfVE9QICsgaW1hZ2VTaXplIC0gY29tcGFzc01hcmdpbik7XG4gICAgZzJkLmZpbGxUZXh0KCdXJywgbGVmdFZhbHVlWCArIGNvbXBhc3NNYXJnaW4sIEhVRF9UT1AgKyBpbWFnZVNpemUgLyAyKTtcbiAgICBnMmQuZmlsbFRleHQoJ0UnLCBsZWZ0VmFsdWVYICsgaW1hZ2VTaXplIC0gY29tcGFzc01hcmdpbiwgSFVEX1RPUCArIGltYWdlU2l6ZSAvIDIpO1xuXG4gICAgLy8gRHJhdyBhbiBhcnJvdyB0byByZXByZXNlbnQgdGhlIHBsYXllclxuICAgIGcyZC5zdHJva2VTdHlsZSA9ICdyZWQnO1xuICAgIGcyZC5saW5lV2lkdGggPSAyLjA7XG4gICAgZHJhd0Fycm93KGcyZCwgbGVmdFZhbHVlWCArIGltYWdlU2l6ZSAvIDIsIEhVRF9UT1AgKyBpbWFnZVNpemUgLyAyLCBtYWluQXJlYS5nZXRQbGF5ZXJBbmdsZSgpLCBUSUxFX1NJWkVfUFgpO1xuICB9XG5cbiAgLyoqXG4gICAqIERyYXcgdGhlIGNvbGxlY3RlZCBpbnZlbnRvcnkgaXRlbXNcbiAgICovXG4gIHByaXZhdGUgZHJhd0ludmVudG9yeShnMmQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk6IHZvaWQge1xuICAgIGNvbnN0IG1haW5BcmVhID0gdGhpcy5lbnRpdHkuYXJlYS5zdGF0ZSBhcyBNYWluQXJlYTtcbiAgICBjb25zdCBpbnZlbnRvcnkgPSB0aGlzLmVudGl0eS5hcmVhLmdhbWUucmVzb3VyY2VzLmdldFJlc291cmNlPEludmVudG9yeT4oJ2ludmVudG9yeScpO1xuICAgIGNvbnN0IGFzc2V0cyA9IHRoaXMuZW50aXR5LmFyZWEuZ2FtZS5hc3NldHM7XG5cbiAgICBjb25zdCBzbG90U2l6ZSA9IDMyO1xuICAgIGNvbnN0IHNwYWNpbmcgPSBzbG90U2l6ZSAvIDQ7XG5cbiAgICAvLyBBbHdheXMgZHJhdyB0aGUgZW5lcmd5IGxlZnRcbiAgICBnMmQuZHJhd0ltYWdlKGFzc2V0cy5nZXRJbWFnZSgnRW5lcmd5JyksIEhVRF9MRUZULCBIVURfVE9QICsgMzAsIHNsb3RTaXplLCBzbG90U2l6ZSk7XG4gICAgZzJkLmZvbnQgPSAnMTBwdCBzYW5zLXNlcmlmJztcbiAgICBnMmQuZmlsbFN0eWxlID0gJ3doaXRlJztcbiAgICBnMmQudGV4dEFsaWduID0gJ2NlbnRlcic7XG4gICAgZzJkLnRleHRCYXNlbGluZSA9ICd0b3AnO1xuICAgIGcyZC5maWxsVGV4dChcbiAgICAgIGAke21haW5BcmVhLnRvdGFsRW5lcmd5IC0gbWFpbkFyZWEuZW5lcmd5TGVmdH0gLyAke21haW5BcmVhLnRvdGFsRW5lcmd5fWAsXG4gICAgICBIVURfTEVGVCArIHNsb3RTaXplIC8gMixcbiAgICAgIEhVRF9UT1AgKyAzMCArIHNsb3RTaXplLFxuICAgICk7XG5cbiAgICBsZXQgY3VycmVudFggPSBIVURfTEVGVCArIHNsb3RTaXplICsgc3BhY2luZztcblxuICAgIC8vIERvIGFsbCBvZiB0aGUga2V5c1xuICAgIGZvciAoY29uc3Qga2V5Q29sb3Igb2YgW0Rvb3JDb2xvci5SZWQsIERvb3JDb2xvci5ZZWxsb3csIERvb3JDb2xvci5HcmVlbiwgRG9vckNvbG9yLkJsdWVdKSB7XG4gICAgICBpZiAoIWludmVudG9yeS5oYXNLZXlBdmFpbGFibGUoa2V5Q29sb3IpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBpY29uID0gYXNzZXRzLmdldEltYWdlKEtFWV9DT0xPUl9JQ09OW2tleUNvbG9yXSk7XG4gICAgICBnMmQuZHJhd0ltYWdlKGljb24sIGN1cnJlbnRYLCBIVURfVE9QICsgMzAsIHNsb3RTaXplLCBzbG90U2l6ZSk7XG4gICAgICBnMmQuZmlsbFRleHQoYHgke2ludmVudG9yeS5nZXRLZXlDb3VudChrZXlDb2xvcil9YCwgY3VycmVudFggKyBzbG90U2l6ZSAvIDIsIEhVRF9UT1AgKyAzMCArIHNsb3RTaXplKTtcbiAgICAgIGN1cnJlbnRYICs9IHNsb3RTaXplICsgc3BhY2luZztcbiAgICB9XG5cbiAgICAvLyBBbHNvIGRvIHRoZSBiYXR0ZXJ5XG4gICAgaWYgKGludmVudG9yeS5oYXNDb2xsZWN0ZWRCYXR0ZXJ5KCkpIHtcbiAgICAgIGNvbnN0IGljb24gPSBhc3NldHMuZ2V0SW1hZ2UoJ0JhdHRlcnknKTtcbiAgICAgIGcyZC5kcmF3SW1hZ2UoaWNvbiwgY3VycmVudFgsIEhVRF9UT1AgKyAzMCwgc2xvdFNpemUsIHNsb3RTaXplKTtcbiAgICAgIGcyZC5maWxsVGV4dChgeCR7aW52ZW50b3J5LmdldEJhdHRlcnlDb3VudCgpfWAsIGN1cnJlbnRYICsgc2xvdFNpemUgLyAyLCBIVURfVE9QICsgMzAgKyBzbG90U2l6ZSk7XG4gICAgICBjdXJyZW50WCArPSBzbG90U2l6ZSArIHNwYWNpbmc7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERyYXcgdGhlIG1lc3NhZ2UgYWxvbmcgdGhlIGJvdHRvbSBvZiB0aGUgc2NyZWVuXG4gICAqL1xuICBwcml2YXRlIGRyYXdNZXNzYWdlKGcyZDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTogdm9pZCB7XG4gICAgaWYgKHRoaXMubWVzc2FnZS5sZW5ndGggPD0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGcyZC5mb250ID0gJzI0cHQgc2Fucy1zZXJpZic7XG4gICAgZzJkLnRleHRBbGlnbiA9ICdjZW50ZXInO1xuICAgIGcyZC50ZXh0QmFzZWxpbmUgPSAnYm90dG9tJztcblxuICAgIGNvbnN0IG1ldHJpY3MgPSBnMmQubWVhc3VyZVRleHQodGhpcy5tZXNzYWdlKTtcbiAgICBjb25zdCBtYXJnaW4gPSAxMDtcbiAgICBjb25zdCB3aWR0aCA9IG1ldHJpY3Mud2lkdGggKyBtYXJnaW47XG4gICAgY29uc3QgaGVpZ2h0ID0gbWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveEFzY2VudCAtIG1ldHJpY3MuZm9udEJvdW5kaW5nQm94RGVzY2VudCArIG1hcmdpbjtcblxuICAgIGNvbnN0IGNlbnRlclggPSB0aGlzLmVudGl0eS5hcmVhLm92ZXJsYXlXaWR0aCAvIDI7XG4gICAgY29uc3QgY2VudGVyWSA9IHRoaXMuZW50aXR5LmFyZWEub3ZlcmxheUhlaWdodCAtIEhVRF9CT1RUT007XG5cbiAgICBnMmQuZmlsbFN0eWxlID0gJ2JsYWNrJztcbiAgICBnMmQuZmlsbFJlY3QoY2VudGVyWCAtIHdpZHRoIC8gMiwgY2VudGVyWSAtIGhlaWdodCwgd2lkdGgsIGhlaWdodCk7XG5cbiAgICBnMmQubGluZVdpZHRoID0gMjtcbiAgICBnMmQuc3Ryb2tlU3R5bGUgPSAnb3JhbmdlJztcbiAgICBnMmQuYmVnaW5QYXRoKCk7XG4gICAgZzJkLnJlY3QoY2VudGVyWCAtIHdpZHRoIC8gMiwgY2VudGVyWSAtIGhlaWdodCwgd2lkdGgsIGhlaWdodCk7XG4gICAgZzJkLnN0cm9rZSgpO1xuXG4gICAgZzJkLmZpbGxTdHlsZSA9ICd3aGl0ZSc7XG4gICAgZzJkLmZpbGxUZXh0KHRoaXMubWVzc2FnZSwgY2VudGVyWCwgY2VudGVyWSk7XG4gIH1cblxuICAvKipcbiAgICogRHJhdyBhIGRvdCBpbiB0aGUgY2VudGVyIGZvciB0aGUgZ3VuIHRhcmdldFxuICAgKi9cbiAgcHJpdmF0ZSBkcmF3VGFyZ2V0KGcyZDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTogdm9pZCB7XG4gICAgY29uc3QgY2VudGVyWCA9IHRoaXMuZW50aXR5LmFyZWEub3ZlcmxheVdpZHRoIC8gMjtcbiAgICBjb25zdCBjZW50ZXJZID0gdGhpcy5lbnRpdHkuYXJlYS5vdmVybGF5SGVpZ2h0IC8gMjtcbiAgICBjb25zdCBsZW5ndGggPSA1O1xuXG4gICAgZzJkLmxpbmVXaWR0aCA9IDE7XG4gICAgZzJkLnN0cm9rZVN0eWxlID0gJ3doaXRlJztcblxuICAgIGcyZC5iZWdpblBhdGgoKTtcbiAgICBnMmQubW92ZVRvKGNlbnRlclggLSBsZW5ndGgsIGNlbnRlclkpO1xuICAgIGcyZC5saW5lVG8oY2VudGVyWCArIGxlbmd0aCwgY2VudGVyWSk7XG4gICAgZzJkLm1vdmVUbyhjZW50ZXJYLCBjZW50ZXJZIC0gbGVuZ3RoKTtcbiAgICBnMmQubGluZVRvKGNlbnRlclgsIGNlbnRlclkgKyBsZW5ndGgpO1xuICAgIGcyZC5zdHJva2UoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEcmF3IHRoZSBmdWxsc2NyZWVuIG1hcCBjZW50ZXJlZFxuICAgKi9cbiAgcHJpdmF0ZSBkcmF3RnVsbE1hcChnMmQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk6IHZvaWQge1xuICAgIGNvbnN0IGludmVudG9yeSA9IHRoaXMuZW50aXR5LmFyZWEuZ2FtZS5yZXNvdXJjZXMuZ2V0UmVzb3VyY2U8SW52ZW50b3J5PignaW52ZW50b3J5Jyk7XG4gICAgaWYgKCFpbnZlbnRvcnkuaGFzQ29sbGVjdGVkTWFwKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBtYWluQXJlYSA9IHRoaXMuZW50aXR5LmFyZWEuc3RhdGUgYXMgTWFpbkFyZWE7XG4gICAgY29uc3QgW3BsYXllclRpbGVSb3csIHBsYXllclRpbGVDb2xdID0gbWFpbkFyZWEuZ2V0UGxheWVyVGlsZUxvY2F0aW9uKCk7XG5cbiAgICBjb25zdCBtYXhXaWR0aCA9IHRoaXMuZW50aXR5LmFyZWEub3ZlcmxheVdpZHRoIC0gTUFQX01BUkdJTiAqIDI7XG4gICAgY29uc3QgbWF4SGVpZ2h0ID0gdGhpcy5lbnRpdHkuYXJlYS5vdmVybGF5SGVpZ2h0IC0gTUFQX01BUkdJTiAqIDI7XG4gICAgY29uc3QgaW1nV2lkdGggPSBNYXRoLm1pbihtYXhXaWR0aCwgdGhpcy5tYXBDYW52YXMud2lkdGgpO1xuICAgIGNvbnN0IGltZ0hlaWdodCA9IE1hdGgubWluKG1heEhlaWdodCwgdGhpcy5tYXBDYW52YXMuaGVpZ2h0KTtcblxuICAgIGNvbnN0IGxlZnRJbWdYID0gcGxheWVyVGlsZUNvbCAqIFRJTEVfU0laRV9QWCArIFRJTEVfU0laRV9QWCAvIDIgKyBNQVJHSU5fUFg7XG4gICAgY29uc3QgbGVmdEltZ1kgPSBwbGF5ZXJUaWxlUm93ICogVElMRV9TSVpFX1BYICsgVElMRV9TSVpFX1BYIC8gMiArIE1BUkdJTl9QWDtcbiAgICBjb25zdCBjZW50ZXJYID0gdGhpcy5lbnRpdHkuYXJlYS5vdmVybGF5V2lkdGggLyAyO1xuICAgIGNvbnN0IGNlbnRlclkgPSB0aGlzLmVudGl0eS5hcmVhLm92ZXJsYXlIZWlnaHQgLyAyO1xuICAgIGNvbnN0IGxlZnRYID0gY2VudGVyWCAtIGltZ1dpZHRoIC8gMjtcbiAgICBjb25zdCB0b3BZID0gY2VudGVyWSAtIGltZ0hlaWdodCAvIDI7XG5cbiAgICAvLyBGaWxsIHdpdGggYSBkZWZhdWx0IGNvbG9yXG4gICAgZzJkLmZpbGxTdHlsZSA9IE9VVFNJREVfQ09MT1I7XG4gICAgZzJkLmZpbGxSZWN0KGxlZnRYLCB0b3BZLCBpbWdXaWR0aCwgaW1nSGVpZ2h0KTtcblxuICAgIC8vIERyYXcgdGhlIGltYWdlIHN1YnNldFxuICAgIGcyZC5kcmF3SW1hZ2UoXG4gICAgICB0aGlzLm1hcENhbnZhcyxcbiAgICAgIGxlZnRJbWdYIC0gaW1nV2lkdGggLyAyLFxuICAgICAgbGVmdEltZ1kgLSBpbWdIZWlnaHQgLyAyLFxuICAgICAgaW1nV2lkdGgsXG4gICAgICBpbWdIZWlnaHQsXG4gICAgICBsZWZ0WCxcbiAgICAgIHRvcFksXG4gICAgICBpbWdXaWR0aCxcbiAgICAgIGltZ0hlaWdodCxcbiAgICApO1xuXG4gICAgLy8gQWRkIGEgYm9yZGVyXG4gICAgZzJkLmJlZ2luUGF0aCgpO1xuICAgIGcyZC5yZWN0KGxlZnRYLCB0b3BZLCBpbWdXaWR0aCwgaW1nSGVpZ2h0KTtcbiAgICBnMmQuc3Ryb2tlU3R5bGUgPSAnYnJvd24nO1xuICAgIGcyZC5saW5lV2lkdGggPSA0O1xuICAgIGcyZC5zdHJva2UoKTtcblxuICAgIC8vIC8vIERyYXcgdGhlIGNvbXBhc3MgbGV0dGVycyAoTixTLEUsVylcbiAgICBjb25zdCBjb21wYXNzTWFyZ2luID0gMjU7XG4gICAgZzJkLmZpbGxTdHlsZSA9ICdyZWQnO1xuICAgIGcyZC5mb250ID0gJzI0cHQgc2Fucy1zZXJpZic7XG4gICAgZzJkLnRleHRBbGlnbiA9ICdjZW50ZXInO1xuICAgIGcyZC50ZXh0QmFzZWxpbmUgPSAnbWlkZGxlJztcbiAgICBnMmQuZmlsbFRleHQoJ04nLCBsZWZ0WCArIGltZ1dpZHRoIC8gMiwgdG9wWSArIGNvbXBhc3NNYXJnaW4pO1xuICAgIGcyZC5maWxsU3R5bGUgPSAnd2hpdGUnO1xuICAgIGcyZC5maWxsVGV4dCgnUycsIGxlZnRYICsgaW1nV2lkdGggLyAyLCB0b3BZICsgaW1nSGVpZ2h0IC0gY29tcGFzc01hcmdpbik7XG4gICAgZzJkLmZpbGxUZXh0KCdXJywgbGVmdFggKyBjb21wYXNzTWFyZ2luLCB0b3BZICsgaW1nSGVpZ2h0IC8gMik7XG4gICAgZzJkLmZpbGxUZXh0KCdFJywgbGVmdFggKyBpbWdXaWR0aCAtIGNvbXBhc3NNYXJnaW4sIHRvcFkgKyBpbWdIZWlnaHQgLyAyKTtcblxuICAgIC8vIERyYXcgYW4gYXJyb3cgdG8gcmVwcmVzZW50IHRoZSBwbGF5ZXJcbiAgICBnMmQuc3Ryb2tlU3R5bGUgPSAncmVkJztcbiAgICBnMmQubGluZVdpZHRoID0gMi4wO1xuICAgIGRyYXdBcnJvdyhnMmQsIGxlZnRYICsgaW1nV2lkdGggLyAyLCB0b3BZICsgaW1nSGVpZ2h0IC8gMiwgbWFpbkFyZWEuZ2V0UGxheWVyQW5nbGUoKSwgVElMRV9TSVpFX1BYKTtcbiAgfVxufVxuXG4vKipcbiAqIERyYXcgYSBoZWFsdGggYmFyIHRvIHRoZSBzY2VuZVxuICovXG5mdW5jdGlvbiBkcmF3SGVhbHRoQmFyKFxuICBnMmQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCxcbiAgaGVhbHRoOiBudW1iZXIsXG4gIHg6IG51bWJlcixcbiAgeTogbnVtYmVyLFxuICB3aWR0aDogbnVtYmVyLFxuICBoZWlnaHQ6IG51bWJlcixcbiAgZnVsbEhlYWx0aDogVEhSRUUuQ29sb3IsXG4gIG5vSGVhbHRoOiBUSFJFRS5Db2xvcixcbikge1xuICBoZWFsdGggPSBjbGFtcChoZWFsdGgsIDAsIDEpO1xuXG4gIGNvbnN0IGNvbG9yID0gbmV3IFRIUkVFLkNvbG9yKCk7XG4gIGNvbG9yLmxlcnBDb2xvcnMobm9IZWFsdGgsIGZ1bGxIZWFsdGgsIGhlYWx0aCk7XG5cbiAgLy8gSW5zaWRlIGJhclxuICBnMmQuZmlsbFN0eWxlID0gJyMnICsgY29sb3IuZ2V0SGV4U3RyaW5nKCk7XG4gIGcyZC5maWxsUmVjdCh4LCB5LCB3aWR0aCAqIGhlYWx0aCwgaGVpZ2h0KTtcblxuICAvLyBPdXRsaW5lXG4gIGcyZC5iZWdpblBhdGgoKTtcbiAgZzJkLnN0cm9rZVN0eWxlID0gJ2JsYWNrJztcbiAgZzJkLnJlY3QoeCwgeSwgd2lkdGgsIGhlaWdodCk7XG4gIGcyZC5zdHJva2UoKTtcbn1cblxuLyoqXG4gKiBEcmF3IGFuIGFycm93LCBjZW50ZXJlZCBhdCAoeCx5KSwgd2l0aCBhIGdpdmVuIGRpcmVjdGlvbiBhbmQgbWFnbml0dWRlXG4gKi9cbmZ1bmN0aW9uIGRyYXdBcnJvdyhnMmQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgY2VudGVyWDogbnVtYmVyLCBjZW50ZXJZOiBudW1iZXIsIGFuZ2xlOiBudW1iZXIsIHI6IG51bWJlcikge1xuICBjb25zdCBoZWFkWCA9IGNlbnRlclggKyAociAvIDIpICogTWF0aC5jb3MoYW5nbGUpO1xuICBjb25zdCBoZWFkWSA9IGNlbnRlclkgLSAociAvIDIpICogTWF0aC5zaW4oYW5nbGUpO1xuICBjb25zdCB0YWlsWCA9IGNlbnRlclggLSAociAvIDIpICogTWF0aC5jb3MoYW5nbGUpO1xuICBjb25zdCB0YWlsWSA9IGNlbnRlclkgKyAociAvIDIpICogTWF0aC5zaW4oYW5nbGUpO1xuXG4gIGNvbnN0IGhlYWRMZW4gPSA2O1xuICBjb25zdCBoZWFkQW5nbGUgPSBNYXRoLlBJIC8gNjtcblxuICBnMmQuYmVnaW5QYXRoKCk7XG4gIGcyZC5tb3ZlVG8odGFpbFgsIHRhaWxZKTtcbiAgZzJkLmxpbmVUbyhoZWFkWCwgaGVhZFkpO1xuICBnMmQubGluZVRvKGhlYWRYIC0gaGVhZExlbiAqIE1hdGguY29zKGFuZ2xlIC0gaGVhZEFuZ2xlKSwgaGVhZFkgKyBoZWFkTGVuICogTWF0aC5zaW4oYW5nbGUgLSBoZWFkQW5nbGUpKTtcbiAgZzJkLm1vdmVUbyhoZWFkWCwgaGVhZFkpO1xuICBnMmQubGluZVRvKGhlYWRYIC0gaGVhZExlbiAqIE1hdGguY29zKGFuZ2xlICsgaGVhZEFuZ2xlKSwgaGVhZFkgKyBoZWFkTGVuICogTWF0aC5zaW4oYW5nbGUgKyBoZWFkQW5nbGUpKTtcbiAgZzJkLnN0cm9rZSgpO1xufVxuXG4vKipcbiAqIE1hcCBkcmF3aW5nIGZ1bmN0aW9uc1xuICovXG5mdW5jdGlvbiBtYXBEcmF3V2FsbChnMmQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgeDogbnVtYmVyLCB5OiBudW1iZXIpOiB2b2lkIHtcbiAgZzJkLmZpbGxTdHlsZSA9IFdBTExfQ09MT1I7XG4gIGcyZC5maWxsUmVjdCh4LCB5LCBUSUxFX1NJWkVfUFgsIFRJTEVfU0laRV9QWCk7XG59XG5cbmZ1bmN0aW9uIG1hcERyYXdJY29uKG5hbWU6IHN0cmluZyk6IERyYXdGdW5jdGlvbiB7XG4gIHJldHVybiAoZzJkLCB4LCB5LCBfcm93LCBfY29sLCBlbnRpdHkpID0+IHtcbiAgICBjb25zdCBpY29uSW1hZ2UgPSBlbnRpdHkuYXJlYS5nYW1lLmFzc2V0cy5nZXRJbWFnZShuYW1lKTtcbiAgICBnMmQuZHJhd0ltYWdlKGljb25JbWFnZSwgeCwgeSwgVElMRV9TSVpFX1BYLCBUSUxFX1NJWkVfUFgpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBtYXBEcmF3Q2xvc2VkRG9vcihjb2xvcjogc3RyaW5nKTogRHJhd0Z1bmN0aW9uIHtcbiAgcmV0dXJuIChnMmQsIHgsIHksIHJvdykgPT4ge1xuICAgIGcyZC5maWxsU3R5bGUgPSBjb2xvcjtcblxuICAgIGlmIChyb3cgJSAyID09PSAxKSB7XG4gICAgICBnMmQuZmlsbFJlY3QoeCArIFRJTEVfU0laRV9QWCAvIDQsIHksIFRJTEVfU0laRV9QWCAvIDIsIFRJTEVfU0laRV9QWCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGcyZC5maWxsUmVjdCh4LCB5ICsgVElMRV9TSVpFX1BYIC8gNCwgVElMRV9TSVpFX1BYLCBUSUxFX1NJWkVfUFggLyAyKTtcbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIG1hcERyYXdPcGVuZWREb29yKGNvbG9yOiBzdHJpbmcpOiBEcmF3RnVuY3Rpb24ge1xuICByZXR1cm4gKGcyZCwgeCwgeSwgcm93KSA9PiB7XG4gICAgZzJkLmZpbGxTdHlsZSA9IGNvbG9yO1xuXG4gICAgY29uc3QgbWFyZ2luID0gMjtcbiAgICBpZiAocm93ICUgMiA9PT0gMSkge1xuICAgICAgZzJkLmZpbGxSZWN0KHggKyBUSUxFX1NJWkVfUFggLyA0LCB5LCBUSUxFX1NJWkVfUFggLyAyLCBtYXJnaW4pO1xuICAgICAgZzJkLmZpbGxSZWN0KHggKyBUSUxFX1NJWkVfUFggLyA0LCB5ICsgVElMRV9TSVpFX1BYIC0gbWFyZ2luLCBUSUxFX1NJWkVfUFggLyAyLCBtYXJnaW4pO1xuICAgIH0gZWxzZSB7XG4gICAgICBnMmQuZmlsbFJlY3QoeCwgeSArIFRJTEVfU0laRV9QWCAvIDQsIG1hcmdpbiwgVElMRV9TSVpFX1BYIC8gMik7XG4gICAgICBnMmQuZmlsbFJlY3QoeCArIFRJTEVfU0laRV9QWCAtIG1hcmdpbiwgeSArIFRJTEVfU0laRV9QWCAvIDQsIG1hcmdpbiwgVElMRV9TSVpFX1BYIC8gMik7XG4gICAgfVxuICB9O1xufVxuXG50eXBlIFRvZ2dsZUZ1bmN0aW9uID0gKGVudGl0eTogRW50aXR5PEhVRD4sIHJvdzogbnVtYmVyLCBjb2w6IG51bWJlcikgPT4gYm9vbGVhbjtcblxuZnVuY3Rpb24gbWFwRHJhd0Rvb3IoY29sb3I6IHN0cmluZywgaXNPcGVuOiBUb2dnbGVGdW5jdGlvbik6IERyYXdGdW5jdGlvbiB7XG4gIHJldHVybiAoZzJkLCB4LCB5LCByb3csIGNvbCwgZW50aXR5KSA9PiB7XG4gICAgaWYgKGlzT3BlbihlbnRpdHksIHJvdywgY29sKSkge1xuICAgICAgbWFwRHJhd09wZW5lZERvb3IoY29sb3IpKGcyZCwgeCwgeSwgcm93LCBjb2wsIGVudGl0eSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1hcERyYXdDbG9zZWREb29yKGNvbG9yKShnMmQsIHgsIHksIHJvdywgY29sLCBlbnRpdHkpO1xuICAgIH1cbiAgfTtcbn1cblxuZnVuY3Rpb24gY2hlY2tCaWdEb29yKGVudGl0eTogRW50aXR5PEhVRD4pOiBib29sZWFuIHtcbiAgY29uc3Qgc3RhdGUgPSBlbnRpdHkuYXJlYS5nYW1lLnJlc291cmNlcy5nZXRSZXNvdXJjZTxEb29yU3RhdGU+KCdkb29yLXN0YXRlJyk7XG4gIHJldHVybiBzdGF0ZS5pc0JpZ0Rvb3JPcGVuZWQoKTtcbn1cblxuZnVuY3Rpb24gY2hlY2tDb2xvcmVkRG9vcihlbnRpdHk6IEVudGl0eTxIVUQ+LCByb3c6IG51bWJlciwgY29sOiBudW1iZXIpOiBib29sZWFuIHtcbiAgY29uc3Qgc3RhdGUgPSBlbnRpdHkuYXJlYS5nYW1lLnJlc291cmNlcy5nZXRSZXNvdXJjZTxEb29yU3RhdGU+KCdkb29yLXN0YXRlJyk7XG4gIHJldHVybiBzdGF0ZS5pc0NvbG9yZWREb29yT3BlbmVkKHJvdywgY29sKTtcbn1cblxuZnVuY3Rpb24gY2hlY2tUb2dnbGVEb29yKHJldmVyc2UgPSBmYWxzZSk6IFRvZ2dsZUZ1bmN0aW9uIHtcbiAgcmV0dXJuIChlbnRpdHkpID0+IHtcbiAgICBjb25zdCBzdGF0ZSA9IGVudGl0eS5hcmVhLmdhbWUucmVzb3VyY2VzLmdldFJlc291cmNlPERvb3JTdGF0ZT4oJ2Rvb3Itc3RhdGUnKTtcbiAgICByZXR1cm4gc3RhdGUuZ2V0VG9nZ2xlU3RhdGUoKSAhPT0gcmV2ZXJzZTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gY2hlY2tFbGVjdHJpY0Rvb3IodHlwZTogRWxlY3RyaWNCb3hUeXBlKTogVG9nZ2xlRnVuY3Rpb24ge1xuICByZXR1cm4gKGVudGl0eSkgPT4ge1xuICAgIGNvbnN0IHN0YXRlID0gZW50aXR5LmFyZWEuZ2FtZS5yZXNvdXJjZXMuZ2V0UmVzb3VyY2U8RG9vclN0YXRlPignZG9vci1zdGF0ZScpO1xuICAgIHJldHVybiBzdGF0ZS5pc0Rvb3JQb3dlcmVkKHR5cGUpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBtYXBEcmF3TGV2ZXJJY29uKCk6IERyYXdGdW5jdGlvbiB7XG4gIHJldHVybiAoZzJkLCB4LCB5LCByb3csIGNvbCwgZW50aXR5KSA9PiB7XG4gICAgY29uc3Qgc3RhdGUgPSBlbnRpdHkuYXJlYS5nYW1lLnJlc291cmNlcy5nZXRSZXNvdXJjZTxEb29yU3RhdGU+KCdkb29yLXN0YXRlJyk7XG4gICAgY29uc3QgaWNvbiA9IHN0YXRlLmdldFRvZ2dsZVN0YXRlKCkgPyAnTGV2ZXJSZXZlcnNlJyA6ICdMZXZlcic7XG4gICAgbWFwRHJhd0ljb24oaWNvbikoZzJkLCB4LCB5LCByb3csIGNvbCwgZW50aXR5KTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gbWFwRHJhd1BvcnRhbCgpOiBEcmF3RnVuY3Rpb24ge1xuICByZXR1cm4gKGcyZCwgeCwgeSwgX3JvdywgX2NvbCwgZW50aXR5KSA9PiB7XG4gICAgY29uc3QgbWFpbkFyZWEgPSBlbnRpdHkuYXJlYS5zdGF0ZSBhcyBNYWluQXJlYTtcbiAgICBpZiAobWFpbkFyZWEuZW5lcmd5TGVmdCA9PT0gMCkge1xuICAgICAgZzJkLmZpbGxTdHlsZSA9ICcjNUIwMEU3JztcbiAgICB9IGVsc2Uge1xuICAgICAgZzJkLmZpbGxTdHlsZSA9ICcjNTExZjFmJztcbiAgICB9XG5cbiAgICBnMmQuZmlsbFJlY3QoeCAtICgyICogVElMRV9TSVpFX1BYKSAvIDMsIHkgKyBUSUxFX1NJWkVfUFggLyA0LCAoNyAqIFRJTEVfU0laRV9QWCkgLyAzLCBUSUxFX1NJWkVfUFggLyAyKTtcblxuICAgIC8vIE9ubHkgZHJhdyB0aGUgZW5lcmd5IG9uIHRvcCBvbmNlIGFjdGl2YXRlZFxuICAgIGlmIChtYWluQXJlYS5lbmVyZ3lMZWZ0ID09PSAwKSB7XG4gICAgICBjb25zdCBpY29uSW1hZ2UgPSBlbnRpdHkuYXJlYS5nYW1lLmFzc2V0cy5nZXRJbWFnZSgnRW5lcmd5Jyk7XG4gICAgICBnMmQuZHJhd0ltYWdlKGljb25JbWFnZSwgeCArIFRJTEVfU0laRV9QWCAvIDQsIHkgKyBUSUxFX1NJWkVfUFggLyA0LCBUSUxFX1NJWkVfUFggLyAyLCBUSUxFX1NJWkVfUFggLyAyKTtcbiAgICB9XG4gIH07XG59XG4iLCJjb25zdCBNQVhfSEVBTFRIID0gMTAwO1xuXG4vKipcbiAqIFN0b3JlcyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgcGxheWVyIGhlYWx0aFxuICovXG5leHBvcnQgY2xhc3MgSGVhbHRoIHtcbiAgcHJpdmF0ZSBoZWFsdGggPSBNQVhfSEVBTFRIO1xuXG4gIHB1YmxpYyBnZXRIZWFsdGhQZXJjZW50TGVmdCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmhlYWx0aCAvIE1BWF9IRUFMVEg7XG4gIH1cblxuICBwdWJsaWMgaGVhbChhbW91bnQ6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuaGVhbHRoID0gTWF0aC5taW4odGhpcy5oZWFsdGggKyBhbW91bnQsIE1BWF9IRUFMVEgpO1xuICB9XG5cbiAgcHVibGljIGhpdChhbW91bnQ6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuaGVhbHRoID0gTWF0aC5tYXgodGhpcy5oZWFsdGggLSBhbW91bnQsIDApO1xuICB9XG5cbiAgcHVibGljIGhhc0hlYWx0aExlZnQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuaGVhbHRoID4gMDtcbiAgfVxufVxuIiwiaW1wb3J0IHsgRG9vckNvbG9yIH0gZnJvbSAnZW50aXRpZXMvRG9vckNvbG9yJztcblxuLyoqXG4gKiBTdG9yZXMgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGluLWdhbWUgaW52ZW50b3J5XG4gKi9cbmV4cG9ydCBjbGFzcyBJbnZlbnRvcnkge1xuICBwcml2YXRlIG1hcENvbGxlY3RlZCA9IGZhbHNlO1xuICBwcml2YXRlIGd1bkNvbGxlY3RlZCA9IGZhbHNlO1xuXG4gIHByaXZhdGUga2V5c0NvbGxlY3RlZDogUmVjb3JkPERvb3JDb2xvciwgbnVtYmVyPiA9IHtcbiAgICBbRG9vckNvbG9yLlJlZF06IDAsXG4gICAgW0Rvb3JDb2xvci5ZZWxsb3ddOiAwLFxuICAgIFtEb29yQ29sb3IuR3JlZW5dOiAwLFxuICAgIFtEb29yQ29sb3IuQmx1ZV06IDAsXG4gIH07XG5cbiAgcHJpdmF0ZSBiYXR0ZXJ5Q29sbGVjdGVkID0gMDtcblxuICBwdWJsaWMgY29sbGVjdE1hcCgpOiB2b2lkIHtcbiAgICB0aGlzLm1hcENvbGxlY3RlZCA9IHRydWU7XG4gIH1cblxuICBwdWJsaWMgaGFzQ29sbGVjdGVkTWFwKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLm1hcENvbGxlY3RlZDtcbiAgfVxuXG4gIHB1YmxpYyBjb2xsZWN0R3VuKCk6IHZvaWQge1xuICAgIHRoaXMuZ3VuQ29sbGVjdGVkID0gdHJ1ZTtcbiAgfVxuXG4gIHB1YmxpYyBoYXNDb2xsZWN0ZWRHdW4oKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuZ3VuQ29sbGVjdGVkO1xuICB9XG5cbiAgcHVibGljIGNvbGxlY3RLZXkoY29sb3I6IERvb3JDb2xvcik6IHZvaWQge1xuICAgIHRoaXMua2V5c0NvbGxlY3RlZFtjb2xvcl0gKz0gMTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRLZXlDb3VudChjb2xvcjogRG9vckNvbG9yKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5rZXlzQ29sbGVjdGVkW2NvbG9yXTtcbiAgfVxuXG4gIHB1YmxpYyBoYXNLZXlBdmFpbGFibGUoY29sb3I6IERvb3JDb2xvcik6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmdldEtleUNvdW50KGNvbG9yKSA+IDA7XG4gIH1cblxuICBwdWJsaWMgdXNlS2V5KGNvbG9yOiBEb29yQ29sb3IpOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy5rZXlzQ29sbGVjdGVkW2NvbG9yXSA+IDApIHtcbiAgICAgIHRoaXMua2V5c0NvbGxlY3RlZFtjb2xvcl0gLT0gMTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGNvbGxlY3RCYXR0ZXJ5KCk6IHZvaWQge1xuICAgIHRoaXMuYmF0dGVyeUNvbGxlY3RlZCArPSAxO1xuICB9XG5cbiAgcHVibGljIGdldEJhdHRlcnlDb3VudCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmJhdHRlcnlDb2xsZWN0ZWQ7XG4gIH1cblxuICBwdWJsaWMgaGFzQ29sbGVjdGVkQmF0dGVyeSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5iYXR0ZXJ5Q29sbGVjdGVkID4gMDtcbiAgfVxuXG4gIHB1YmxpYyB1c2VCYXR0ZXJ5KCk6IGJvb2xlYW4ge1xuICAgIGlmICh0aGlzLmJhdHRlcnlDb2xsZWN0ZWQgPiAwKSB7XG4gICAgICB0aGlzLmJhdHRlcnlDb2xsZWN0ZWQgLT0gMTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBNYWluQXJlYSB9IGZyb20gJ2FyZWFzL01haW5BcmVhJztcbmltcG9ydCB7IE1hemVPYmplY3QgfSBmcm9tICdhcmVhcy9NYXplT2JqZWN0JztcbmltcG9ydCB7IEJveENvbGxpc2lvbk1hc2sgfSBmcm9tICdlbmdpbmUvY29sbGlzaW9uJztcbmltcG9ydCB7IEVudGl0eSwgRW50aXR5U3RhdGUgfSBmcm9tICdlbmdpbmUvZW50aXR5JztcbmltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcblxuY29uc3QgRU5FUkdZX0dFT01FVFJZID0gbmV3IFRIUkVFLkljb3NhaGVkcm9uR2VvbWV0cnkoMSwgMyk7XG5jb25zdCBFTkVSR1lfTUFURVJJQUwgPSBuZXcgVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWwoe1xuICBjb2xvcjogMHhmZjgwMDAsXG4gIGVtaXNzaXZlOiAweGZmMDAwMCxcbn0pO1xuXG5jb25zdCBTQ0FMRV9TUEVFRCA9IE1hdGguUEkgLyAyNDtcbmNvbnN0IE1BWF9TQ0FMRSA9IDAuMTtcblxuLyoqXG4gKiBFbmVyZ3kgdGhhdCBuZWVkcyB0byBiZSBjb2xsZWN0ZWQgdG8gcG93ZXIgdGhlIGV4aXQgcG9ydGFsXG4gKi9cbmV4cG9ydCBjbGFzcyBFbmVyZ3kgaW1wbGVtZW50cyBFbnRpdHlTdGF0ZSB7XG4gIHB1YmxpYyByZWFkb25seSB0YWdzOiBzdHJpbmdbXSA9IFsnZW5lcmd5J107XG5cbiAgcHJpdmF0ZSBlbnRpdHk6IEVudGl0eTx0aGlzPjtcblxuICBwcml2YXRlIHJvdzogbnVtYmVyO1xuICBwcml2YXRlIGNvbHVtbjogbnVtYmVyO1xuICBwcml2YXRlIHNjYWxlID0gMDtcblxuICBjb25zdHJ1Y3Rvcihyb3c6IG51bWJlciwgY29sdW1uOiBudW1iZXIpIHtcbiAgICB0aGlzLnJvdyA9IHJvdztcbiAgICB0aGlzLmNvbHVtbiA9IGNvbHVtbjtcbiAgfVxuXG4gIG9uQ3JlYXRlKGVudGl0eTogRW50aXR5PHRoaXM+KTogdm9pZCB7XG4gICAgdGhpcy5lbnRpdHkgPSBlbnRpdHk7XG5cbiAgICBjb25zdCBvYmplY3QgPSBuZXcgVEhSRUUuTWVzaChFTkVSR1lfR0VPTUVUUlksIEVORVJHWV9NQVRFUklBTCk7XG4gICAgb2JqZWN0LnBvc2l0aW9uLmNvcHkoKGVudGl0eS5hcmVhLnN0YXRlIGFzIE1haW5BcmVhKS50aWxlTG9jYXRpb25Ub1Bvc2l0aW9uKHRoaXMucm93LCB0aGlzLmNvbHVtbikpO1xuICAgIG9iamVjdC5wb3NpdGlvbi55ID0gMi41O1xuICAgIG9iamVjdC5jYXN0U2hhZG93ID0gdHJ1ZTtcblxuICAgIHRoaXMuZW50aXR5Lm9iamVjdCA9IG9iamVjdDtcbiAgICB0aGlzLmVudGl0eS5tYXNrID0gbmV3IEJveENvbGxpc2lvbk1hc2sob2JqZWN0KTtcbiAgfVxuXG4gIG9uRGVzdHJveSgpOiB2b2lkIHtcbiAgICBjb25zdCBtYWluQXJlYSA9IHRoaXMuZW50aXR5LmFyZWEuc3RhdGUgYXMgTWFpbkFyZWE7XG4gICAgbWFpbkFyZWEubWF6ZVt0aGlzLnJvd11bdGhpcy5jb2x1bW5dID0gTWF6ZU9iamVjdC5FbXB0eTtcblxuICAgIC8vIFBsYXkgdGhlIHNvdW5kXG4gICAgaWYgKG1haW5BcmVhLmVuZXJneUxlZnQgPT09IDApIHtcbiAgICAgIG1haW5BcmVhLmFjdGl2YXRlUG9ydGFsLnZvbHVtZSA9IDAuNTtcbiAgICAgIG1haW5BcmVhLmFjdGl2YXRlUG9ydGFsLnBsYXkoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbWFpbkFyZWEuY29sbGVjdEl0ZW0ucGxheSgpO1xuICAgIH1cbiAgfVxuXG4gIG9uU3RlcCgpOiB2b2lkIHtcbiAgICB0aGlzLnBsYXlTY2FsZUFuaW1hdGlvbigpO1xuICAgIHRoaXMuY2hlY2tGb3JQbGF5ZXJDb2xsaXNpb24oKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTY2FsZSB0aGUgZW5lcmd5IHRvIG1ha2UgaXQgbG9vayBjb29sXG4gICAqL1xuICBwcml2YXRlIHBsYXlTY2FsZUFuaW1hdGlvbigpOiB2b2lkIHtcbiAgICBjb25zdCBuZXdTY2FsZSA9IDEgKyBNQVhfU0NBTEUgKiBNYXRoLnNpbih0aGlzLnNjYWxlKTtcbiAgICB0aGlzLnNjYWxlICs9IFNDQUxFX1NQRUVEO1xuICAgIHRoaXMuZW50aXR5Lm9iamVjdC5zY2FsZS5zZXQobmV3U2NhbGUsIG5ld1NjYWxlLCBuZXdTY2FsZSk7XG4gICAgdGhpcy5lbnRpdHkubWFzay51cGRhdGUodGhpcy5lbnRpdHkub2JqZWN0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXN0cm95IHRoaXMgb2JqZWN0IGlmIGl0IGlzIGNvbGxpZGluZyB3aXRoIHRoZSBwbGF5ZXJcbiAgICovXG4gIHByaXZhdGUgY2hlY2tGb3JQbGF5ZXJDb2xsaXNpb24oKTogdm9pZCB7XG4gICAgY29uc3QgcGxheWVyID0gdGhpcy5lbnRpdHkuYXJlYS5maW5kRmlyc3RFbnRpdHkoJ3BsYXllcicpO1xuICAgIGlmIChwbGF5ZXIgIT09IG51bGwgJiYgdGhpcy5lbnRpdHkuaXNDb2xsaWRpbmdXaXRoKHBsYXllcikpIHtcbiAgICAgIHRoaXMuZW50aXR5LmRlc3Ryb3koKTtcbiAgICB9XG4gIH1cblxuICBvblRpbWVyKF90aW1lckluZGV4OiBudW1iZXIpOiB2b2lkIHt9XG5cbiAgb25EcmF3KF9nMmQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk6IHZvaWQge31cbn1cbiIsImltcG9ydCB7IE1haW5BcmVhIH0gZnJvbSAnYXJlYXMvTWFpbkFyZWEnO1xuaW1wb3J0IHsgU3BoZXJlQ29sbGlzaW9uTWFzayB9IGZyb20gJ2VuZ2luZS9jb2xsaXNpb24nO1xuaW1wb3J0IHsgRW50aXR5LCBFbnRpdHlTdGF0ZSB9IGZyb20gJ2VuZ2luZS9lbnRpdHknO1xuaW1wb3J0IHsgR2FtZXBhZEJ1dHRvbiwgS2V5IH0gZnJvbSAnZW5naW5lL2lucHV0JztcbmltcG9ydCB7IEhVRCB9IGZyb20gJ2VudGl0aWVzL0hVRCc7XG5pbXBvcnQgeyBEb29yU3RhdGUgfSBmcm9tICdyZXNvdXJjZXMvRG9vclN0YXRlJztcbmltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcblxuLyoqXG4gKiBMZXZlciB0aGF0IHVwZGF0ZXMgdGhlIHRvZ2dsZSBkb29yc1xuICovXG5leHBvcnQgY2xhc3MgTGV2ZXIgaW1wbGVtZW50cyBFbnRpdHlTdGF0ZSB7XG4gIHB1YmxpYyByZWFkb25seSB0YWdzOiBzdHJpbmdbXSA9IFsnbGV2ZXInXTtcblxuICBwcml2YXRlIGVudGl0eTogRW50aXR5PHRoaXM+O1xuICBwcml2YXRlIHJvdzogbnVtYmVyO1xuICBwcml2YXRlIGNvbHVtbjogbnVtYmVyO1xuXG4gIC8vIEFuaW1hdGlvbnNcbiAgcHJpdmF0ZSBtaXhlcjogVEhSRUUuQW5pbWF0aW9uTWl4ZXI7XG4gIHByaXZhdGUgbGV2ZXJBY3Rpb246IFRIUkVFLkFuaW1hdGlvbkFjdGlvbjtcbiAgcHJpdmF0ZSBvcGVuID0gZmFsc2U7XG5cbiAgY29uc3RydWN0b3Iocm93OiBudW1iZXIsIGNvbHVtbjogbnVtYmVyKSB7XG4gICAgdGhpcy5yb3cgPSByb3c7XG4gICAgdGhpcy5jb2x1bW4gPSBjb2x1bW47XG4gIH1cblxuICBvbkNyZWF0ZShlbnRpdHk6IEVudGl0eTx0aGlzPik6IHZvaWQge1xuICAgIHRoaXMuZW50aXR5ID0gZW50aXR5O1xuXG4gICAgLy8gQ29uZmlndXJlIG9iamVjdCBtb2RlbFxuICAgIGNvbnN0IG9iamVjdCA9IHRoaXMuZW50aXR5LmFyZWEuZ2FtZS5hc3NldHMuZ2V0T2JqZWN0KCdMZXZlcicpLmNsb25lKCk7XG4gICAgb2JqZWN0LnBvc2l0aW9uLmNvcHkoKGVudGl0eS5hcmVhLnN0YXRlIGFzIE1haW5BcmVhKS50aWxlTG9jYXRpb25Ub1Bvc2l0aW9uKHRoaXMucm93LCB0aGlzLmNvbHVtbikpO1xuICAgIG9iamVjdC5zY2FsZS5zZXQoMS41LCAxLjUsIDEuNSk7XG4gICAgb2JqZWN0LmNhc3RTaGFkb3cgPSB0cnVlO1xuICAgIG9iamVjdC5jaGlsZHJlblswXS5jYXN0U2hhZG93ID0gdHJ1ZTtcbiAgICB0aGlzLmVudGl0eS5vYmplY3QgPSBvYmplY3Q7XG5cbiAgICAvLyBDb25maWd1cmUgY29sbGlzaW9uIG1hc2tcbiAgICB0aGlzLmVudGl0eS5tYXNrID0gbmV3IFNwaGVyZUNvbGxpc2lvbk1hc2sob2JqZWN0KTtcblxuICAgIC8vIExvYWQgYW5pbWF0aW9uc1xuICAgIHRoaXMubWl4ZXIgPSBuZXcgVEhSRUUuQW5pbWF0aW9uTWl4ZXIob2JqZWN0KTtcbiAgICB0aGlzLmxldmVyQWN0aW9uID0gdGhpcy5taXhlci5jbGlwQWN0aW9uKGVudGl0eS5hcmVhLmdhbWUuYXNzZXRzLmdldEFuaW1hdGlvbignTGV2ZXJBY3Rpb24nKSk7XG4gICAgdGhpcy5sZXZlckFjdGlvbi5sb29wID0gVEhSRUUuTG9vcE9uY2U7XG4gICAgdGhpcy5sZXZlckFjdGlvbi5yZXBldGl0aW9ucyA9IDE7XG4gICAgdGhpcy5sZXZlckFjdGlvbi5jbGFtcFdoZW5GaW5pc2hlZCA9IHRydWU7XG4gIH1cblxuICBvbkRlc3Ryb3koKTogdm9pZCB7fVxuXG4gIG9uU3RlcCgpOiB2b2lkIHtcbiAgICB0aGlzLm1peGVyLnVwZGF0ZSgwLjAyKTtcbiAgICB0aGlzLnRlc3RGb3JQbGF5ZXJJbnRlcmFjdGlvbigpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNlZSBpZiB0aGUgcGxheWVyIGlzIGNvbGxpZGluZyBzbyBpdCBjYW4gaGFuZGxlIHVzZXIgaW50ZXJhY3Rpb25cbiAgICovXG4gIHByaXZhdGUgdGVzdEZvclBsYXllckludGVyYWN0aW9uKCk6IHZvaWQge1xuICAgIGNvbnN0IHBsYXllciA9IHRoaXMuZW50aXR5LmFyZWEuZmluZEZpcnN0RW50aXR5KCdwbGF5ZXInKTtcbiAgICBpZiAocGxheWVyID09PSBudWxsIHx8ICF0aGlzLmVudGl0eS5pc0NvbGxpZGluZ1dpdGgocGxheWVyKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIERyYXcgdGhlIG1lc3NhZ2VcbiAgICBjb25zdCBodWQgPSB0aGlzLmVudGl0eS5hcmVhLmZpbmRGaXJzdEVudGl0eSgnaHVkJykgYXMgRW50aXR5PEhVRD47XG4gICAgaWYgKGh1ZCAhPT0gbnVsbCkge1xuICAgICAgaWYgKGh1ZC5zdGF0ZS5tZXNzYWdlLmxlbmd0aCA+IDAgfHwgdGhpcy5sZXZlckFjdGlvbi5pc1J1bm5pbmcoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGh1ZC5zdGF0ZS5tZXNzYWdlID0gJ0FjdGlvbjogUHVsbCBMZXZlcic7XG4gICAgfVxuXG4gICAgLy8gVGVzdCBpZiB0aGUgcGxheWVyIGNhbiBpbnRlcmFjdCB3aXRoIHRoZSBsZXZlclxuICAgIGlmICghdGhpcy5sZXZlckFjdGlvbi5pc1J1bm5pbmcoKSkge1xuICAgICAgdGhpcy5jaGVja0ludGVyYWN0aW9uSW5wdXQoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVG9nZ2xlIHRoZSBhY3Rpb24gaWYgYSBrZXkgaXMgcHJlc3NlZFxuICAgKi9cbiAgcHJpdmF0ZSBjaGVja0ludGVyYWN0aW9uSW5wdXQoKTogdm9pZCB7XG4gICAgY29uc3QgaW5wdXQgPSB0aGlzLmVudGl0eS5hcmVhLmdhbWUuaW5wdXQ7XG4gICAgaWYgKGlucHV0LmlzS2V5U3RhcnRlZChLZXkuRSkgfHwgaW5wdXQuaXNHYW1lcGFkQnV0dG9uU3RhcnRlZCgwLCBHYW1lcGFkQnV0dG9uLlhTcXVhcmUpKSB7XG4gICAgICBpZiAodGhpcy5vcGVuKSB7XG4gICAgICAgIHRoaXMuY2xvc2VMZXZlcigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5vcGVuTGV2ZXIoKTtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLmVudGl0eS5hcmVhLmdhbWUucmVzb3VyY2VzLmdldFJlc291cmNlPERvb3JTdGF0ZT4oJ2Rvb3Itc3RhdGUnKTtcbiAgICAgIHN0YXRlLnRvZ2dsZURvb3JzKCk7XG5cbiAgICAgIC8vIFBsYXkgdGhlIHNvdW5kXG4gICAgICBjb25zdCBtYWluQXJlYSA9IHRoaXMuZW50aXR5LmFyZWEuc3RhdGUgYXMgTWFpbkFyZWE7XG4gICAgICBtYWluQXJlYS50b2dnbGVMZXZlci5wbGF5KCk7XG4gICAgICBtYWluQXJlYS5vcGVuRG9vci5wbGF5KCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFBsYXkgYW5pbWF0aW9uIHRvIFwib3BlblwiIHRoZSBsZXZlclxuICAgKi9cbiAgcHJpdmF0ZSBvcGVuTGV2ZXIoKTogdm9pZCB7XG4gICAgdGhpcy5vcGVuID0gdHJ1ZTtcblxuICAgIHRoaXMubGV2ZXJBY3Rpb24udGltZVNjYWxlID0gMTtcbiAgICB0aGlzLmxldmVyQWN0aW9uLnBhdXNlZCA9IGZhbHNlO1xuICAgIHRoaXMubGV2ZXJBY3Rpb24ucGxheSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFBsYXkgYW5pbWF0aW9uIHRvIFwiY2xvc2VcIiB0aGUgbGV2ZXJcbiAgICovXG4gIHByaXZhdGUgY2xvc2VMZXZlcigpOiB2b2lkIHtcbiAgICB0aGlzLm9wZW4gPSBmYWxzZTtcblxuICAgIHRoaXMubGV2ZXJBY3Rpb24udGltZVNjYWxlID0gLTE7XG4gICAgdGhpcy5sZXZlckFjdGlvbi50aW1lID0gdGhpcy5sZXZlckFjdGlvbi5nZXRDbGlwKCkuZHVyYXRpb247XG4gICAgdGhpcy5sZXZlckFjdGlvbi5wYXVzZWQgPSBmYWxzZTtcbiAgICB0aGlzLmxldmVyQWN0aW9uLnBsYXkoKTtcbiAgfVxuXG4gIG9uVGltZXIoX3RpbWVySW5kZXg6IG51bWJlcik6IHZvaWQge31cblxuICBvbkRyYXcoX2cyZDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTogdm9pZCB7fVxufVxuIiwiaW1wb3J0IHsgTWFpbkFyZWEgfSBmcm9tICdhcmVhcy9NYWluQXJlYSc7XG5pbXBvcnQgeyBTQ0FMRV9CQVNFIH0gZnJvbSAnYXJlYXMvQWJzdHJhY3RNYXplQXJlYSc7XG5pbXBvcnQgeyBNYXplT2JqZWN0IH0gZnJvbSAnYXJlYXMvTWF6ZU9iamVjdCc7XG5pbXBvcnQgeyBCb3hDb2xsaXNpb25NYXNrIH0gZnJvbSAnZW5naW5lL2NvbGxpc2lvbic7XG5pbXBvcnQgeyBFbnRpdHksIEVudGl0eVN0YXRlIH0gZnJvbSAnZW5naW5lL2VudGl0eSc7XG5pbXBvcnQgeyBFeHBsb3Npb24gfSBmcm9tICdlbnRpdGllcy9lZmZlY3RzL0V4cGxvc2lvbic7XG5cbmNvbnN0IEhFQUxUSCA9IDEwO1xuXG4vKipcbiAqIFJvY2sgYmxvY2tpbmcgdGhlIG1hemVcbiAqL1xuZXhwb3J0IGNsYXNzIFJvY2sgaW1wbGVtZW50cyBFbnRpdHlTdGF0ZSB7XG4gIHB1YmxpYyByZWFkb25seSB0YWdzOiBzdHJpbmdbXSA9IFsncm9jayddO1xuXG4gIHByaXZhdGUgZW50aXR5OiBFbnRpdHk8dGhpcz47XG4gIHByaXZhdGUgcm93OiBudW1iZXI7XG4gIHByaXZhdGUgY29sdW1uOiBudW1iZXI7XG5cbiAgcHJpdmF0ZSBoZWFsdGggPSBIRUFMVEg7XG5cbiAgY29uc3RydWN0b3Iocm93OiBudW1iZXIsIGNvbHVtbjogbnVtYmVyKSB7XG4gICAgdGhpcy5yb3cgPSByb3c7XG4gICAgdGhpcy5jb2x1bW4gPSBjb2x1bW47XG4gIH1cblxuICBvbkNyZWF0ZShlbnRpdHk6IEVudGl0eTx0aGlzPik6IHZvaWQge1xuICAgIHRoaXMuZW50aXR5ID0gZW50aXR5O1xuXG4gICAgY29uc3Qgb2JqZWN0ID0gZW50aXR5LmFyZWEuZ2FtZS5hc3NldHMuZ2V0T2JqZWN0KCdSb2NrJykuY2xvbmUoKTtcbiAgICBvYmplY3Quc2NhbGUuc2V0KFNDQUxFX0JBU0UgLyAyLCBTQ0FMRV9CQVNFIC8gMiwgU0NBTEVfQkFTRSAvIDIpO1xuICAgIG9iamVjdC5wb3NpdGlvbi5jb3B5KChlbnRpdHkuYXJlYS5zdGF0ZSBhcyBNYWluQXJlYSkudGlsZUxvY2F0aW9uVG9Qb3NpdGlvbih0aGlzLnJvdywgdGhpcy5jb2x1bW4pKTtcbiAgICBvYmplY3QuY2FzdFNoYWRvdyA9IHRydWU7XG5cbiAgICB0aGlzLmVudGl0eS5vYmplY3QgPSBvYmplY3Q7XG4gICAgdGhpcy5lbnRpdHkubWFzayA9IG5ldyBCb3hDb2xsaXNpb25NYXNrKG9iamVjdCk7XG4gIH1cblxuICBvbkRlc3Ryb3koKTogdm9pZCB7XG4gICAgY29uc3QgbWFpbkFyZWEgPSB0aGlzLmVudGl0eS5hcmVhLnN0YXRlIGFzIE1haW5BcmVhO1xuICAgIG1haW5BcmVhLm1hemVbdGhpcy5yb3ddW3RoaXMuY29sdW1uXSA9IE1hemVPYmplY3QuRW1wdHk7XG4gIH1cblxuICBvblN0ZXAoKTogdm9pZCB7XG4gICAgdGhpcy5jaGVja0ZvckJ1bGxldENvbGxpc2lvbigpO1xuICAgIHRoaXMuY2hlY2tIZWFsdGgoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBmb3IgY29sbGlzaW9ucyB3aXRoIGFueSBvZiB0aGUgcGxheWVyIGJ1bGxldHNcbiAgICovXG4gIHByaXZhdGUgY2hlY2tGb3JCdWxsZXRDb2xsaXNpb24oKTogdm9pZCB7XG4gICAgZm9yIChjb25zdCBidWxsZXQgb2YgdGhpcy5lbnRpdHkuYXJlYS5maW5kRW50aXRpZXMoJ3BsYXllci1idWxsZXQnKSkge1xuICAgICAgaWYgKHRoaXMuZW50aXR5LmlzQ29sbGlkaW5nV2l0aChidWxsZXQpKSB7XG4gICAgICAgIGNvbnN0IG1haW5BcmVhID0gdGhpcy5lbnRpdHkuYXJlYS5zdGF0ZSBhcyBNYWluQXJlYTtcbiAgICAgICAgbWFpbkFyZWEuaGl0T2JqZWN0LnZvbHVtZSA9IDAuMTI1O1xuICAgICAgICBtYWluQXJlYS5oaXRPYmplY3QucGxheSgpO1xuXG4gICAgICAgIGJ1bGxldC5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuaGVhbHRoIC09IDE7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIHRoZSBoZWFsdGggaGFzIGRlc3Ryb3llZCB0aGUgcm9ja1xuICAgKi9cbiAgcHJpdmF0ZSBjaGVja0hlYWx0aCgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5oZWFsdGggPD0gMCkge1xuICAgICAgdGhpcy5lbnRpdHkuZGVzdHJveSgpO1xuXG4gICAgICAvLyBTcGF3biB0aGUgZXhwbG9zaW9uXG4gICAgICBjb25zdCBleHBsb3Npb25Qb3MgPSB0aGlzLmVudGl0eS5vYmplY3QucG9zaXRpb24uY2xvbmUoKTtcbiAgICAgIGV4cGxvc2lvblBvcy55ICs9IFNDQUxFX0JBU0UgLyA0O1xuICAgICAgdGhpcy5lbnRpdHkuYXJlYS5jcmVhdGVFbnRpdHkobmV3IEV4cGxvc2lvbihleHBsb3Npb25Qb3MsIFNDQUxFX0JBU0UgLyAyKSk7XG4gICAgfVxuICB9XG5cbiAgb25UaW1lcihfdGltZXJJbmRleDogbnVtYmVyKTogdm9pZCB7fVxuXG4gIG9uRHJhdyhfZzJkOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpOiB2b2lkIHt9XG59XG4iLCJpbXBvcnQgeyBNYWluQXJlYSB9IGZyb20gJ2FyZWFzL01haW5BcmVhJztcbmltcG9ydCB7IE1hemVPYmplY3QgfSBmcm9tICdhcmVhcy9NYXplT2JqZWN0JztcbmltcG9ydCB7IEJveENvbGxpc2lvbk1hc2sgfSBmcm9tICdlbmdpbmUvY29sbGlzaW9uJztcbmltcG9ydCB7IEVudGl0eSwgRW50aXR5U3RhdGUgfSBmcm9tICdlbmdpbmUvZW50aXR5JztcbmltcG9ydCB7IEludmVudG9yeSB9IGZyb20gJ3Jlc291cmNlcy9JbnZlbnRvcnknO1xuXG4vKipcbiAqIENvbGxlY3RhYmxlIGJhdHRlcnkgaW4gdGhlIG1hemVcbiAqL1xuZXhwb3J0IGNsYXNzIEJhdHRlcnkgaW1wbGVtZW50cyBFbnRpdHlTdGF0ZSB7XG4gIHB1YmxpYyByZWFkb25seSB0YWdzOiBzdHJpbmdbXSA9IFsnYmF0dGVyeSddO1xuXG4gIHByaXZhdGUgZW50aXR5OiBFbnRpdHk8dGhpcz47XG4gIHByaXZhdGUgcm93OiBudW1iZXI7XG4gIHByaXZhdGUgY29sdW1uOiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3Iocm93OiBudW1iZXIsIGNvbHVtbjogbnVtYmVyKSB7XG4gICAgdGhpcy5yb3cgPSByb3c7XG4gICAgdGhpcy5jb2x1bW4gPSBjb2x1bW47XG4gIH1cblxuICBvbkNyZWF0ZShlbnRpdHk6IEVudGl0eTx0aGlzPik6IHZvaWQge1xuICAgIHRoaXMuZW50aXR5ID0gZW50aXR5O1xuXG4gICAgY29uc3Qgb2JqZWN0ID0gdGhpcy5lbnRpdHkuYXJlYS5nYW1lLmFzc2V0cy5nZXRPYmplY3QoJ0JhdHRlcnknKS5jbG9uZSgpO1xuICAgIG9iamVjdC5wb3NpdGlvbi5jb3B5KChlbnRpdHkuYXJlYS5zdGF0ZSBhcyBNYWluQXJlYSkudGlsZUxvY2F0aW9uVG9Qb3NpdGlvbih0aGlzLnJvdywgdGhpcy5jb2x1bW4pKTtcbiAgICBvYmplY3QucG9zaXRpb24ueSA9IDI7XG4gICAgb2JqZWN0LnNjYWxlLnNldCgyLCAyLCAyKTtcbiAgICBvYmplY3QuY2hpbGRyZW5bMl0uY2FzdFNoYWRvdyA9IHRydWU7XG4gICAgdGhpcy5lbnRpdHkub2JqZWN0ID0gb2JqZWN0O1xuXG4gICAgdGhpcy5lbnRpdHkubWFzayA9IG5ldyBCb3hDb2xsaXNpb25NYXNrKG9iamVjdCk7XG4gIH1cblxuICBvbkRlc3Ryb3koKTogdm9pZCB7XG4gICAgLy8gUmVtb3ZlIHRoZSBiYXR0ZXJ5IGZyb20gdGhlIG1hemVcbiAgICBjb25zdCBtYWluQXJlYSA9IHRoaXMuZW50aXR5LmFyZWEuc3RhdGUgYXMgTWFpbkFyZWE7XG4gICAgbWFpbkFyZWEubWF6ZVt0aGlzLnJvd11bdGhpcy5jb2x1bW5dID0gTWF6ZU9iamVjdC5FbXB0eTtcblxuICAgIC8vIFVwZGF0ZSB0aGUgaW52ZW50b3J5XG4gICAgY29uc3QgaW52ZW50b3J5ID0gdGhpcy5lbnRpdHkuYXJlYS5nYW1lLnJlc291cmNlcy5nZXRSZXNvdXJjZTxJbnZlbnRvcnk+KCdpbnZlbnRvcnknKTtcbiAgICBpbnZlbnRvcnkuY29sbGVjdEJhdHRlcnkoKTtcblxuICAgIC8vIFBsYXkgdGhlIHNvdW5kXG4gICAgbWFpbkFyZWEuY29sbGVjdEl0ZW0ucGxheSgpO1xuICB9XG5cbiAgb25TdGVwKCk6IHZvaWQge1xuICAgIC8vIFRlc3QgZm9yIHBsYXllciBjb2xsaXNpb24gdG8gY29sbGVjdCB0aGUgYmF0dGVyeVxuICAgIGNvbnN0IHBsYXllciA9IHRoaXMuZW50aXR5LmFyZWEuZmluZEZpcnN0RW50aXR5KCdwbGF5ZXInKTtcbiAgICBpZiAocGxheWVyICE9PSBudWxsICYmIHRoaXMuZW50aXR5LmlzQ29sbGlkaW5nV2l0aChwbGF5ZXIpKSB7XG4gICAgICB0aGlzLmVudGl0eS5kZXN0cm95KCk7XG4gICAgfVxuICB9XG5cbiAgb25UaW1lcihfdGltZXJJbmRleDogbnVtYmVyKTogdm9pZCB7fVxuXG4gIG9uRHJhdyhfZzJkOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpOiB2b2lkIHt9XG59XG4iLCJpbXBvcnQgeyBNYWluQXJlYSB9IGZyb20gJ2FyZWFzL01haW5BcmVhJztcbmltcG9ydCB7IEJveENvbGxpc2lvbk1hc2ssIFNwaGVyZUNvbGxpc2lvbk1hc2sgfSBmcm9tICdlbmdpbmUvY29sbGlzaW9uJztcbmltcG9ydCB7IEVudGl0eSwgRW50aXR5U3RhdGUgfSBmcm9tICdlbmdpbmUvZW50aXR5JztcbmltcG9ydCB7IEVsZWN0cmljQm94VHlwZSB9IGZyb20gJ2VudGl0aWVzL0VsZWN0cmljQm94VHlwZSc7XG5pbXBvcnQgeyBHYW1lcGFkQnV0dG9uLCBLZXkgfSBmcm9tICdlbmdpbmUvaW5wdXQnO1xuaW1wb3J0IHsgSFVEIH0gZnJvbSAnZW50aXRpZXMvSFVEJztcbmltcG9ydCB7IEludmVudG9yeSB9IGZyb20gJ3Jlc291cmNlcy9JbnZlbnRvcnknO1xuaW1wb3J0IHsgRG9vclN0YXRlIH0gZnJvbSAncmVzb3VyY2VzL0Rvb3JTdGF0ZSc7XG5pbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XG5cbi8qKlxuICogQm94IHRvIG9wZW4gYW5kIGNsb3NlIGVsZWN0cmljIGRvb3JzXG4gKi9cbmV4cG9ydCBjbGFzcyBFbGVjdHJpY0JveCBpbXBsZW1lbnRzIEVudGl0eVN0YXRlIHtcbiAgcHVibGljIHJlYWRvbmx5IHRhZ3M6IHN0cmluZ1tdID0gWydlbGVjdHJpYy1ib3gnLCAnd2FsbCddO1xuXG4gIHByaXZhdGUgZW50aXR5OiBFbnRpdHk8dGhpcz47XG5cbiAgcHJpdmF0ZSByb3c6IG51bWJlcjtcbiAgcHJpdmF0ZSBjb2x1bW46IG51bWJlcjtcbiAgcHJpdmF0ZSB0eXBlOiBFbGVjdHJpY0JveFR5cGU7XG5cbiAgLy8gRmxhZyB0byBpbmRpY2F0ZSBpZiBiYXR0ZXJ5IGlzIGluIHRoZSBzeXN0ZW1cbiAgcHJpdmF0ZSBoYXNCYXR0ZXJ5ID0gZmFsc2U7XG4gIHByaXZhdGUgaW50ZXJhY3RNYXNrOiBTcGhlcmVDb2xsaXNpb25NYXNrO1xuXG4gIC8vIEFuaW1hdGlvbnNcbiAgcHJpdmF0ZSBtaXhlcjogVEhSRUUuQW5pbWF0aW9uTWl4ZXI7XG4gIHByaXZhdGUgaW5zZXJ0QmF0dGVyeTogVEhSRUUuQW5pbWF0aW9uQWN0aW9uO1xuICBwcml2YXRlIHNwaW5XaGVlbDogVEhSRUUuQW5pbWF0aW9uQWN0aW9uO1xuICBwcml2YXRlIGJhdHRlcnlPYmplY3Q6IFRIUkVFLk9iamVjdDNEO1xuXG4gIGNvbnN0cnVjdG9yKHJvdzogbnVtYmVyLCBjb2x1bW46IG51bWJlciwgdHlwZTogRWxlY3RyaWNCb3hUeXBlKSB7XG4gICAgdGhpcy5yb3cgPSByb3c7XG4gICAgdGhpcy5jb2x1bW4gPSBjb2x1bW47XG4gICAgdGhpcy50eXBlID0gdHlwZTtcbiAgfVxuXG4gIG9uQ3JlYXRlKGVudGl0eTogRW50aXR5PHRoaXM+KTogdm9pZCB7XG4gICAgdGhpcy5lbnRpdHkgPSBlbnRpdHk7XG5cbiAgICAvLyBDb25maWd1cmUgb2JqZWN0IG1vZGVsXG4gICAgY29uc3Qgb2JqZWN0ID0gdGhpcy5lbnRpdHkuYXJlYS5nYW1lLmFzc2V0cy5nZXRPYmplY3QoJ0VsZWN0cmljQm94JykuY2xvbmUoKTtcbiAgICBvYmplY3QucG9zaXRpb24uY29weSgoZW50aXR5LmFyZWEuc3RhdGUgYXMgTWFpbkFyZWEpLnRpbGVMb2NhdGlvblRvUG9zaXRpb24odGhpcy5yb3csIHRoaXMuY29sdW1uKSk7XG4gICAgb2JqZWN0LmNoaWxkcmVuWzBdLmNhc3RTaGFkb3cgPSB0cnVlO1xuICAgIG9iamVjdC5jaGlsZHJlblszXS5jYXN0U2hhZG93ID0gdHJ1ZTtcbiAgICB0aGlzLmJhdHRlcnlPYmplY3QgPSBvYmplY3QuY2hpbGRyZW5bMl07XG4gICAgdGhpcy5iYXR0ZXJ5T2JqZWN0LnZpc2libGUgPSBmYWxzZTtcbiAgICB0aGlzLmVudGl0eS5vYmplY3QgPSBvYmplY3Q7XG5cbiAgICAvLyBDb25maWd1cmUgb2JqZWN0IG1hc2tzXG4gICAgdGhpcy5lbnRpdHkubWFzayA9IG5ldyBCb3hDb2xsaXNpb25NYXNrKG9iamVjdCk7XG4gICAgdGhpcy5pbnRlcmFjdE1hc2sgPSBuZXcgU3BoZXJlQ29sbGlzaW9uTWFzayhvYmplY3QpO1xuICAgIHRoaXMuaW50ZXJhY3RNYXNrLnNwaGVyZS5yYWRpdXMgKj0gMS41O1xuXG4gICAgLy8gTG9hZCBhbmltYXRpb25zXG4gICAgdGhpcy5taXhlciA9IG5ldyBUSFJFRS5BbmltYXRpb25NaXhlcihvYmplY3QpO1xuXG4gICAgdGhpcy5pbnNlcnRCYXR0ZXJ5ID0gdGhpcy5taXhlci5jbGlwQWN0aW9uKGVudGl0eS5hcmVhLmdhbWUuYXNzZXRzLmdldEFuaW1hdGlvbignQmF0dGVyeUFjdGlvbicpKTtcbiAgICB0aGlzLmluc2VydEJhdHRlcnkubG9vcCA9IFRIUkVFLkxvb3BPbmNlO1xuICAgIHRoaXMuaW5zZXJ0QmF0dGVyeS5jbGFtcFdoZW5GaW5pc2hlZCA9IHRydWU7XG5cbiAgICB0aGlzLnNwaW5XaGVlbCA9IHRoaXMubWl4ZXIuY2xpcEFjdGlvbihlbnRpdHkuYXJlYS5nYW1lLmFzc2V0cy5nZXRBbmltYXRpb24oJ1doZWVsQWN0aW9uJykpO1xuICAgIHRoaXMuc3BpbldoZWVsLmxvb3AgPSBUSFJFRS5Mb29wUmVwZWF0O1xuICAgIHRoaXMuc3BpbldoZWVsLnJlcGV0aXRpb25zID0gSW5maW5pdHk7XG4gICAgdGhpcy5zcGluV2hlZWwucGF1c2VkID0gdHJ1ZTtcbiAgICB0aGlzLnNwaW5XaGVlbC5wbGF5KCk7XG4gIH1cblxuICBvbkRlc3Ryb3koKTogdm9pZCB7fVxuXG4gIG9uU3RlcCgpOiB2b2lkIHtcbiAgICB0aGlzLm1peGVyLnVwZGF0ZSgwLjAxKTtcbiAgICB0aGlzLnRlc3RGb3JQbGF5ZXJJbnRlcmFjdGlvbigpO1xuXG4gICAgLy8gVHJpZ2dlcjogY2FsbGVkIE9ORSB0aW1lIGFmdGVyIHRoZSBiYXR0ZXJ5IGhhcyBiZWVuIGluc2VydGVkXG4gICAgaWYgKHRoaXMuaGFzQmF0dGVyeSAmJiAhdGhpcy5pbnNlcnRCYXR0ZXJ5LmlzUnVubmluZygpICYmICF0aGlzLnNwaW5XaGVlbC5pc1J1bm5pbmcoKSkge1xuICAgICAgLy8gU3RhcnQgdGhlIGFuaW1hdGlvblxuICAgICAgdGhpcy5zcGluV2hlZWwucGF1c2VkID0gZmFsc2U7XG5cbiAgICAgIC8vIE1hcmsgZG9vciBhcyBwb3dlcmVkXG4gICAgICBjb25zdCBzdGF0ZSA9IHRoaXMuZW50aXR5LmFyZWEuZ2FtZS5yZXNvdXJjZXMuZ2V0UmVzb3VyY2U8RG9vclN0YXRlPignZG9vci1zdGF0ZScpO1xuICAgICAgc3RhdGUuc2V0RG9vclBvd2VyZWQodGhpcy50eXBlLCB0cnVlKTtcblxuICAgICAgLy8gUGxheSB0aGUgcG93ZXItdXAgc291bmRcbiAgICAgIGNvbnN0IG1haW5BcmVhID0gdGhpcy5lbnRpdHkuYXJlYS5zdGF0ZSBhcyBNYWluQXJlYTtcbiAgICAgIG1haW5BcmVhLmVsZWN0cmljQm94LnZvbHVtZSA9IDAuMjU7XG4gICAgICBtYWluQXJlYS5lbGVjdHJpY0JveC5wbGF5KCk7XG4gICAgfVxuXG4gICAgLy8gVHJpZ2dlcjogY2FsbGVkIE9ORSB0aW1lIGFmdGVyIHRoZSBiYXR0ZXJ5IGhhcyBiZWVuIHJlbW92ZWRcbiAgICBpZiAoIXRoaXMuaGFzQmF0dGVyeSAmJiAhdGhpcy5pbnNlcnRCYXR0ZXJ5LmlzUnVubmluZygpICYmIHRoaXMuYmF0dGVyeU9iamVjdC52aXNpYmxlKSB7XG4gICAgICAvLyBIaWRlIHRoZSBiYXR0ZXJ5XG4gICAgICB0aGlzLmJhdHRlcnlPYmplY3QudmlzaWJsZSA9IGZhbHNlO1xuXG4gICAgICAvLyBDb2xsZWN0IHRoZSBiYXR0ZXJ5IGFnYWluXG4gICAgICBjb25zdCBpbnZlbnRvcnkgPSB0aGlzLmVudGl0eS5hcmVhLmdhbWUucmVzb3VyY2VzLmdldFJlc291cmNlPEludmVudG9yeT4oJ2ludmVudG9yeScpO1xuICAgICAgaW52ZW50b3J5LmNvbGxlY3RCYXR0ZXJ5KCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNlZSBpZiB0aGUgcGxheWVyIGlzIGNvbGxpZGluZyBzbyBpdCBjYW4gaGFuZGxlIHVzZXIgaW50ZXJhY3Rpb25cbiAgICovXG4gIHByaXZhdGUgdGVzdEZvclBsYXllckludGVyYWN0aW9uKCk6IHZvaWQge1xuICAgIGNvbnN0IHBsYXllciA9IHRoaXMuZW50aXR5LmFyZWEuZmluZEZpcnN0RW50aXR5KCdwbGF5ZXInKTtcbiAgICBpZiAocGxheWVyID09PSBudWxsIHx8ICF0aGlzLmludGVyYWN0TWFzay5pc0NvbGxpZGluZ1dpdGgocGxheWVyLm1hc2spKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gRHJhdyB0aGUgbWVzc2FnZVxuICAgIGNvbnN0IGh1ZCA9IHRoaXMuZW50aXR5LmFyZWEuZmluZEZpcnN0RW50aXR5KCdodWQnKSBhcyBFbnRpdHk8SFVEPjtcbiAgICBpZiAoaHVkICE9PSBudWxsKSB7XG4gICAgICBjb25zdCBpbnZlbnRvcnkgPSB0aGlzLmVudGl0eS5hcmVhLmdhbWUucmVzb3VyY2VzLmdldFJlc291cmNlPEludmVudG9yeT4oJ2ludmVudG9yeScpO1xuICAgICAgaWYgKGh1ZC5zdGF0ZS5tZXNzYWdlLmxlbmd0aCA+IDAgfHwgdGhpcy5pbnNlcnRCYXR0ZXJ5LmlzUnVubmluZygpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuaGFzQmF0dGVyeSkge1xuICAgICAgICBodWQuc3RhdGUubWVzc2FnZSA9ICdBY3Rpb246IFRha2UgQmF0dGVyeSc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBodWQuc3RhdGUubWVzc2FnZSA9IGludmVudG9yeS5oYXNDb2xsZWN0ZWRCYXR0ZXJ5KCkgPyAnQWN0aW9uOiBJbnNlcnQgQmF0dGVyeScgOiAnTmVlZHMgYSBiYXR0ZXJ5IGZvciBwb3dlcic7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gVGVzdCBpZiB0aGUgcGxheWVyIGNhbiBpbnRlcmFjdCB3aXRoIHRoZSBib3hcbiAgICBpZiAoIXRoaXMuaW5zZXJ0QmF0dGVyeS5pc1J1bm5pbmcoKSkge1xuICAgICAgdGhpcy5jaGVja0ludGVyYWN0aW9uSW5wdXQoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVG9nZ2xlIHRoZSBhY3Rpb24gaWYgYSBrZXkgaXMgcHJlc3NlZFxuICAgKi9cbiAgcHJpdmF0ZSBjaGVja0ludGVyYWN0aW9uSW5wdXQoKTogdm9pZCB7XG4gICAgY29uc3QgaW5wdXQgPSB0aGlzLmVudGl0eS5hcmVhLmdhbWUuaW5wdXQ7XG4gICAgaWYgKGlucHV0LmlzS2V5U3RhcnRlZChLZXkuRSkgfHwgaW5wdXQuaXNHYW1lcGFkQnV0dG9uU3RhcnRlZCgwLCBHYW1lcGFkQnV0dG9uLlhTcXVhcmUpKSB7XG4gICAgICBjb25zdCBpbnZlbnRvcnkgPSB0aGlzLmVudGl0eS5hcmVhLmdhbWUucmVzb3VyY2VzLmdldFJlc291cmNlPEludmVudG9yeT4oJ2ludmVudG9yeScpO1xuICAgICAgaWYgKHRoaXMuaGFzQmF0dGVyeSkge1xuICAgICAgICAvLyBTdG9wIHNwaW5uaW5nIHRoZSB3aGVlbFxuICAgICAgICB0aGlzLnNwaW5XaGVlbC5wYXVzZWQgPSB0cnVlO1xuXG4gICAgICAgIC8vIFJldmVyc2UgYW5pbWF0aW9uXG4gICAgICAgIHRoaXMuaW5zZXJ0QmF0dGVyeS50aW1lU2NhbGUgPSAtMTtcbiAgICAgICAgdGhpcy5pbnNlcnRCYXR0ZXJ5LnBhdXNlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmluc2VydEJhdHRlcnkucGxheSgpO1xuXG4gICAgICAgIC8vIE1hcmsgZG9vciBhcyB1bnBvd2VyZWRcbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLmVudGl0eS5hcmVhLmdhbWUucmVzb3VyY2VzLmdldFJlc291cmNlPERvb3JTdGF0ZT4oJ2Rvb3Itc3RhdGUnKTtcbiAgICAgICAgc3RhdGUuc2V0RG9vclBvd2VyZWQodGhpcy50eXBlLCBmYWxzZSk7XG5cbiAgICAgICAgLy8gSW5kaWNhdGUgbm8gYmF0dGVyeVxuICAgICAgICB0aGlzLmhhc0JhdHRlcnkgPSBmYWxzZTtcblxuICAgICAgICAvLyBQbGF5IHRoZSBwb3dlci1vZmYgc291bmRcbiAgICAgICAgY29uc3QgbWFpbkFyZWEgPSB0aGlzLmVudGl0eS5hcmVhLnN0YXRlIGFzIE1haW5BcmVhO1xuICAgICAgICBtYWluQXJlYS50b2dnbGVMZXZlci5wbGF5KCk7XG4gICAgICAgIG1haW5BcmVhLm9wZW5Eb29yLnBsYXkoKTtcbiAgICAgIH0gZWxzZSBpZiAoaW52ZW50b3J5Lmhhc0NvbGxlY3RlZEJhdHRlcnkoKSkge1xuICAgICAgICAvLyBJbnNlcnQgYW5pbWF0aW9uXG4gICAgICAgIHRoaXMuaW5zZXJ0QmF0dGVyeS50aW1lU2NhbGUgPSAxO1xuICAgICAgICB0aGlzLmJhdHRlcnlPYmplY3QudmlzaWJsZSA9IHRydWU7XG4gICAgICAgIHRoaXMuaW5zZXJ0QmF0dGVyeS5wYXVzZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pbnNlcnRCYXR0ZXJ5LnBsYXkoKTtcblxuICAgICAgICAvLyBJbmRpY2F0ZSBiYXR0ZXJ5XG4gICAgICAgIGludmVudG9yeS51c2VCYXR0ZXJ5KCk7XG4gICAgICAgIHRoaXMuaGFzQmF0dGVyeSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgb25UaW1lcihfdGltZXJJbmRleDogbnVtYmVyKTogdm9pZCB7fVxuXG4gIG9uRHJhdyhfZzJkOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpOiB2b2lkIHt9XG59XG4iLCJpbXBvcnQgeyBFbGVjdHJpY0JveFR5cGUgfSBmcm9tICdlbnRpdGllcy9FbGVjdHJpY0JveFR5cGUnO1xuXG4vKipcbiAqIEhhbmRsZXMgdGhlIHN0YXRlIG9mIHRoZSBkb29ycyBpbiB0aGUgcm9vbVxuICovXG5leHBvcnQgY2xhc3MgRG9vclN0YXRlIHtcbiAgLy8vIEJpZyBEb29yIVxuICBwcml2YXRlIGJpZ0Rvb3JPcGVuZWQgPSBmYWxzZTtcblxuICAvLyBDb2xvcmVkIGRvb3JzXG4gIHByaXZhdGUgY29sb3JlZERvb3JzOiBTZXQ8c3RyaW5nPiA9IG5ldyBTZXQoKTtcblxuICAvLyBUb2dnbGVkIGRvb3JzXG4gIHByaXZhdGUgdG9nZ2xlID0gZmFsc2U7XG5cbiAgLy8gUG93ZXJlZCBkb29yc1xuICBwcml2YXRlIHBvd2VyZWQ6IFJlY29yZDxFbGVjdHJpY0JveFR5cGUsIGJvb2xlYW4+ID0ge1xuICAgIFtFbGVjdHJpY0JveFR5cGUuQV06IGZhbHNlLFxuICAgIFtFbGVjdHJpY0JveFR5cGUuQl06IGZhbHNlLFxuICAgIFtFbGVjdHJpY0JveFR5cGUuQ106IGZhbHNlLFxuICB9O1xuXG4gIHB1YmxpYyBpc0JpZ0Rvb3JPcGVuZWQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuYmlnRG9vck9wZW5lZDtcbiAgfVxuXG4gIHB1YmxpYyBvcGVuQmlnRG9vcigpOiB2b2lkIHtcbiAgICB0aGlzLmJpZ0Rvb3JPcGVuZWQgPSB0cnVlO1xuICB9XG5cbiAgcHVibGljIGlzQ29sb3JlZERvb3JPcGVuZWQocm93OiBudW1iZXIsIGNvbDogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuY29sb3JlZERvb3JzLmhhcyhgJHtyb3d9LSR7Y29sfWApO1xuICB9XG5cbiAgcHVibGljIHNldENvbG9yZWREb29yT3BlbmVkKHJvdzogbnVtYmVyLCBjb2w6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuY29sb3JlZERvb3JzLmFkZChgJHtyb3d9LSR7Y29sfWApO1xuICB9XG5cbiAgcHVibGljIGdldFRvZ2dsZVN0YXRlKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnRvZ2dsZTtcbiAgfVxuXG4gIHB1YmxpYyB0b2dnbGVEb29ycygpOiB2b2lkIHtcbiAgICB0aGlzLnRvZ2dsZSA9ICF0aGlzLnRvZ2dsZTtcbiAgfVxuXG4gIHB1YmxpYyBpc0Rvb3JQb3dlcmVkKHR5cGU6IEVsZWN0cmljQm94VHlwZSk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnBvd2VyZWRbdHlwZV07XG4gIH1cblxuICBwdWJsaWMgc2V0RG9vclBvd2VyZWQodHlwZTogRWxlY3RyaWNCb3hUeXBlLCBwb3dlcmVkOiBib29sZWFuKTogdm9pZCB7XG4gICAgdGhpcy5wb3dlcmVkW3R5cGVdID0gcG93ZXJlZDtcbiAgfVxufVxuIiwiaW1wb3J0IHsgU3BoZXJlQ29sbGlzaW9uTWFzayB9IGZyb20gJ2VuZ2luZS9jb2xsaXNpb24nO1xuaW1wb3J0IHsgRW50aXR5LCBFbnRpdHlTdGF0ZSB9IGZyb20gJ2VuZ2luZS9lbnRpdHknO1xuaW1wb3J0IHsgSFVEIH0gZnJvbSAnZW50aXRpZXMvSFVEJztcbmltcG9ydCB7IERvb3JTdGF0ZSB9IGZyb20gJ3Jlc291cmNlcy9Eb29yU3RhdGUnO1xuaW1wb3J0IHsgQWJzdHJhY3REb29yIH0gZnJvbSAnLi9BYnN0cmFjdERvb3InO1xuXG4vKipcbiAqIERvb3Igb2JqZWN0IGluIHRoZSBtYXplXG4gKi9cbmV4cG9ydCBjbGFzcyBUb2dnbGVEb29yIGV4dGVuZHMgQWJzdHJhY3REb29yIGltcGxlbWVudHMgRW50aXR5U3RhdGUge1xuICBwdWJsaWMgcmVhZG9ubHkgdGFnczogc3RyaW5nW10gPSBbJ3dhbGwnXTtcblxuICBwcml2YXRlIHJlYWRvbmx5IHJldmVyc2U6IGJvb2xlYW47XG4gIHByaXZhdGUgaW50ZXJhY3RNYXNrOiBTcGhlcmVDb2xsaXNpb25NYXNrO1xuXG4gIC8qKlxuICAgKiBTcGF3biBhIHdhbGwgaW4gYSB0aWxlIGluc2lkZSB0aGUgbWF6ZVxuICAgKi9cbiAgY29uc3RydWN0b3Iocm93OiBudW1iZXIsIGNvbHVtbjogbnVtYmVyLCByZXZlcnNlID0gZmFsc2UpIHtcbiAgICBzdXBlcihyb3csIGNvbHVtbiwgJ1RvZ2dsZURvb3InKTtcbiAgICB0aGlzLnJldmVyc2UgPSByZXZlcnNlO1xuICB9XG5cbiAgb25DcmVhdGVEb29yKCk6IHZvaWQge1xuICAgIHRoaXMuaW50ZXJhY3RNYXNrID0gbmV3IFNwaGVyZUNvbGxpc2lvbk1hc2sodGhpcy5lbnRpdHkub2JqZWN0KTtcbiAgfVxuXG4gIG9uRGVzdHJveSgpOiB2b2lkIHt9XG5cbiAgb25TdGVwRG9vcigpOiB2b2lkIHtcbiAgICB0aGlzLnN5bmNXaXRoU3RhdGUoKTtcbiAgICB0aGlzLnRlc3RGb3JQbGF5ZXJJbnRlcmFjdGlvbigpO1xuICB9XG5cbiAgLyoqXG4gICAqIE1ha2Ugc3VyZSB0aGUgZG9vciBtYXRjaGVzIHRoZSBnbG9iYWwgc3RhdGVcbiAgICovXG4gIHByaXZhdGUgc3luY1dpdGhTdGF0ZSgpOiB2b2lkIHtcbiAgICBjb25zdCBzdGF0ZSA9IHRoaXMuZW50aXR5LmFyZWEuZ2FtZS5yZXNvdXJjZXMuZ2V0UmVzb3VyY2U8RG9vclN0YXRlPignZG9vci1zdGF0ZScpO1xuICAgIGNvbnN0IGV4cGVjdGVkU3RhdGUgPSB0aGlzLnJldmVyc2UgPyAhc3RhdGUuZ2V0VG9nZ2xlU3RhdGUoKSA6IHN0YXRlLmdldFRvZ2dsZVN0YXRlKCk7XG4gICAgaWYgKHRoaXMub3BlbiAhPT0gZXhwZWN0ZWRTdGF0ZSkge1xuICAgICAgaWYgKHRoaXMub3Blbikge1xuICAgICAgICB0aGlzLmNsb3NlRG9vcigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5vcGVuRG9vcigpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZWUgaWYgdGhlIHBsYXllciBpcyBjb2xsaWRpbmcgc28gaXQgY2FuIGhhbmRsZSB1c2VyIGludGVyYWN0aW9uXG4gICAqL1xuICBwcml2YXRlIHRlc3RGb3JQbGF5ZXJJbnRlcmFjdGlvbigpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5vcGVuKSB7XG4gICAgICByZXR1cm47IC8vIERvbid0IHNob3cgbWVzc2FnZSBmb3Igb3BlbiBkb29yXG4gICAgfVxuXG4gICAgY29uc3QgcGxheWVyID0gdGhpcy5lbnRpdHkuYXJlYS5maW5kRmlyc3RFbnRpdHkoJ3BsYXllcicpO1xuICAgIGlmIChwbGF5ZXIgPT09IG51bGwgfHwgIXRoaXMuaW50ZXJhY3RNYXNrLmlzQ29sbGlkaW5nV2l0aChwbGF5ZXIubWFzaykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBTaG93IEhVRCBtZXNzYWdlXG4gICAgY29uc3QgaHVkID0gdGhpcy5lbnRpdHkuYXJlYS5maW5kRmlyc3RFbnRpdHkoJ2h1ZCcpIGFzIEVudGl0eTxIVUQ+O1xuICAgIGlmIChodWQgIT09IG51bGwgJiYgaHVkLnN0YXRlLm1lc3NhZ2UubGVuZ3RoID09PSAwKSB7XG4gICAgICBodWQuc3RhdGUubWVzc2FnZSA9ICdGbGlwIGxldmVyIHRvIHRvZ2dsZSBkb29yJztcbiAgICB9XG4gIH1cblxuICBvblRpbWVyKF90aW1lckluZGV4OiBudW1iZXIpOiB2b2lkIHt9XG5cbiAgb25EcmF3KF9nMmQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk6IHZvaWQge31cbn1cbiIsImltcG9ydCB7IEVudGl0eSwgRW50aXR5U3RhdGUgfSBmcm9tICdlbmdpbmUvZW50aXR5JztcbmltcG9ydCB7IERvb3JTdGF0ZSB9IGZyb20gJ3Jlc291cmNlcy9Eb29yU3RhdGUnO1xuaW1wb3J0IHsgQWJzdHJhY3REb29yIH0gZnJvbSAnZW50aXRpZXMvbWF6ZS1vYmplY3RzL0Fic3RyYWN0RG9vcic7XG5pbXBvcnQgeyBFbGVjdHJpY0JveFR5cGUgfSBmcm9tICdlbnRpdGllcy9FbGVjdHJpY0JveFR5cGUnO1xuaW1wb3J0IHsgU3BoZXJlQ29sbGlzaW9uTWFzayB9IGZyb20gJ2VuZ2luZS9jb2xsaXNpb24nO1xuaW1wb3J0IHsgSFVEIH0gZnJvbSAnZW50aXRpZXMvSFVEJztcblxuLyoqXG4gKiBEb29yIG9iamVjdCBpbiB0aGUgbWF6ZVxuICovXG5leHBvcnQgY2xhc3MgRWxlY3RyaWNEb29yIGV4dGVuZHMgQWJzdHJhY3REb29yIGltcGxlbWVudHMgRW50aXR5U3RhdGUge1xuICBwdWJsaWMgcmVhZG9ubHkgdGFnczogc3RyaW5nW10gPSBbJ3dhbGwnXTtcblxuICBwcml2YXRlIHJlYWRvbmx5IHR5cGU6IEVsZWN0cmljQm94VHlwZTtcbiAgcHJpdmF0ZSBpbnRlcmFjdE1hc2s6IFNwaGVyZUNvbGxpc2lvbk1hc2s7XG5cbiAgY29uc3RydWN0b3Iocm93OiBudW1iZXIsIGNvbHVtbjogbnVtYmVyLCB0eXBlOiBFbGVjdHJpY0JveFR5cGUpIHtcbiAgICBzdXBlcihyb3csIGNvbHVtbiwgJ0VsZWN0cmljRG9vcicpO1xuICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gIH1cblxuICBvbkNyZWF0ZURvb3IoKTogdm9pZCB7XG4gICAgLy8gQ29uZmlndXJlIGludGVyYWN0aW9uIG1hc2tzXG4gICAgdGhpcy5pbnRlcmFjdE1hc2sgPSBuZXcgU3BoZXJlQ29sbGlzaW9uTWFzayh0aGlzLmVudGl0eS5vYmplY3QpO1xuICB9XG5cbiAgb25EZXN0cm95KCk6IHZvaWQge31cblxuICBvblN0ZXBEb29yKCk6IHZvaWQge1xuICAgIHRoaXMuc3luY1dpdGhTdGF0ZSgpO1xuICAgIHRoaXMudGVzdEZvclBsYXllckludGVyYWN0aW9uKCk7XG4gIH1cblxuICAvKipcbiAgICogTWFrZSBzdXJlIHRoZSBkb29yIG1hdGNoZXMgdGhlIGdsb2JhbCBzdGF0ZVxuICAgKi9cbiAgcHJpdmF0ZSBzeW5jV2l0aFN0YXRlKCk6IHZvaWQge1xuICAgIGNvbnN0IHN0YXRlID0gdGhpcy5lbnRpdHkuYXJlYS5nYW1lLnJlc291cmNlcy5nZXRSZXNvdXJjZTxEb29yU3RhdGU+KCdkb29yLXN0YXRlJyk7XG4gICAgaWYgKHRoaXMub3BlbiAhPT0gc3RhdGUuaXNEb29yUG93ZXJlZCh0aGlzLnR5cGUpKSB7XG4gICAgICBpZiAodGhpcy5vcGVuKSB7XG4gICAgICAgIHRoaXMuY2xvc2VEb29yKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLm9wZW5Eb29yKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNlZSBpZiB0aGUgcGxheWVyIGlzIGNvbGxpZGluZyBzbyBpdCBjYW4gaGFuZGxlIHVzZXIgaW50ZXJhY3Rpb25cbiAgICovXG4gIHByaXZhdGUgdGVzdEZvclBsYXllckludGVyYWN0aW9uKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLm9wZW4pIHtcbiAgICAgIHJldHVybjsgLy8gRG9uJ3Qgc2hvdyBtZXNzYWdlIGZvciBvcGVuIGRvb3JcbiAgICB9XG5cbiAgICBjb25zdCBwbGF5ZXIgPSB0aGlzLmVudGl0eS5hcmVhLmZpbmRGaXJzdEVudGl0eSgncGxheWVyJyk7XG4gICAgaWYgKHBsYXllciA9PT0gbnVsbCB8fCAhdGhpcy5pbnRlcmFjdE1hc2suaXNDb2xsaWRpbmdXaXRoKHBsYXllci5tYXNrKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFNob3cgSFVEIG1lc3NhZ2VcbiAgICBjb25zdCBodWQgPSB0aGlzLmVudGl0eS5hcmVhLmZpbmRGaXJzdEVudGl0eSgnaHVkJykgYXMgRW50aXR5PEhVRD47XG4gICAgaWYgKGh1ZCAhPT0gbnVsbCAmJiBodWQuc3RhdGUubWVzc2FnZS5sZW5ndGggPT09IDApIHtcbiAgICAgIGh1ZC5zdGF0ZS5tZXNzYWdlID0gJ0Rvb3IgbmVlZHMgdG8gYmUgcG93ZXJlZCc7XG4gICAgfVxuICB9XG5cbiAgb25UaW1lcihfdGltZXJJbmRleDogbnVtYmVyKTogdm9pZCB7fVxuXG4gIG9uRHJhdyhfZzJkOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpOiB2b2lkIHt9XG59XG4iLCJpbXBvcnQgeyBBcmVhLCBBcmVhU3RhdGUgfSBmcm9tICdlbmdpbmUvYXJlYSc7XG5pbXBvcnQgeyBBdWRpb1dyYXBwZXIgfSBmcm9tICdlbmdpbmUvYXVkaW8nO1xuaW1wb3J0IHsgTW91c2VCdXR0b24gfSBmcm9tICdlbmdpbmUvaW5wdXQnO1xuaW1wb3J0IHsgVGl0bGVBcmVhIH0gZnJvbSAnLi9UaXRsZUFyZWEnO1xuXG5jb25zdCBMSU5FMSA9ICdHb29kIG5ld3M6IHRoZSBvcGVyYXRpb24gd2FzIHN1Y2Nlc3NmdWwhJztcbmNvbnN0IExJTkUyID0gJ1lvdSBqdXN0IHdva2UgdXAgZnJvbSB0aGUgY29tYS4nO1xuY29uc3QgTElORTMgPSAnV2UgZXhwZWN0IHlvdSB0byBtYWtlIGEgZnVsbCByZWNvdmVyeS4nO1xuXG4vKipcbiAqIEVuZGluZyBtZXNzYWdlIGZvciB0aGUgZ2FtZVxuICovXG5leHBvcnQgY2xhc3MgRW5kaW5nQXJlYSBpbXBsZW1lbnRzIEFyZWFTdGF0ZSB7XG4gIHByaXZhdGUgYXJlYTogQXJlYTx0aGlzPjtcblxuICBwcml2YXRlIGhlYXJ0TW9uaXRvcjogQXVkaW9XcmFwcGVyO1xuICBwcml2YXRlIHN0YXJ0VGltZTogbnVtYmVyO1xuICBwcml2YXRlIGFscGhhID0gMDtcblxuICBvbkNyZWF0ZShhcmVhOiBBcmVhPHRoaXM+KTogdm9pZCB7XG4gICAgdGhpcy5hcmVhID0gYXJlYTtcblxuICAgIC8vIExvYWQgYW55IHNvdW5kc1xuICAgIHRoaXMuaGVhcnRNb25pdG9yID0gdGhpcy5hcmVhLmNyZWF0ZUF1ZGlvKCdIZWFydE1vbml0b3InKTtcbiAgICB0aGlzLmhlYXJ0TW9uaXRvci52b2x1bWUgPSAwO1xuICAgIHRoaXMuaGVhcnRNb25pdG9yLnBsYXkodHJ1ZSk7XG4gICAgdGhpcy5zdGFydFRpbWUgPSB0aGlzLmhlYXJ0TW9uaXRvci5hdWRpby5jb250ZXh0LmN1cnJlbnRUaW1lO1xuICAgIHRoaXMuYXJlYS5zZXRUaW1lcigxLCAxMCwgdHJ1ZSk7XG5cbiAgICAvLyBGYWRlIGluIHRoZSB0ZXh0XG4gICAgdGhpcy5hcmVhLnNldFRpbWVyKDIsIDMwMCwgZmFsc2UpO1xuICB9XG5cbiAgb25UaW1lcih0aW1lckluZGV4OiBudW1iZXIpOiB2b2lkIHtcbiAgICBpZiAodGltZXJJbmRleCA9PT0gMSkge1xuICAgICAgdGhpcy5mYWRlSW5Tb3VuZCgpO1xuICAgIH1cbiAgICBpZiAodGltZXJJbmRleCA9PT0gMikge1xuICAgICAgdGhpcy5mYWRlSW5UZXh0KCk7XG4gICAgfVxuICAgIGlmICh0aW1lckluZGV4ID09PSAzKSB7XG4gICAgICB0aGlzLmZhZGVPdXRUZXh0KCk7XG4gICAgfVxuICAgIGlmICh0aW1lckluZGV4ID09PSA0KSB7XG4gICAgICB0aGlzLmFyZWEuZ2FtZS5zZXRBcmVhKG5ldyBUaXRsZUFyZWEoKSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEZhZGUgaW4gdGhlIGhlYXJ0IG1vbml0b3Igc291bmRcbiAgICovXG4gIHByaXZhdGUgZmFkZUluU291bmQoKTogdm9pZCB7XG4gICAgdGhpcy5oZWFydE1vbml0b3Iudm9sdW1lID0gTWF0aC5taW4oMSwgdGhpcy5oZWFydE1vbml0b3Iudm9sdW1lICsgMC4wNSk7XG4gICAgaWYgKHRoaXMuaGVhcnRNb25pdG9yLnZvbHVtZSA+PSAxKSB7XG4gICAgICB0aGlzLmFyZWEuY2xlYXJUaW1lcigxKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRmFkZSBpbiB0aGUgY29uY2x1c2lvbiB0ZXh0XG4gICAqL1xuICBwcml2YXRlIGZhZGVJblRleHQoKTogdm9pZCB7XG4gICAgdGhpcy5hbHBoYSA9IE1hdGgubWluKDEsIHRoaXMuYWxwaGEgKyAwLjEpO1xuICAgIGlmICh0aGlzLmFscGhhID49IDEpIHtcbiAgICAgIHRoaXMuYXJlYS5jbGVhclRpbWVyKDIpO1xuICAgICAgdGhpcy5hcmVhLnNldFRpbWVyKDMsIDUwMCwgZmFsc2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFyZWEuc2V0VGltZXIoMiwgMTAsIGZhbHNlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRmFkZSBvdXQgdGhlIGNvbmNsdXNpb24gdGV4dFxuICAgKi9cbiAgcHJpdmF0ZSBmYWRlT3V0VGV4dCgpOiB2b2lkIHtcbiAgICB0aGlzLmFscGhhID0gTWF0aC5tYXgoMCwgdGhpcy5hbHBoYSAtIDAuMDUpO1xuICAgIHRoaXMuaGVhcnRNb25pdG9yLnZvbHVtZSA9IE1hdGgubWF4KDAsIHRoaXMuaGVhcnRNb25pdG9yLnZvbHVtZSAtIDAuMDUpO1xuXG4gICAgaWYgKHRoaXMuYWxwaGEgPD0gMCAmJiB0aGlzLmhlYXJ0TW9uaXRvci52b2x1bWUgPD0gMCkge1xuICAgICAgdGhpcy5hcmVhLmNsZWFyVGltZXIoMyk7XG4gICAgICB0aGlzLmhlYXJ0TW9uaXRvci5zdG9wKCk7XG4gICAgICB0aGlzLmhlYXJ0TW9uaXRvci52b2x1bWUgPSAwO1xuXG4gICAgICB0aGlzLmFyZWEuc2V0VGltZXIoNCwgMjAwLCBmYWxzZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYXJlYS5zZXRUaW1lcigzLCAxNSwgZmFsc2UpO1xuICAgIH1cbiAgfVxuXG4gIG9uU3RlcCgpOiB2b2lkIHtcbiAgICAvLyBGaXggZm9yIGF1ZGlvIHBsYXlpbmdcbiAgICBjb25zdCBpbnB1dCA9IHRoaXMuYXJlYS5nYW1lLmlucHV0O1xuICAgIGlmIChpbnB1dC5pc01vdXNlQnV0dG9uRG93bihNb3VzZUJ1dHRvbi5MZWZ0KSkge1xuICAgICAgdGhpcy5oZWFydE1vbml0b3IuYXVkaW8uY29udGV4dC5yZXN1bWUoKTtcbiAgICB9XG4gIH1cblxuICBvbkRyYXcoZzJkOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpOiB2b2lkIHtcbiAgICBnMmQuZm9udCA9ICcyMHB0IHNhbnMtc2VyaWYnO1xuICAgIGcyZC50ZXh0QWxpZ24gPSAnY2VudGVyJztcbiAgICBnMmQudGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7XG4gICAgZzJkLmZpbGxTdHlsZSA9ICd3aGl0ZSc7XG5cbiAgICAvLyBEcmF3IHRoZSB0ZXh0XG4gICAgZzJkLmdsb2JhbEFscGhhID0gdGhpcy5hbHBoYTtcbiAgICBnMmQuZmlsbFRleHQoTElORTEsIHRoaXMuYXJlYS5vdmVybGF5V2lkdGggLyAyLCB0aGlzLmFyZWEub3ZlcmxheUhlaWdodCAvIDQpO1xuICAgIGcyZC5maWxsVGV4dChMSU5FMiwgdGhpcy5hcmVhLm92ZXJsYXlXaWR0aCAvIDIsIHRoaXMuYXJlYS5vdmVybGF5SGVpZ2h0IC8gMik7XG4gICAgZzJkLmZpbGxUZXh0KExJTkUzLCB0aGlzLmFyZWEub3ZlcmxheVdpZHRoIC8gMiwgKDMgKiB0aGlzLmFyZWEub3ZlcmxheUhlaWdodCkgLyA0KTtcblxuICAgIC8vIERpc3BsYXkgdGhlIGhlYXJ0YmVhdCBhcyBhIGJvcmRlclxuICAgIGNvbnN0IGN1cnJlbnRUaW1lID1cbiAgICAgICh0aGlzLmhlYXJ0TW9uaXRvci5hdWRpby5jb250ZXh0LmN1cnJlbnRUaW1lIC0gdGhpcy5zdGFydFRpbWUpICUgdGhpcy5oZWFydE1vbml0b3IuYXVkaW8uYnVmZmVyLmR1cmF0aW9uO1xuICAgIGlmIChjdXJyZW50VGltZSA+PSAwLjUgJiYgY3VycmVudFRpbWUgPCAxICYmIHRoaXMuaGVhcnRNb25pdG9yLnZvbHVtZSA+IDApIHtcbiAgICAgIGcyZC5nbG9iYWxBbHBoYSA9IHRoaXMuaGVhcnRNb25pdG9yLnZvbHVtZTtcbiAgICAgIGcyZC5iZWdpblBhdGgoKTtcbiAgICAgIGcyZC5zdHJva2VTdHlsZSA9ICdncmVlbic7XG4gICAgICBnMmQubGluZVdpZHRoID0gMjA7XG4gICAgICBnMmQuc3Ryb2tlUmVjdCgwLCAwLCB0aGlzLmFyZWEub3ZlcmxheVdpZHRoLCB0aGlzLmFyZWEub3ZlcmxheUhlaWdodCk7XG4gICAgICBnMmQuc3Ryb2tlKCk7XG4gICAgfVxuXG4gICAgZzJkLmdsb2JhbEFscGhhID0gMTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgRW5kaW5nQXJlYSB9IGZyb20gJ2FyZWFzL0VuZGluZ0FyZWEnO1xuaW1wb3J0IHsgTWFpbkFyZWEgfSBmcm9tICdhcmVhcy9NYWluQXJlYSc7XG5pbXBvcnQgeyBFbnRpdHksIEVudGl0eVN0YXRlIH0gZnJvbSAnZW5naW5lL2VudGl0eSc7XG5pbXBvcnQgeyBjbGFtcCB9IGZyb20gJ2VuZ2luZS9oZWxwZXJzJztcblxuLyoqXG4gKiBGYWRlIHRoZSBzY3JlZW4gYXMgeW91IGVudGVyIHRoZSBwb3J0YWxcbiAqL1xuZXhwb3J0IGNsYXNzIEVudGVyUG9ydGFsRWZmZWN0IGltcGxlbWVudHMgRW50aXR5U3RhdGUge1xuICBwdWJsaWMgcmVhZG9ubHkgdGFnczogc3RyaW5nW10gPSBbXTtcblxuICBwcm90ZWN0ZWQgZW50aXR5OiBFbnRpdHk8dGhpcz47XG5cbiAgcHJpdmF0ZSBmYWRlQWxwaGEgPSAwO1xuICBwcml2YXRlIGJsYWNrQWxwaGEgPSAwO1xuXG4gIG9uQ3JlYXRlKGVudGl0eTogRW50aXR5PHRoaXM+KTogdm9pZCB7XG4gICAgdGhpcy5lbnRpdHkgPSBlbnRpdHk7XG4gICAgdGhpcy5lbnRpdHkuc2V0VGltZXIoMSwgMTUsIHRydWUpO1xuXG4gICAgLy8gUGxheSB0aGUgc291bmRcbiAgICBjb25zdCBtYWluQXJlYSA9IHRoaXMuZW50aXR5LmFyZWEuc3RhdGUgYXMgTWFpbkFyZWE7XG4gICAgbWFpbkFyZWEuZW50ZXJQb3J0YWwucGxheSgpO1xuICB9XG5cbiAgb25EZXN0cm95KCk6IHZvaWQge31cblxuICBvblN0ZXAoKTogdm9pZCB7fVxuXG4gIG9uVGltZXIodGltZXJJbmRleDogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKHRpbWVySW5kZXggPT09IDEpIHtcbiAgICAgIHRoaXMuZmFkZUZvcmVzdEFtYmllbmNlKCk7XG4gICAgICB0aGlzLmZhZGVPdXQoKTtcbiAgICB9XG4gICAgaWYgKHRpbWVySW5kZXggPT09IDIpIHtcbiAgICAgIHRoaXMuZmFkZVRvQmxhY2soKTtcbiAgICB9XG4gICAgaWYgKHRpbWVySW5kZXggPT09IDMpIHtcbiAgICAgIHRoaXMuZW50aXR5LmFyZWEuZ2FtZS5zZXRBcmVhKG5ldyBFbmRpbmdBcmVhKCkpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBGYWRlIG91dCB0aGUgZm9yZXN0IHNvdW5kcyBhcyB5b3UgZW50ZXIgdGhlIHByb3RhbFxuICAgKi9cbiAgcHJpdmF0ZSBmYWRlRm9yZXN0QW1iaWVuY2UoKTogdm9pZCB7XG4gICAgY29uc3QgbWFpbkFyZWEgPSB0aGlzLmVudGl0eS5hcmVhLnN0YXRlIGFzIE1haW5BcmVhO1xuICAgIG1haW5BcmVhLmZvcmVzdEFtYmllbmNlLnZvbHVtZSA9IDEgLSB0aGlzLmZhZGVBbHBoYTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTbG93bHkgZmFkZSBvdXQgdG8gYmxhY2tcbiAgICovXG4gIHByaXZhdGUgZmFkZU91dCgpOiB2b2lkIHtcbiAgICB0aGlzLmZhZGVBbHBoYSA9IGNsYW1wKHRoaXMuZmFkZUFscGhhICsgMC4xLCAwLCAxKTtcbiAgICBpZiAodGhpcy5mYWRlQWxwaGEgPj0gMSkge1xuICAgICAgdGhpcy5lbnRpdHkuY2xlYXJUaW1lcigxKTtcbiAgICAgICh0aGlzLmVudGl0eS5hcmVhLnN0YXRlIGFzIE1haW5BcmVhKS5mb3Jlc3RBbWJpZW5jZS5zdG9wKCk7XG4gICAgICB0aGlzLmVudGl0eS5zZXRUaW1lcigyLCAxMCwgdHJ1ZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEZhZGUgdG8gYmxhY2sgYWZ0ZXIgZW50ZXJpbmcgdGhlIHBvcnRhbFxuICAgKi9cbiAgcHJpdmF0ZSBmYWRlVG9CbGFjaygpOiB2b2lkIHtcbiAgICB0aGlzLmJsYWNrQWxwaGEgPSBjbGFtcCh0aGlzLmJsYWNrQWxwaGEgKyAwLjEsIDAsIDEpO1xuICAgIGlmICh0aGlzLmJsYWNrQWxwaGEgPj0gMSkge1xuICAgICAgdGhpcy5lbnRpdHkuY2xlYXJUaW1lcigyKTtcbiAgICAgIHRoaXMuZW50aXR5LnNldFRpbWVyKDMsIDIwMCwgZmFsc2UpO1xuICAgIH1cbiAgfVxuXG4gIG9uRHJhdyhnMmQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk6IHZvaWQge1xuICAgIGcyZC5nbG9iYWxBbHBoYSA9IHRoaXMuZmFkZUFscGhhO1xuICAgIGcyZC5maWxsU3R5bGUgPSAnIzI5MDA0YSc7XG4gICAgZzJkLmZpbGxSZWN0KDAsIDAsIHRoaXMuZW50aXR5LmFyZWEub3ZlcmxheVdpZHRoLCB0aGlzLmVudGl0eS5hcmVhLm92ZXJsYXlIZWlnaHQpO1xuXG4gICAgZzJkLmdsb2JhbEFscGhhID0gdGhpcy5ibGFja0FscGhhO1xuICAgIGcyZC5maWxsU3R5bGUgPSAnYmxhY2snO1xuICAgIGcyZC5maWxsUmVjdCgwLCAwLCB0aGlzLmVudGl0eS5hcmVhLm92ZXJsYXlXaWR0aCwgdGhpcy5lbnRpdHkuYXJlYS5vdmVybGF5SGVpZ2h0KTtcblxuICAgIGcyZC5nbG9iYWxBbHBoYSA9IDE7XG4gIH1cbn1cbiIsImltcG9ydCB7IE1haW5BcmVhIH0gZnJvbSAnYXJlYXMvTWFpbkFyZWEnO1xuaW1wb3J0IHsgQm94Q29sbGlzaW9uTWFzaywgR3JvdXBDb2xsaXNpb25NYXNrLCBTcGhlcmVDb2xsaXNpb25NYXNrIH0gZnJvbSAnZW5naW5lL2NvbGxpc2lvbic7XG5pbXBvcnQgeyBFbnRpdHksIEVudGl0eVN0YXRlIH0gZnJvbSAnZW5naW5lL2VudGl0eSc7XG5pbXBvcnQgeyBFbnRlclBvcnRhbEVmZmVjdCB9IGZyb20gJ2VudGl0aWVzL2VmZmVjdHMvRW50ZXJQb3J0YWxFZmZlY3QnO1xuaW1wb3J0IHsgSFVEIH0gZnJvbSAnZW50aXRpZXMvSFVEJztcbmltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcblxuY29uc3QgT0ZGX0NPTE9SID0gMHgzMjMyMzI7XG5jb25zdCBPTl9DT0xPUiA9IDB4Y2M0MzAwO1xuXG4vKipcbiAqIFBvcnRhbCBFeGl0XG4gKi9cbmV4cG9ydCBjbGFzcyBQb3J0YWwgaW1wbGVtZW50cyBFbnRpdHlTdGF0ZSB7XG4gIHB1YmxpYyByZWFkb25seSB0YWdzOiBzdHJpbmdbXSA9IFsnd2FsbCddO1xuXG4gIHByaXZhdGUgZW50aXR5OiBFbnRpdHk8dGhpcz47XG4gIHByaXZhdGUgcm93OiBudW1iZXI7XG4gIHByaXZhdGUgY29sdW1uOiBudW1iZXI7XG5cbiAgLy8gSW50ZXJhY3Rpb24gbWFza3NcbiAgcHJpdmF0ZSBpbnRlcmFjdE1hc2s6IFNwaGVyZUNvbGxpc2lvbk1hc2s7XG4gIHByaXZhdGUgZXhpdE1hc2s6IEJveENvbGxpc2lvbk1hc2s7XG4gIHByaXZhdGUgcG9ydGFsT2JqZWN0OiBUSFJFRS5PYmplY3QzRDtcbiAgcHJpdmF0ZSBiYWxsTWF0OiBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbDtcblxuICAvLyBBbmltYXRpb25zXG4gIHByaXZhdGUgbWl4ZXI6IFRIUkVFLkFuaW1hdGlvbk1peGVyO1xuICBwcml2YXRlIHBvcnRhbEFjdGlvbjogVEhSRUUuQW5pbWF0aW9uQWN0aW9uO1xuXG4gIGNvbnN0cnVjdG9yKHJvdzogbnVtYmVyLCBjb2x1bW46IG51bWJlcikge1xuICAgIHRoaXMucm93ID0gcm93O1xuICAgIHRoaXMuY29sdW1uID0gY29sdW1uO1xuICB9XG5cbiAgb25DcmVhdGUoZW50aXR5OiBFbnRpdHk8dGhpcz4pOiB2b2lkIHtcbiAgICB0aGlzLmVudGl0eSA9IGVudGl0eTtcblxuICAgIC8vIEJ1aWxkIHRoZSBvYmplY3QgbW9kZWxcbiAgICBjb25zdCBvYmplY3QgPSB0aGlzLmVudGl0eS5hcmVhLmdhbWUuYXNzZXRzLmdldE9iamVjdCgnUG9ydGFsJykuY2xvbmUoKTtcbiAgICBvYmplY3QucG9zaXRpb24uY29weSgoZW50aXR5LmFyZWEuc3RhdGUgYXMgTWFpbkFyZWEpLnRpbGVMb2NhdGlvblRvUG9zaXRpb24odGhpcy5yb3csIHRoaXMuY29sdW1uKSk7XG4gICAgb2JqZWN0LnBvc2l0aW9uLnkgPSAtMC41O1xuICAgIG9iamVjdC5zY2FsZS5zZXQoMiwgMiwgMik7XG4gICAgb2JqZWN0LnVwZGF0ZVdvcmxkTWF0cml4KGZhbHNlLCB0cnVlKTtcbiAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIG9iamVjdC5jaGlsZHJlbikge1xuICAgICAgY2hpbGQuY2FzdFNoYWRvdyA9IHRydWU7XG4gICAgfVxuICAgIHRoaXMuZW50aXR5Lm9iamVjdCA9IG9iamVjdDtcbiAgICB0aGlzLnBvcnRhbE9iamVjdCA9IG9iamVjdC5jaGlsZHJlblsyXTtcbiAgICB0aGlzLnBvcnRhbE9iamVjdC52aXNpYmxlID0gZmFsc2U7XG4gICAgdGhpcy5iYWxsTWF0ID0gKG9iamVjdC5jaGlsZHJlbls0XSBhcyBUSFJFRS5NZXNoKS5tYXRlcmlhbCBhcyBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbDtcbiAgICB0aGlzLmJhbGxNYXQuY29sb3Iuc2V0KE9GRl9DT0xPUik7XG5cbiAgICAvLyBCdWlsZCBjb2xsaXNpb24gbWFza3NcbiAgICBjb25zdCBsZWZ0TWFzayA9IG5ldyBCb3hDb2xsaXNpb25NYXNrKG9iamVjdC5jaGlsZHJlblsxXSk7XG4gICAgY29uc3QgcmlnaHRNYXNrID0gbmV3IEJveENvbGxpc2lvbk1hc2sob2JqZWN0LmNoaWxkcmVuWzNdKTtcbiAgICB0aGlzLmVudGl0eS5tYXNrID0gbmV3IEdyb3VwQ29sbGlzaW9uTWFzayhsZWZ0TWFzaywgcmlnaHRNYXNrKTtcbiAgICB0aGlzLmludGVyYWN0TWFzayA9IG5ldyBTcGhlcmVDb2xsaXNpb25NYXNrKG9iamVjdC5jaGlsZHJlblsyXSk7XG4gICAgdGhpcy5leGl0TWFzayA9IG5ldyBCb3hDb2xsaXNpb25NYXNrKG9iamVjdC5jaGlsZHJlblsyXSk7XG5cbiAgICAvLyBMb2FkIGFuaW1hdGlvbnNcbiAgICB0aGlzLm1peGVyID0gbmV3IFRIUkVFLkFuaW1hdGlvbk1peGVyKG9iamVjdCk7XG4gICAgdGhpcy5wb3J0YWxBY3Rpb24gPSB0aGlzLm1peGVyLmNsaXBBY3Rpb24oZW50aXR5LmFyZWEuZ2FtZS5hc3NldHMuZ2V0QW5pbWF0aW9uKCdQb3J0YWxFbmVyZ3lBY3Rpb24nKSk7XG4gICAgdGhpcy5wb3J0YWxBY3Rpb24ubG9vcCA9IFRIUkVFLkxvb3BQaW5nUG9uZztcbiAgfVxuXG4gIG9uRGVzdHJveSgpOiB2b2lkIHt9XG5cbiAgb25TdGVwKCk6IHZvaWQge1xuICAgIHRoaXMubWl4ZXIudXBkYXRlKDAuMDEpO1xuXG4gICAgaWYgKCF0aGlzLnBvcnRhbE9iamVjdC52aXNpYmxlKSB7XG4gICAgICB0aGlzLnRlc3RBY3RpdmF0ZVBvcnRhbCgpO1xuICAgICAgdGhpcy5oYW5kbGVVc2VyTWVzc2FnZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnRlc3RQbGF5ZXJFbnRlcnNQb3J0YWwoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVGVzdCBpZiB0aGUgcG9ydGFsIHNob3VsZCBiZSBhY3RpdmF0ZWQgKEFsbCBlbmVyZ3kgY29sbGVjdGVkKVxuICAgKi9cbiAgcHJpdmF0ZSB0ZXN0QWN0aXZhdGVQb3J0YWwoKTogdm9pZCB7XG4gICAgY29uc3QgbWFpbkFyZWEgPSB0aGlzLmVudGl0eS5hcmVhLnN0YXRlIGFzIE1haW5BcmVhO1xuICAgIGlmIChtYWluQXJlYS5lbmVyZ3lMZWZ0ID09PSAwKSB7XG4gICAgICB0aGlzLnBvcnRhbE9iamVjdC52aXNpYmxlID0gdHJ1ZTtcbiAgICAgIHRoaXMuYmFsbE1hdC5jb2xvci5zZXQoT05fQ09MT1IpO1xuICAgICAgdGhpcy5wb3J0YWxBY3Rpb24ucGxheSgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBXaGVuIHRvIHNob3cgbWVzc2FnZSB0byB0aGUgdXNlclxuICAgKi9cbiAgcHJpdmF0ZSBoYW5kbGVVc2VyTWVzc2FnZSgpOiB2b2lkIHtcbiAgICBjb25zdCBwbGF5ZXIgPSB0aGlzLmVudGl0eS5hcmVhLmZpbmRGaXJzdEVudGl0eSgncGxheWVyJyk7XG4gICAgaWYgKHBsYXllciA9PT0gbnVsbCB8fCAhdGhpcy5pbnRlcmFjdE1hc2suaXNDb2xsaWRpbmdXaXRoKHBsYXllci5tYXNrKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IG1haW5BcmVhID0gdGhpcy5lbnRpdHkuYXJlYS5zdGF0ZSBhcyBNYWluQXJlYTtcbiAgICBjb25zdCBodWQgPSB0aGlzLmVudGl0eS5hcmVhLmZpbmRGaXJzdEVudGl0eSgnaHVkJykgYXMgRW50aXR5PEhVRD47XG4gICAgaWYgKGh1ZCAhPT0gbnVsbCAmJiBodWQuc3RhdGUubWVzc2FnZS5sZW5ndGggPT09IDApIHtcbiAgICAgIGh1ZC5zdGF0ZS5tZXNzYWdlID0gJ1BvcnRhbCByZXF1aXJlcyAnICsgbWFpbkFyZWEudG90YWxFbmVyZ3kgKyAnIHRvdGFsIGVuZXJneSB0byBhY3RpdmF0ZSc7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRlc3QgaWYgdGhlIHBsYXllciBoYXMgZW50ZXJlZCB0aGUgcG9ydGFsIHRvIGNvbXBsZXRlIHRoZSBnYW1lXG4gICAqL1xuICBwcml2YXRlIHRlc3RQbGF5ZXJFbnRlcnNQb3J0YWwoKTogdm9pZCB7XG4gICAgY29uc3QgcGxheWVyID0gdGhpcy5lbnRpdHkuYXJlYS5maW5kRmlyc3RFbnRpdHkoJ3BsYXllcicpO1xuICAgIGlmIChwbGF5ZXIgPT09IG51bGwgfHwgIXRoaXMuZXhpdE1hc2suaXNDb2xsaWRpbmdXaXRoKHBsYXllci5tYXNrKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIERlc3Ryb3kgYWxsIG9mIHRoZSBpbnRlcmFjdGlvbiBvYmplY3RzXG4gICAgcGxheWVyLmRlc3Ryb3koKTtcbiAgICBmb3IgKGNvbnN0IGh1ZCBvZiB0aGlzLmVudGl0eS5hcmVhLmZpbmRFbnRpdGllcygnaHVkJykpIHtcbiAgICAgIGh1ZC5kZXN0cm95KCk7XG4gICAgfVxuXG4gICAgLy8gRW50ZXIgdGhlIHBvcnRhbCBlZmZlY3RcbiAgICB0aGlzLmVudGl0eS5hcmVhLmNyZWF0ZUVudGl0eShuZXcgRW50ZXJQb3J0YWxFZmZlY3QoKSk7XG4gIH1cblxuICBvblRpbWVyKF90aW1lckluZGV4OiBudW1iZXIpOiB2b2lkIHt9XG5cbiAgb25EcmF3KF9nMmQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk6IHZvaWQge31cbn1cbiIsImltcG9ydCB7IFNDQUxFX0hFSUdIVCB9IGZyb20gJ2FyZWFzL0Fic3RyYWN0TWF6ZUFyZWEnO1xuaW1wb3J0IHsgRW50aXR5U3RhdGUgfSBmcm9tICdlbmdpbmUvZW50aXR5JztcbmltcG9ydCB7IERvb3JTdGF0ZSB9IGZyb20gJ3Jlc291cmNlcy9Eb29yU3RhdGUnO1xuaW1wb3J0IHsgSW52ZW50b3J5IH0gZnJvbSAncmVzb3VyY2VzL0ludmVudG9yeSc7XG5pbXBvcnQgeyBBYnN0cmFjdERvb3IgfSBmcm9tICcuL0Fic3RyYWN0RG9vcic7XG5pbXBvcnQgeyBIVUQgfSBmcm9tICdlbnRpdGllcy9IVUQnO1xuaW1wb3J0IHsgTWFpbkFyZWEgfSBmcm9tICdhcmVhcy9NYWluQXJlYSc7XG5cbi8qKlxuICogRG9vciBvYmplY3QgaW4gdGhlIG1hemVcbiAqL1xuZXhwb3J0IGNsYXNzIEJpZ0Rvb3IgZXh0ZW5kcyBBYnN0cmFjdERvb3IgaW1wbGVtZW50cyBFbnRpdHlTdGF0ZSB7XG4gIHB1YmxpYyByZWFkb25seSB0YWdzOiBzdHJpbmdbXSA9IFsnd2FsbCddO1xuXG4gIHByaXZhdGUgc2hvd01lc3NhZ2UgPSBmYWxzZTtcblxuICBjb25zdHJ1Y3Rvcihyb3c6IG51bWJlciwgY29sdW1uOiBudW1iZXIpIHtcbiAgICBzdXBlcihyb3csIGNvbHVtbiwgJ0Rvb3InKTtcbiAgfVxuXG4gIG9uQ3JlYXRlRG9vcigpOiB2b2lkIHtcbiAgICAvLyBNYWtlIHRoZSBkb29yIFJFQUxMWSBUQUxMLCBSRUFMTFkgVEhJQ0ssIGFuZCBoaWRlIHRoZSBrZXkgaG9sZSBjb2xvclxuICAgIHRoaXMuZW50aXR5Lm9iamVjdC5zY2FsZS55ID0gU0NBTEVfSEVJR0hUIC8gMztcbiAgICB0aGlzLmVudGl0eS5vYmplY3Quc2NhbGUueCA9IDEwO1xuICAgIHRoaXMuZW50aXR5Lm9iamVjdC5jaGlsZHJlblswXS52aXNpYmxlID0gZmFsc2U7XG4gIH1cblxuICBvbkRlc3Ryb3koKTogdm9pZCB7fVxuXG4gIG9uU3RlcERvb3IoKTogdm9pZCB7XG4gICAgdGhpcy50ZXN0SWZBbGxJdGVtc0NvbGxlY3RlZCgpO1xuXG4gICAgLy8gRHJhdyB0aGUgbWVzc2FnZSB3aGVuIHRoZSBnYW1lIGZpcnN0IHN0YXJ0c1xuICAgIGlmICh0aGlzLnNob3dNZXNzYWdlKSB7XG4gICAgICBjb25zdCBodWQgPSB0aGlzLmVudGl0eS5hcmVhLmZpbmRGaXJzdEVudGl0eSgnaHVkJyk7XG4gICAgICBpZiAoaHVkICE9PSBudWxsKSB7XG4gICAgICAgIChodWQuc3RhdGUgYXMgSFVEKS5tZXNzYWdlID0gJ0NvbGxlY3QgYWxsIGVuZXJneSB0byBhY3RpdmF0ZSB0aGUgcG9ydGFsISc7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIE9wZW4gdGhlIGJpZyBkb29yIG9uY2UgYWxsIG9mIHRoZSBpdGVtcyBoYXZlIGJlZW4gY29sbGVjdGVkXG4gICAqL1xuICBwcml2YXRlIHRlc3RJZkFsbEl0ZW1zQ29sbGVjdGVkKCkge1xuICAgIGlmICh0aGlzLm9wZW4pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBpbnZlbnRvcnkgPSB0aGlzLmVudGl0eS5hcmVhLmdhbWUucmVzb3VyY2VzLmdldFJlc291cmNlPEludmVudG9yeT4oJ2ludmVudG9yeScpO1xuICAgIGlmIChpbnZlbnRvcnkuaGFzQ29sbGVjdGVkR3VuKCkgJiYgaW52ZW50b3J5Lmhhc0NvbGxlY3RlZE1hcCgpKSB7XG4gICAgICB0aGlzLm9wZW5CaWdEb29yKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIE9wZW4gdGhlIGRvb3IsIHJlYWxseSBzbG93bHlcbiAgICovXG4gIHByaXZhdGUgb3BlbkJpZ0Rvb3IoKTogdm9pZCB7XG4gICAgY29uc3Qgc3RhdGUgPSB0aGlzLmVudGl0eS5hcmVhLmdhbWUucmVzb3VyY2VzLmdldFJlc291cmNlPERvb3JTdGF0ZT4oJ2Rvb3Itc3RhdGUnKTtcbiAgICBzdGF0ZS5vcGVuQmlnRG9vcigpO1xuICAgIHRoaXMub3BlbkRvb3IoMSAvIDgpO1xuXG4gICAgLy8gSGlkZSB0aGUgbWVzc2FnZSBhZnRlciBhIGdpdmVuIG51bWJlciBvZiB0aWNrc1xuICAgIHRoaXMuc2hvd01lc3NhZ2UgPSB0cnVlO1xuICAgIHRoaXMuZW50aXR5LnNldFRpbWVyKDAsIDQwMCwgZmFsc2UpO1xuXG4gICAgLy8gUGxheSB0aGUgc291bmRcbiAgICBjb25zdCBtYWluQXJlYSA9IHRoaXMuZW50aXR5LmFyZWEuc3RhdGUgYXMgTWFpbkFyZWE7XG4gICAgbWFpbkFyZWEub3BlbkJpZ0Rvb3Iudm9sdW1lID0gODtcbiAgICBtYWluQXJlYS5vcGVuQmlnRG9vci5wbGF5KCk7XG4gIH1cblxuICBvblRpbWVyKHRpbWVySW5kZXg6IG51bWJlcik6IHZvaWQge1xuICAgIGlmICh0aW1lckluZGV4ID09PSAwKSB7XG4gICAgICB0aGlzLnNob3dNZXNzYWdlID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgb25EcmF3KF9nMmQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk6IHZvaWQge31cbn1cbiIsImltcG9ydCB7IFRyZWVOb2RlIH0gZnJvbSAnLi9UcmVlTm9kZSc7XG5cbi8qKlxuICogQmFzZSBjbGFzcyBmb3IgYWxsIG9mIHRoZSB2ZXJ0ZXggc2V0c1xuICovXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQWJzdHJhY3RTZXQge1xuICAvKipcbiAgICogVGVzdCBpZiBhIG5vZGUgZXhpc3RzIGluc2lkZSB0aGUgc2V0XG4gICAqL1xuICBwdWJsaWMgYWJzdHJhY3QgaGFzTm9kZShub2RlOiBUcmVlTm9kZSk6IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIEFkZCBhIHNpbmdsZSBub2RlIHRvIHRoZSBzZXQsIGJ1dCBub3QgYWxsIG9mIGl0cyBjaGlsZHJlblxuICAgKi9cbiAgcHVibGljIGFic3RyYWN0IGFkZChub2RlOiBUcmVlTm9kZSk6IHZvaWQ7XG5cbiAgLyoqXG4gICAqIEFkZCBhbiBpdGVyYWJsZSBzZXQgb2Ygbm9kZXMgZnJvbSB0aGUgc2V0XG4gICAqL1xuICBwdWJsaWMgYWRkQWxsKG5vZGVzOiBJdGVyYWJsZTxUcmVlTm9kZT4pOiB2b2lkIHtcbiAgICBmb3IgKGNvbnN0IG5vZGUgb2Ygbm9kZXMpIHtcbiAgICAgIHRoaXMuYWRkKG5vZGUpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgdGhlIG5vZGUgYW5kIGFsbCBvZiBpdHMgY2hpbGRyZW4gdG8gdGhlIHNldFxuICAgKi9cbiAgcHVibGljIGFkZFJlY3Vyc2l2ZShub2RlOiBUcmVlTm9kZSk6IHZvaWQge1xuICAgIHRoaXMuYWRkKG5vZGUpO1xuICAgIGZvciAoY29uc3QgY2hpbGQgb2Ygbm9kZS5jaGlsZHJlbikge1xuICAgICAgdGhpcy5hZGRSZWN1cnNpdmUoY2hpbGQpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgdGhlIG5vZGUgYW5kIGFsbCBvZiBpdHMgcGFyZW50cyB0byB0aGUgc2V0XG4gICAqL1xuICBwdWJsaWMgYWRkUGFyZW50cyhub2RlOiBUcmVlTm9kZSk6IHZvaWQge1xuICAgIHRoaXMuYWRkKG5vZGUpO1xuICAgIGlmIChub2RlLnBhcmVudCAhPT0gbnVsbCkge1xuICAgICAgdGhpcy5hZGRQYXJlbnRzKG5vZGUucGFyZW50KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGEgc2luZ2xlIG5vZGUgZnJvbSB0aGUgc2V0LCBidXQgbm90IGFsbCBvZiBpdHMgY2hpbGRyZW5cbiAgICovXG4gIHB1YmxpYyBhYnN0cmFjdCByZW1vdmUobm9kZTogVHJlZU5vZGUpOiB2b2lkO1xuXG4gIC8qKlxuICAgKiBSZW1vdmUgYW4gaXRlcmFibGUgc2V0IG9mIG5vZGVzIGZyb20gdGhlIHNldFxuICAgKi9cbiAgcHVibGljIHJlbW92ZUFsbChub2RlczogSXRlcmFibGU8VHJlZU5vZGU+KTogdm9pZCB7XG4gICAgZm9yIChjb25zdCBub2RlIG9mIG5vZGVzKSB7XG4gICAgICB0aGlzLnJlbW92ZShub2RlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGEgbm9kZSBhbmQgYWxsIG9mIGl0cyBjaGlsZHJlbiBmcm9tIHRoZSBzZXRcbiAgICovXG4gIHB1YmxpYyByZW1vdmVSZWN1cnNpdmUobm9kZTogVHJlZU5vZGUpOiB2b2lkIHtcbiAgICB0aGlzLnJlbW92ZShub2RlKTtcbiAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIG5vZGUuY2hpbGRyZW4pIHtcbiAgICAgIHRoaXMucmVtb3ZlUmVjdXJzaXZlKGNoaWxkKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGEgbm9kZSBhbmQgYWxsIG9mIGl0cyBwYXJlbnRzIGZyb20gdGhlIHNldFxuICAgKi9cbiAgcHVibGljIHJlbW92ZVBhcmVudHMobm9kZTogVHJlZU5vZGUpOiB2b2lkIHtcbiAgICB0aGlzLnJlbW92ZShub2RlKTtcbiAgICBpZiAobm9kZS5wYXJlbnQgIT09IG51bGwpIHtcbiAgICAgIHRoaXMucmVtb3ZlUGFyZW50cyhub2RlLnBhcmVudCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgc2l6ZSBvZiB0aGlzIHNldFxuICAgKi9cbiAgcHVibGljIGFic3RyYWN0IGdldCBzaXplKCk6IG51bWJlcjtcblxuICAvKipcbiAgICogRXh0cmFjdCBhbGwgbm9kZXMgZnJvbSB0aGlzIHNldFxuICAgKi9cbiAgcHVibGljIGFic3RyYWN0IGdldEFsbE5vZGVzKCk6IFRyZWVOb2RlW107XG59XG4iLCJpbXBvcnQgeyBwaWNrUmFuZG9tQXJyYXkgfSBmcm9tICdlbmdpbmUvaGVscGVycyc7XG5pbXBvcnQgeyBBYnN0cmFjdFNldCB9IGZyb20gJy4vQWJzdHJhY3RTZXQnO1xuaW1wb3J0IHsgVHJlZU5vZGUgfSBmcm9tICcuL1RyZWVOb2RlJztcblxuLyoqXG4gKiBTaW1wbGUgc2V0IHdyYXBwZXIgd2l0aCBoZWxwZXIgbWV0aG9kcyBmb3IgdGhlIHZlcnRleCB0cmVlXG4gKi9cbmV4cG9ydCBjbGFzcyBWZXJ0ZXhTZXQgZXh0ZW5kcyBBYnN0cmFjdFNldCB7XG4gIC8vLyBTZXQgb2Ygbm9kZXNcbiAgcHJpdmF0ZSBzZXQ6IFNldDxUcmVlTm9kZT4gPSBuZXcgU2V0KCk7XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBzZXQgZm9yIGEgdHJlZSBvZiB2ZXJ0aWNlc1xuICAgKlxuICAgKiBAcGFyYW0gcm9vdE5vZGUgSWYgcHJvdmlkZWQsIGFkZHMgdGhlIG5vZGUgQU5EIGFsbCBvZiBpdHMgY2hpbGRyZW4gdG8gdGhlIHNldFxuICAgKi9cbiAgY29uc3RydWN0b3Iocm9vdE5vZGU/OiBUcmVlTm9kZSkge1xuICAgIHN1cGVyKCk7XG4gICAgaWYgKHR5cGVvZiByb290Tm9kZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXMuYWRkUmVjdXJzaXZlKHJvb3ROb2RlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVGVzdCBpZiBhIG5vZGUgZXhpc3RzIGluc2lkZSB0aGUgc2V0XG4gICAqL1xuICBwdWJsaWMgaGFzTm9kZShub2RlOiBUcmVlTm9kZSk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnNldC5oYXMobm9kZSk7XG4gIH1cblxuICAvKipcbiAgICogQWRkIGEgc2luZ2xlIG5vZGUgdG8gdGhlIHNldCwgYnV0IG5vdCBhbGwgb2YgaXRzIGNoaWxkcmVuXG4gICAqL1xuICBwdWJsaWMgYWRkKG5vZGU6IFRyZWVOb2RlKTogdm9pZCB7XG4gICAgdGhpcy5zZXQuYWRkKG5vZGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhIHNpbmdsZSBub2RlIGZyb20gdGhlIHNldCwgYnV0IG5vdCBhbGwgb2YgaXRzIGNoaWxkcmVuXG4gICAqL1xuICBwdWJsaWMgcmVtb3ZlKG5vZGU6IFRyZWVOb2RlKTogdm9pZCB7XG4gICAgdGhpcy5zZXQuZGVsZXRlKG5vZGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhbGwgbm9kZXMgaW4gdGhlIHNldFxuICAgKi9cbiAgcHVibGljIGdldEFsbE5vZGVzKCk6IFRyZWVOb2RlW10ge1xuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuc2V0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHNpemUgb2YgdGhpcyBzZXRcbiAgICovXG4gIHB1YmxpYyBnZXQgc2l6ZSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnNldC5zaXplO1xuICB9XG5cbiAgLyoqXG4gICAqIFBpY2sgYW55IHJhbmRvbSBub2RlIGluIHRoZSBzZXRcbiAgICovXG4gIHB1YmxpYyBwaWNrQW55UmFuZG9tKCk6IFRyZWVOb2RlIHwgbnVsbCB7XG4gICAgY29uc3Qgbm9kZXMgPSB0aGlzLmdldEFsbE5vZGVzKCk7XG4gICAgaWYgKG5vZGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBwaWNrUmFuZG9tQXJyYXkobm9kZXMpO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgTWF6ZU9iamVjdCB9IGZyb20gJ2FyZWFzL01hemVPYmplY3QnO1xuaW1wb3J0IHsgVHJlZU5vZGUgfSBmcm9tICcuL1RyZWVOb2RlJztcbmltcG9ydCB7IFZlcnRleFNldCB9IGZyb20gJy4vVmVydGV4U2V0JztcblxuLyoqXG4gKiBBZGRzIGEgZmV3IHJhbmRvbSBpbnZlcnNlIHRvZ2dsZSBkb29ycyB0byB0aGUgbWF6ZVxuICovXG5leHBvcnQgY2xhc3MgSW52ZXJzZVRvZ2dsZUdlbmVyYXRvciB7XG4gIHByaXZhdGUgcm9vdDogVHJlZU5vZGU7XG4gIHByaXZhdGUgbWF4RG9vcnM6IG51bWJlcjtcblxuICBwcml2YXRlIGxldmVyOiBUcmVlTm9kZTtcbiAgcHJpdmF0ZSByZWd1bGFyVG9nZ2xlRG9vcnM6IFNldDxUcmVlTm9kZT4gPSBuZXcgU2V0KCk7XG4gIHByaXZhdGUgYWxsb3dkU3BvdHM6IFZlcnRleFNldDtcblxuICBjb25zdHJ1Y3Rvcihyb290OiBUcmVlTm9kZSkge1xuICAgIHRoaXMucm9vdCA9IHJvb3Q7XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhdGUgdGhlIGludmVyc2UgdG9nZ2xlIGRvb3JzXG4gICAqL1xuICBwdWJsaWMgZ2VuZXJhdGVJbnZlcnNlVG9nZ2xlRG9vcnMoKTogdm9pZCB7XG4gICAgdGhpcy5maW5kVG9nZ2xlRG9vcnModGhpcy5yb290KTtcbiAgICB0aGlzLm1heERvb3JzID0gdGhpcy5yZWd1bGFyVG9nZ2xlRG9vcnMuc2l6ZTtcbiAgICB0aGlzLmFsbG93ZFNwb3RzID0gbmV3IFZlcnRleFNldCh0aGlzLnJvb3QpO1xuXG4gICAgLy8gUmVtb3ZlIGFsbCBwYXRocyBjb25uZWN0aW5nIHRoZSBsZXZlciB0byBlYWNoIHRvZ2dsZSBkb29yXG4gICAgZm9yIChjb25zdCB0b2dnbGVEb29yIG9mIHRoaXMucmVndWxhclRvZ2dsZURvb3JzKSB7XG4gICAgICBjb25zdCBwYXRoID0gSW52ZXJzZVRvZ2dsZUdlbmVyYXRvci5maW5kUGF0aEJldHdlZW4odG9nZ2xlRG9vciwgdGhpcy5sZXZlcik7XG4gICAgICB0aGlzLmFsbG93ZFNwb3RzLnJlbW92ZUFsbChwYXRoKTtcbiAgICB9XG5cbiAgICAvLyBSZW1vdmUgYW55IGNoaWxkcmVuIG9mIHRoZSB0b2dnbGUgZG9vcnNcbiAgICBmb3IgKGNvbnN0IHRvZ2dsZURvb3Igb2YgdGhpcy5yZWd1bGFyVG9nZ2xlRG9vcnMpIHtcbiAgICAgIHRoaXMuYWxsb3dkU3BvdHMucmVtb3ZlUmVjdXJzaXZlKHRvZ2dsZURvb3IpO1xuICAgIH1cblxuICAgIC8vLyBSZW1vdmUgYW55IGl0ZW1zXG4gICAgZm9yIChjb25zdCBzcG90IG9mIHRoaXMuYWxsb3dkU3BvdHMuZ2V0QWxsTm9kZXMoKSkge1xuICAgICAgaWYgKHNwb3Qub2JqZWN0ICE9PSBNYXplT2JqZWN0LkVtcHR5KSB7XG4gICAgICAgIHRoaXMuYWxsb3dkU3BvdHMucmVtb3ZlKHNwb3QpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFJlbW92ZSBhbGwgbm9uLWRvb3JzXG4gICAgZm9yIChjb25zdCBzcG90IG9mIHRoaXMuYWxsb3dkU3BvdHMuZ2V0QWxsTm9kZXMoKSkge1xuICAgICAgaWYgKHNwb3Qucm93ICUgMiAhPT0gMCAmJiBzcG90LmNvbHVtbiAlIDIgIT09IDApIHtcbiAgICAgICAgdGhpcy5hbGxvd2RTcG90cy5yZW1vdmUoc3BvdCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUGljayByYW5kb20gbG9jYXRpb25zIGZvciB0aGUgaW52ZXJzZSBkb29yc1xuICAgIC8vICBXZSBkb24ndCBuZWVkIHRvIHdvcnJ5IGFib3V0IHJlY3Vyc2l2ZSBjaGlsZHJlbiBiZWNhdXNlIHdlIGFyZW4ndCBhZGRpbmcgYW55IG1vcmUgc29saWQgZG9vcnNcbiAgICBmb3IgKGxldCBkb29yID0gMDsgZG9vciA8IHRoaXMucmVndWxhclRvZ2dsZURvb3JzLnNpemU7IGRvb3IgKz0gMSkge1xuICAgICAgY29uc3QgdG9nZ2xlTG9jYXRpb24gPSB0aGlzLmFsbG93ZFNwb3RzLnBpY2tBbnlSYW5kb20oKTtcbiAgICAgIGlmICh0b2dnbGVMb2NhdGlvbiA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm47IC8qIE5vIG1vcmUgZG9vcnMgbGVmdCAqL1xuICAgICAgfVxuICAgICAgdGhpcy5hbGxvd2RTcG90cy5yZW1vdmUodG9nZ2xlTG9jYXRpb24pO1xuICAgICAgdG9nZ2xlTG9jYXRpb24ub2JqZWN0ID0gTWF6ZU9iamVjdC5JbnZlcnNlVG9nZ2xlRG9vcjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVjdXJzaXZlbHkgZmluZCBhbGwgb2YgdGhlIHRvZ2dsZSBkb29ycyBpbiB0aGUgbWF6ZVxuICAgKi9cbiAgcHJpdmF0ZSBmaW5kVG9nZ2xlRG9vcnMobm9kZTogVHJlZU5vZGUpOiB2b2lkIHtcbiAgICBpZiAobm9kZS5vYmplY3QgPT09IE1hemVPYmplY3QuTGV2ZXIpIHtcbiAgICAgIHRoaXMubGV2ZXIgPSBub2RlOyAvKiBTaG91bGQgT05MWSBiZSBvbmUgbGV2ZXIgaW4gdGhlIG1hemUgKi9cbiAgICB9IGVsc2UgaWYgKG5vZGUub2JqZWN0ID09PSBNYXplT2JqZWN0LlRvZ2dsZURvb3IpIHtcbiAgICAgIHRoaXMucmVndWxhclRvZ2dsZURvb3JzLmFkZChub2RlKTtcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIG5vZGUuY2hpbGRyZW4pIHtcbiAgICAgIHRoaXMuZmluZFRvZ2dsZURvb3JzKGNoaWxkKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRmluZCB0aGUgY29tbW9uIHBhdGggYmV0d2VlbiB0aGUgbGVmdCBhbmQgcmlnaHQgbm9kZXNcbiAgICovXG4gIHByaXZhdGUgc3RhdGljIGZpbmRQYXRoQmV0d2VlbihsZWZ0OiBUcmVlTm9kZSwgcmlnaHQ6IFRyZWVOb2RlKTogVHJlZU5vZGVbXSB7XG4gICAgLy8gRmluZCBsZWZ0IGhpZXJpdGFnZSB0byB0aGUgcm9vdFxuICAgIGNvbnN0IGxlZnRIZXJpdGFnZSA9IFtsZWZ0XTtcbiAgICBsZXQgcGFyZW50ID0gbGVmdC5wYXJlbnQ7XG4gICAgd2hpbGUgKHBhcmVudCAhPT0gbnVsbCkge1xuICAgICAgbGVmdEhlcml0YWdlLnB1c2gocGFyZW50KTtcbiAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XG4gICAgfVxuXG4gICAgLy8gRmluZCByaWdodCBoZXJpdGFnZSB0byB0aGUgcm9vdFxuICAgIGNvbnN0IHJpZ2h0SGVyaXRhZ2UgPSBbcmlnaHRdO1xuICAgIHBhcmVudCA9IHJpZ2h0LnBhcmVudDtcbiAgICB3aGlsZSAocGFyZW50ICE9PSBudWxsKSB7XG4gICAgICByaWdodEhlcml0YWdlLnB1c2gocGFyZW50KTtcbiAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XG4gICAgfVxuXG4gICAgbGVmdEhlcml0YWdlLnJldmVyc2UoKTtcbiAgICByaWdodEhlcml0YWdlLnJldmVyc2UoKTtcblxuICAgIC8vIEZpZ3VyZSBvdXQgd2hlcmUgdGhlIGhlcml0YWdlIGRpZmZlcnNcbiAgICB3aGlsZSAobGVmdEhlcml0YWdlLmxlbmd0aCA+IDAgJiYgcmlnaHRIZXJpdGFnZS5sZW5ndGggPiAwKSB7XG4gICAgICBpZiAobGVmdEhlcml0YWdlWzBdICE9PSByaWdodEhlcml0YWdlWzBdKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgbGVmdEhlcml0YWdlLnNoaWZ0KCk7XG4gICAgICByaWdodEhlcml0YWdlLnNoaWZ0KCk7XG4gICAgfVxuXG4gICAgLy8gVGhlIHJlbWFpbmluZyBub2RlcyBhcmUgdGhlIHBhdGhzIGJldHdlZW4gdGhlIGxlZnQgYW5kIHJpZ2h0XG4gICAgY29uc3Qgbm9kZXMgPSBbLi4ubGVmdEhlcml0YWdlLCAuLi5yaWdodEhlcml0YWdlXTtcbiAgICBpZiAobGVmdEhlcml0YWdlLmxlbmd0aCA+IDApIHtcbiAgICAgIG5vZGVzLnB1c2gobGVmdEhlcml0YWdlWzBdLnBhcmVudCk7IC8vIFNob3VsZCBiZSB0aGUgc2FtZSBmb3IgYm90aFxuICAgIH0gZWxzZSBpZiAocmlnaHRIZXJpdGFnZS5sZW5ndGggPiAwKSB7XG4gICAgICBub2Rlcy5wdXNoKHJpZ2h0SGVyaXRhZ2VbMF0ucGFyZW50KTsgLy8gU2hvdWxkIGJlIHRoZSBzYW1lIGZvciBib3RoXG4gICAgfVxuXG4gICAgcmV0dXJuIG5vZGVzO1xuICB9XG59XG4iLCJpbXBvcnQgeyBwaWNrUmFuZG9tQXJyYXkgfSBmcm9tICdlbmdpbmUvaGVscGVycyc7XG5pbXBvcnQgeyBBYnN0cmFjdFNldCB9IGZyb20gJy4vQWJzdHJhY3RTZXQnO1xuaW1wb3J0IHsgVHJlZU5vZGUgfSBmcm9tICcuL1RyZWVOb2RlJztcblxuLyoqXG4gKiBTdG9yZXMgYSBzZXQgb2YgdmVydGljZXMsIGFuZCBjYW4gZmluZCByYW5kb20gdmVydGljZXMgYmFzZWQgb24gdGhlaXIgZGVwdGhcbiAqL1xuZXhwb3J0IGNsYXNzIEhpc3RvZ3JhbVNldCBleHRlbmRzIEFic3RyYWN0U2V0IHtcbiAgLy8vIE1hcHMgdGhlIGRlcHRoIHRvIGFsbCB2ZXJ0aWNlcyBhdCB0aGF0IGRlcHRoXG4gIHByaXZhdGUgdmVydGljZXM6IE1hcDxudW1iZXIsIFNldDxUcmVlTm9kZT4+ID0gbmV3IE1hcCgpO1xuXG4gIC8vLyBIaWdoZXN0IHZhbHVlIHRoYXQgaGFzIGJlZW4gc3RvcmVkIGluIHRoZSBzZXRcbiAgcHJpdmF0ZSBoaWdoZXN0ID0gMDtcblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IGhpc3RvZ3JhbSBzZXQgZm9yIGEgdHJlZSBvZiB2ZXJ0aWNlc1xuICAgKlxuICAgKiBAcGFyYW0gcm9vdE5vZGUgSWYgcHJvdmlkZWQsIGFkZHMgdGhlIG5vZGUgQU5EIGFsbCBvZiBpdHMgY2hpbGRyZW4gdG8gdGhlIHNldFxuICAgKi9cbiAgY29uc3RydWN0b3Iocm9vdE5vZGU/OiBUcmVlTm9kZSkge1xuICAgIHN1cGVyKCk7XG4gICAgaWYgKHR5cGVvZiByb290Tm9kZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXMuYWRkUmVjdXJzaXZlKHJvb3ROb2RlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBoaWdoZXN0IGRlcHRoIHRoYXQgaGFzIGJlZW4gc3RvcmVkIGluc2lkZSB0aGlzIGhpc3RvcmdyYW0uXG4gICAqIFRoaXMgZG9lcyBOT1QgZ3VhcmFudGVlIHRoYXQgdGhlcmUgYXJlIGFueSBub2RlcyBpbiB0aGlzIGhpZ2hlc3QgdmFsdWUuXG4gICAqL1xuICBwdWJsaWMgZ2V0IGhpZ2hlc3REZXB0aCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmhpZ2hlc3Q7XG4gIH1cblxuICAvKipcbiAgICogVGVzdCBpZiBhIG5vZGUgZXhpc3RzIGluc2lkZSB0aGUgaGlzdG9ncmFtXG4gICAqL1xuICBwdWJsaWMgaGFzTm9kZShub2RlOiBUcmVlTm9kZSk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnZlcnRpY2VzLmhhcyhub2RlLmRlcHRoKSAmJiB0aGlzLnZlcnRpY2VzLmdldChub2RlLmRlcHRoKS5oYXMobm9kZSk7XG4gIH1cblxuICAvKipcbiAgICogQWRkIGEgc2luZ2xlIG5vZGUgdG8gdGhlIHNldCwgYnV0IG5vdCBhbGwgb2YgaXRzIGNoaWxkcmVuXG4gICAqL1xuICBwdWJsaWMgYWRkKG5vZGU6IFRyZWVOb2RlKTogdm9pZCB7XG4gICAgLy8gQ3JlYXRlIHRoZSBzZXQgaWYgaXQgZG9lcyBub3QgZXhpc3RcbiAgICBpZiAoIXRoaXMudmVydGljZXMuaGFzKG5vZGUuZGVwdGgpKSB7XG4gICAgICB0aGlzLnZlcnRpY2VzLnNldChub2RlLmRlcHRoLCBuZXcgU2V0KCkpO1xuICAgIH1cblxuICAgIGNvbnN0IHNldCA9IHRoaXMudmVydGljZXMuZ2V0KG5vZGUuZGVwdGgpO1xuICAgIHNldC5hZGQobm9kZSk7XG4gICAgdGhpcy5oaWdoZXN0ID0gTWF0aC5tYXgodGhpcy5oaWdoZXN0LCBub2RlLmRlcHRoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYSBzaW5nbGUgbm9kZSBmcm9tIHRoZSBzZXQsIGJ1dCBub3QgYWxsIG9mIGl0cyBjaGlsZHJlblxuICAgKi9cbiAgcHVibGljIHJlbW92ZShub2RlOiBUcmVlTm9kZSk6IHZvaWQge1xuICAgIGlmICghdGhpcy52ZXJ0aWNlcy5oYXMobm9kZS5kZXB0aCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBzZXQgPSB0aGlzLnZlcnRpY2VzLmdldChub2RlLmRlcHRoKTtcbiAgICBzZXQuZGVsZXRlKG5vZGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFBpY2sgYSByYW5kb20gbm9kZSB0aGF0IGhhcyBhIG1pbkRlcHRoIDw9IGRlcHRoIDw9IG1heERlcHRoLlxuICAgKiBUaGlzIGRvZXMgTk9UIHJlbW92ZSB0aGUgbm9kZSBmcm9tIHRoZSB0cmVlLCBqdXN0IHJldHVybnMgdGhlIG5vZGUuXG4gICAqXG4gICAqIEBwYXJhbSBtaW5EZXB0aCBNaW5pbXVtIGRlcHRoLCBpbmNsdXNpdmVcbiAgICogQHBhcmFtIG1heERlcHRoIE1heGltdW0gZGVwdGgsIGluY2x1c2l2ZVxuICAgKiBAcGFyYW0gbWluQWJzb2x1dGVEZXB0aCBNaW5pbXVtIGFic29sdXRlIGRlcHRoIChpbmNsdXNpdmUpIGZvciB0aGUgbm9kZSB0byBlbnN1cmUgaXQgaGFzIGVub3VnaCBwYXJlbnRzXG4gICAqL1xuICBwdWJsaWMgcGlja1JhbmRvbShtaW5EZXB0aDogbnVtYmVyLCBtYXhEZXB0aDogbnVtYmVyLCBtaW5BYnNvbHV0ZURlcHRoID0gMCk6IFRyZWVOb2RlIHwgbnVsbCB7XG4gICAgY29uc3QgYWxsTm9kZXMgPSB0aGlzLmdldEFsbE5vZGVzQnkobWluRGVwdGgsIG1heERlcHRoLCBtaW5BYnNvbHV0ZURlcHRoKTtcbiAgICBpZiAoYWxsTm9kZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gcGlja1JhbmRvbUFycmF5KGFsbE5vZGVzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHNpemUgb2YgdGhpcyBzZXRcbiAgICovXG4gIHB1YmxpYyBnZXQgc2l6ZSgpOiBudW1iZXIge1xuICAgIGxldCB0b3RhbCA9IDA7XG4gICAgZm9yIChjb25zdCBbXywgc2V0XSBvZiB0aGlzLnZlcnRpY2VzKSB7XG4gICAgICB0b3RhbCArPSBzZXQuc2l6ZTtcbiAgICB9XG4gICAgcmV0dXJuIHRvdGFsO1xuICB9XG5cbiAgLyoqXG4gICAqIEV4dHJhY3QgYWxsIG5vZGVzIGZyb20gdGhpcyBoaXN0b2dyYXBtXG4gICAqL1xuICBwdWJsaWMgZ2V0QWxsTm9kZXMoKTogVHJlZU5vZGVbXSB7XG4gICAgY29uc3QgYWxsTm9kZXM6IFRyZWVOb2RlW10gPSBbXTtcbiAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIHRoaXMudmVydGljZXMpIHtcbiAgICAgIGFsbE5vZGVzLnB1c2goLi4uZW50cnlbMV0pO1xuICAgIH1cblxuICAgIHJldHVybiBhbGxOb2RlcztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYWxsIG5vZGVzIHdoZXJlIG1pbkRlcHRoIDw9IGRlcHRoIDw9IG1heERlcHRoLlxuICAgKiBPcHRpb25hbGx5IHNwZWNpZnkgYSBtaW5pbXVtIGFic29sdXRlIGRlcHRoLlxuICAgKlxuICAgKiBAcGFyYW0gbWluRGVwdGggTWluaW11bSBkZXB0aCwgaW5jbHVzaXZlXG4gICAqIEBwYXJhbSBtYXhEZXB0aCBNYXhpbXVtIGRlcHRoLCBpbmNsdXNpdmVcbiAgICogQHBhcmFtIG1pbkFic29sdXRlRGVwdGggTWluaW11bSBhYnNvbHV0ZSBkZXB0aCAoaW5jbHVzaXZlKSBmb3IgdGhlIG5vZGUgdG8gZW5zdXJlIGl0IGhhcyBlbm91Z2ggcGFyZW50c1xuICAgKi9cbiAgcHVibGljIGdldEFsbE5vZGVzQnkobWluRGVwdGg6IG51bWJlciwgbWF4RGVwdGg6IG51bWJlciwgbWluQWJzb2x1dGVEZXB0aCA9IDApOiBUcmVlTm9kZVtdIHtcbiAgICBjb25zdCBhbGxOb2RlcyA9IFtdO1xuICAgIGZvciAobGV0IGRlcHRoID0gbWluRGVwdGg7IGRlcHRoIDw9IG1heERlcHRoOyBkZXB0aCArPSAxKSB7XG4gICAgICBpZiAoIXRoaXMudmVydGljZXMuaGFzKGRlcHRoKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgc2V0ID0gdGhpcy52ZXJ0aWNlcy5nZXQoZGVwdGgpO1xuICAgICAgYWxsTm9kZXMucHVzaCguLi5zZXQpO1xuICAgIH1cblxuICAgIHJldHVybiBhbGxOb2Rlcy5maWx0ZXIoKG5vZGUpID0+IG5vZGUuYWJzb2x1dGVEZXB0aCA+PSBtaW5BYnNvbHV0ZURlcHRoKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgQUxMX01BSU5fRE9PUlMsIERPT1JfSVRFTVMsIE1hemVPYmplY3QgfSBmcm9tICdhcmVhcy9NYXplT2JqZWN0JztcbmltcG9ydCB7IHBpY2tSYW5kb21BcnJheSwgcmFuZG9tSW50IH0gZnJvbSAnZW5naW5lL2hlbHBlcnMnO1xuaW1wb3J0IHsgSGlzdG9ncmFtU2V0IH0gZnJvbSAnLi9IaXN0b2dyYW1TZXQnO1xuaW1wb3J0IHsgVHJlZU5vZGUgfSBmcm9tICcuL1RyZWVOb2RlJztcbmltcG9ydCB7IFZlcnRleFNldCB9IGZyb20gJy4vVmVydGV4U2V0JztcblxuY29uc3QgV0lORE9XX1NJWkUgPSA1O1xuY29uc3QgTUlOX1JBTkRPTV9QQVJFTlQgPSAzO1xuY29uc3QgTUFYX1JBTkRPTV9QQVJFTlQgPSA3O1xuXG4vKipcbiAqIEdlbmVyYXRlIHRoZSBtYWluIHBhdGggaW4gYSBtYXplIGdpdmVuIHRoZSByb290IG5vZGUuXG4gKi9cbmV4cG9ydCBjbGFzcyBNYWluUGF0aEdlbmVyYXRvciB7XG4gIHByaXZhdGUgcm9vdDogVHJlZU5vZGU7XG4gIHByaXZhdGUgaGlzdDogSGlzdG9ncmFtU2V0O1xuICBwcml2YXRlIG1pbkRlcHRoOiBudW1iZXI7XG5cbiAgcHJpdmF0ZSBkb29yc0xlZnQ6IFNldDxNYXplT2JqZWN0PjtcbiAgcHJpdmF0ZSBpdGVtc05lZWRlZDogTWF6ZU9iamVjdFtdO1xuICBwcml2YXRlIGl0ZW1zUmV1c2VkOiBTZXQ8TWF6ZU9iamVjdD47XG5cbiAgY29uc3RydWN0b3Iobm9kZTogVHJlZU5vZGUpIHtcbiAgICB0aGlzLnJvb3QgPSBub2RlO1xuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlIHRoZSBtYWluIHBhdGgsIG11dGF0ZXMgdGhlIGludGVybmFsIG5vZGVzLlxuICAgKiBUaGlzIG1ldGhvZCBzaG91bGQgb25seSBiZSBjYWxsZWQgb25jZSEhIVxuICAgKi9cbiAgcHVibGljIGdlbmVyYXRlTWFpblBhdGgoKTogdm9pZCB7XG4gICAgLy8gS2VlcCBydW5pbmcgYW5kIHJlcnVubmluZyB0aGUgYWxnb3JpdGhtIHVudGlsIGl0IGFjdHVhbGx5IHBsYWNlcyBhbGwgZG9vcnNcbiAgICBkbyB7XG4gICAgICB0aGlzLnJlc2V0QWxnb3JpdGhtKCk7XG4gICAgICB0aGlzLnJ1bkFsZ29yaXRobU9uY2UoKTtcbiAgICB9IHdoaWxlICh0aGlzLmRvb3JzTGVmdC5zaXplID4gMCk7XG4gIH1cblxuICAvKipcbiAgICogUmVzZXQgYWxsIG9mIHRoZSBpbnRlcm5hbCBhbGdvcml0aG0gcGFyYW1ldGVyc1xuICAgKi9cbiAgcHJpdmF0ZSByZXNldEFsZ29yaXRobSgpOiB2b2lkIHtcbiAgICBNYWluUGF0aEdlbmVyYXRvci5yZXNldFZlcnRpY2VzKHRoaXMucm9vdCk7XG4gICAgdGhpcy5oaXN0ID0gbmV3IEhpc3RvZ3JhbVNldCh0aGlzLnJvb3QpO1xuICAgIHRoaXMubWluRGVwdGggPSBNYXRoLm1heCgwLCB0aGlzLmhpc3QuaGlnaGVzdERlcHRoIC0gTWF0aC5mbG9vcihXSU5ET1dfU0laRSAvIDIpKTtcblxuICAgIHRoaXMuZG9vcnNMZWZ0ID0gbmV3IFNldChBTExfTUFJTl9ET09SUyk7XG4gICAgdGhpcy5pdGVtc05lZWRlZCA9IFtdO1xuICAgIHRoaXMuaXRlbXNSZXVzZWQgPSBuZXcgU2V0KCk7XG4gIH1cblxuICAvKipcbiAgICogUmVjdXJzaXZlbHkgcmVzZXQgdGhlIHN0YXRlIG9mIGFsbCB2ZXJ0aWNlc1xuICAgKi9cbiAgcHJpdmF0ZSBzdGF0aWMgcmVzZXRWZXJ0aWNlcyhyb290OiBUcmVlTm9kZSk6IHZvaWQge1xuICAgIHJvb3Qub2JqZWN0ID0gTWF6ZU9iamVjdC5FbXB0eTtcbiAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIHJvb3QuY2hpbGRyZW4pIHtcbiAgICAgIE1haW5QYXRoR2VuZXJhdG9yLnJlc2V0VmVydGljZXMoY2hpbGQpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBdHRlbXB0cyB0byBydW4gdGhlIGFsZ29yaXRobSBvbmNlLCBidXQgYWJvcnRzIGlmIGl0IGZhaWxzXG4gICAqL1xuICBwcml2YXRlIHJ1bkFsZ29yaXRobU9uY2UoKTogdm9pZCB7XG4gICAgLy8gMS4gUGljayByYW5kb20gbG9jYXRpb24gZm9yIHRoZSBkb29yXG4gICAgbGV0IGRvb3JMb2NhdGlvbiA9IHRoaXMucGlja1JhbmRvbURvb3JMb2NhdGlvbigpO1xuICAgIGlmIChkb29yTG9jYXRpb24gPT09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5oaXN0LnJlbW92ZVJlY3Vyc2l2ZShkb29yTG9jYXRpb24pO1xuICAgIHRoaXMuc2hpZnRNaW5EZXB0aCgpO1xuXG4gICAgLy8gMi4gUGljayBhIHJhbmRvbSBkb29yIHR5cGVcbiAgICBsZXQgcmFuZG9tRG9vciA9IHBpY2tSYW5kb21BcnJheShBcnJheS5mcm9tKHRoaXMuZG9vcnNMZWZ0KSk7XG4gICAgdGhpcy5kb29yc0xlZnQuZGVsZXRlKHJhbmRvbURvb3IpO1xuICAgIGRvb3JMb2NhdGlvbi5vYmplY3QgPSByYW5kb21Eb29yO1xuICAgIE1haW5QYXRoR2VuZXJhdG9yLnB1dEVuZXJneUJlaGluZChkb29yTG9jYXRpb24pO1xuXG4gICAgLy8gMy4gRmluZCB0aGUgaXRlbXMgbmVlZGVkIGZvciB0aGUgZG9vclxuICAgIHRoaXMuY29tcHV0ZUl0ZW1zTmVlZGVkKHJhbmRvbURvb3IpO1xuXG4gICAgLy8gNC4gQWRkIGRvb3JzIGFuZCBpdGVtcyB1bnRpbCB0aGVyZSBhcmUgbm8gZG9vcnMgbGVmdFxuICAgIG91dGVyTG9vcDogd2hpbGUgKHRoaXMuaXRlbXNOZWVkZWQubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgbmVlZGVkID0gWy4uLnRoaXMuaXRlbXNOZWVkZWRdO1xuICAgICAgdGhpcy5pdGVtc05lZWRlZCA9IFtdO1xuXG4gICAgICAvLyBJZiBtdWx0aXBsZSBpdGVtcyBhcmUgc3BlY2lmaWVkLCB0aGVuIHBpY2sgYSByYW5kb20gb25lIGZvciB0aGUgZG9vclxuICAgICAgY29uc3QgZG9vckluZGV4ID0gcmFuZG9tSW50KDAsIG5lZWRlZC5sZW5ndGggLSAxKTtcbiAgICAgIGxldCBkb29ySXRlbU5vZGU6IFRyZWVOb2RlO1xuXG4gICAgICAvLyA1LiBQaWNrIGEgcmFuZG9tIGxvY2F0aW9uIGZvciBhbGwgdGhlIGl0ZW1zIGluIHRoZSBtYXplXG4gICAgICBmb3IgKGNvbnN0IFtpdGVtSW5kZXgsIGl0ZW1dIG9mIG5lZWRlZC5lbnRyaWVzKCkpIHtcbiAgICAgICAgLy8gUGljayBhbiBpdGVtIGxvY2F0aW9uLCBpZiBhbnkgYXJlIGF2YWlhYmxlLlxuICAgICAgICAvLyAgIElmIG5vIGl0ZW0gbG9jYXRpb25zIGFyZSBhdmFpbGFibGUsIHJlbW92ZSB0aGUgbGFzdCBkb29yLCBhbnkgbGVmdG92ZXIgaXRlbXMsIGFuZCBraWxsIHRoZSBhbGdvcml0aG1cbiAgICAgICAgY29uc3QgaXRlbUxvY2F0aW9uID0gdGhpcy5waWNrUmFuZG9tSXRlbUxvY2F0aW9uKCk7XG4gICAgICAgIGlmIChpdGVtTG9jYXRpb24gPT09IG51bGwpIHtcbiAgICAgICAgICBkb29yTG9jYXRpb24ub2JqZWN0ID0gTWF6ZU9iamVjdC5FbXB0eTtcbiAgICAgICAgICB0aGlzLmRvb3JzTGVmdC5hZGQocmFuZG9tRG9vcik7XG4gICAgICAgICAgYnJlYWsgb3V0ZXJMb29wO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gT2theSwgYSBsb2NhdGlvbiBleGlzdHMgc28gYWRkIHRoZSBpdGVtIHRvIHRoZSBtYXplXG4gICAgICAgIGl0ZW1Mb2NhdGlvbi5vYmplY3QgPSBpdGVtO1xuICAgICAgICB0aGlzLmhpc3QucmVtb3ZlUmVjdXJzaXZlKGl0ZW1Mb2NhdGlvbik7XG5cbiAgICAgICAgLy8gV2hpY2ggaXRlbSBnZXRzIHRoZSBkb29yP1xuICAgICAgICBpZiAoaXRlbUluZGV4ID09PSBkb29ySW5kZXgpIHtcbiAgICAgICAgICBkb29ySXRlbU5vZGUgPSBpdGVtTG9jYXRpb247XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gNi4gUHV0IGEgcmFuZG9tIGRvb3Igb25lIG9uZSBvZiB0aGUgaXRlbXNcbiAgICAgIGlmICh0aGlzLmRvb3JzTGVmdC5zaXplID4gMCkge1xuICAgICAgICAvLyBJZiBubyBkb29yIGxvY2F0aW9ucyBhcmUgYXZhaWxhYmxlLCB0aGUga2lsbCB0aGUgYWxnb3JpdGhtXG4gICAgICAgIGRvb3JMb2NhdGlvbiA9IHRoaXMucGlja1JhbmRvbVBhcmVudERvb3JMb2NhdGlvbihkb29ySXRlbU5vZGUpO1xuICAgICAgICBpZiAoZG9vckxvY2F0aW9uID09PSBudWxsKSB7XG4gICAgICAgICAgYnJlYWsgb3V0ZXJMb29wO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaGlzdC5yZW1vdmVSZWN1cnNpdmUoZG9vckxvY2F0aW9uKTtcblxuICAgICAgICAvLyBQaWNrIHRoZSByYW5kb20gaXRlbSBmb3IgdGhlIGRvb3JcbiAgICAgICAgcmFuZG9tRG9vciA9IHBpY2tSYW5kb21BcnJheShBcnJheS5mcm9tKHRoaXMuZG9vcnNMZWZ0KSk7XG4gICAgICAgIHRoaXMuZG9vcnNMZWZ0LmRlbGV0ZShyYW5kb21Eb29yKTtcbiAgICAgICAgZG9vckxvY2F0aW9uLm9iamVjdCA9IHJhbmRvbURvb3I7XG5cbiAgICAgICAgLy8gQWxzbyBhbnkgaXRlbXMgbmVlZGVkIHRvIG9wZW4gdGhlIGRvb3JcbiAgICAgICAgdGhpcy5jb21wdXRlSXRlbXNOZWVkZWQocmFuZG9tRG9vcik7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc2hpZnRNaW5EZXB0aCgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBEb29ycyBjYW4gb25seSBnbyBpbiBzcGVjaWZpYyBsb2NhdGlvbnNcbiAgICovXG4gIHByaXZhdGUgcGlja1JhbmRvbURvb3JMb2NhdGlvbigpOiBUcmVlTm9kZSB8IG51bGwge1xuICAgIGNvbnN0IGxvY2F0aW9uID0gdGhpcy5oaXN0LnBpY2tSYW5kb20odGhpcy5taW5EZXB0aCwgdGhpcy5taW5EZXB0aCArIFdJTkRPV19TSVpFLCAyICsgTUFYX1JBTkRPTV9QQVJFTlQpO1xuICAgIGlmIChsb2NhdGlvbiA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgaWYgKGxvY2F0aW9uLnJvdyAlIDIgIT09IDAgJiYgbG9jYXRpb24uY29sdW1uICUgMiAhPT0gMCkge1xuICAgICAgcmV0dXJuIGxvY2F0aW9uLnBhcmVudDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGxvY2F0aW9uO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBQaWNrIGEgZG9vciBmb3IgdGhlIGl0ZW0gYnkgdHJhdmVsaW5nIGJhY2sgYSBnaXZlbiBudW1iZXIgb2Ygc3BvdHMuXG4gICAqIERvb3JzIGNhbiBvbmx5IGdvIGluIHNwZWNpZmljIGxvY2F0aW9ucy5cbiAgICovXG4gIHByaXZhdGUgcGlja1JhbmRvbVBhcmVudERvb3JMb2NhdGlvbihpdGVtOiBUcmVlTm9kZSk6IFRyZWVOb2RlIHwgbnVsbCB7XG4gICAgLy8gRmluZCBhbGwgYXZhaWxhYmxlIGxvY2F0aW9uc1xuICAgIGNvbnN0IGFsbEF2YWlsYWJsZSA9IG5ldyBWZXJ0ZXhTZXQoKTtcbiAgICBsZXQgbG9jYXRpb246IFRyZWVOb2RlIHwgbnVsbCA9IGl0ZW07XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBNQVhfUkFORE9NX1BBUkVOVCAmJiBsb2NhdGlvbiAhPT0gbnVsbDsgaSArPSAxKSB7XG4gICAgICBsb2NhdGlvbiA9IGxvY2F0aW9uLnBhcmVudDtcbiAgICAgIGlmIChpIDwgTUlOX1JBTkRPTV9QQVJFTlQpIHtcbiAgICAgICAgY29udGludWU7IC8qIE5lZWQgdG8gdHJhdmVsIGEgbWluaW11bSBudW1iZXIgb2YgcGFyZW50IG5vZGVzICovXG4gICAgICB9XG5cbiAgICAgIC8vIFNraXAgYW55IG5vbi1lbXB0eSBvYmplY3RzXG4gICAgICBpZiAobG9jYXRpb24ub2JqZWN0ICE9PSBNYXplT2JqZWN0LkVtcHR5KSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBTa2lwIGFueSBpbnZhbGlkIGRvb3IgbG9jYXRpb25zXG4gICAgICBpZiAobG9jYXRpb24ucm93ICUgMiAhPT0gMCAmJiBsb2NhdGlvbi5jb2x1bW4gJSAyICE9PSAwKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBhbGxBdmFpbGFibGUuYWRkKGxvY2F0aW9uKTsgLyogTm9kZSBpcyBva2F5ICovXG4gICAgfVxuXG4gICAgcmV0dXJuIGFsbEF2YWlsYWJsZS5waWNrQW55UmFuZG9tKCk7XG4gIH1cblxuICAvKipcbiAgICogSXRlbXMgY2FuIGdvIGluIGFsbCBsb2NhdGlvbnNcbiAgICovXG4gIHByaXZhdGUgcGlja1JhbmRvbUl0ZW1Mb2NhdGlvbigpOiBUcmVlTm9kZSB8IG51bGwge1xuICAgIHJldHVybiB0aGlzLmhpc3QucGlja1JhbmRvbSh0aGlzLm1pbkRlcHRoLCB0aGlzLm1pbkRlcHRoICsgV0lORE9XX1NJWkUsIDIgKyBNQVhfUkFORE9NX1BBUkVOVCk7XG4gIH1cblxuICAvKipcbiAgICogSW5jcmVhc2UgdGhlIG1pbmltdW0gZGVwdGggc28gaXRlbXMgYXJlICphcHByb3hpbWF0ZWx5KiB1bmlmb3JtbHkgZGlzdHJpYnV0ZWQgaW4gdGhlIG1hemVcbiAgICovXG4gIHByaXZhdGUgc2hpZnRNaW5EZXB0aCgpOiB2b2lkIHtcbiAgICB0aGlzLm1pbkRlcHRoID0gTWF0aC5tYXgoMCwgdGhpcy5taW5EZXB0aCAtIDEpO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbXB1dGUgdGhlIGl0ZW0ocykgbmVlZGVkIHRvIG9wZW4gdGhlIGRvb3IsIGFuZCBwdXNoIHRoZW0gdG8gdGhlIGl0ZW1zTmVlZGVkIGFycmF5XG4gICAqL1xuICBwcml2YXRlIGNvbXB1dGVJdGVtc05lZWRlZChkb29yOiBNYXplT2JqZWN0KTogdm9pZCB7XG4gICAgY29uc3QgaXRlbXNOZWVkZWQgPSBET09SX0lURU1TW2Rvb3JdO1xuXG4gICAgaWYgKHR5cGVvZiBpdGVtc05lZWRlZC5vbmVUaW1lSXRlbSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXMuaXRlbXNOZWVkZWQucHVzaChpdGVtc05lZWRlZC5vbmVUaW1lSXRlbSk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBpdGVtc05lZWRlZC5yZXVzZUl0ZW0gIT09ICd1bmRlZmluZWQnICYmICF0aGlzLml0ZW1zUmV1c2VkLmhhcyhpdGVtc05lZWRlZC5yZXVzZUl0ZW0pKSB7XG4gICAgICB0aGlzLml0ZW1zTmVlZGVkLnB1c2goaXRlbXNOZWVkZWQucmV1c2VJdGVtKTtcbiAgICAgIHRoaXMuaXRlbXNSZXVzZWQuYWRkKGl0ZW1zTmVlZGVkLnJldXNlSXRlbSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhbiBlbmVyZ3kgb3JiIHRvIGEgcmFuZG9tIGNoaWxkIG9mIHRoZSBkb29yIG5vZGVcbiAgICovXG4gIHByaXZhdGUgc3RhdGljIHB1dEVuZXJneUJlaGluZChkb29yTm9kZTogVHJlZU5vZGUpOiB2b2lkIHtcbiAgICBjb25zdCBhdmFpbGFibGVOb2RlcyA9IG5ldyBWZXJ0ZXhTZXQoZG9vck5vZGUpO1xuICAgIGF2YWlsYWJsZU5vZGVzLnJlbW92ZShkb29yTm9kZSk7XG4gICAgZm9yIChjb25zdCBub2RlIG9mIGF2YWlsYWJsZU5vZGVzLmdldEFsbE5vZGVzKCkpIHtcbiAgICAgIGlmIChub2RlLm9iamVjdCAhPT0gTWF6ZU9iamVjdC5FbXB0eSkge1xuICAgICAgICBhdmFpbGFibGVOb2Rlcy5yZW1vdmUobm9kZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgZW5lcmd5TG9jYXRpb24gPSBhdmFpbGFibGVOb2Rlcy5waWNrQW55UmFuZG9tKCk7XG4gICAgaWYgKGVuZXJneUxvY2F0aW9uICE9PSBudWxsKSB7XG4gICAgICBlbmVyZ3lMb2NhdGlvbi5vYmplY3QgPSBNYXplT2JqZWN0LkVuZXJneTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IHBpY2tSYW5kb21BcnJheSB9IGZyb20gJ2VuZ2luZS9oZWxwZXJzJztcblxuLy8vIFVzZWQgaW50ZXJuYWxseSBieSB0aGUgZ2VuZXJhdG9yIGFsZ29yaXRobSBmb3IgdGhlIHdhbGxzXG5pbnRlcmZhY2UgVmVydGV4IHtcbiAgcm93OiBudW1iZXI7XG4gIGNvbDogbnVtYmVyO1xufVxuXG4vKipcbiAqIEdlbmVyYXRlcyBqdXN0IHRoZSB3YWxscyBvZiB0aGUgbWF6ZVxuICovXG5leHBvcnQgY2xhc3MgTWF6ZVdhbGxzR2VuZXJhdG9yIHtcbiAgLy8gU3RvcmUgdGhlIHRydWUgd2lkdGggYW5kIGhlaWdodFxuICBwcml2YXRlIHdpZHRoOiBudW1iZXI7XG4gIHByaXZhdGUgaGVpZ2h0OiBudW1iZXI7XG4gIHByaXZhdGUgY2VudGVyV2lkdGg6IG51bWJlcjtcbiAgcHJpdmF0ZSBjZW50ZXJIZWlnaHQ6IG51bWJlcjtcblxuICAvLy8gQXJyYXkgb2Ygd2FsbHNcbiAgcHJpdmF0ZSB3YWxsczogYm9vbGVhbltdW107XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdCBhIG5ldyB3YWxsIGdlbmVyYXRvcnJcbiAgICpcbiAgICogQHBhcmFtIHdpZHRoIE51bWJlciBvZiBjZW50ZXIgdmVydGljZXMgd2lkZSwgbm90IHRoZSB0cnVlIHdpZHRoXG4gICAqIEBwYXJhbSBoZWlnaHQgTnVtYmVyIG9mIGNlbnRlciB2ZXJ0aWNlcyB0YWxsLCBub3QgdGhlIHRydWUgaGVpZ2h0XG4gICAqIEBwYXJhbSBjZW50ZXJXaWR0aCBUcnVlIHdpZHRoIG9mIHRoZSBjZW50ZXIgdGVtcGxhdGVcbiAgICogQHBhcmFtIGNlbnRlckhlaWdodCBUcnVlIGhlaWdodCBvZiB0aGUgY2VudGVyIHRlbXBsYXRlXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlciwgY2VudGVyV2lkdGg6IG51bWJlciwgY2VudGVySGVpZ2h0OiBudW1iZXIpIHtcbiAgICB0aGlzLndpZHRoID0gd2lkdGggKiAyICsgMTtcbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodCAqIDIgKyAxO1xuICAgIHRoaXMuY2VudGVyV2lkdGggPSBjZW50ZXJXaWR0aDtcbiAgICB0aGlzLmNlbnRlckhlaWdodCA9IGNlbnRlckhlaWdodDtcbiAgfVxuXG4gIC8qKlxuICAgKiBNZXRob2QgdGhhdCBhY3R1YWxseSBnZW5lcmF0ZXMgdGhlIHJhbmRvbSBtYXplXG4gICAqL1xuICBwdWJsaWMgZ2VuZXJhdGVSYW5kb21NYXplKCk6IGJvb2xlYW5bXVtdIHtcbiAgICAvLyBDcmVhdGUgYmxhbmsgbWF6ZVxuICAgIHRoaXMud2FsbHMgPSBBcnJheSh0aGlzLmhlaWdodClcbiAgICAgIC5maWxsKG51bGwpXG4gICAgICAubWFwKCgpID0+XG4gICAgICAgIEFycmF5KHRoaXMud2lkdGgpXG4gICAgICAgICAgLmZpbGwobnVsbClcbiAgICAgICAgICAubWFwKCgpID0+IHRydWUpLFxuICAgICAgKTtcblxuICAgIHRoaXMuY2hpc2VsSG9sZXMoKTtcbiAgICB0aGlzLmZpbGxDZW50ZXJUZW1wbGF0ZSgpO1xuXG4gICAgLy8gQWN0dWFsbHkgZ2VuZXJhdGUgdGhlIG1hemVcbiAgICBjb25zdCB2ZXJ0aWNlcyA9IHRoaXMuZ2V0QWxsVmVydGljZXMoKTtcbiAgICBjb25zdCBtYXplID0gZ2VuZXJhdGUodmVydGljZXMsIGlzQWRqYWNlbnQsIHBpY2tSYW5kb21BcnJheSk7XG4gICAgdGhpcy5wbGFjZVZlcnRleFdhbGxzKG1hemUpO1xuXG4gICAgcmV0dXJuIHRoaXMud2FsbHM7XG4gIH1cblxuICAvKipcbiAgICogQ2hpc2VsIG91dCB0aGUgaG9sZXMgb2YgdGhlIG1hemVcbiAgICpcbiAgICogWFhYWFhYWFhYXG4gICAqIFggfCB8IHwgWFxuICAgKiBYLVgtWC1YLVhcbiAgICogWCB8IHwgfCBYXG4gICAqIFgtWC1YLVgtWFxuICAgKiBYIHwgfCB8IFhcbiAgICogWFhYWFhYWFhYXG4gICAqL1xuICBwcml2YXRlIGNoaXNlbEhvbGVzKCk6IHZvaWQge1xuICAgIGZvciAobGV0IHJvdyA9IDE7IHJvdyA8IHRoaXMuaGVpZ2h0IC0gMTsgcm93ICs9IDIpIHtcbiAgICAgIC8vIGNvbnN0IHN0ZXAgPSBOdW1iZXIoIShyb3cgJSAyKSkgKyAxO1xuICAgICAgZm9yIChsZXQgY29sID0gMTsgY29sIDwgdGhpcy53aWR0aCAtIDE7IGNvbCArPSAyKSB7XG4gICAgICAgIHRoaXMud2FsbHNbcm93XVtjb2xdID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBjZW50ZXIgdGVtcGxhdGUgaXMgZmlsbGVkIGVudGlyZWx5IHdpdGggd2FsbHNcbiAgICovXG4gIHByaXZhdGUgZmlsbENlbnRlclRlbXBsYXRlKCk6IHZvaWQge1xuICAgIC8vIFNoaWZ0IGV2ZXJ5dGhpbmcgZG93biBieSBvbmUgaWYgdGhlIGhlaWdodCBpcyBldmVuIGFuZCBhZGQgYW4gZXh0cmEgcm93IG9mIHdhbGxzXG4gICAgY29uc3QgdG9wUm93ID0gTWF0aC5mbG9vcigodGhpcy5oZWlnaHQgLSB0aGlzLmNlbnRlckhlaWdodCkgLyAyKSArIE51bWJlcighKHRoaXMuY2VudGVySGVpZ2h0ICUgMikpO1xuICAgIGNvbnN0IGJvdHRvbVJvdyA9IHRvcFJvdyArIHRoaXMuY2VudGVySGVpZ2h0ICsgTnVtYmVyKCEodGhpcy5jZW50ZXJIZWlnaHQgJSAyKSk7XG4gICAgY29uc3QgbGVmdENvbCA9IE1hdGguZmxvb3IoKHRoaXMud2lkdGggLSB0aGlzLmNlbnRlcldpZHRoKSAvIDIpICsgTnVtYmVyKCEodGhpcy5jZW50ZXJXaWR0aCAlIDIpKTtcbiAgICBjb25zdCByaWdodENvbCA9IGxlZnRDb2wgKyB0aGlzLmNlbnRlcldpZHRoICsgTnVtYmVyKCEodGhpcy5jZW50ZXJXaWR0aCAlIDIpKTtcblxuICAgIGZvciAobGV0IHJvdyA9IHRvcFJvdzsgcm93IDwgYm90dG9tUm93OyByb3cgKz0gMSkge1xuICAgICAgZm9yIChsZXQgY29sID0gbGVmdENvbDsgY29sIDwgcmlnaHRDb2w7IGNvbCArPSAxKSB7XG4gICAgICAgIHRoaXMud2FsbHNbcm93XVtjb2xdID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IGFsbCB2ZXJ0aWNlcyBpbiB0aGUgbWF6ZVxuICAgKi9cbiAgcHJpdmF0ZSBnZXRBbGxWZXJ0aWNlcygpOiBWZXJ0ZXhbXSB7XG4gICAgY29uc3QgdmVydGljZXM6IFZlcnRleFtdID0gW107XG4gICAgZm9yIChsZXQgcm93ID0gMTsgcm93IDwgdGhpcy5oZWlnaHQgLSAxOyByb3cgKz0gMSkge1xuICAgICAgZm9yIChsZXQgY29sID0gMTsgY29sIDwgdGhpcy53aWR0aCAtIDE7IGNvbCArPSAxKSB7XG4gICAgICAgIGlmICghdGhpcy53YWxsc1tyb3ddW2NvbF0pIHtcbiAgICAgICAgICB2ZXJ0aWNlcy5wdXNoKHsgcm93LCBjb2wgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdmVydGljZXM7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydCB0aGUgdmVydGljZXMgaW50byB3YWxscyBpbiB0aGUgbWF6ZSBieSBjaGlzZWxpbmcgZmxvb3IgdGlsZXNcbiAgICpcbiAgICogQHBhcmFtIHZlcnRpY2VzIE1hcCBvZiB2ZXJ0aWNlcyB0byBjb252ZXJ0XG4gICAqL1xuICBwcml2YXRlIHBsYWNlVmVydGV4V2FsbHModmVydGljZXM6IE1hcDxWZXJ0ZXgsIFZlcnRleFtdPikge1xuICAgIGZvciAoY29uc3QgW25vZGUsIG5laWdoYm9yc10gb2YgdmVydGljZXMpIHtcbiAgICAgIGZvciAoY29uc3QgbmVpZ2hib3Igb2YgbmVpZ2hib3JzKSB7XG4gICAgICAgIGNvbnN0IG1pZHBvaW50Um93ID0gbm9kZS5yb3cgKyAobmVpZ2hib3Iucm93IC0gbm9kZS5yb3cpIC8gMjtcbiAgICAgICAgY29uc3QgbWlkcG9pbnRDb2wgPSBub2RlLmNvbCArIChuZWlnaGJvci5jb2wgLSBub2RlLmNvbCkgLyAyO1xuICAgICAgICB0aGlzLndhbGxzW21pZHBvaW50Um93XVttaWRwb2ludENvbF0gPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBHZW5lcmF0ZSBhIHBlcmZlY3QgbWF6ZS5cbiAqIENvZGUgaXMgZnJvbTogaHR0cHM6Ly9naXRodWIuY29tL3NlbWlicmFuL21hemUvYmxvYi9tYXN0ZXIvaW5kZXguanNcbiAqXG4gKiBAcGFyYW0gbm9kZXMgTGlzdCBvZiBhbGwgbm9kZXNcbiAqIEBwYXJhbSBhZGphY2VudCBGdW5jdGlvbiB0aGF0IHJldHVybnMgdHJ1ZSBpZiB0d28gbm9kZXMgYXJlIGFkamFjZW50LCBvciBmYWxzZSBvdGhlcndpc2VcbiAqIEBwYXJhbSBjaG9vc2UgRnVuY3Rpb24gdG8gcGljayBhIHJhbmRvbSBub2RlXG4gKiBAcmV0dXJucyBQZXJmZWN0IE1hemVcbiAqL1xuZnVuY3Rpb24gZ2VuZXJhdGU8VD4obm9kZXM6IFRbXSwgYWRqYWNlbnQ6IChhOiBULCBiOiBUKSA9PiBib29sZWFuLCBjaG9vc2U6IChub2RlczogVFtdKSA9PiBUKTogTWFwPFQsIFRbXT4ge1xuICBsZXQgbm9kZSA9IGNob29zZShub2Rlcyk7XG4gIGNvbnN0IHN0YWNrID0gW25vZGVdO1xuICBjb25zdCBtYXplID0gbmV3IE1hcDxULCBUW10+KCk7XG5cbiAgZm9yIChjb25zdCBuIG9mIG5vZGVzKSB7XG4gICAgbWF6ZS5zZXQobiwgW10pO1xuICB9XG5cbiAgd2hpbGUgKG5vZGUpIHtcbiAgICBjb25zdCBuZWlnaGJvcnMgPSBub2Rlcy5maWx0ZXIoKG90aGVyKSA9PiAhbWF6ZS5nZXQob3RoZXIpLmxlbmd0aCAmJiBhZGphY2VudChub2RlLCBvdGhlcikpO1xuICAgIGlmIChuZWlnaGJvcnMubGVuZ3RoKSB7XG4gICAgICBjb25zdCBuZWlnaGJvciA9IGNob29zZShuZWlnaGJvcnMpO1xuICAgICAgbWF6ZS5nZXQobm9kZSkucHVzaChuZWlnaGJvcik7XG4gICAgICBtYXplLmdldChuZWlnaGJvcikucHVzaChub2RlKTtcbiAgICAgIHN0YWNrLnVuc2hpZnQobmVpZ2hib3IpO1xuICAgICAgbm9kZSA9IG5laWdoYm9yO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGFjay5zaGlmdCgpO1xuICAgICAgbm9kZSA9IHN0YWNrWzBdO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBtYXplO1xufVxuXG4vKipcbiAqIFRlc3QgaWYgdHdvIHZlcnRpY2VzIGFyZSBhZGphY2VudCBpbiB0aGUgbWF6ZVxuICovXG5mdW5jdGlvbiBpc0FkamFjZW50KGE6IFZlcnRleCwgYjogVmVydGV4KSB7XG4gIHJldHVybiBNYXRoLmFicyhiLnJvdyAtIGEucm93KSArIE1hdGguYWJzKGIuY29sIC0gYS5jb2wpID09PSAyO1xufVxuIiwiaW1wb3J0IHsgQUxMX01BSU5fRE9PUlMsIERPT1JfSVRFTVMsIE1hemVPYmplY3QgfSBmcm9tICdhcmVhcy9NYXplT2JqZWN0JztcbmltcG9ydCB7IHBpY2tSYW5kb21BcnJheSB9IGZyb20gJ2VuZ2luZS9oZWxwZXJzJztcbmltcG9ydCB7IEhpc3RvZ3JhbVNldCB9IGZyb20gJy4vSGlzdG9ncmFtU2V0JztcbmltcG9ydCB7IFRyZWVOb2RlIH0gZnJvbSAnLi9UcmVlTm9kZSc7XG5pbXBvcnQgeyBWZXJ0ZXhTZXQgfSBmcm9tICcuL1ZlcnRleFNldCc7XG5cbmNvbnN0IElURU1fTk9ERVMgPSBuZXcgU2V0KFtcbiAgTWF6ZU9iamVjdC5SZWRLZXksXG4gIE1hemVPYmplY3QuWWVsbG93S2V5LFxuICBNYXplT2JqZWN0LkdyZWVuS2V5LFxuICBNYXplT2JqZWN0LkJsdWVLZXksXG4gIE1hemVPYmplY3QuTGV2ZXIsXG4gIE1hemVPYmplY3QuQmF0dGVyeSxcbiAgTWF6ZU9iamVjdC5BQm94LFxuICBNYXplT2JqZWN0LkJCb3gsXG4gIE1hemVPYmplY3QuQ0JveCxcbl0pO1xuXG5jb25zdCBDT0xPUkVEX0RPT1JTID0gbmV3IFNldChbTWF6ZU9iamVjdC5SZWREb29yLCBNYXplT2JqZWN0LlllbGxvd0Rvb3IsIE1hemVPYmplY3QuR3JlZW5Eb29yLCBNYXplT2JqZWN0LkJsdWVEb29yXSk7XG5cbmNvbnN0IFdJTkRPV19TSVpFID0gMjtcblxuLyoqXG4gKiBHZW5lcmF0ZSBhbGwgb2YgdGhlIHNpZGUgcGF0aHMgZm9yIHRoaXMgbWF6ZVxuICovXG5leHBvcnQgY2xhc3MgU2lkZVBhdGhzR2VuZXJhdG9yIHtcbiAgcHJpdmF0ZSByb290OiBUcmVlTm9kZTtcblxuICBwcml2YXRlIG1haW5Ob2RlczogSGlzdG9ncmFtU2V0O1xuICBwcml2YXRlIHNpZGVOb2RlRG9vcnM6IEhpc3RvZ3JhbVNldDsgLyogT25seSBzdG9yZXMgZG9vcnMgKi9cbiAgcHJpdmF0ZSBtaW5EZXB0aDogbnVtYmVyO1xuXG4gIC8vIEZpbmQgdGhlIGNvbG9yZWQgZG9vciBpbnN0YW5jZXMgKFNwZWNpYWwgY2FzZSlcbiAgcHJpdmF0ZSBjb2xvcmVkRG9vcjogTWFwPE1hemVPYmplY3QsIFRyZWVOb2RlPiA9IG5ldyBNYXAoKTtcblxuICBjb25zdHJ1Y3Rvcihyb290OiBUcmVlTm9kZSkge1xuICAgIHRoaXMucm9vdCA9IHJvb3Q7XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhdGUgdGhlIHNpZGUgcGF0aHMsIG11dGF0ZXMgdGhlIGludGVybmFsIG5vZGVzLlxuICAgKiBUaGlzIG1ldGhvZCBzaG91bGQgb25seSBiZSBjYWxsZWQgb25jZSEhIVxuICAgKi9cbiAgcHVibGljIGdlbmVyYXRlU2lkZVBhdGhzKCk6IHZvaWQge1xuICAgIHRoaXMubWFpbk5vZGVzID0gbmV3IEhpc3RvZ3JhbVNldCgpO1xuICAgIHRoaXMuc2lkZU5vZGVEb29ycyA9IG5ldyBIaXN0b2dyYW1TZXQodGhpcy5yb290KTtcblxuICAgIHRoaXMucHJvY2Vzc0l0ZW1Ob2Rlcyh0aGlzLnJvb3QpO1xuICAgIHRoaXMubWluRGVwdGggPSBNYXRoLm1heCgwLCB0aGlzLnNpZGVOb2RlRG9vcnMuaGlnaGVzdERlcHRoIC0gTWF0aC5mbG9vcihXSU5ET1dfU0laRSAvIDIpKTtcblxuICAgIGRvIHtcbiAgICAgIHRoaXMuYWRkU2luZ2xlUmFuZG9tRG9vcigpO1xuICAgICAgdGhpcy5zaGlmdE1pbkRlcHRoKCk7XG4gICAgfSB3aGlsZSAodGhpcy5taW5EZXB0aCA+IDApO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbXB1dGUgdGhlIG5vZGVzIG9uIHRoZSBtYWluIHBhdGggYW5kIG9uIHRoZSBzdWIgcGF0aHNcbiAgICovXG4gIHByaXZhdGUgcHJvY2Vzc0l0ZW1Ob2Rlcyhub2RlOiBUcmVlTm9kZSk6IHZvaWQge1xuICAgIHRoaXMubG9hZEl0ZW1Ob2Rlc1JlY3Vyc2l2ZShub2RlKTtcblxuICAgIC8vIFJlbW92ZSBhbnkgaXRlbXMgZnJvbSB0aGUgbWFpbiBub2Rlc1xuICAgIGZvciAoY29uc3Qgbm9kZSBvZiB0aGlzLm1haW5Ob2Rlcy5nZXRBbGxOb2RlcygpKSB7XG4gICAgICBpZiAobm9kZS5vYmplY3QgIT09IE1hemVPYmplY3QuRW1wdHkpIHtcbiAgICAgICAgdGhpcy5tYWluTm9kZXMucmVtb3ZlKG5vZGUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFJlbW92ZSBhbnkgbm9uLWRvb3JzIGFuZCBsZWZ0b3ZlciBpdGVtcyBmcm9tIHRoZSBzaWRlIG5vZGVzXG4gICAgZm9yIChjb25zdCBub2RlIG9mIHRoaXMuc2lkZU5vZGVEb29ycy5nZXRBbGxOb2RlcygpKSB7XG4gICAgICBpZiAobm9kZS5vYmplY3QgIT09IE1hemVPYmplY3QuRW1wdHkpIHtcbiAgICAgICAgdGhpcy5zaWRlTm9kZURvb3JzLnJlbW92ZShub2RlKTtcbiAgICAgIH1cbiAgICAgIGlmIChub2RlLnJvdyAlIDIgIT09IDAgJiYgbm9kZS5jb2x1bW4gJSAyICE9PSAwKSB7XG4gICAgICAgIHRoaXMuc2lkZU5vZGVEb29ycy5yZW1vdmUobm9kZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlY3Vyc2l2ZWx5IGxvYWQgYWxsIGl0ZW0gbm9kZXMgaW50byB0aGUgbWF6ZVxuICAgKi9cbiAgcHJpdmF0ZSBsb2FkSXRlbU5vZGVzUmVjdXJzaXZlKG5vZGU6IFRyZWVOb2RlKTogdm9pZCB7XG4gICAgLy8gVGhlIG1haW4gcGF0aCBpcyBkZWZpbmVkIGJ5IGFsbCBpdGVtIG5vZGVzIHRvIHRoZSByb290XG4gICAgaWYgKElURU1fTk9ERVMuaGFzKG5vZGUub2JqZWN0KSkge1xuICAgICAgdGhpcy5tYWluTm9kZXMuYWRkUGFyZW50cyhub2RlKTtcbiAgICAgIHRoaXMuc2lkZU5vZGVEb29ycy5yZW1vdmVQYXJlbnRzKG5vZGUpO1xuICAgIH1cblxuICAgIC8vIEhhbmRsZSB0aGUgY29sb3JlZCBkb29yc1xuICAgIC8vICBUaGVyZSBzaG91bGQgb25seSBiZSBvbmUgb2YgZWFjaCBjb2xvcmVkIGRvb3IgaW4gdGhlIG1haW4gcGF0aFxuICAgIGlmIChDT0xPUkVEX0RPT1JTLmhhcyhub2RlLm9iamVjdCkpIHtcbiAgICAgIHRoaXMuY29sb3JlZERvb3Iuc2V0KG5vZGUub2JqZWN0LCBub2RlKTtcbiAgICB9XG5cbiAgICAvLyBSZWN1cnNlIVxuICAgIGZvciAoY29uc3QgY2hpbGQgb2Ygbm9kZS5jaGlsZHJlbikge1xuICAgICAgdGhpcy5sb2FkSXRlbU5vZGVzUmVjdXJzaXZlKGNoaWxkKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQWRkIGEgc2luZ2xlIHJhbmRvbSBkb29yIGludG8gdGhlIG1hemUuXG4gICAqL1xuICBwcml2YXRlIGFkZFNpbmdsZVJhbmRvbURvb3IoKTogdm9pZCB7XG4gICAgLy8gMS4gUGljayBhIHJhbmRvbSB0eXBlIGZvciB0aGUgZG9vclxuICAgIGNvbnN0IGRvb3JUeXBlID0gcGlja1JhbmRvbUFycmF5KEFMTF9NQUlOX0RPT1JTKTtcblxuICAgIC8vIDIuIFBpY2sgYSByYW5kb20gbG9jYXRpb24gZm9yIHRoZSBkb29yLCBvciBhYm9ydCBvbiBmYWlsdXJlXG4gICAgLy8gIEhhbmRsZXMgYSBzcGVjaWFsIGNhc2UgZm9yIGNvbG9yZWQgZG9vcnNcbiAgICAvLyAgQWxzbyBwdXQgYW4gZW5lcmd5IG9iamVjdCBiZWhpbmQgdGhlIGRvb3JcbiAgICBjb25zdCBkb29yTG9jYXRpb24gPSB0aGlzLnBpY2tSYW5kb21Eb29yTG9jYXRpb24odGhpcy5jb2xvcmVkRG9vci5nZXQoZG9vclR5cGUpKTtcbiAgICBpZiAoZG9vckxvY2F0aW9uID09PSBudWxsKSB7XG4gICAgICByZXR1cm47IC8vIE5vIGRvb3IgZm91bmQsIGFib3J0IVxuICAgIH1cbiAgICB0aGlzLnNpZGVOb2RlRG9vcnMucmVtb3ZlUmVjdXJzaXZlKGRvb3JMb2NhdGlvbik7XG5cbiAgICBkb29yTG9jYXRpb24ub2JqZWN0ID0gZG9vclR5cGU7XG4gICAgU2lkZVBhdGhzR2VuZXJhdG9yLnB1dEVuZXJneUJlaGluZChkb29yTG9jYXRpb24pO1xuXG4gICAgLy8gMy4gR2V0IHRoZSBpdGVtcyBuZWVkZWQgdG8gb3BlbiB0aGUgZG9vcnNcbiAgICAvLyAgVGhlIHByZXZpb3VzIHN0ZXAgYWxyZWFkeSBhZGRlZCBhbGwgcmV1c2FibGUgaXRlbXMsIHNvIHRoaXMgc3RlcCBjYW4gYmUgc2tpcHBlZFxuICAgIGNvbnN0IGl0ZW1UeXBlcyA9IERPT1JfSVRFTVNbZG9vclR5cGVdO1xuICAgIGlmICh0eXBlb2YgaXRlbVR5cGVzLm9uZVRpbWVJdGVtID09PSAndW5kZWZpbmVkJyB8fCB0eXBlb2YgaXRlbVR5cGVzLnJldXNlSXRlbSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybjsgLyogVGhlIHByZXZpb3VzIGFsZ29yaXRobSBhbHJlYWR5IGFkZGVkIGFsbCByZXVzYWJsZSBhbGdvcml0aG1zLCBzbyBpZ25vcmUgKi9cbiAgICB9XG5cbiAgICAvLyA0LiBQaWNrIGEgbG9jYXRpb24gZm9yIHRoZSBpdGVtLCBvciBhYm9ydCBvbiBmYWlsdXJlXG4gICAgY29uc3Qgb25lVGltZUl0ZW0gPSBpdGVtVHlwZXMub25lVGltZUl0ZW07XG4gICAgY29uc3QgaXRlbUxvY2F0aW9uID0gdGhpcy5tYWluTm9kZXMucGlja1JhbmRvbSgwLCB0aGlzLm1haW5Ob2Rlcy5oaWdoZXN0RGVwdGgpO1xuICAgIGlmIChpdGVtTG9jYXRpb24gPT09IG51bGwpIHtcbiAgICAgIGRvb3JMb2NhdGlvbi5vYmplY3QgPSBNYXplT2JqZWN0LkVtcHR5O1xuICAgICAgcmV0dXJuOyAvLyBObyBpdGVtIGxvY2F0aW9uIGZvdW5kLCBhYm9ydCFcbiAgICB9XG4gICAgaXRlbUxvY2F0aW9uLm9iamVjdCA9IG9uZVRpbWVJdGVtO1xuICAgIHRoaXMubWFpbk5vZGVzLnJlbW92ZShpdGVtTG9jYXRpb24pOyAvKiBPbmx5IHJlbW92ZXMgb25lIG5vZGUgKi9cbiAgfVxuXG4gIC8qKlxuICAgKiBEb29ycyBjYW4gb25seSBnbyBpbiBzcGVjaWZpYyBsb2NhdGlvbnNcbiAgICovXG4gIHByaXZhdGUgcGlja1JhbmRvbURvb3JMb2NhdGlvbihwYXJlbnQ/OiBUcmVlTm9kZSk6IFRyZWVOb2RlIHwgbnVsbCB7XG4gICAgY29uc3QgYWxsQWxsb3dlZCA9IG5ldyBWZXJ0ZXhTZXQoKTtcbiAgICBhbGxBbGxvd2VkLmFkZEFsbCh0aGlzLnNpZGVOb2RlRG9vcnMuZ2V0QWxsTm9kZXNCeSh0aGlzLm1pbkRlcHRoLCB0aGlzLm1pbkRlcHRoICsgV0lORE9XX1NJWkUsIDIpKTtcblxuICAgIC8vIElmIHNwZWNpZmllZCwgbm9kZXMgbXVzdCBiZSBhIHBhcmVudCBvZiB0aGUgcGFyZW50IG5vZGUuXG4gICAgLy9cbiAgICAvLyBUaGlzIGZpeGVzIGEgc3BlY2lhbCBjYXNlOlxuICAgIC8vICAgRm9yIGNvbG9yZWQgZG9vcnMsIHRoZSBjb2xvcmVkIGRvb3IgaW4gdGhlIG1haW4gcGF0aCBtdXN0IGJlIHRoZSBwYXJlbnRcbiAgICAvLyAgIE90aGVyd2lzZSwgdGhlIGNvbG9yZWQga2V5IGNvdWxkIG9wZW4gdGhlIHNpZGUgZG9vciBhbmQgbWFrZSB0aGUgbWF6ZSBpbXBvc3NpYmxlXG4gICAgaWYgKHR5cGVvZiBwYXJlbnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBmb3IgKGNvbnN0IG5vZGUgb2YgYWxsQWxsb3dlZC5nZXRBbGxOb2RlcygpKSB7XG4gICAgICAgIGlmICghU2lkZVBhdGhzR2VuZXJhdG9yLmlzUGFyZW50T2YocGFyZW50LCBub2RlKSkge1xuICAgICAgICAgIGFsbEFsbG93ZWQucmVtb3ZlKG5vZGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGFsbEFsbG93ZWQucGlja0FueVJhbmRvbSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRlc3QgaWYgYSBub2RlIGlzIHRoZSBwYXJlbnQgb2YgdGhlIG90aGVyIG5vZGVcbiAgICpcbiAgICogQHBhcmFtIHBhcmVudCBFeHBlY3RlZCBwYXJlbnQgbm9kZVxuICAgKiBAcGFyYW0gbm9kZSBOb2RlIGJlaW5nIHRlc3RlZFxuICAgKi9cbiAgcHJpdmF0ZSBzdGF0aWMgaXNQYXJlbnRPZihwYXJlbnQ6IFRyZWVOb2RlLCBub2RlOiBUcmVlTm9kZSk6IGJvb2xlYW4ge1xuICAgIGxldCB0ZW1wUGFyZW50ID0gbm9kZS5wYXJlbnQ7XG4gICAgd2hpbGUgKHRlbXBQYXJlbnQgIT09IG51bGwpIHtcbiAgICAgIGlmICh0ZW1wUGFyZW50ID09PSBwYXJlbnQpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICB0ZW1wUGFyZW50ID0gdGVtcFBhcmVudC5wYXJlbnQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEluY3JlYXNlIHRoZSBtaW5pbXVtIGRlcHRoIHNvIGl0ZW1zIGFyZSAqYXBwcm94aW1hdGVseSogdW5pZm9ybWx5IGRpc3RyaWJ1dGVkIGluIHRoZSBtYXplXG4gICAqL1xuICBwcml2YXRlIHNoaWZ0TWluRGVwdGgoKTogdm9pZCB7XG4gICAgdGhpcy5taW5EZXB0aCA9IE1hdGgubWF4KDAsIHRoaXMubWluRGVwdGggLSAxKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYW4gZW5lcmd5IG9yYiB0byBhIHJhbmRvbSBjaGlsZCBvZiB0aGUgZG9vciBub2RlXG4gICAqL1xuICBwcml2YXRlIHN0YXRpYyBwdXRFbmVyZ3lCZWhpbmQoZG9vck5vZGU6IFRyZWVOb2RlKTogdm9pZCB7XG4gICAgLy8gRmluZCBhdmFpbGFibGUgc2xvdHMgYmVoaW5kIHRoZSBkb29yXG4gICAgY29uc3QgYXZhaWxhYmxlTm9kZXMgPSBuZXcgVmVydGV4U2V0KGRvb3JOb2RlKTtcbiAgICBhdmFpbGFibGVOb2Rlcy5yZW1vdmUoZG9vck5vZGUpO1xuICAgIGZvciAoY29uc3Qgbm9kZSBvZiBhdmFpbGFibGVOb2Rlcy5nZXRBbGxOb2RlcygpKSB7XG4gICAgICBpZiAobm9kZS5vYmplY3QgIT09IE1hemVPYmplY3QuRW1wdHkpIHtcbiAgICAgICAgLy8gRG9uJ3QgcHV0IHR3byBiZWhpbmQgdGhlIHNhbWUgZG9vclxuICAgICAgICBhdmFpbGFibGVOb2Rlcy5yZW1vdmVSZWN1cnNpdmUobm9kZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgZW5lcmd5TG9jYXRpb24gPSBhdmFpbGFibGVOb2Rlcy5waWNrQW55UmFuZG9tKCk7XG4gICAgaWYgKGVuZXJneUxvY2F0aW9uICE9PSBudWxsKSB7XG4gICAgICBlbmVyZ3lMb2NhdGlvbi5vYmplY3QgPSBNYXplT2JqZWN0LkVuZXJneTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IE1hemVPYmplY3QgfSBmcm9tICdhcmVhcy9NYXplT2JqZWN0JztcblxuLyoqXG4gKiBTaW5nbGUgdHJlZSBub2RlIGluIHRoZSBtYXplXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVHJlZU5vZGUge1xuICByb3c6IG51bWJlcjtcbiAgY29sdW1uOiBudW1iZXI7XG4gIG9iamVjdDogTWF6ZU9iamVjdDtcblxuICBwYXJlbnQ6IFRyZWVOb2RlIHwgbnVsbDtcbiAgY2hpbGRyZW46IFRyZWVOb2RlW107XG4gIGRlcHRoOiBudW1iZXI7XG4gIGFic29sdXRlRGVwdGg6IG51bWJlcjtcbn1cblxuLy8gVXAsIGRvd24sIGxlZnQsIHJpZ2h0IGRlbHRhc1xuY29uc3QgQUxMX0RJUkVDVElPTlM6IFtudW1iZXIsIG51bWJlcl1bXSA9IFtcbiAgWy0xLCAwXSxcbiAgWzEsIDBdLFxuICBbMCwgLTFdLFxuICBbMCwgMV0sXG5dO1xuXG4vKipcbiAqIENvbnZlcnQgYSBib29sZWFuIHdhbGwgbWF6ZSB0byBhIHRyZWUgc3RydWN0dXJlLlxuICpcbiAqIFRoaXMgbWV0aG9kIGFzc3VtZXMgdGhhdCB0aGUgbWF6ZSB3YWxscyBhcmUgcGVyZmVjdGx5IGNvbm5lY3RlZCwgb3IgZWxzZSBpdCB3aWxsIGxvb3AgZm9yZXZlci5cbiAqXG4gKiBAcGFyYW0gbWF6ZSBUaGUgd2FsbHMgaW5zaWRlIHRoZSBtYXplXG4gKiBAcGFyYW0gcm9vdFJvdyBSb3cgZm9yIHRoZSByb290IG5vZGVcbiAqIEBwYXJhbSByb290Q29sIENvbHVtbiBmb3IgdGhlIHJvb3Qgbm9kZVxuICovXG5leHBvcnQgZnVuY3Rpb24gYnVpbGRUcmVlTm9kZXMobWF6ZTogYm9vbGVhbltdW10sIHJvb3RSb3c6IG51bWJlciwgcm9vdENvbDogbnVtYmVyKTogVHJlZU5vZGUge1xuICByZXR1cm4gYnVpbGRUcmVlTm9kZXNSZWN1cnNlKG1hemUsIHJvb3RSb3csIHJvb3RDb2wsIDAsIDAsIE5hTiwgTmFOKTtcbn1cblxuLy8vIFJlY3Vyc2l2ZSBtZXRob2QgdG8gY2hlY2sgZm9yIHByZS12aXNpdGVkIHRpbGVzIGFuZCBoYW5kbGUgdGhlIGRlcHRoXG5mdW5jdGlvbiBidWlsZFRyZWVOb2Rlc1JlY3Vyc2UoXG4gIG1hemU6IGJvb2xlYW5bXVtdLFxuICByb290Um93OiBudW1iZXIsXG4gIHJvb3RDb2w6IG51bWJlcixcbiAgZGVwdGg6IG51bWJlcixcbiAgYWJzb2x1dGVEZXB0aDogbnVtYmVyLFxuICBsYXN0Um93OiBudW1iZXIsXG4gIGxhc3RDb2w6IG51bWJlcixcbik6IFRyZWVOb2RlIHtcbiAgY29uc3Qgcm9vdE5vZGU6IFRyZWVOb2RlID0ge1xuICAgIHJvdzogcm9vdFJvdyxcbiAgICBjb2x1bW46IHJvb3RDb2wsXG4gICAgb2JqZWN0OiBNYXplT2JqZWN0LkVtcHR5LFxuICAgIHBhcmVudDogbnVsbCxcbiAgICBjaGlsZHJlbjogW10sXG4gICAgZGVwdGgsXG4gICAgYWJzb2x1dGVEZXB0aCxcbiAgfTtcblxuICAvLyBGaW5kIHRoZSBwb3NzaWJsZSBjaGlsZHJlbiBkaXJlY3Rpb25zIGZvciB0aGlzIG5vZGVcbiAgLy9cbiAgLy8gQSBkaXJlY3Rpb24gaXMgYWxsb3dlZCBpZjpcbiAgLy8gICAgMS4gSXQgaXNuJ3QgYSB3YWxsXG4gIC8vICAgIDIuIFdlIGhhdmVuJ3QgcHJldmlvdXNseSB2aXNpdGVkIHRoaXMgZGlyZWN0aW9uXG4gIGNvbnN0IGNoaWxkRGlyZWN0aW9ucyA9IEFMTF9ESVJFQ1RJT05TLm1hcCgoW2RlbHRhUm93LCBkZWx0YUNvbF0pID0+IFtyb290Um93ICsgZGVsdGFSb3csIHJvb3RDb2wgKyBkZWx0YUNvbF0pXG4gICAgLmZpbHRlcigoW25ld1JvdywgbmV3Q29sXSkgPT4gIW1hemVbbmV3Um93XVtuZXdDb2xdKVxuICAgIC5maWx0ZXIoKFtuZXdSb3csIG5ld0NvbF0pID0+ICEobmV3Um93ID09PSBsYXN0Um93ICYmIG5ld0NvbCA9PT0gbGFzdENvbCkpO1xuXG4gIC8vIE9ubHkgY29uc2lkZXIgaXQgYSBuZXcgZGVwdGggYXQgZWFjaCBcImZvcmtcIiBpbiB0aGUgbWF6ZVxuICBjb25zdCBuZXdEZXB0aCA9IGRlcHRoICsgTnVtYmVyKGNoaWxkRGlyZWN0aW9ucy5sZW5ndGggPiAxKTtcblxuICAvLyBSZWN1cnNpdmVseSBhZGQgYWxsIGNoaWxkcmVuIHRvIHRoZSB0cmVlIHVzaW5nIGRlcHRoLWZpcnN0IHNlYXJjaFxuICBmb3IgKGNvbnN0IFtuZXdSb3csIG5ld0NvbF0gb2YgY2hpbGREaXJlY3Rpb25zKSB7XG4gICAgY29uc3QgY2hpbGQgPSBidWlsZFRyZWVOb2Rlc1JlY3Vyc2UobWF6ZSwgbmV3Um93LCBuZXdDb2wsIG5ld0RlcHRoLCBhYnNvbHV0ZURlcHRoICsgMSwgcm9vdFJvdywgcm9vdENvbCk7XG4gICAgY2hpbGQucGFyZW50ID0gcm9vdE5vZGU7XG4gICAgcm9vdE5vZGUuY2hpbGRyZW4ucHVzaChjaGlsZCk7XG4gIH1cblxuICByZXR1cm4gcm9vdE5vZGU7XG59XG4iLCJpbXBvcnQgeyBNYXplT2JqZWN0IH0gZnJvbSAnYXJlYXMvTWF6ZU9iamVjdCc7XG5pbXBvcnQgeyBJbnZlcnNlVG9nZ2xlR2VuZXJhdG9yIH0gZnJvbSAnLi9JbnZlcnNlVG9nZ2xlR2VuZXJhdG9yJztcbmltcG9ydCB7IE1haW5QYXRoR2VuZXJhdG9yIH0gZnJvbSAnLi9NYWluUGF0aEdlbmVyYXRvcic7XG5pbXBvcnQgeyBNYXplV2FsbHNHZW5lcmF0b3IgfSBmcm9tICcuL01hemVXYWxsc0dlbmVyYXRvcic7XG5pbXBvcnQgeyBTaWRlUGF0aHNHZW5lcmF0b3IgfSBmcm9tICcuL1NpZGVQYXRoc0dlbmVyYXRvcic7XG5pbXBvcnQgeyBidWlsZFRyZWVOb2RlcywgVHJlZU5vZGUgfSBmcm9tICcuL1RyZWVOb2RlJztcbmltcG9ydCB7IFZlcnRleFNldCB9IGZyb20gJy4vVmVydGV4U2V0JztcblxuLyoqXG4gKiBQcm9jZWR1cmFsIGFsZ29yaXRobSB0byBnZW5lcmF0ZSByYW5kb20gbWF6ZXNcbiAqL1xuZXhwb3J0IGNsYXNzIE1hemVHZW5lcmF0b3Ige1xuICAvLyBNYXplIHBhcmFtZXRlcnMgdGhhdCBjYW4gYmUgdmFyaWVkXG4gIHB1YmxpYyB3aWR0aDogbnVtYmVyO1xuICBwdWJsaWMgaGVpZ2h0OiBudW1iZXI7XG4gIHB1YmxpYyBjZW50ZXJUZW1wbGF0ZTogTWF6ZU9iamVjdFtdW107XG4gIHB1YmxpYyBudW1FbmVyZ3kgPSAyMDtcbiAgcHVibGljIG51bURyb25lcyA9IDEwO1xuICBwdWJsaWMgbnVtUm9ja3MgPSAxNTtcblxuICBwcml2YXRlIGVtcHR5U3BvdHM6IFZlcnRleFNldDtcbiAgcHJpdmF0ZSBlbmVyZ3lTcG90czogVmVydGV4U2V0O1xuXG4gIGNvbnN0cnVjdG9yKHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCBjZW50ZXJUZW1wbGF0ZTogTWF6ZU9iamVjdFtdW10pIHtcbiAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgdGhpcy5jZW50ZXJUZW1wbGF0ZSA9IGNlbnRlclRlbXBsYXRlO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXQgdGVtcGxhdGVXaWR0aCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmNlbnRlclRlbXBsYXRlWzBdLmxlbmd0aDtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0IHRlbXBsYXRlSGVpZ2h0KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuY2VudGVyVGVtcGxhdGUubGVuZ3RoO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbXBsaWNhdGVkIG1ldGhvZCB0byBhY3R1YWxseSBnZW5lcmF0ZSB0aGUgbWF6ZVxuICAgKi9cbiAgcHVibGljIGdlbmVyYXRlTWF6ZSgpOiBNYXplT2JqZWN0W11bXSB7XG4gICAgLy8gRmlyc3QsIGdlbmVyYXRlIGEgcmVndWxhciBncmlkIG1hemUsIGJ1dCB3aXRoIHdhbGxzIHdoZXJlIHRoZSB0ZW1wbGF0ZSB3aWxsIGdvXG4gICAgY29uc3QgZ2VuZXJhdG9yID0gbmV3IE1hemVXYWxsc0dlbmVyYXRvcih0aGlzLndpZHRoLCB0aGlzLmhlaWdodCwgdGhpcy50ZW1wbGF0ZVdpZHRoLCB0aGlzLnRlbXBsYXRlSGVpZ2h0KTtcbiAgICBjb25zdCB3YWxscyA9IGdlbmVyYXRvci5nZW5lcmF0ZVJhbmRvbU1hemUoKTtcblxuICAgIC8vIENvbnZlcnQgdGhlIG1hemUgd2FsbHMgaW50byBhIHRyZWVcbiAgICBjb25zdCBbcm9vdFJvdywgcm9vdENvbF0gPSB0aGlzLmdldFJvb3ROb2RlKCk7XG4gICAgY29uc3Qgcm9vdCA9IGJ1aWxkVHJlZU5vZGVzKHdhbGxzLCByb290Um93LCByb290Q29sKTtcblxuICAgIC8vIEdlbmVyYXRlIHRoZSBtYWluIHBhdGggdGhyb3VnaCB0aGUgdHJlZVxuICAgIGNvbnN0IG1haW5QYXRoR2VuZXJhdG9yID0gbmV3IE1haW5QYXRoR2VuZXJhdG9yKHJvb3QpO1xuICAgIG1haW5QYXRoR2VuZXJhdG9yLmdlbmVyYXRlTWFpblBhdGgoKTtcblxuICAgIC8vIEFkZCBzb21lIHNpZGUgcGF0aHMgdG8gdGhlIG1hemVcbiAgICBjb25zdCBzaWRlUGF0aHNHZW5lcmF0b3IgPSBuZXcgU2lkZVBhdGhzR2VuZXJhdG9yKHJvb3QpO1xuICAgIHNpZGVQYXRoc0dlbmVyYXRvci5nZW5lcmF0ZVNpZGVQYXRocygpO1xuXG4gICAgLy8gQWxzbyBhZGQgYSBmZXcgaW52ZXJzZSB0b2dnbGUgZG9vcnMgdG8gbWFrZSBpdCBmdW4hXG4gICAgY29uc3QgaW52ZXJzZVRvZ2dsZUdlbmVyYXRvciA9IG5ldyBJbnZlcnNlVG9nZ2xlR2VuZXJhdG9yKHJvb3QpO1xuICAgIGludmVyc2VUb2dnbGVHZW5lcmF0b3IuZ2VuZXJhdGVJbnZlcnNlVG9nZ2xlRG9vcnMoKTtcblxuICAgIC8vIEFkZCB0aGUgZmV3IHJlbWFpbmluZyBvYmplY3RzIGludG8gdGhlIG1hemVcbiAgICB0aGlzLmNvbXB1dGVFbXB0eVNwb3RzKHJvb3QpO1xuICAgIHRoaXMuYWRkT3JSZW1vdmVFbmVyZ3koKTtcbiAgICB0aGlzLmFkZERyb25lcygpO1xuICAgIHRoaXMuYWRkUm9ja3MoKTtcblxuICAgIC8vIEV4cG9ydCB0aGUgd2FsbHMgYW5kIHRyZWVzIHRvIHRoZSBtYXplIG9iamVjdFxuICAgIGNvbnN0IG9iamVjdHM6IE1hemVPYmplY3RbXVtdID0gd2FsbHMubWFwKChyb3cpID0+IHJvdy5tYXAoKGNvbCkgPT4gKGNvbCA/IE1hemVPYmplY3QuV2FsbCA6IE1hemVPYmplY3QuRW1wdHkpKSk7XG4gICAgdGhpcy5maWxsVGVtcGxhdGUob2JqZWN0cyk7XG4gICAgTWF6ZUdlbmVyYXRvci5sb2FkTm9kZXMob2JqZWN0cywgcm9vdCk7XG5cbiAgICByZXR1cm4gb2JqZWN0cztcbiAgfVxuXG4gIC8qKlxuICAgKiBGaW5kIHRoZSByb290IG5vZGUgZnJvbSB0aGUgdGVtcGxhdGUgYnkgc2VhcmNoaW5nIGZvciB0aGUgYmlnIGRvb3IuXG4gICAqIE9OTFkgc2VhcmNoZXMgdGhlIHBlcmltZXRlciB0byBmaW5kIGl0LlxuICAgKlxuICAgKiBJZiBubyBiaWcgZG9vciBpcyBmb3VuZCwgdGhlbiBpdCByZXR1cm5zIHRoZSBjZW50ZXIgYWJvdmUgdGhlIHRvcCBkb29yLlxuICAgKi9cbiAgcHJpdmF0ZSBnZXRSb290Tm9kZSgpOiBbbnVtYmVyLCBudW1iZXJdIHtcbiAgICBjb25zdCB0b3BSb3cgPSB0aGlzLmdldFRlbXBsYXRlVG9wUm93KCk7XG4gICAgY29uc3QgYm90dG9tUm93ID0gdG9wUm93ICsgdGhpcy50ZW1wbGF0ZUhlaWdodCAtIDE7XG4gICAgY29uc3QgbGVmdENvbCA9IHRoaXMuZ2V0VGVtcGxhdGVMZWZ0Q29sdW1uKCk7XG4gICAgY29uc3QgcmlnaHRDb2wgPSBsZWZ0Q29sICsgdGhpcy50ZW1wbGF0ZVdpZHRoIC0gMTtcblxuICAgIC8vIFRvcCByb3dcbiAgICBmb3IgKGxldCBjb2wgPSAwOyBjb2wgPCB0aGlzLnRlbXBsYXRlV2lkdGg7IGNvbCArPSAxKSB7XG4gICAgICBpZiAodGhpcy5jZW50ZXJUZW1wbGF0ZVswXVtjb2xdID09PSBNYXplT2JqZWN0LkJpZ0Rvb3IpIHtcbiAgICAgICAgcmV0dXJuIFt0b3BSb3cgLSAxLCBsZWZ0Q29sICsgY29sXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBCb3R0b20gcm93XG4gICAgZm9yIChsZXQgY29sID0gMDsgY29sIDwgdGhpcy50ZW1wbGF0ZVdpZHRoOyBjb2wgKz0gMSkge1xuICAgICAgaWYgKHRoaXMuY2VudGVyVGVtcGxhdGVbdGhpcy50ZW1wbGF0ZUhlaWdodCAtIDFdW2NvbF0gPT09IE1hemVPYmplY3QuQmlnRG9vcikge1xuICAgICAgICByZXR1cm4gW2JvdHRvbVJvdyArIDEsIGxlZnRDb2wgKyBjb2xdO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIExlZnQgY29sdW1uXG4gICAgZm9yIChsZXQgcm93ID0gMDsgcm93IDwgdGhpcy50ZW1wbGF0ZUhlaWdodDsgcm93ICs9IDEpIHtcbiAgICAgIGlmICh0aGlzLmNlbnRlclRlbXBsYXRlW3Jvd11bMF0gPT09IE1hemVPYmplY3QuQmlnRG9vcikge1xuICAgICAgICByZXR1cm4gW3RvcFJvdyArIHJvdywgbGVmdENvbCAtIDFdO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFJpZ2h0IGNvbHVtblxuICAgIGZvciAobGV0IHJvdyA9IDA7IHJvdyA8IHRoaXMudGVtcGxhdGVIZWlnaHQ7IHJvdyArPSAxKSB7XG4gICAgICBpZiAodGhpcy5jZW50ZXJUZW1wbGF0ZVtyb3ddW3RoaXMudGVtcGxhdGVXaWR0aCAtIDFdID09PSBNYXplT2JqZWN0LkJpZ0Rvb3IpIHtcbiAgICAgICAgcmV0dXJuIFt0b3BSb3cgKyByb3csIHJpZ2h0Q29sICsgMV07XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQnkgZGVmYXVsdCwgcmV0dXJuIHRoZSBjZW50ZXIgYWJvdmUgdGhlIHRvcCByb3dcbiAgICByZXR1cm4gW3RvcFJvdyAtIDEsIGxlZnRDb2wgKyBNYXRoLmZsb29yKHRoaXMudGVtcGxhdGVXaWR0aCAvIDIpXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb21wdXRlIHRoZSBhYnNvdXRlIHRvcCByb3cgZm9yIHRoZSB0ZW1wbGF0ZVxuICAgKi9cbiAgcHJpdmF0ZSBnZXRUZW1wbGF0ZVRvcFJvdygpOiBudW1iZXIge1xuICAgIHJldHVybiBNYXRoLmZsb29yKCgyICogdGhpcy5oZWlnaHQgKyAxIC0gdGhpcy50ZW1wbGF0ZUhlaWdodCkgLyAyKSArIE51bWJlcighKHRoaXMudGVtcGxhdGVIZWlnaHQgJSAyKSk7XG4gIH1cblxuICAvKipcbiAgICogQ29tcHV0ZSB0aGUgYWJzb3V0ZSBsZWZ0IGNvbHVtbiBmb3IgdGhlIHRlbXBsYXRlXG4gICAqL1xuICBwcml2YXRlIGdldFRlbXBsYXRlTGVmdENvbHVtbigpOiBudW1iZXIge1xuICAgIHJldHVybiBNYXRoLmZsb29yKCgyICogdGhpcy53aWR0aCArIDEgLSB0aGlzLnRlbXBsYXRlV2lkdGgpIC8gMikgKyBOdW1iZXIoISh0aGlzLnRlbXBsYXRlV2lkdGggJSAyKSk7XG4gIH1cblxuICAvKipcbiAgICogRmlsbCBpbiB0aGUgdGVtcGxhdGUgb2JqZWN0cyBpbnRvIHRoZSBtYXplXG4gICAqL1xuICBwcml2YXRlIGZpbGxUZW1wbGF0ZShvYmplY3RzOiBNYXplT2JqZWN0W11bXSk6IHZvaWQge1xuICAgIC8vIFNoaWZ0IGV2ZXJ5dGhpbmcgZG93biBieSBvbmUgaWYgdGhlIGhlaWdodCBpcyBldmVuLCBhbmQgYWRkIGFuIGV4dHJhIHJvdyBvZiB3YWxsc1xuICAgIGNvbnN0IHRvcFJvdyA9IHRoaXMuZ2V0VGVtcGxhdGVUb3BSb3coKTtcbiAgICBjb25zdCBib3R0b21Sb3cgPSB0b3BSb3cgKyB0aGlzLnRlbXBsYXRlSGVpZ2h0O1xuICAgIGNvbnN0IGxlZnRDb2wgPSB0aGlzLmdldFRlbXBsYXRlTGVmdENvbHVtbigpO1xuICAgIGNvbnN0IHJpZ2h0Q29sID0gbGVmdENvbCArIHRoaXMudGVtcGxhdGVXaWR0aDtcblxuICAgIGZvciAobGV0IHJvdyA9IHRvcFJvdzsgcm93IDwgYm90dG9tUm93OyByb3cgKz0gMSkge1xuICAgICAgZm9yIChsZXQgY29sID0gbGVmdENvbDsgY29sIDwgcmlnaHRDb2w7IGNvbCArPSAxKSB7XG4gICAgICAgIG9iamVjdHNbcm93XVtjb2xdID0gdGhpcy5jZW50ZXJUZW1wbGF0ZVtyb3cgLSB0b3BSb3ddW2NvbCAtIGxlZnRDb2xdO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDb21wdXRlIHRoZSBudW1iZXIgb2YgZW1wdHkgc3BvdHMgaW4gdGhlIG1hemVcbiAgICovXG4gIHByaXZhdGUgY29tcHV0ZUVtcHR5U3BvdHMocm9vdDogVHJlZU5vZGUpOiB2b2lkIHtcbiAgICB0aGlzLmVtcHR5U3BvdHMgPSBuZXcgVmVydGV4U2V0KHJvb3QpO1xuICAgIHRoaXMuZW5lcmd5U3BvdHMgPSBuZXcgVmVydGV4U2V0KCk7XG4gICAgZm9yIChjb25zdCBub2RlIG9mIHRoaXMuZW1wdHlTcG90cy5nZXRBbGxOb2RlcygpKSB7XG4gICAgICAvLyBDb3VudCB0aGUgdG90YWwgbnVtYmVyIG9mIGVuZXJneVxuICAgICAgaWYgKG5vZGUub2JqZWN0ID09PSBNYXplT2JqZWN0LkVuZXJneSkge1xuICAgICAgICB0aGlzLmVuZXJneVNwb3RzLmFkZChub2RlKTtcbiAgICAgIH1cblxuICAgICAgLy8gUmVtb3ZlIG5vbi1lbXB0eSBvYmplY3RzXG4gICAgICBpZiAobm9kZS5vYmplY3QgIT09IE1hemVPYmplY3QuRW1wdHkpIHtcbiAgICAgICAgdGhpcy5lbXB0eVNwb3RzLnJlbW92ZShub2RlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQWRkIGFsbCBvZiB0aGUgZW5lcmd5IGJhbGxzIHRvIHRoZSBtYXplLCBvciByYW5kb21seSByZW1vdmUgZXhpc3Rpbmcgb25lcy5cbiAgICogVGhleSBoYXZlIHRoZSBoaWdoZXN0IHByaW9yaXR5IVxuICAgKi9cbiAgcHJpdmF0ZSBhZGRPclJlbW92ZUVuZXJneSgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5lbmVyZ3lTcG90cy5zaXplID4gdGhpcy5udW1FbmVyZ3kpIHtcbiAgICAgIC8vIFJlbW92ZSBleHRyYSBlbmVyZ3kgZnJvbSB0aGUgbWF6ZVxuICAgICAgd2hpbGUgKHRoaXMuZW5lcmd5U3BvdHMuc2l6ZSA+IHRoaXMubnVtRW5lcmd5KSB7XG4gICAgICAgIGNvbnN0IHRvUmVtb3ZlID0gdGhpcy5lbmVyZ3lTcG90cy5waWNrQW55UmFuZG9tKCk7XG4gICAgICAgIGlmICh0b1JlbW92ZSA9PT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVuZXJneVNwb3RzLnJlbW92ZSh0b1JlbW92ZSk7XG4gICAgICAgIHRvUmVtb3ZlLm9iamVjdCA9IE1hemVPYmplY3QuRW1wdHk7XG4gICAgICAgIHRoaXMuZW1wdHlTcG90cy5hZGQodG9SZW1vdmUpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBBZGQgdGhlIG5lZWRlZCBlbmVyZ3kgdG8gdGhlIG1hemVcbiAgICAgIHdoaWxlICh0aGlzLmVuZXJneVNwb3RzLnNpemUgPCB0aGlzLm51bUVuZXJneSkge1xuICAgICAgICBjb25zdCBub2RlID0gdGhpcy5lbXB0eVNwb3RzLnBpY2tBbnlSYW5kb20oKTtcbiAgICAgICAgaWYgKG5vZGUgPT09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm47IC8qIE5vbmUgbGVmdCAqL1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZW1wdHlTcG90cy5yZW1vdmUobm9kZSk7XG4gICAgICAgIG5vZGUub2JqZWN0ID0gTWF6ZU9iamVjdC5FbmVyZ3k7XG4gICAgICAgIHRoaXMuZW5lcmd5U3BvdHMuYWRkKG5vZGUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYWxsIG9mIHRoZSBkcm9uZXMgdG8gdGhlIG1hemUuXG4gICAqL1xuICBwcml2YXRlIGFkZERyb25lcygpOiB2b2lkIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubnVtRHJvbmVzOyBpICs9IDEpIHtcbiAgICAgIGNvbnN0IG5vZGUgPSB0aGlzLmVtcHR5U3BvdHMucGlja0FueVJhbmRvbSgpO1xuICAgICAgaWYgKG5vZGUgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuOyAvKiBOb25lIGxlZnQgKi9cbiAgICAgIH1cbiAgICAgIHRoaXMuZW1wdHlTcG90cy5yZW1vdmUobm9kZSk7XG4gICAgICBub2RlLm9iamVjdCA9IE1hemVPYmplY3QuRHJvbmU7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhbGwgb2YgdGhlIHJvY2tzIHRvIHRoZSBtYXplLlxuICAgKiBUaGV5IGhhdmUgdGhlIGxvd2VzdCBwcmlvcml0eSFcbiAgICovXG4gIHByaXZhdGUgYWRkUm9ja3MoKTogdm9pZCB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm51bVJvY2tzOyBpICs9IDEpIHtcbiAgICAgIGNvbnN0IG5vZGUgPSB0aGlzLmVtcHR5U3BvdHMucGlja0FueVJhbmRvbSgpO1xuICAgICAgaWYgKG5vZGUgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuOyAvKiBOb25lIGxlZnQgKi9cbiAgICAgIH1cbiAgICAgIHRoaXMuZW1wdHlTcG90cy5yZW1vdmUobm9kZSk7XG4gICAgICBub2RlLm9iamVjdCA9IE1hemVPYmplY3QuUm9jaztcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVjdXJzaXZlbHkgbG9hZCB0aGUgbm9kZXMgaW50byB0aGUgbWF6ZVxuICAgKi9cbiAgcHJpdmF0ZSBzdGF0aWMgbG9hZE5vZGVzKG1hemU6IE1hemVPYmplY3RbXVtdLCBub2RlOiBUcmVlTm9kZSk6IHZvaWQge1xuICAgIG1hemVbbm9kZS5yb3ddW25vZGUuY29sdW1uXSA9IG5vZGUub2JqZWN0O1xuICAgIGZvciAoY29uc3QgY2hpbGQgb2Ygbm9kZS5jaGlsZHJlbikge1xuICAgICAgdGhpcy5sb2FkTm9kZXMobWF6ZSwgY2hpbGQpO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgTWFpbkFyZWEgfSBmcm9tICdhcmVhcy9NYWluQXJlYSc7XG5pbXBvcnQgeyBFbnRpdHksIEVudGl0eVN0YXRlIH0gZnJvbSAnZW5naW5lL2VudGl0eSc7XG5pbXBvcnQgeyBTcGhlcmVDb2xsaXNpb25NYXNrIH0gZnJvbSAnZW5naW5lL2NvbGxpc2lvbic7XG5pbXBvcnQgeyByYW5kb21GbG9hdCB9IGZyb20gJ2VuZ2luZS9oZWxwZXJzJztcbmltcG9ydCB7IEludmVudG9yeSB9IGZyb20gJ3Jlc291cmNlcy9JbnZlbnRvcnknO1xuaW1wb3J0IHsgTWF6ZU9iamVjdCB9IGZyb20gJ2FyZWFzL01hemVPYmplY3QnO1xuaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuXG4vKipcbiAqIE1hcCB0aGF0IHlvdSBjb2xsZWN0IHRvIHNob3cgdGhlIEhVRFxuICovXG5leHBvcnQgY2xhc3MgTWF6ZU1hcCBpbXBsZW1lbnRzIEVudGl0eVN0YXRlIHtcbiAgcHVibGljIHJlYWRvbmx5IHRhZ3M6IHN0cmluZ1tdID0gWydtYXAnXTtcblxuICBwcml2YXRlIGVudGl0eTogRW50aXR5PHRoaXM+O1xuICBwcml2YXRlIHJvdzogbnVtYmVyO1xuICBwcml2YXRlIGNvbHVtbjogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKHJvdzogbnVtYmVyLCBjb2x1bW46IG51bWJlcikge1xuICAgIHRoaXMucm93ID0gcm93O1xuICAgIHRoaXMuY29sdW1uID0gY29sdW1uO1xuICB9XG5cbiAgb25DcmVhdGUoZW50aXR5OiBFbnRpdHk8dGhpcz4pOiB2b2lkIHtcbiAgICB0aGlzLmVudGl0eSA9IGVudGl0eTtcblxuICAgIC8vIENvbmZpZ3VyZSB0aGUgb2JqZWN0XG4gICAgY29uc3Qgb2JqZWN0ID0gZW50aXR5LmFyZWEuZ2FtZS5hc3NldHMuZ2V0T2JqZWN0KCdNYXAnKS5jbG9uZSgpIGFzIFRIUkVFLk1lc2g7XG4gICAgb2JqZWN0LnBvc2l0aW9uLmNvcHkoKGVudGl0eS5hcmVhLnN0YXRlIGFzIE1haW5BcmVhKS50aWxlTG9jYXRpb25Ub1Bvc2l0aW9uKHRoaXMucm93LCB0aGlzLmNvbHVtbikpO1xuICAgIG9iamVjdC5wb3NpdGlvbi55ID0gMjtcbiAgICBvYmplY3Qucm90YXRpb24ueSA9IHJhbmRvbUZsb2F0KDAsIDIgKiBNYXRoLlBJKTtcbiAgICBvYmplY3Quc2NhbGUuc2V0KDAuMTI1LCAwLjEyNSwgMC4xMjUpO1xuICAgIG9iamVjdC5jYXN0U2hhZG93ID0gdHJ1ZTtcbiAgICB0aGlzLmVudGl0eS5vYmplY3QgPSBvYmplY3Q7XG5cbiAgICAvLyBDb25maWd1cmUgb2JqZWN0IG1hc2tcbiAgICB0aGlzLmVudGl0eS5tYXNrID0gbmV3IFNwaGVyZUNvbGxpc2lvbk1hc2sodGhpcy5lbnRpdHkub2JqZWN0KTtcbiAgfVxuXG4gIG9uRGVzdHJveSgpOiB2b2lkIHtcbiAgICAvLyBSZW1vdmUgdGhlIG1hcCBmcm9tIHRoZSBtYXplXG4gICAgY29uc3QgbWFpbkFyZWEgPSB0aGlzLmVudGl0eS5hcmVhLnN0YXRlIGFzIE1haW5BcmVhO1xuICAgIG1haW5BcmVhLm1hemVbdGhpcy5yb3ddW3RoaXMuY29sdW1uXSA9IE1hemVPYmplY3QuRW1wdHk7XG5cbiAgICAvLyBVcGRhdGUgdGhlIGludmVudG9yeVxuICAgIGNvbnN0IGludmVudG9yeSA9IHRoaXMuZW50aXR5LmFyZWEuZ2FtZS5yZXNvdXJjZXMuZ2V0UmVzb3VyY2U8SW52ZW50b3J5PignaW52ZW50b3J5Jyk7XG4gICAgaW52ZW50b3J5LmNvbGxlY3RNYXAoKTtcblxuICAgIC8vIFBsYXkgdGhlIHNvdW5kXG4gICAgbWFpbkFyZWEuY29sbGVjdEl0ZW0ucGxheSgpO1xuICB9XG5cbiAgb25TdGVwKCk6IHZvaWQge1xuICAgIC8vIFNwaW4gdG8gbWFrZSB0aGUga2V5IG1vcmUgbm90aWNlYWJsZVxuICAgIHRoaXMuZW50aXR5Lm9iamVjdC5yb3RhdGVZKE1hdGguUEkgLyAyNTYpO1xuXG4gICAgLy8gVGVzdCBmb3IgcGxheWVyIGNvbGxpc2lvbiB0byBjb2xsZWN0IHRoZSBrZXlcbiAgICBjb25zdCBwbGF5ZXIgPSB0aGlzLmVudGl0eS5hcmVhLmZpbmRGaXJzdEVudGl0eSgncGxheWVyJyk7XG4gICAgaWYgKHBsYXllciAhPT0gbnVsbCAmJiB0aGlzLmVudGl0eS5pc0NvbGxpZGluZ1dpdGgocGxheWVyKSkge1xuICAgICAgdGhpcy5lbnRpdHkuZGVzdHJveSgpO1xuICAgIH1cbiAgfVxuXG4gIG9uVGltZXIoX3RpbWVySW5kZXg6IG51bWJlcik6IHZvaWQge31cblxuICBvbkRyYXcoX2cyZDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTogdm9pZCB7fVxufVxuIiwiaW1wb3J0IHsgTWFpbkFyZWEgfSBmcm9tICdhcmVhcy9NYWluQXJlYSc7XG5pbXBvcnQgeyBFbnRpdHksIEVudGl0eVN0YXRlIH0gZnJvbSAnZW5naW5lL2VudGl0eSc7XG5pbXBvcnQgeyBTcGhlcmVDb2xsaXNpb25NYXNrIH0gZnJvbSAnZW5naW5lL2NvbGxpc2lvbic7XG5pbXBvcnQgeyByYW5kb21GbG9hdCB9IGZyb20gJ2VuZ2luZS9oZWxwZXJzJztcbmltcG9ydCB7IEludmVudG9yeSB9IGZyb20gJ3Jlc291cmNlcy9JbnZlbnRvcnknO1xuaW1wb3J0IHsgTWF6ZU9iamVjdCB9IGZyb20gJ2FyZWFzL01hemVPYmplY3QnO1xuaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuXG4vKipcbiAqIEd1biB0aGF0IHlvdSBjb2xsZWN0IHRvIHNob3cgdGhlIEhVRFxuICovXG5leHBvcnQgY2xhc3MgTWF6ZUd1biBpbXBsZW1lbnRzIEVudGl0eVN0YXRlIHtcbiAgcHVibGljIHJlYWRvbmx5IHRhZ3M6IHN0cmluZ1tdID0gWydndW4nXTtcblxuICBwcml2YXRlIGVudGl0eTogRW50aXR5PHRoaXM+O1xuICBwcml2YXRlIHJvdzogbnVtYmVyO1xuICBwcml2YXRlIGNvbHVtbjogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKHJvdzogbnVtYmVyLCBjb2x1bW46IG51bWJlcikge1xuICAgIHRoaXMucm93ID0gcm93O1xuICAgIHRoaXMuY29sdW1uID0gY29sdW1uO1xuICB9XG5cbiAgb25DcmVhdGUoZW50aXR5OiBFbnRpdHk8dGhpcz4pOiB2b2lkIHtcbiAgICB0aGlzLmVudGl0eSA9IGVudGl0eTtcblxuICAgIC8vIENvbmZpZ3VyZSB0aGUgb2JqZWN0XG4gICAgY29uc3Qgb2JqZWN0ID0gZW50aXR5LmFyZWEuZ2FtZS5hc3NldHMuZ2V0T2JqZWN0KCdHdW4nKS5jbG9uZSgpIGFzIFRIUkVFLk1lc2g7XG4gICAgb2JqZWN0LnBvc2l0aW9uLmNvcHkoKGVudGl0eS5hcmVhLnN0YXRlIGFzIE1haW5BcmVhKS50aWxlTG9jYXRpb25Ub1Bvc2l0aW9uKHRoaXMucm93LCB0aGlzLmNvbHVtbikpO1xuICAgIG9iamVjdC5wb3NpdGlvbi55ID0gMjtcbiAgICBvYmplY3Qucm90YXRpb24ueSA9IHJhbmRvbUZsb2F0KDAsIDIgKiBNYXRoLlBJKTtcbiAgICBvYmplY3Quc2NhbGUuc2V0KDAuMzUsIDAuMzUsIDAuMzUpO1xuICAgIGZvciAoY29uc3QgY2hpbGQgb2Ygb2JqZWN0LmNoaWxkcmVuWzBdLmNoaWxkcmVuKSB7XG4gICAgICBjaGlsZC5jYXN0U2hhZG93ID0gdHJ1ZTtcbiAgICB9XG4gICAgdGhpcy5lbnRpdHkub2JqZWN0ID0gb2JqZWN0O1xuXG4gICAgLy8gQ29uZmlndXJlIG9iamVjdCBtYXNrXG4gICAgdGhpcy5lbnRpdHkubWFzayA9IG5ldyBTcGhlcmVDb2xsaXNpb25NYXNrKHRoaXMuZW50aXR5Lm9iamVjdCk7XG4gIH1cblxuICBvbkRlc3Ryb3koKTogdm9pZCB7XG4gICAgLy8gUmVtb3ZlIHRoZSBtYXAgZnJvbSB0aGUgbWF6ZVxuICAgIGNvbnN0IG1haW5BcmVhID0gdGhpcy5lbnRpdHkuYXJlYS5zdGF0ZSBhcyBNYWluQXJlYTtcbiAgICBtYWluQXJlYS5tYXplW3RoaXMucm93XVt0aGlzLmNvbHVtbl0gPSBNYXplT2JqZWN0LkVtcHR5O1xuXG4gICAgLy8gVXBkYXRlIHRoZSBpbnZlbnRvcnlcbiAgICBjb25zdCBpbnZlbnRvcnkgPSB0aGlzLmVudGl0eS5hcmVhLmdhbWUucmVzb3VyY2VzLmdldFJlc291cmNlPEludmVudG9yeT4oJ2ludmVudG9yeScpO1xuICAgIGludmVudG9yeS5jb2xsZWN0R3VuKCk7XG5cbiAgICAvLyBQbGF5IHRoZSBzb3VuZFxuICAgIG1haW5BcmVhLmNvbGxlY3RJdGVtLnBsYXkoKTtcbiAgfVxuXG4gIG9uU3RlcCgpOiB2b2lkIHtcbiAgICAvLyBTcGluIHRvIG1ha2UgdGhlIGtleSBtb3JlIG5vdGljZWFibGVcbiAgICB0aGlzLmVudGl0eS5vYmplY3Qucm90YXRlWShNYXRoLlBJIC8gMjU2KTtcblxuICAgIC8vIFRlc3QgZm9yIHBsYXllciBjb2xsaXNpb24gdG8gY29sbGVjdCB0aGUga2V5XG4gICAgY29uc3QgcGxheWVyID0gdGhpcy5lbnRpdHkuYXJlYS5maW5kRmlyc3RFbnRpdHkoJ3BsYXllcicpO1xuICAgIGlmIChwbGF5ZXIgIT09IG51bGwgJiYgdGhpcy5lbnRpdHkuaXNDb2xsaWRpbmdXaXRoKHBsYXllcikpIHtcbiAgICAgIHRoaXMuZW50aXR5LmRlc3Ryb3koKTtcbiAgICB9XG4gIH1cblxuICBvblRpbWVyKF90aW1lckluZGV4OiBudW1iZXIpOiB2b2lkIHt9XG5cbiAgb25EcmF3KF9nMmQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk6IHZvaWQge31cbn1cbiIsImltcG9ydCB7IE1haW5BcmVhIH0gZnJvbSAnYXJlYXMvTWFpbkFyZWEnO1xuaW1wb3J0IHsgRmFkZUluRWZmZWN0IH0gZnJvbSAnLi9GYWRlSW5FZmZlY3QnO1xuXG4vKipcbiAqIEZhZGUgaW4gdGhlIG1haW4gYXJlYSBhbWJpZW5jZSBzb3VuZHNcbiAqL1xuZXhwb3J0IGNsYXNzIEZhZGVJbk1haW5BcmVhIGV4dGVuZHMgRmFkZUluRWZmZWN0IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBvblRpY2soYWxwaGE6IG51bWJlcik6IHZvaWQge1xuICAgIGNvbnN0IG1haW5BcmVhID0gdGhpcy5lbnRpdHkuYXJlYS5zdGF0ZSBhcyBNYWluQXJlYTtcbiAgICBtYWluQXJlYS5mb3Jlc3RBbWJpZW5jZS52b2x1bWUgPSAxIC0gYWxwaGE7XG4gIH1cbn1cbiIsImltcG9ydCB7IEFyZWEsIEFyZWFTdGF0ZSB9IGZyb20gJ2VuZ2luZS9hcmVhJztcbmltcG9ydCB7IEF1ZGlvV3JhcHBlciB9IGZyb20gJ2VuZ2luZS9hdWRpbyc7XG5pbXBvcnQgeyBQbGF5ZXIgfSBmcm9tICdlbnRpdGllcy9QbGF5ZXInO1xuaW1wb3J0IHsgTWF6ZVdhbGxzIH0gZnJvbSAnZW50aXRpZXMvbWF6ZS1vYmplY3RzL01hemVXYWxscyc7XG5pbXBvcnQgeyBNYXplRmxvb3IgfSBmcm9tICdlbnRpdGllcy9tYXplLW9iamVjdHMvTWF6ZUZsb29yJztcbmltcG9ydCB7IENvbG9yRG9vciB9IGZyb20gJ2VudGl0aWVzL21hemUtb2JqZWN0cy9Db2xvckRvb3InO1xuaW1wb3J0IHsgRG9vckNvbG9yIH0gZnJvbSAnZW50aXRpZXMvRG9vckNvbG9yJztcbmltcG9ydCB7IEtleSB9IGZyb20gJ2VudGl0aWVzL21hemUtb2JqZWN0cy9LZXknO1xuaW1wb3J0IHsgRHJvbmUgfSBmcm9tICdlbnRpdGllcy9lbmVtaWVzL0Ryb25lJztcbmltcG9ydCB7IE1hemVPYmplY3QsIHN0cmluZ1RvTWF6ZSB9IGZyb20gJy4vTWF6ZU9iamVjdCc7XG5pbXBvcnQgeyBIVUQgfSBmcm9tICdlbnRpdGllcy9IVUQnO1xuaW1wb3J0IHsgSGVhbHRoIH0gZnJvbSAncmVzb3VyY2VzL0hlYWx0aCc7XG5pbXBvcnQgeyBJbnZlbnRvcnkgfSBmcm9tICdyZXNvdXJjZXMvSW52ZW50b3J5JztcbmltcG9ydCB7IEVuZXJneSB9IGZyb20gJ2VudGl0aWVzL21hemUtb2JqZWN0cy9FbmVyZ3knO1xuaW1wb3J0IHsgTGV2ZXIgfSBmcm9tICdlbnRpdGllcy9tYXplLW9iamVjdHMvTGV2ZXInO1xuaW1wb3J0IHsgUm9jayB9IGZyb20gJ2VudGl0aWVzL21hemUtb2JqZWN0cy9Sb2NrJztcbmltcG9ydCB7IEJhdHRlcnkgfSBmcm9tICdlbnRpdGllcy9tYXplLW9iamVjdHMvQmF0dGVyeSc7XG5pbXBvcnQgeyBFbGVjdHJpY0JveCB9IGZyb20gJ2VudGl0aWVzL21hemUtb2JqZWN0cy9FbGVjdHJpY0JveCc7XG5pbXBvcnQgeyBFbGVjdHJpY0JveFR5cGUgfSBmcm9tICdlbnRpdGllcy9FbGVjdHJpY0JveFR5cGUnO1xuaW1wb3J0IHsgRG9vclN0YXRlIH0gZnJvbSAncmVzb3VyY2VzL0Rvb3JTdGF0ZSc7XG5pbXBvcnQgeyBUb2dnbGVEb29yIH0gZnJvbSAnZW50aXRpZXMvbWF6ZS1vYmplY3RzL1RvZ2dsZURvb3InO1xuaW1wb3J0IHsgRWxlY3RyaWNEb29yIH0gZnJvbSAnZW50aXRpZXMvbWF6ZS1vYmplY3RzL0VsZWN0cmljRG9vcic7XG5pbXBvcnQgeyBQb3J0YWwgfSBmcm9tICdlbnRpdGllcy9tYXplLW9iamVjdHMvUG9ydGFsJztcbmltcG9ydCB7IEJpZ0Rvb3IgfSBmcm9tICdlbnRpdGllcy9tYXplLW9iamVjdHMvQmlnRG9vcic7XG5pbXBvcnQgeyBNYXplR2VuZXJhdG9yIH0gZnJvbSAnZ2VuZXJhdG9yL01hemVHZW5lcmF0b3InO1xuaW1wb3J0IHsgTWF6ZU1hcCB9IGZyb20gJ2VudGl0aWVzL21hemUtb2JqZWN0cy9NYXplTWFwJztcbmltcG9ydCB7IE1hemVHdW4gfSBmcm9tICdlbnRpdGllcy9tYXplLW9iamVjdHMvTWF6ZUd1bic7XG5pbXBvcnQgeyBBYnN0cmFjdE1hemVBcmVhIH0gZnJvbSAnLi9BYnN0cmFjdE1hemVBcmVhJztcbmltcG9ydCB7IFN1bmxpZ2h0IH0gZnJvbSAnZW50aXRpZXMvZWZmZWN0cy9TdW5saWdodCc7XG5pbXBvcnQgeyBFbnRpdHlTdGF0ZSB9IGZyb20gJ2VuZ2luZS9lbnRpdHknO1xuaW1wb3J0IHsgRmFkZUluTWFpbkFyZWEgfSBmcm9tICdlbnRpdGllcy9lZmZlY3RzL0ZhZGVJbk1haW5BcmVhJztcbmltcG9ydCB7IE1vdXNlQnV0dG9uIH0gZnJvbSAnZW5naW5lL2lucHV0JztcbmltcG9ydCBUZW1wbGF0ZSBmcm9tICdhc3NldHMvbGV2ZWxzL1RlbXBsYXRlLmx2bCc7XG5pbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XG5cbi8vLyBGdW5jdGlvbnMgdG8gY29uc3RydWN0IGFsbCBvZiB0aGUgb2JqZWN0cyBpbiB0aGUgbWF6ZVxudHlwZSBNYXplT2JqZWN0RnVuY3Rpb24gPSAocm93OiBudW1iZXIsIGNvbDogbnVtYmVyLCBhcmVhOiBBcmVhPE1haW5BcmVhPikgPT4gRW50aXR5U3RhdGU7XG5jb25zdCBDT05TVFJVQ1RPUlM6IHsgW0sgaW4gTWF6ZU9iamVjdF0/OiBNYXplT2JqZWN0RnVuY3Rpb24gfSA9IHtcbiAgW01hemVPYmplY3QuUm9ja106IChyb3csIGNvbCkgPT4gbmV3IFJvY2socm93LCBjb2wpLFxuICBbTWF6ZU9iamVjdC5SZWREb29yXTogYnVpbGRDb2xvckRvb3IoRG9vckNvbG9yLlJlZCksXG4gIFtNYXplT2JqZWN0LlllbGxvd0Rvb3JdOiBidWlsZENvbG9yRG9vcihEb29yQ29sb3IuWWVsbG93KSxcbiAgW01hemVPYmplY3QuR3JlZW5Eb29yXTogYnVpbGRDb2xvckRvb3IoRG9vckNvbG9yLkdyZWVuKSxcbiAgW01hemVPYmplY3QuQmx1ZURvb3JdOiBidWlsZENvbG9yRG9vcihEb29yQ29sb3IuQmx1ZSksXG4gIFtNYXplT2JqZWN0LlJlZEtleV06IGJ1aWxkS2V5KERvb3JDb2xvci5SZWQpLFxuICBbTWF6ZU9iamVjdC5ZZWxsb3dLZXldOiBidWlsZEtleShEb29yQ29sb3IuWWVsbG93KSxcbiAgW01hemVPYmplY3QuR3JlZW5LZXldOiBidWlsZEtleShEb29yQ29sb3IuR3JlZW4pLFxuICBbTWF6ZU9iamVjdC5CbHVlS2V5XTogYnVpbGRLZXkoRG9vckNvbG9yLkJsdWUpLFxuICBbTWF6ZU9iamVjdC5CYXR0ZXJ5XTogKHJvdywgY29sKSA9PiBuZXcgQmF0dGVyeShyb3csIGNvbCksXG4gIFtNYXplT2JqZWN0LkxldmVyXTogKHJvdywgY29sKSA9PiBuZXcgTGV2ZXIocm93LCBjb2wpLFxuICBbTWF6ZU9iamVjdC5Ub2dnbGVEb29yXTogKHJvdywgY29sKSA9PiBuZXcgVG9nZ2xlRG9vcihyb3csIGNvbCksXG4gIFtNYXplT2JqZWN0LkludmVyc2VUb2dnbGVEb29yXTogKHJvdywgY29sKSA9PiBuZXcgVG9nZ2xlRG9vcihyb3csIGNvbCwgdHJ1ZSksXG4gIFtNYXplT2JqZWN0LkFCb3hdOiBidWlsZEVsZWN0cmljQm94KEVsZWN0cmljQm94VHlwZS5BKSxcbiAgW01hemVPYmplY3QuQkJveF06IGJ1aWxkRWxlY3RyaWNCb3goRWxlY3RyaWNCb3hUeXBlLkIpLFxuICBbTWF6ZU9iamVjdC5DQm94XTogYnVpbGRFbGVjdHJpY0JveChFbGVjdHJpY0JveFR5cGUuQyksXG4gIFtNYXplT2JqZWN0LkFEb29yXTogYnVpbGRFbGVjdHJpY0Rvb3IoRWxlY3RyaWNCb3hUeXBlLkEpLFxuICBbTWF6ZU9iamVjdC5CRG9vcl06IGJ1aWxkRWxlY3RyaWNEb29yKEVsZWN0cmljQm94VHlwZS5CKSxcbiAgW01hemVPYmplY3QuQ0Rvb3JdOiBidWlsZEVsZWN0cmljRG9vcihFbGVjdHJpY0JveFR5cGUuQyksXG4gIFtNYXplT2JqZWN0LkRyb25lXTogKHJvdywgY29sKSA9PiBuZXcgRHJvbmUocm93LCBjb2wpLFxuICBbTWF6ZU9iamVjdC5CaWdEb29yXTogKHJvdywgY29sKSA9PiBuZXcgQmlnRG9vcihyb3csIGNvbCksXG4gIFtNYXplT2JqZWN0Lk1hcF06IChyb3csIGNvbCkgPT4gbmV3IE1hemVNYXAocm93LCBjb2wpLFxuICBbTWF6ZU9iamVjdC5HdW5dOiAocm93LCBjb2wpID0+IG5ldyBNYXplR3VuKHJvdywgY29sKSxcbn07XG5cbi8qKlxuICogUmVwcmVzZW50cyB0aGUgbWFpbiBhcmVhIGluIHRoZSBnYW1lXG4gKi9cbmV4cG9ydCBjbGFzcyBNYWluQXJlYSBleHRlbmRzIEFic3RyYWN0TWF6ZUFyZWEgaW1wbGVtZW50cyBBcmVhU3RhdGUge1xuICBwcml2YXRlIGFyZWE6IEFyZWE8dGhpcz47XG5cbiAgcHJpdmF0ZSBfdG90YWxFbmVyZ3k6IG51bWJlcjtcblxuICAvLyBTdG9yZSB0aGUgbGFzdCBrbm93biB0aWxlIGxvY2F0aW9uIGZvciB0aGUgcGxheWVyXG4gIHByaXZhdGUgcGxheWVyVGlsZUxvY2F0aW9uOiBbbnVtYmVyLCBudW1iZXJdO1xuICBwcml2YXRlIHBsYXllckFuZ2xlOiBudW1iZXI7IC8vIEFuZ2xlIGluIHJhZGlhbnNcblxuICAvLyBBbGwgbXVzaWMgYW5kIHNvdW5kcyBmb3IgdGhlIG1haW4gYXJlYVxuICBwdWJsaWMgZm9yZXN0QW1iaWVuY2U6IEF1ZGlvV3JhcHBlcjtcblxuICBwdWJsaWMgcGxheWVyU2hvb3Q6IEF1ZGlvV3JhcHBlcjtcbiAgcHVibGljIGRyb25lU2hvb3Q6IEF1ZGlvV3JhcHBlcjtcbiAgcHVibGljIGhpdE9iamVjdDogQXVkaW9XcmFwcGVyO1xuICBwdWJsaWMgb29mU291bmQ6IEF1ZGlvV3JhcHBlcjtcbiAgcHVibGljIGNvbGxlY3RJdGVtOiBBdWRpb1dyYXBwZXI7XG4gIHB1YmxpYyBvcGVuRG9vcjogQXVkaW9XcmFwcGVyO1xuICBwdWJsaWMgb3BlbkJpZ0Rvb3I6IEF1ZGlvV3JhcHBlcjtcbiAgcHVibGljIHRvZ2dsZUxldmVyOiBBdWRpb1dyYXBwZXI7XG4gIHB1YmxpYyBlbGVjdHJpY0JveDogQXVkaW9XcmFwcGVyO1xuICBwdWJsaWMgZXhwbG9zaW9uOiBBdWRpb1dyYXBwZXI7XG4gIHB1YmxpYyBhY3RpdmF0ZVBvcnRhbDogQXVkaW9XcmFwcGVyO1xuICBwdWJsaWMgZW50ZXJQb3J0YWw6IEF1ZGlvV3JhcHBlcjtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcihNYWluQXJlYS5nZW5lcmF0ZU5ld01hemUoKSk7XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhdGUgYSBuZXcgcmFuZG9tIG1hemVcbiAgICovXG4gIHByaXZhdGUgc3RhdGljIGdlbmVyYXRlTmV3TWF6ZSgpOiBNYXplT2JqZWN0W11bXSB7XG4gICAgY29uc3QgZ2VuZXJhdG9yID0gbmV3IE1hemVHZW5lcmF0b3IoMTMsIDEzLCBzdHJpbmdUb01hemUoVGVtcGxhdGUpKTtcbiAgICByZXR1cm4gZ2VuZXJhdG9yLmdlbmVyYXRlTWF6ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbGFzdCAocm93LCBjb2x1bW4pIHBvc2l0aW9uIG9mIHRoZSBwbGF5ZXIgaW4gdGhlIG1hemVcbiAgICovXG4gIHB1YmxpYyBnZXRQbGF5ZXJUaWxlTG9jYXRpb24oKTogW251bWJlciwgbnVtYmVyXSB7XG4gICAgcmV0dXJuIHRoaXMucGxheWVyVGlsZUxvY2F0aW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbGFzdCBrbm93biBhbmdsZSBvZiB0aGUgcGxheWVyXG4gICAqL1xuICBwdWJsaWMgZ2V0UGxheWVyQW5nbGUoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5wbGF5ZXJBbmdsZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHRvdGFsIG51bWJlciBvZiBlbmVyZ3kgYmFsbHMgaW4gdGhlIG1hemVcbiAgICovXG4gIHB1YmxpYyBnZXQgdG90YWxFbmVyZ3koKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5fdG90YWxFbmVyZ3k7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBudW1iZXIgb2YgZW5lcmd5IGJhbGxzIGxlZnRcbiAgICovXG4gIHB1YmxpYyBnZXQgZW5lcmd5TGVmdCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmFyZWEuZmluZEVudGl0aWVzKCdlbmVyZ3knKS5sZW5ndGg7XG4gIH1cblxuICBvbkNyZWF0ZShhcmVhOiBBcmVhPHRoaXM+KTogdm9pZCB7XG4gICAgdGhpcy5hcmVhID0gYXJlYTtcblxuICAgIC8vIENvbmZpZ3VyZSB0aGUgYmFja2dyb3VuZFxuICAgIGNvbnN0IHRleHR1cmUgPSBhcmVhLmdhbWUuYXNzZXRzLmdldFRleHR1cmUoJ1NreWJveEJHJyk7XG4gICAgYXJlYS5zY2VuZS5iYWNrZ3JvdW5kID0gdGV4dHVyZTtcblxuICAgIC8vIEFkZCBhIHN0YXRpYyBsaWdodCBhbmQgZW5hYmxlIHNoYWRvd3NcbiAgICB0aGlzLmFyZWEuY3JlYXRlRW50aXR5KG5ldyBTdW5saWdodCgpKTtcbiAgICBhcmVhLnNjZW5lLmFkZChuZXcgVEhSRUUuQW1iaWVudExpZ2h0KDB4ZmZmZmZmLCAwLjUpKTtcbiAgICBhcmVhLmdhbWUucmVuZGVyZXIuc2hhZG93TWFwLmVuYWJsZWQgPSB0cnVlO1xuXG4gICAgLy8gTG9hZCB0aGUgYXVkaW8gZmlsZXNcbiAgICB0aGlzLmZvcmVzdEFtYmllbmNlID0gYXJlYS5jcmVhdGVBdWRpbygnRm9yZXN0QW1iaWVuY2UnKTtcbiAgICB0aGlzLnBsYXllclNob290ID0gYXJlYS5jcmVhdGVBdWRpbygnUGxheWVyU2hvb3QnKTtcbiAgICB0aGlzLmRyb25lU2hvb3QgPSBhcmVhLmNyZWF0ZUF1ZGlvKCdEcm9uZVNob290Jyk7XG4gICAgdGhpcy5oaXRPYmplY3QgPSBhcmVhLmNyZWF0ZUF1ZGlvKCdIaXRPYmplY3QnKTtcbiAgICB0aGlzLm9vZlNvdW5kID0gYXJlYS5jcmVhdGVBdWRpbygnT29mJyk7XG4gICAgdGhpcy5jb2xsZWN0SXRlbSA9IGFyZWEuY3JlYXRlQXVkaW8oJ0NvbGxlY3RJdGVtJyk7XG4gICAgdGhpcy5vcGVuRG9vciA9IGFyZWEuY3JlYXRlQXVkaW8oJ09wZW5Eb29yJyk7XG4gICAgdGhpcy5vcGVuQmlnRG9vciA9IGFyZWEuY3JlYXRlQXVkaW8oJ09wZW5CaWdEb29yJyk7XG4gICAgdGhpcy50b2dnbGVMZXZlciA9IGFyZWEuY3JlYXRlQXVkaW8oJ1RvZ2dsZUxldmVyJyk7XG4gICAgdGhpcy5lbGVjdHJpY0JveCA9IGFyZWEuY3JlYXRlQXVkaW8oJ0VsZWN0cmljQm94Jyk7XG4gICAgdGhpcy5leHBsb3Npb24gPSBhcmVhLmNyZWF0ZUF1ZGlvKCdFeHBsb3Npb24nKTtcbiAgICB0aGlzLmFjdGl2YXRlUG9ydGFsID0gYXJlYS5jcmVhdGVBdWRpbygnQWN0aXZhdGVQb3J0YWwnKTtcbiAgICB0aGlzLmVudGVyUG9ydGFsID0gYXJlYS5jcmVhdGVBdWRpbygnRW50ZXJQb3J0YWwnKTtcblxuICAgIC8vIFBsYXkgdGhlIGJhY2tncm91bmQgbXVzaWNcbiAgICB0aGlzLmZvcmVzdEFtYmllbmNlLnZvbHVtZSA9IDA7XG4gICAgdGhpcy5mb3Jlc3RBbWJpZW5jZS5wbGF5KHRydWUpO1xuXG4gICAgLy8gQ29uZmlndXJlIGdhbWUgcmVzb3VyY2VzXG4gICAgdGhpcy5hcmVhLmdhbWUucmVzb3VyY2VzLnNldFJlc291cmNlKCdoZWFsdGgnLCBuZXcgSGVhbHRoKCkpO1xuICAgIHRoaXMuYXJlYS5nYW1lLnJlc291cmNlcy5zZXRSZXNvdXJjZSgnaW52ZW50b3J5JywgbmV3IEludmVudG9yeSgpKTtcbiAgICB0aGlzLmFyZWEuZ2FtZS5yZXNvdXJjZXMuc2V0UmVzb3VyY2UoJ2Rvb3Itc3RhdGUnLCBuZXcgRG9vclN0YXRlKCkpO1xuXG4gICAgLy8gQnVpbGQgdGhlIHJvb21cbiAgICB0aGlzLmFyZWEuY3JlYXRlRW50aXR5KG5ldyBNYXplRmxvb3IodGhpcy5tYXplV2lkdGgsIHRoaXMubWF6ZUhlaWdodCkpO1xuICAgIHRoaXMuYnVpbGRNYXplKCk7XG5cbiAgICAvLyBTcGF3biB0aGUgbWFpbiBvYmplY3RzXG4gICAgdGhpcy5hcmVhLmNyZWF0ZUVudGl0eShuZXcgSFVEKCkpO1xuICAgIHRoaXMuYXJlYS5jcmVhdGVFbnRpdHkobmV3IEZhZGVJbk1haW5BcmVhKCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEJ1aWxkIGFsbCBvZiB0aGUgbWF6ZSBvYmplY3RzXG4gICAqL1xuICBwcml2YXRlIGJ1aWxkTWF6ZSgpOiB2b2lkIHtcbiAgICBsZXQgcGxheWVyUG9zaXRpb246IFtudW1iZXIsIG51bWJlcl0gfCBudWxsID0gbnVsbDtcblxuICAgIC8vIENhbGN1bGF0ZSB0aGUgdG90YWwgbnVtYmVyIG9mIHdhbGxzIGluIHRoZSBtYXplXG4gICAgY29uc3QgbnVtV2FsbHMgPSB0aGlzLm1hemUucmVkdWNlKFxuICAgICAgKG4sIHJvdykgPT4gbiArIHJvdy5yZWR1Y2UoKG4sIGNlbGwpID0+IG4gKyBOdW1iZXIoY2VsbCA9PT0gTWF6ZU9iamVjdC5XYWxsKSwgMCksXG4gICAgICAwLFxuICAgICk7XG5cbiAgICAvLyBTdG9yZXMgYWxsIG1hemUgd2FsbHMgaW5zaWRlIGEgc2luZ2xlIGVudGl0eVxuICAgIGNvbnN0IHdhbGxFbnRpdHkgPSB0aGlzLmFyZWEuY3JlYXRlRW50aXR5KG5ldyBNYXplV2FsbHMobnVtV2FsbHMsIHRoaXMuYXJlYSkpO1xuXG4gICAgLy8gQ3JlYXRlIGFsbCBvZiB0aGUgaW5zdGFuY2VzIGluIHRoZSBtYXplXG4gICAgbGV0IHRvdGFsRW5lcmd5ID0gMDtcbiAgICBmb3IgKGNvbnN0IFtyb3dJbmRleCwgcm93XSBvZiB0aGlzLm1hemUuZW50cmllcygpKSB7XG4gICAgICBmb3IgKGNvbnN0IFtjb2xJbmRleCwgY29sXSBvZiByb3cuZW50cmllcygpKSB7XG4gICAgICAgIHN3aXRjaCAoY29sKSB7XG4gICAgICAgICAgY2FzZSBNYXplT2JqZWN0LldhbGw6XG4gICAgICAgICAgICB3YWxsRW50aXR5LnN0YXRlLmFkZFdhbGwocm93SW5kZXgsIGNvbEluZGV4LCB0aGlzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSBNYXplT2JqZWN0LkVuZXJneTpcbiAgICAgICAgICAgIHRvdGFsRW5lcmd5ICs9IDE7XG4gICAgICAgICAgICB0aGlzLmFyZWEuY3JlYXRlRW50aXR5KG5ldyBFbmVyZ3kocm93SW5kZXgsIGNvbEluZGV4KSk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgTWF6ZU9iamVjdC5Qb3J0YWw6XG4gICAgICAgICAgICBpZiAocGxheWVyUG9zaXRpb24gPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgcGxheWVyUG9zaXRpb24gPSBbcm93SW5kZXgsIGNvbEluZGV4XTtcbiAgICAgICAgICAgICAgdGhpcy5hcmVhLmNyZWF0ZUVudGl0eShuZXcgUG9ydGFsKHJvd0luZGV4LCBjb2xJbmRleCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICBjb25zdCBjb25zdHJ1Y3QgPSBDT05TVFJVQ1RPUlNbY29sXTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29uc3RydWN0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICB0aGlzLmFyZWEuY3JlYXRlRW50aXR5KGNvbnN0cnVjdChyb3dJbmRleCwgY29sSW5kZXgsIHRoaXMuYXJlYSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5fdG90YWxFbmVyZ3kgPSB0b3RhbEVuZXJneTtcblxuICAgIC8vIENyZWF0ZSB0aGUgcGxheWVyLCBjaG9vc2UgY2VudGVyIG9mIG1hemUgYXMgZGVmYXVsdCBwb3NpdGlvblxuICAgIGlmIChwbGF5ZXJQb3NpdGlvbiA9PT0gbnVsbCkge1xuICAgICAgcGxheWVyUG9zaXRpb24gPSBbTWF0aC5mbG9vcih0aGlzLm1hemVXaWR0aCAvIDIpLCBNYXRoLmZsb29yKHRoaXMubWF6ZUhlaWdodCAvIDIpXTtcbiAgICB9XG4gICAgdGhpcy5wbGF5ZXJUaWxlTG9jYXRpb24gPSBwbGF5ZXJQb3NpdGlvbjtcbiAgICB0aGlzLmFyZWEuY3JlYXRlRW50aXR5KG5ldyBQbGF5ZXIocGxheWVyUG9zaXRpb25bMF0sIHBsYXllclBvc2l0aW9uWzFdKSk7XG4gIH1cblxuICBvblRpbWVyKF90aW1lckluZGV4OiBudW1iZXIpOiB2b2lkIHt9XG5cbiAgb25TdGVwKCk6IHZvaWQge1xuICAgIHRoaXMudXBkYXRlUGxheWVyVGlsZUxvY2F0aW9uQW5kQW5nbGUoKTtcblxuICAgIC8vIEZpeCBmb3IgYXVkaW8gcGxheWluZ1xuICAgIGNvbnN0IGlucHV0ID0gdGhpcy5hcmVhLmdhbWUuaW5wdXQ7XG4gICAgaWYgKGlucHV0LmlzTW91c2VCdXR0b25Eb3duKE1vdXNlQnV0dG9uLkxlZnQpKSB7XG4gICAgICB0aGlzLmZvcmVzdEFtYmllbmNlLmF1ZGlvLmNvbnRleHQucmVzdW1lKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGUgaW50ZXJuYWwgdGlsZSBsb2NhdGlvbiBmb3IgdGhlIHBsYXllclxuICAgKi9cbiAgcHJpdmF0ZSB1cGRhdGVQbGF5ZXJUaWxlTG9jYXRpb25BbmRBbmdsZSgpOiB2b2lkIHtcbiAgICBjb25zdCBwbGF5ZXIgPSB0aGlzLmFyZWEuZmluZEZpcnN0RW50aXR5KCdwbGF5ZXInKTtcbiAgICBpZiAocGxheWVyID09PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5wbGF5ZXJUaWxlTG9jYXRpb24gPSB0aGlzLnBvc2l0aW9uVG9UaWxlTG9jYXRpb24ocGxheWVyLm9iamVjdC5wb3NpdGlvbik7XG4gICAgdGhpcy5wbGF5ZXJBbmdsZSA9IChwbGF5ZXIuc3RhdGUgYXMgUGxheWVyKS5nZXRGYWNpbmdBbmdsZSgpO1xuICB9XG5cbiAgb25EcmF3KF9nMmQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk6IHZvaWQge31cbn1cblxuZnVuY3Rpb24gYnVpbGRDb2xvckRvb3IoY29sb3I6IERvb3JDb2xvcik6IE1hemVPYmplY3RGdW5jdGlvbiB7XG4gIHJldHVybiAocm93LCBjb2wpID0+IG5ldyBDb2xvckRvb3Iocm93LCBjb2wsIGNvbG9yKTtcbn1cblxuZnVuY3Rpb24gYnVpbGRLZXkoY29sb3I6IERvb3JDb2xvcik6IE1hemVPYmplY3RGdW5jdGlvbiB7XG4gIHJldHVybiAocm93LCBjb2wpID0+IG5ldyBLZXkocm93LCBjb2wsIGNvbG9yKTtcbn1cblxuZnVuY3Rpb24gYnVpbGRFbGVjdHJpY0JveCh0eXBlOiBFbGVjdHJpY0JveFR5cGUpOiBNYXplT2JqZWN0RnVuY3Rpb24ge1xuICByZXR1cm4gKHJvdywgY29sKSA9PiBuZXcgRWxlY3RyaWNCb3gocm93LCBjb2wsIHR5cGUpO1xufVxuXG5mdW5jdGlvbiBidWlsZEVsZWN0cmljRG9vcih0eXBlOiBFbGVjdHJpY0JveFR5cGUpOiBNYXplT2JqZWN0RnVuY3Rpb24ge1xuICByZXR1cm4gKHJvdywgY29sKSA9PiBuZXcgRWxlY3RyaWNEb29yKHJvdywgY29sLCB0eXBlKTtcbn1cbiIsImltcG9ydCB7IEFic3RyYWN0QnV0dG9uIH0gZnJvbSAnLi9BYnN0cmFjdEJ1dHRvbic7XG5pbXBvcnQgeyBFbnRpdHlTdGF0ZSB9IGZyb20gJ2VuZ2luZS9lbnRpdHknO1xuaW1wb3J0IHsgSW50cm9BcmVhIH0gZnJvbSAnYXJlYXMvSW50cm9BcmVhJztcbmltcG9ydCB7IE1haW5BcmVhIH0gZnJvbSAnYXJlYXMvTWFpbkFyZWEnO1xuaW1wb3J0IHsgR2FtZXBhZEF4aXMsIEdhbWVwYWRCdXR0b24sIEtleSB9IGZyb20gJ2VuZ2luZS9pbnB1dCc7XG5cbmNvbnN0IFdJRFRIID0gNTA7XG5jb25zdCBIRUlHSFQgPSAzMDtcblxuLyoqXG4gKiBCdXR0b24gdG8gc2tpcCB0aGUgaW50cm9cbiAqL1xuZXhwb3J0IGNsYXNzIFNraXBJbnRyb0J1dHRvbiBleHRlbmRzIEFic3RyYWN0QnV0dG9uIGltcGxlbWVudHMgRW50aXR5U3RhdGUge1xuICBwdWJsaWMgcmVhZG9ubHkgdGFnczogc3RyaW5nW10gPSBbJ3NraXAtYnV0dG9uJ107XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ1NraXAnKTtcbiAgfVxuXG4gIG9uQ3JlYXRlQnV0dG9uKCk6IHZvaWQge1xuICAgIHRoaXMueCA9IHRoaXMuZW50aXR5LmFyZWEub3ZlcmxheVdpZHRoIC0gV0lEVEggLSAyMDtcbiAgICB0aGlzLnkgPSB0aGlzLmVudGl0eS5hcmVhLm92ZXJsYXlIZWlnaHQgLSBIRUlHSFQgLSAyMDtcbiAgICB0aGlzLndpZHRoID0gV0lEVEg7XG4gICAgdGhpcy5oZWlnaHQgPSBIRUlHSFQ7XG4gIH1cblxuICBvbkRlc3Ryb3koKTogdm9pZCB7fVxuXG4gIG9uQ2xpY2soKTogdm9pZCB7XG4gICAgKHRoaXMuZW50aXR5LmFyZWEuc3RhdGUgYXMgSW50cm9BcmVhKS5pbnRyb011c2ljLnN0b3AoKTtcbiAgICB0aGlzLmVudGl0eS5hcmVhLmdhbWUuc2V0QXJlYShuZXcgTWFpbkFyZWEoKSk7XG4gIH1cblxuICBvblN0ZXBCdXR0b24oKTogdm9pZCB7XG4gICAgY29uc3QgaW5wdXQgPSB0aGlzLmVudGl0eS5hcmVhLmdhbWUuaW5wdXQ7XG4gICAgaWYgKFxuICAgICAgaW5wdXQuaXNLZXlTdGFydGVkKEtleS5FbnRlcikgfHxcbiAgICAgIGlucHV0LmlzS2V5U3RhcnRlZChLZXkuU3BhY2UpIHx8XG4gICAgICBpbnB1dC5pc0dhbWVwYWRCdXR0b25TdGFydGVkKDAsIEdhbWVwYWRCdXR0b24uQUNyb3NzKSB8fFxuICAgICAgaW5wdXQuaXNHYW1lcGFkQnV0dG9uU3RhcnRlZCgwLCBHYW1lcGFkQnV0dG9uLlhTcXVhcmUpIHx8XG4gICAgICBpbnB1dC5pc0dhbWVwYWRCdXR0b25TdGFydGVkKDAsIEdhbWVwYWRCdXR0b24uWVRyaWFuZ2xlKSB8fFxuICAgICAgaW5wdXQuaXNHYW1lcGFkQnV0dG9uU3RhcnRlZCgwLCBHYW1lcGFkQnV0dG9uLlN0YXJ0KSB8fFxuICAgICAgaW5wdXQuZ2V0R2FtZXBhZEF4aXMoMCwgR2FtZXBhZEF4aXMuUmlnaHRUcmlnZ2VyKSA+IDAuNVxuICAgICkge1xuICAgICAgdGhpcy5vbkNsaWNrKCk7XG4gICAgfVxuICB9XG5cbiAgb25UaW1lcihfdGltZXJJbmRleDogbnVtYmVyKTogdm9pZCB7fVxufVxuIiwiaW1wb3J0IHsgQXJlYSwgQXJlYVN0YXRlIH0gZnJvbSAnZW5naW5lL2FyZWEnO1xuaW1wb3J0IHsgQXVkaW9XcmFwcGVyIH0gZnJvbSAnZW5naW5lL2F1ZGlvJztcbmltcG9ydCB7IE1vdXNlQnV0dG9uIH0gZnJvbSAnZW5naW5lL2lucHV0JztcbmltcG9ydCB7IFNraXBJbnRyb0J1dHRvbiB9IGZyb20gJ2VudGl0aWVzL3VpL1NraXBJbnRyb0J1dHRvbic7XG5pbXBvcnQgeyBNYWluQXJlYSB9IGZyb20gJy4vTWFpbkFyZWEnO1xuXG5jb25zdCBMSU5FMV8xID0gJ0kgcmVtZW1iZXIuLi4gJztcbmNvbnN0IExJTkUxXzIgPSAnSSB3YXMgaGF2aW5nIGEgZHJlYW0uLi4nO1xuY29uc3QgTElORTIgPSAnSSB3YXMgdHJhcHBlZCBpbnNpZGUgYSBtYXNzaXZlIGxhYnlyaW50aC4uLic7XG5jb25zdCBMSU5FMyA9ICdCdXQgdGhlIGZ1bm55IHRoaW5nIGlzLi4uJztcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHF1b3Rlc1xuY29uc3QgRklOQUxfTElORSA9IFwiSSBkb24ndCByZWNhbGwgZXZlciB3YWtpbmcgdXAgZnJvbSB0aGF0IGRyZWFtLi4uXCI7XG5cbi8vIEFuaW1hdGlvbiBmcmFtZXNcbmNvbnN0IEZBREVfSU5fU1BFRURTOiBudW1iZXJbXSA9IFs1LCA1LCA1LCA1LCA1LCA1LCA1XTtcbmNvbnN0IEZBREVfSU5fQUxQSEE6IG51bWJlcltdID0gWzAuMDUsIDAuMDUsIDAuMDUsIDAuMDUsIDAuMDUsIDAuMDUsIDAuMDVdO1xuY29uc3QgRkFERV9JTl9ERUxBWVM6IG51bWJlcltdID0gWzE1MCwgMjAwLCA0MDAsIDI1MCwgMTAwLCAxODAsIDEwXTtcblxuLyoqXG4gKiBEcmF3cyB0aGUgZ2FtZSBpbnRyb2R1Y3Rpb25cbiAqL1xuZXhwb3J0IGNsYXNzIEludHJvQXJlYSBpbXBsZW1lbnRzIEFyZWFTdGF0ZSB7XG4gIHByaXZhdGUgYXJlYTogQXJlYTx0aGlzPjtcblxuICBwdWJsaWMgaW50cm9NdXNpYzogQXVkaW9XcmFwcGVyO1xuICBwcml2YXRlIGFscGhhOiBudW1iZXJbXSA9IFswLCAwLCAwLCAwLCAwLCAwLCAwXTtcblxuICBwcml2YXRlIHNob3VsZERyYXdGaW5hbExpbmUoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuYWxwaGFbNV0gPiAwO1xuICB9XG5cbiAgb25DcmVhdGUoYXJlYTogQXJlYTx0aGlzPik6IHZvaWQge1xuICAgIHRoaXMuYXJlYSA9IGFyZWE7XG5cbiAgICB0aGlzLmFyZWEuY3JlYXRlRW50aXR5KG5ldyBTa2lwSW50cm9CdXR0b24oKSk7XG4gICAgdGhpcy5hcmVhLmdhbWUuaW5wdXQucG9pbnRlckxvY2tFbmFibGVkID0gZmFsc2U7XG5cbiAgICAvLyBMb2FkIGFueSBzb3VuZHNcbiAgICB0aGlzLmludHJvTXVzaWMgPSB0aGlzLmFyZWEuY3JlYXRlQXVkaW8oJ0ludHJvJyk7XG4gICAgdGhpcy5pbnRyb011c2ljLnZvbHVtZSA9IDA7XG4gICAgdGhpcy5pbnRyb011c2ljLnBsYXkodHJ1ZSk7XG4gICAgdGhpcy5hcmVhLnNldFRpbWVyKDEsIDEwMCwgZmFsc2UpO1xuXG4gICAgLy8gRmFkZSBpbiB0aW1lclxuICAgIHRoaXMuYXJlYS5zZXRUaW1lcigyLCAyMDAsIGZhbHNlKTtcbiAgfVxuXG4gIG9uVGltZXIodGltZXJJbmRleDogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKHRpbWVySW5kZXggPT09IDEpIHtcbiAgICAgIHRoaXMuaW5jcmVhc2VWb2x1bWUoKTtcbiAgICB9XG4gICAgaWYgKHRpbWVySW5kZXggPj0gMiAmJiB0aW1lckluZGV4IDw9IDgpIHtcbiAgICAgIHRoaXMuaGFuZGxlRmFkZUluKHRpbWVySW5kZXgsIHRpbWVySW5kZXggLSAyKTtcbiAgICB9XG4gICAgaWYgKHRpbWVySW5kZXggPT09IDcpIHtcbiAgICAgIHRoaXMuZGVjcmVhc2VWb2x1bWUoKTtcbiAgICB9XG4gICAgaWYgKHRpbWVySW5kZXggPT09IDkpIHtcbiAgICAgIHRoaXMuYXJlYS5nYW1lLnNldEFyZWEobmV3IE1haW5BcmVhKCkpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBJbmNyZWFzZSB0aGUgdm9sdW1lIG9mIHRoZSBpbnRybyBtdXNpY1xuICAgKi9cbiAgcHJpdmF0ZSBpbmNyZWFzZVZvbHVtZSgpOiB2b2lkIHtcbiAgICB0aGlzLmludHJvTXVzaWMudm9sdW1lID0gTWF0aC5taW4oMSwgdGhpcy5pbnRyb011c2ljLnZvbHVtZSArIDAuMSk7XG4gICAgaWYgKHRoaXMuaW50cm9NdXNpYy52b2x1bWUgPT09IDEpIHtcbiAgICAgIHRoaXMuYXJlYS5jbGVhclRpbWVyKDEpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFyZWEuc2V0VGltZXIoMSwgMTAsIGZhbHNlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2xvd2x5IGRlY3JlYXNlIHRoZSB2b2x1bWVcbiAgICovXG4gIHByaXZhdGUgZGVjcmVhc2VWb2x1bWUoKTogdm9pZCB7XG4gICAgdGhpcy5pbnRyb011c2ljLnZvbHVtZSA9IE1hdGgubWF4KDAsIHRoaXMuaW50cm9NdXNpYy52b2x1bWUgLSBGQURFX0lOX0FMUEhBWzRdKTtcbiAgICBpZiAodGhpcy5pbnRyb011c2ljLnZvbHVtZSA8PSBGQURFX0lOX0FMUEhBWzRdKSB7XG4gICAgICB0aGlzLmludHJvTXVzaWMuc3RvcCgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgdGhlIGZhZGUgaW4gYW5pbWF0aW9uXG4gICAqL1xuICBwcml2YXRlIGhhbmRsZUZhZGVJbih0aW1lckluZGV4OiBudW1iZXIsIGFscGhhSW5kZXg6IG51bWJlcik6IHZvaWQge1xuICAgIGlmICh0aGlzLmFscGhhW2FscGhhSW5kZXhdID09PSAxKSB7XG4gICAgICB0aGlzLmFyZWEuY2xlYXJUaW1lcih0aW1lckluZGV4KTtcbiAgICAgIHRoaXMuYXJlYS5zZXRUaW1lcih0aW1lckluZGV4ICsgMSwgRkFERV9JTl9ERUxBWVNbYWxwaGFJbmRleF0sIGZhbHNlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmFscGhhW2FscGhhSW5kZXhdID0gTWF0aC5taW4oMSwgdGhpcy5hbHBoYVthbHBoYUluZGV4XSArIEZBREVfSU5fQUxQSEFbYWxwaGFJbmRleF0pO1xuICAgIGlmIChhbHBoYUluZGV4ID4gMSkge1xuICAgICAgdGhpcy5hbHBoYVthbHBoYUluZGV4IC0gMV0gPSBNYXRoLm1heCgwLCB0aGlzLmFscGhhW2FscGhhSW5kZXggLSAxXSAtIEZBREVfSU5fQUxQSEFbYWxwaGFJbmRleF0pO1xuICAgICAgdGhpcy5hbHBoYVthbHBoYUluZGV4IC0gMl0gPSBNYXRoLm1heCgwLCB0aGlzLmFscGhhW2FscGhhSW5kZXggLSAyXSAtIEZBREVfSU5fQUxQSEFbYWxwaGFJbmRleF0pO1xuICAgIH1cbiAgICB0aGlzLmFyZWEuc2V0VGltZXIodGltZXJJbmRleCwgRkFERV9JTl9TUEVFRFNbYWxwaGFJbmRleF0sIGZhbHNlKTtcbiAgfVxuXG4gIG9uU3RlcCgpOiB2b2lkIHtcbiAgICAvLyBGaXggZm9yIGF1ZGlvIHBsYXlpbmdcbiAgICBjb25zdCBpbnB1dCA9IHRoaXMuYXJlYS5nYW1lLmlucHV0O1xuICAgIGlmIChpbnB1dC5pc01vdXNlQnV0dG9uRG93bihNb3VzZUJ1dHRvbi5MZWZ0KSkge1xuICAgICAgdGhpcy5pbnRyb011c2ljLmF1ZGlvLmNvbnRleHQucmVzdW1lKCk7XG4gICAgfVxuICB9XG5cbiAgb25EcmF3KGcyZDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuc2hvdWxkRHJhd0ZpbmFsTGluZSgpKSB7XG4gICAgICB0aGlzLmRyYXdGaW5hbExpbmUoZzJkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kcmF3VGhyZWVMaW5lcyhnMmQpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBEcmF3IHRoZSB0aHJlZS1saW5lIGludHJvXG4gICAqL1xuICBwcml2YXRlIGRyYXdUaHJlZUxpbmVzKGcyZDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTogdm9pZCB7XG4gICAgZzJkLmZvbnQgPSAnMjRwdCBzYW5zLXNlcmlmJztcbiAgICBnMmQudGV4dEFsaWduID0gJ2xlZnQnO1xuICAgIGcyZC50ZXh0QmFzZWxpbmUgPSAnbWlkZGxlJztcbiAgICBnMmQuZmlsbFN0eWxlID0gJ3doaXRlJztcblxuICAgIGNvbnN0IHRvcExpbmUgPSB0aGlzLmFyZWEub3ZlcmxheUhlaWdodCAvIDMgLSB0aGlzLmFyZWEub3ZlcmxheUhlaWdodCAvIDY7XG4gICAgY29uc3QgbWlkZGxlTGluZSA9IHRvcExpbmUgKyB0aGlzLmFyZWEub3ZlcmxheUhlaWdodCAvIDM7XG4gICAgY29uc3QgYm90dG9tTGluZSA9IG1pZGRsZUxpbmUgKyB0aGlzLmFyZWEub3ZlcmxheUhlaWdodCAvIDM7XG5cbiAgICAvLyBVc2UgZm9udCBtZXRyaWNzIHRvIGNlbnRlciB0aGUgdG9wIGxpbmUsIHdoaWNoIGhhcyB0d28gcGFydHNcbiAgICBjb25zdCBzaW5nbGVNZXRyaWNzID0gZzJkLm1lYXN1cmVUZXh0KExJTkUxXzEpO1xuICAgIGNvbnN0IHRvdGFsTWV0cmljcyA9IGcyZC5tZWFzdXJlVGV4dChMSU5FMV8xICsgTElORTFfMik7XG5cbiAgICBnMmQuZ2xvYmFsQWxwaGEgPSB0aGlzLmFscGhhWzBdO1xuICAgIGcyZC5maWxsVGV4dChMSU5FMV8xLCB0aGlzLmFyZWEub3ZlcmxheVdpZHRoIC8gMiAtIHRvdGFsTWV0cmljcy53aWR0aCAvIDIsIHRvcExpbmUpO1xuXG4gICAgZzJkLmdsb2JhbEFscGhhID0gdGhpcy5hbHBoYVsxXTtcbiAgICBnMmQuZmlsbFRleHQoTElORTFfMiwgdGhpcy5hcmVhLm92ZXJsYXlXaWR0aCAvIDIgLSB0b3RhbE1ldHJpY3Mud2lkdGggLyAyICsgc2luZ2xlTWV0cmljcy53aWR0aCwgdG9wTGluZSk7XG5cbiAgICBnMmQudGV4dEFsaWduID0gJ2NlbnRlcic7XG4gICAgZzJkLmdsb2JhbEFscGhhID0gdGhpcy5hbHBoYVsyXTtcbiAgICBnMmQuZmlsbFRleHQoTElORTIsIHRoaXMuYXJlYS5vdmVybGF5V2lkdGggLyAyLCBtaWRkbGVMaW5lKTtcblxuICAgIGcyZC5nbG9iYWxBbHBoYSA9IHRoaXMuYWxwaGFbM107XG4gICAgZzJkLmZpbGxUZXh0KExJTkUzLCB0aGlzLmFyZWEub3ZlcmxheVdpZHRoIC8gMiwgYm90dG9tTGluZSk7XG4gIH1cblxuICAvKipcbiAgICogRHJhdyB0aGUgc2luZ2xlIGxpbmUgaW50cm9cbiAgICovXG4gIHByaXZhdGUgZHJhd0ZpbmFsTGluZShnMmQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk6IHZvaWQge1xuICAgIGcyZC5mb250ID0gJzI0cHQgc2Fucy1zZXJpZic7XG4gICAgZzJkLnRleHRBbGlnbiA9ICdjZW50ZXInO1xuICAgIGcyZC50ZXh0QmFzZWxpbmUgPSAnbWlkZGxlJztcbiAgICBnMmQuZmlsbFN0eWxlID0gJ3doaXRlJztcblxuICAgIGcyZC5nbG9iYWxBbHBoYSA9IHRoaXMuYWxwaGFbNV07XG4gICAgZzJkLmZpbGxUZXh0KEZJTkFMX0xJTkUsIHRoaXMuYXJlYS5vdmVybGF5V2lkdGggLyAyLCB0aGlzLmFyZWEub3ZlcmxheUhlaWdodCAvIDIpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBJbnRyb0FyZWEgfSBmcm9tICdhcmVhcy9JbnRyb0FyZWEnO1xuaW1wb3J0IHsgVGl0bGVBcmVhIH0gZnJvbSAnYXJlYXMvVGl0bGVBcmVhJztcbmltcG9ydCB7IEZhZGVPdXRFZmZlY3QgfSBmcm9tICcuL0ZhZGVPdXRFZmZlY3QnO1xuXG4vKipcbiAqIEZhZGUgb3V0IHRoZSB0aXRsZSBzY3JlZW4gYW5kIHN0YXJ0IHRoZSBhbmltYXRpb25cbiAqL1xuZXhwb3J0IGNsYXNzIFN0YXJ0SW50cm9kdWN0aW9uIGV4dGVuZHMgRmFkZU91dEVmZmVjdCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKDEwKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBvblRpY2soYWxwaGE6IG51bWJlcik6IHZvaWQge1xuICAgIGNvbnN0IHRpdGxlQXJlYSA9IHRoaXMuZW50aXR5LmFyZWEuc3RhdGUgYXMgVGl0bGVBcmVhO1xuICAgIHRpdGxlQXJlYS50aXRsZU11c2ljLnZvbHVtZSA9IDEgLSBhbHBoYTtcbiAgfVxuXG4gIHByb3RlY3RlZCBvbkZpbmlzaCgpOiB2b2lkIHtcbiAgICBjb25zdCB0aXRsZUFyZWEgPSB0aGlzLmVudGl0eS5hcmVhLnN0YXRlIGFzIFRpdGxlQXJlYTtcbiAgICB0aXRsZUFyZWEudGl0bGVNdXNpYy5zdG9wKCk7XG5cbiAgICB0aGlzLmVudGl0eS5hcmVhLmdhbWUuc2V0QXJlYShuZXcgSW50cm9BcmVhKCkpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBBcmVhLCBBcmVhU3RhdGUgfSBmcm9tICdlbmdpbmUvYXJlYSc7XG5pbXBvcnQgeyBFbnRpdHlTdGF0ZSB9IGZyb20gJ2VuZ2luZS9lbnRpdHknO1xuaW1wb3J0IHsgTWF6ZU9iamVjdCwgc3RyaW5nVG9NYXplIH0gZnJvbSAnLi9NYXplT2JqZWN0JztcbmltcG9ydCB7IE1hemVXYWxscyB9IGZyb20gJ2VudGl0aWVzL21hemUtb2JqZWN0cy9NYXplV2FsbHMnO1xuaW1wb3J0IHsgQWJzdHJhY3RNYXplQXJlYSB9IGZyb20gJy4vQWJzdHJhY3RNYXplQXJlYSc7XG5pbXBvcnQgeyBTdW5saWdodCB9IGZyb20gJ2VudGl0aWVzL2VmZmVjdHMvU3VubGlnaHQnO1xuaW1wb3J0IHsgTWF6ZUZsb29yIH0gZnJvbSAnZW50aXRpZXMvbWF6ZS1vYmplY3RzL01hemVGbG9vcic7XG5pbXBvcnQgeyBEdW1teUJpZ0Rvb3IgfSBmcm9tICdlbnRpdGllcy9tYXplLW9iamVjdHMvRHVtbXlCaWdEb29yJztcbmltcG9ydCB7IEF1ZGlvV3JhcHBlciB9IGZyb20gJ2VuZ2luZS9hdWRpbyc7XG5pbXBvcnQgeyBHYW1lcGFkQXhpcywgR2FtZXBhZEJ1dHRvbiwgS2V5LCBNb3VzZUJ1dHRvbiB9IGZyb20gJ2VuZ2luZS9pbnB1dCc7XG5pbXBvcnQgeyBTdGFydEJ1dHRvbiB9IGZyb20gJ2VudGl0aWVzL3VpL1N0YXJ0QnV0dG9uJztcbmltcG9ydCB7IEZhZGVJbkVmZmVjdCB9IGZyb20gJ2VudGl0aWVzL2VmZmVjdHMvRmFkZUluRWZmZWN0JztcbmltcG9ydCB7IFN0YXJ0SW50cm9kdWN0aW9uIH0gZnJvbSAnZW50aXRpZXMvZWZmZWN0cy9TdGFydEludHJvZHVjdGlvbic7XG5pbXBvcnQgVGl0bGUgZnJvbSAnYXNzZXRzL2xldmVscy9UaXRsZS5sdmwnO1xuaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuXG50eXBlIE1hemVPYmplY3RGdW5jdGlvbiA9IChyb3c6IG51bWJlciwgY29sOiBudW1iZXIsIGFyZWE6IEFyZWE8VGl0bGVBcmVhPikgPT4gRW50aXR5U3RhdGU7XG5jb25zdCBDT05TVFJVQ1RPUlM6IHsgW0sgaW4gTWF6ZU9iamVjdF0/OiBNYXplT2JqZWN0RnVuY3Rpb24gfSA9IHtcbiAgW01hemVPYmplY3QuQmlnRG9vcl06IChyb3csIGNvbCkgPT4gbmV3IER1bW15QmlnRG9vcihyb3csIGNvbCksXG59O1xuXG4vKipcbiAqIFRpdGxlIFNjcmVlblxuICovXG5leHBvcnQgY2xhc3MgVGl0bGVBcmVhIGV4dGVuZHMgQWJzdHJhY3RNYXplQXJlYSBpbXBsZW1lbnRzIEFyZWFTdGF0ZSB7XG4gIHByaXZhdGUgYXJlYTogQXJlYTx0aGlzPjtcblxuICBwcml2YXRlIGNhbWVyYTogVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmE7XG4gIHByaXZhdGUgY2FtZXJhUG9zOiBbbnVtYmVyLCBudW1iZXJdID0gWzAsIDBdO1xuICBwcml2YXRlIGRyYXdUaXRsZSA9IHRydWU7XG5cbiAgcHVibGljIHRpdGxlTXVzaWM6IEF1ZGlvV3JhcHBlcjtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcihzdHJpbmdUb01hemUoVGl0bGUpKTtcbiAgfVxuXG4gIG9uQ3JlYXRlKGFyZWE6IEFyZWE8dGhpcz4pOiB2b2lkIHtcbiAgICB0aGlzLmFyZWEgPSBhcmVhO1xuXG4gICAgLy8gQnVpbGQgdGhlIHJvb21cbiAgICB0aGlzLmFyZWEuY3JlYXRlRW50aXR5KG5ldyBNYXplRmxvb3IodGhpcy5tYXplV2lkdGgsIHRoaXMubWF6ZUhlaWdodCkpO1xuICAgIHRoaXMuYnVpbGREdW1teU1hemUoKTtcblxuICAgIC8vIENvbmZpZ3VyZSB0aGUgYmFja2dyb3VuZFxuICAgIGNvbnN0IHRleHR1cmUgPSBhcmVhLmdhbWUuYXNzZXRzLmdldFRleHR1cmUoJ1NreWJveEJHJyk7XG4gICAgYXJlYS5zY2VuZS5iYWNrZ3JvdW5kID0gdGV4dHVyZTtcblxuICAgIC8vIEFkZCBhIHN0YXRpYyBsaWdodCBhbmQgZW5hYmxlIHNoYWRvd3NcbiAgICB0aGlzLmFyZWEuY3JlYXRlRW50aXR5KG5ldyBTdW5saWdodCgpKTtcbiAgICBhcmVhLnNjZW5lLmFkZChuZXcgVEhSRUUuQW1iaWVudExpZ2h0KDB4ZmZmZmZmLCAwLjUpKTtcbiAgICBhcmVhLmdhbWUucmVuZGVyZXIuc2hhZG93TWFwLmVuYWJsZWQgPSB0cnVlO1xuXG4gICAgLy8gQnVpbGQgdGhlIGNhbWVyYVxuICAgIHRoaXMuYXJlYS5nYW1lLmlucHV0LnBvaW50ZXJMb2NrRW5hYmxlZCA9IGZhbHNlO1xuICAgIHRoaXMuY2FtZXJhID0gbmV3IFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhKDUwLCBhcmVhLmdhbWUuY2FudmFzV2lkdGggLyBhcmVhLmdhbWUuY2FudmFzSGVpZ2h0LCAwLjAwMSwgMTAwMCk7XG4gICAgdGhpcy5hcmVhLmNhbWVyYSA9IHRoaXMuY2FtZXJhO1xuXG4gICAgLy8gU2V0IHRoZSBjYW1lcmEgcG9zaXRpb24gbWF6ZVxuICAgIGNvbnN0IHBvc2l0aW9uID0gdGhpcy50aWxlTG9jYXRpb25Ub1Bvc2l0aW9uKHRoaXMuY2FtZXJhUG9zWzBdLCB0aGlzLmNhbWVyYVBvc1sxXSk7XG4gICAgdGhpcy5jYW1lcmEucG9zaXRpb24uY29weShwb3NpdGlvbik7XG4gICAgdGhpcy5jYW1lcmEucG9zaXRpb24ueSA9IDIuNTtcbiAgICB0aGlzLmNhbWVyYS5wb3NpdGlvbi54IC09IDIuNTtcbiAgICB0aGlzLmNhbWVyYS5xdWF0ZXJuaW9uLnNldEZyb21FdWxlcihuZXcgVEhSRUUuRXVsZXIoTWF0aC5QSSAvIDMwLCBNYXRoLlBJIC8gMiwgMCwgJ1lYWicpKTtcblxuICAgIC8vIExvYWQgYW55IHNvdW5kc1xuICAgIHRoaXMudGl0bGVNdXNpYyA9IHRoaXMuYXJlYS5jcmVhdGVBdWRpbygnVGl0bGUnKTtcbiAgICB0aGlzLnRpdGxlTXVzaWMucGxheSh0cnVlKTtcblxuICAgIC8vIEFkZCBhbnkgb3RoZXIgb2JqZWN0c1xuICAgIHRoaXMuYXJlYS5jcmVhdGVFbnRpdHkobmV3IFN0YXJ0QnV0dG9uKCkpO1xuICAgIHRoaXMuYXJlYS5jcmVhdGVFbnRpdHkobmV3IEZhZGVJbkVmZmVjdCgzKSk7XG4gIH1cblxuICAvKipcbiAgICogQnVpbGQgYWxsIG9mIHRoZSBtYXplIG9iamVjdHNcbiAgICovXG4gIHByaXZhdGUgYnVpbGREdW1teU1hemUoKTogdm9pZCB7XG4gICAgLy8gQ2FsY3VsYXRlIHRoZSB0b3RhbCBudW1iZXIgb2Ygd2FsbHMgaW4gdGhlIG1hemVcbiAgICBjb25zdCBudW1XYWxscyA9IHRoaXMubWF6ZS5yZWR1Y2UoXG4gICAgICAobiwgcm93KSA9PiBuICsgcm93LnJlZHVjZSgobiwgY2VsbCkgPT4gbiArIE51bWJlcihjZWxsID09PSBNYXplT2JqZWN0LldhbGwpLCAwKSxcbiAgICAgIDAsXG4gICAgKTtcblxuICAgIC8vIFN0b3JlcyBhbGwgbWF6ZSB3YWxscyBpbnNpZGUgYSBzaW5nbGUgZW50aXR5XG4gICAgY29uc3Qgd2FsbEVudGl0eSA9IHRoaXMuYXJlYS5jcmVhdGVFbnRpdHkobmV3IE1hemVXYWxscyhudW1XYWxscywgdGhpcy5hcmVhKSk7XG5cbiAgICAvLyBDcmVhdGUgYWxsIG9mIHRoZSBpbnN0YW5jZXMgaW4gdGhlIG1hemVcbiAgICBmb3IgKGNvbnN0IFtyb3dJbmRleCwgcm93XSBvZiB0aGlzLm1hemUuZW50cmllcygpKSB7XG4gICAgICBmb3IgKGNvbnN0IFtjb2xJbmRleCwgY29sXSBvZiByb3cuZW50cmllcygpKSB7XG4gICAgICAgIHN3aXRjaCAoY29sKSB7XG4gICAgICAgICAgY2FzZSBNYXplT2JqZWN0LldhbGw6XG4gICAgICAgICAgICB3YWxsRW50aXR5LnN0YXRlLmFkZFdhbGwocm93SW5kZXgsIGNvbEluZGV4LCB0aGlzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSBNYXplT2JqZWN0LlBvcnRhbDpcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhUG9zID0gW3Jvd0luZGV4LCBjb2xJbmRleF07XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgIGNvbnN0IGNvbnN0cnVjdCA9IENPTlNUUlVDVE9SU1tjb2xdO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb25zdHJ1Y3QgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgIHRoaXMuYXJlYS5jcmVhdGVFbnRpdHkoY29uc3RydWN0KHJvd0luZGV4LCBjb2xJbmRleCwgdGhpcy5hcmVhKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBvblRpbWVyKF90aW1lckluZGV4OiBudW1iZXIpOiB2b2lkIHt9XG5cbiAgb25TdGVwKCk6IHZvaWQge1xuICAgIC8vIE1ha2Ugc3VyZSB0aGUgY2FtZXJhIGlzIHNjYWxlZCBwcm9wZXJseVxuICAgIHRoaXMuY2FtZXJhLmFzcGVjdCA9IHRoaXMuYXJlYS5nYW1lLmNhbnZhc1dpZHRoIC8gdGhpcy5hcmVhLmdhbWUuY2FudmFzSGVpZ2h0O1xuICAgIHRoaXMuY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcblxuICAgIC8vIEZpeCBmb3IgYXVkaW8gcGxheWluZ1xuICAgIGNvbnN0IGlucHV0ID0gdGhpcy5hcmVhLmdhbWUuaW5wdXQ7XG4gICAgaWYgKGlucHV0LmlzTW91c2VCdXR0b25Eb3duKE1vdXNlQnV0dG9uLkxlZnQpKSB7XG4gICAgICB0aGlzLnRpdGxlTXVzaWMuYXVkaW8uY29udGV4dC5yZXN1bWUoKTtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICBpbnB1dC5pc0tleVN0YXJ0ZWQoS2V5LkVudGVyKSB8fFxuICAgICAgaW5wdXQuaXNLZXlTdGFydGVkKEtleS5TcGFjZSkgfHxcbiAgICAgIGlucHV0LmlzR2FtZXBhZEJ1dHRvblN0YXJ0ZWQoMCwgR2FtZXBhZEJ1dHRvbi5BQ3Jvc3MpIHx8XG4gICAgICBpbnB1dC5pc0dhbWVwYWRCdXR0b25TdGFydGVkKDAsIEdhbWVwYWRCdXR0b24uWFNxdWFyZSkgfHxcbiAgICAgIGlucHV0LmlzR2FtZXBhZEJ1dHRvblN0YXJ0ZWQoMCwgR2FtZXBhZEJ1dHRvbi5ZVHJpYW5nbGUpIHx8XG4gICAgICBpbnB1dC5pc0dhbWVwYWRCdXR0b25TdGFydGVkKDAsIEdhbWVwYWRCdXR0b24uU3RhcnQpIHx8XG4gICAgICBpbnB1dC5nZXRHYW1lcGFkQXhpcygwLCBHYW1lcGFkQXhpcy5SaWdodFRyaWdnZXIpID4gMC41XG4gICAgKSB7XG4gICAgICB0aGlzLnN0YXJ0R2FtZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBQbGF5IHRoZSBnYW1lIVxuICAgKi9cbiAgcHVibGljIHN0YXJ0R2FtZSgpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuZHJhd1RpdGxlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQ2xlYXIgYW55IFVJIGVsZW1lbnRzXG4gICAgdGhpcy5kcmF3VGl0bGUgPSBmYWxzZTtcbiAgICBmb3IgKGNvbnN0IGJ1dHRvbiBvZiB0aGlzLmFyZWEuZmluZEVudGl0aWVzKCdzdGFydC1idXR0b24nKSkge1xuICAgICAgYnV0dG9uLmRlc3Ryb3koKTtcbiAgICB9XG5cbiAgICB0aGlzLmFyZWEuY3JlYXRlRW50aXR5KG5ldyBTdGFydEludHJvZHVjdGlvbigpKTtcbiAgfVxuXG4gIC8vLyBEcmF3IHRoZSB0aXRsZSBzY3JlZW5cbiAgb25EcmF3KGcyZDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmRyYXdUaXRsZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIERyYXcgdGhlIHRpdGxlIHRleHRcbiAgICBnMmQuZm9udCA9ICdib2xkIDY0cHQgc2VyaWYnO1xuICAgIGcyZC50ZXh0QWxpZ24gPSAnY2VudGVyJztcbiAgICBnMmQudGV4dEJhc2VsaW5lID0gJ3RvcCc7XG4gICAgZzJkLmZpbGxTdHlsZSA9ICcjMDM2OGZmJztcbiAgICBnMmQuZmlsbFRleHQoJ1RyYXBwZWQgSW5zaWRlJywgdGhpcy5hcmVhLm92ZXJsYXlXaWR0aCAvIDIsIDIwKTtcblxuICAgIGcyZC5iZWdpblBhdGgoKTtcbiAgICBnMmQuc3Ryb2tlU3R5bGUgPSAnYmxhY2snO1xuICAgIGcyZC5saW5lV2lkdGggPSAyO1xuICAgIGcyZC5zdHJva2VUZXh0KCdUcmFwcGVkIEluc2lkZScsIHRoaXMuYXJlYS5vdmVybGF5V2lkdGggLyAyLCAyMCk7XG4gICAgZzJkLnN0cm9rZSgpO1xuXG4gICAgY29uc3QgbWV0cmljcyA9IGcyZC5tZWFzdXJlVGV4dCgnVHJhcHBlZCBJbnNpZGUnKTtcbiAgICBnMmQuZm9udCA9ICcxOHB0IHNhbnMtc2VyaWYnO1xuICAgIGcyZC5maWxsU3R5bGUgPSAnd2hpdGUnO1xuICAgIGcyZC5maWxsVGV4dCgnQ3JlYXRlZCBieSBCcnlhbiBNY0NsYWluJywgdGhpcy5hcmVhLm92ZXJsYXlXaWR0aCAvIDIsIDQwICsgbWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveERlc2NlbnQpO1xuICB9XG59XG4iLCIvKipcbiAqIFBsYWluLW9sZCBkYXRhIGNsYXNzIGZvciBydW5uaW5nIHRoZSB0aW1lcnMgaW4gQXJlYSBhbmQgRW50aXR5LlxuICogVGhpcyBpcyBhbiBpbnRlcm5hbCBjbGFzcyB0byB0aGUgZW5naW5lIGFuZCBzaG91bGQgbm90IGJlIHVzZWQgZGlyZWN0bHkuXG4gKi9cbmV4cG9ydCBjbGFzcyBUaW1lckVudHJ5IHtcbiAgcHJpdmF0ZSB0aWNrc0xlZnQ6IG51bWJlcjtcbiAgcHJpdmF0ZSB0aWNrczogbnVtYmVyO1xuICBwcml2YXRlIGxvb3Bpbmc6IGJvb2xlYW47XG4gIHByaXZhdGUgcnVubmluZzogYm9vbGVhbjtcblxuICBjb25zdHJ1Y3Rvcih0aWNrczogbnVtYmVyLCBsb29waW5nOiBib29sZWFuKSB7XG4gICAgdGhpcy50aWNrc0xlZnQgPSB0aWNrcztcbiAgICB0aGlzLnRpY2tzID0gdGlja3M7XG4gICAgdGhpcy5sb29waW5nID0gbG9vcGluZztcbiAgICB0aGlzLnJ1bm5pbmcgPSB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIFRlc3Qgd2hldGhlciBvciBub3QgYSB0aW1lciBpcyBydW5uaW5nXG4gICAqIEByZXR1cm4gIFRpbWVyIHJ1bm5pbmdcbiAgICovXG4gIHB1YmxpYyBpc1J1bm5pbmcoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMucnVubmluZztcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIHRvIHBhdXNlIGFuZCByZXN1bWUgYSB0aW1lclxuICAgKiBAcGFyYW0gcnVubmluZyAgIFNldCB0aW1lciBydW5uaW5nXG4gICAqL1xuICBwdWJsaWMgc2V0UnVubmluZyhydW5uaW5nOiBib29sZWFuKTogdm9pZCB7XG4gICAgdGhpcy5ydW5uaW5nID0gcnVubmluZztcbiAgfVxuXG4gIC8qKlxuICAgKiBPbmUgdGljayBvbiB0aGUgdGltZXIuIFJldHVybnMgdHJ1ZSBpZiB0aGUgdGltZXIgc2hvdWxkIGZpcmUuXG4gICAqIEByZXR1cm5zIFRydWUgaWYgdGhlIHRpbWVyIHNob3VsZCBmaXJlXG4gICAqL1xuICBwdWJsaWMgdGljaygpOiBib29sZWFuIHtcbiAgICBzd2l0Y2ggKHRoaXMudGlja3NMZWZ0KSB7XG4gICAgICBjYXNlIDA6XG4gICAgICAgIHJldHVybiBmYWxzZTsgLy8gTm8gbW9yZSB0aWNrcyBsZWZ0IGluIHRpbWVyXG5cbiAgICAgIGNhc2UgMTpcbiAgICAgICAgaWYgKHRoaXMubG9vcGluZykge1xuICAgICAgICAgIHRoaXMudGlja3NMZWZ0ID0gdGhpcy50aWNrcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnRpY2tzTGVmdCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRoaXMudGlja3NMZWZ0IC09IDE7XG4gICAgICAgIHJldHVybiBmYWxzZTsgLy8gU3RpbGwgd2FpdGluZ1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuaW1wb3J0IHsgQXJlYSB9IGZyb20gJ2VuZ2luZS9hcmVhJztcbmltcG9ydCB7IFRpbWVyRW50cnkgfSBmcm9tICcuL3RpbWVyRW50cnknO1xuaW1wb3J0IHsgQ29sbGlzaW9uTWFzaywgRW1wdHlDb2xsaXNpb25NYXNrIH0gZnJvbSAnLi9jb2xsaXNpb24nO1xuXG4vKipcbiAqIEVhY2ggZW50aXR5IGluIHRoZSBnYW1lIG11c3QgaW1wbGVtZW50IHRoZSBlbnRpdHkgc3RhdGVcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBFbnRpdHlTdGF0ZSB7XG4gIC8vLyBMaXN0IG9mIHRhZ3MgdG8gcXVlcnkgZW50aXRpZXMgaW4gYW4gYXJlYVxuICAvLy8gU2V0IHRoaXMgdG8gYSBjb25zdGFudCB2YWx1ZSBvbiBvYmplY3QgaW5pdGlhbGl6YXRpb24uXG4gIHJlYWRvbmx5IHRhZ3M6IHN0cmluZ1tdO1xuXG4gIC8vLyBSZXR1cm5zIHRoZSBuZXdseSBjcmVhdGVkIGVudGl0eSBmb3IgdGhlIEVudGl0eVN0YXRlIHRvIHN0b3JlXG4gIG9uQ3JlYXRlKGVudGl0eTogRW50aXR5PHRoaXM+KTogdm9pZDtcblxuICBvbkRlc3Ryb3koKTogdm9pZDtcbiAgb25TdGVwKCk6IHZvaWQ7XG4gIG9uVGltZXIodGltZXJJbmRleDogbnVtYmVyKTogdm9pZDtcbiAgb25EcmF3KGcyZDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTogdm9pZDtcbn1cblxuLyoqXG4gKiBSZXByZXNlbnRzIGEgc2luZ2xlIG9iamVjdCBpbiBhbiBhcmVhIHRoYXQgaGFzIGludGVyYWN0aW9uLlxuICpcbiAqIFRoaXMgY2xhc3MgaXMgY29uc3RydWN0ZWQgYnkgdGhlIGdhbWUgZW5naW5lLFxuICogIHNvIHlvdSBkb24ndCBuZWVkIHRvIHdvcnJ5IGFib3V0IGNyZWF0aW5nIHRoaXMgbWFudWFsbHkuXG4gKi9cbmV4cG9ydCBjbGFzcyBFbnRpdHk8U3RhdGUgZXh0ZW5kcyBFbnRpdHlTdGF0ZSA9IEVudGl0eVN0YXRlPiB7XG4gIHB1YmxpYyByZWFkb25seSBhcmVhOiBBcmVhO1xuICBwdWJsaWMgcmVhZG9ubHkgc3RhdGU6IFN0YXRlO1xuICBwdWJsaWMgbWFzazogQ29sbGlzaW9uTWFzaztcblxuICAvKiBJbnRlcm5hbCBzdGF0ZSBvYmplY3RzICovXG4gIHByaXZhdGUgcmVhZG9ubHkgdGltZXJzID0gbmV3IE1hcDxudW1iZXIsIFRpbWVyRW50cnk+KCk7XG4gIHByaXZhdGUgX2lzRGVzdHJveWVkID0gZmFsc2U7XG4gIHByaXZhdGUgX29iamVjdDogVEhSRUUuT2JqZWN0M0QgfCBudWxsID0gbnVsbDtcblxuICAvKipcbiAgICogVGhpcyBjbGFzcyBpcyBjb25zdHJ1Y3RlZCBieSB0aGUgZ2FtZSBlbmdpbmUsXG4gICAqICBzbyB5b3UgZG9uJ3QgbmVlZCB0byB3b3JyeSBhYm91dCBjcmVhdGluZyB0aGlzIG1hbnVhbGx5LlxuICAgKi9cbiAgY29uc3RydWN0b3IoYXJlYTogQXJlYSwgc3RhdGU6IFN0YXRlKSB7XG4gICAgdGhpcy5hcmVhID0gYXJlYTtcbiAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgdGhpcy5tYXNrID0gbmV3IEVtcHR5Q29sbGlzaW9uTWFzaygpO1xuICB9XG5cbiAgLyoqXG4gICAqIE1hcmsgdGhpcyBlbnRpdHkgdG8gYmUgZGVzdHJveWVkIG9uIHRoZSBuZXh0IGdhbWUgdGlja1xuICAgKi9cbiAgcHVibGljIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgdGhpcy5faXNEZXN0cm95ZWQgPSB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIFJldHVybnMgdHJ1ZSBpZiB0aGlzIGVudGl0eSBoYXMgYWxyZWFkeSBiZWVuIGRlc3Ryb3llZFxuICAgKi9cbiAgcHVibGljIGdldCBpc0Rlc3Ryb3llZCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5faXNEZXN0cm95ZWQ7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSAzRCBvYmplY3QgYXNzb2NpYXRlZCB3aXRoIHRoaXMgZW50aXR5XG4gICAqL1xuICBwdWJsaWMgZ2V0IG9iamVjdCgpOiBUSFJFRS5PYmplY3QzRCB8IG51bGwge1xuICAgIHJldHVybiB0aGlzLl9vYmplY3Q7XG4gIH1cblxuICAvKipcbiAgICogUmVwbGFjZSB0aGUgM0Qgb2JqZWN0IGFzc29jaWF0ZWQgd2l0aCB0aGlzIGVudGl0eVxuICAgKi9cbiAgcHVibGljIHNldCBvYmplY3Qob2JqZWN0OiBUSFJFRS5PYmplY3QzRCB8IG51bGwpIHtcbiAgICAvLyBSZW1vdmUgdGhlIG9sZCBvYmplY3QsIGlmIGl0IGV4aXN0c1xuICAgIGlmICh0aGlzLl9vYmplY3QgIT09IG51bGwpIHtcbiAgICAgIHRoaXMuYXJlYS5zY2VuZS5yZW1vdmUodGhpcy5fb2JqZWN0KTtcbiAgICB9XG5cbiAgICAvLyBMb2FkIHRoZSBuZXcgb2JqZWN0XG4gICAgaWYgKG9iamVjdCAhPT0gbnVsbCkge1xuICAgICAgdGhpcy5hcmVhLnNjZW5lLmFkZChvYmplY3QpO1xuICAgIH1cbiAgICB0aGlzLl9vYmplY3QgPSBvYmplY3Q7XG4gIH1cblxuICAvKipcbiAgICogU2V0IGEgdGltZXIgdG8gZmlyZSBhZnRlciBhIGNlcnRhaW4gbnVtYmVyIG9mIGdhbWUgdGlja3MuXG4gICAqICBTYWZlIHRvIGNhbGwgZnJvbSB3aXRoaW4gdGhlIHRpbWVyRmlyZWQoKSBldmVudCBoYW5kbGVyLlxuICAgKlxuICAgKiBAcGFyYW0gaW5kZXggICAgVW5pcXVlIGluZGV4IGZvciB0aGUgdGltZXJcbiAgICogQHBhcmFtIHRpY2tzICAgIE51bWJlciBvZiB0aWNrcyB0byB3YWl0LiBNaW5pbXVtIGlzIDEuXG4gICAqIEBwYXJhbSBsb29waW5nICBTaG91bGQgdGltZXIgbG9vcCBmb3JldmVyP1xuICAgKi9cbiAgcHVibGljIHNldFRpbWVyKGluZGV4OiBudW1iZXIsIHRpY2tzOiBudW1iZXIsIGxvb3BpbmcgPSBmYWxzZSk6IHZvaWQge1xuICAgIGlmICh0aWNrcyA8IDEpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy50aW1lcnMuc2V0KGluZGV4LCBuZXcgVGltZXJFbnRyeSh0aWNrcywgbG9vcGluZykpO1xuICB9XG5cbiAgLyoqXG4gICAqIENsZWFyIGFuZCByZW1vdmUgdGhlIHRpbWVyLlxuICAgKiAgU2FmZSB0byBjYWxsIGZyb20gd2l0aGluIHRoZSB0aW1lckZpcmVkKCkgbWV0aG9kLlxuICAgKlxuICAgKiBAcGFyYW0gaW5kZXggICBVbmlxdWUgaW5kZXggZm9yIHRoZSB0aW1lclxuICAgKi9cbiAgcHVibGljIGNsZWFyVGltZXIoaW5kZXg6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMudGltZXJzLmRlbGV0ZShpbmRleCk7XG4gIH1cblxuICAvKipcbiAgICogVGVzdCBpZiB0d28gZW50aXRpZXMgYXJlIGNvbGxpZGluZyB3aXRoIGVhY2ggb3RoZXJcbiAgICpcbiAgICogQHBhcmFtIG90aGVyIE90aGVyIGVudGl0eSB0byBjaGVja1xuICAgKiBAcmV0dXJucyBUcnVlIGlmIHRoZXkgYXJlIGNvbGxpZGluZywgZmFsc2Ugb3RoZXJ3aXNlXG4gICAqL1xuICBwdWJsaWMgaXNDb2xsaWRpbmdXaXRoKG90aGVyOiBFbnRpdHk8RW50aXR5U3RhdGU+KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMubWFzay5pc0NvbGxpZGluZ1dpdGgob3RoZXIubWFzayk7XG4gIH1cblxuICAvLyA9PT09IEludGVybmFsIE1ldGhvZHMgTGlzdGVkIEJlbG93ID09PT1cblxuICAvKipcbiAgICogUnVuIHRoZSBvbkNyZWF0ZSgpIGV2ZW50IGhhbmRsZXIuXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIGlzIHVzZWQgaW50ZXJuYWxseSBieSB0aGUgZ2FtZSBlbmdpbmUgYW5kXG4gICAqICBzaG91bGQgTk9UIGJlIGNhbGxlZCBkaXJlY3RseSFcbiAgICovXG4gIF9jcmVhdGUoKTogdm9pZCB7XG4gICAgdGhpcy5zdGF0ZS5vbkNyZWF0ZSh0aGlzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSdW4gdGhlIG9uRGVzdHJveSgpIGV2ZW50IGhhbmRsZXIuXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIGlzIHVzZWQgaW50ZXJuYWxseSBieSB0aGUgZ2FtZSBlbmdpbmUgYW5kXG4gICAqICBzaG91bGQgTk9UIGJlIGNhbGxlZCBkaXJlY3RseSFcbiAgICovXG4gIF9kZXN0cm95KCk6IHZvaWQge1xuICAgIHRoaXMuc3RhdGUub25EZXN0cm95KCk7XG4gICAgdGhpcy5tYXNrLnNob3dNYXNrID0gZmFsc2U7IC8qIENsZWFuIHVwIG1hc2sgcmVzb3VyY2VzICovXG5cbiAgICBpZiAodGhpcy5fb2JqZWN0ICE9PSBudWxsKSB7XG4gICAgICB0aGlzLmFyZWEuc2NlbmUucmVtb3ZlKHRoaXMuX29iamVjdCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJ1biB0aGUgb25UaW1lcigpIGV2ZW50IGhhbmRsZXJzIGZvciB0aGlzIGVudGl0eS5cbiAgICpcbiAgICogVGhpcyBtZXRob2QgaXMgdXNlZCBpbnRlcm5hbGx5IGJ5IHRoZSBnYW1lIGVuZ2luZSBhbmRcbiAgICogIHNob3VsZCBOT1QgYmUgY2FsbGVkIGRpcmVjdGx5IVxuICAgKi9cbiAgX3RpY2tUaW1lcnMoKTogdm9pZCB7XG4gICAgY29uc3QgdGltZXJzRmlyZWQgPSBbXTtcbiAgICBmb3IgKGNvbnN0IFtpbmRleCwgdGltZXJdIG9mIHRoaXMudGltZXJzKSB7XG4gICAgICBpZiAodGltZXIuaXNSdW5uaW5nKCkpIHtcbiAgICAgICAgaWYgKHRpbWVyLnRpY2soKSkge1xuICAgICAgICAgIHRpbWVyc0ZpcmVkLnB1c2goaW5kZXgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBpbmRleCBvZiB0aW1lcnNGaXJlZCkge1xuICAgICAgdGhpcy5zdGF0ZS5vblRpbWVyKGluZGV4KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUnVuIHRoZSBvblN0ZXAoKSBldmVudCBoYW5kbGVyLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBpcyB1c2VkIGludGVybmFsbHkgYnkgdGhlIGdhbWUgZW5naW5lIGFuZFxuICAgKiAgc2hvdWxkIE5PVCBiZSBjYWxsZWQgZGlyZWN0bHkhXG4gICAqL1xuICBfc3RlcCgpOiB2b2lkIHtcbiAgICB0aGlzLnN0YXRlLm9uU3RlcCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJ1biB0aGUgb25EcmF3KCkgZXZlbnQgaGFuZGxlci5cbiAgICpcbiAgICogVGhpcyBtZXRob2QgaXMgdXNlZCBpbnRlcm5hbGx5IGJ5IHRoZSBnYW1lIGVuZ2luZSBhbmRcbiAgICogIHNob3VsZCBOT1QgYmUgY2FsbGVkIGRpcmVjdGx5IVxuICAgKi9cbiAgX2RyYXcoZzJkOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpOiB2b2lkIHtcbiAgICB0aGlzLnN0YXRlLm9uRHJhdyhnMmQpO1xuICB9XG59XG4iLCJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XG5cbi8qKlxuICogV3JhcHBlciBhcm91bmQgdGhlIFRIUkVFLmpzIGF1ZGlvIHR5cGUgdGhhdCBtYWtlcyBpdCBlYXNpZXIgdG8gd29yayB3aXRoXG4gKi9cbmV4cG9ydCBjbGFzcyBBdWRpb1dyYXBwZXI8QXVkaW8gZXh0ZW5kcyBUSFJFRS5BdWRpbzxBdWRpb05vZGU+ID0gVEhSRUUuQXVkaW8+IHtcbiAgcHVibGljIHJlYWRvbmx5IGF1ZGlvOiBBdWRpbztcblxuICBjb25zdHJ1Y3RvcihhdWRpbzogQXVkaW8pIHtcbiAgICB0aGlzLmF1ZGlvID0gYXVkaW87XG4gIH1cblxuICBwdWJsaWMgZ2V0IHZvbHVtZSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmF1ZGlvLmdldFZvbHVtZSgpO1xuICB9XG5cbiAgcHVibGljIHNldCB2b2x1bWUodm9sdW1lOiBudW1iZXIpIHtcbiAgICB0aGlzLmF1ZGlvLnNldFZvbHVtZSh2b2x1bWUpO1xuICB9XG5cbiAgcHVibGljIGdldCBsb29wKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmF1ZGlvLmdldExvb3AoKTtcbiAgfVxuXG4gIHB1YmxpYyBzZXQgbG9vcChsb29wOiBib29sZWFuKSB7XG4gICAgdGhpcy5hdWRpby5zZXRMb29wKGxvb3ApO1xuICB9XG5cbiAgcHVibGljIGdldCBpc1BsYXlpbmcoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuYXVkaW8uaXNQbGF5aW5nO1xuICB9XG5cbiAgLyoqXG4gICAqIFBsYXkgdGhlIGF1ZGlvLCBzdG9wcGluZyBhbnkgZXhpc3RpbmcgYXVkaW8gaWYgaXQgaXMgYWxyZWFkeSBwbGF5aW5nXG4gICAqXG4gICAqIEBwYXJhbSBsb29waW5nIE9wdGlvbmFsbHkgc2V0IHRoZSB2YWx1ZSBvZiBsb29waW5nIGlmIHByb3ZpZGVkXG4gICAqL1xuICBwdWJsaWMgcGxheShsb29waW5nPzogYm9vbGVhbik6IHZvaWQge1xuICAgIGlmICh0aGlzLmF1ZGlvLmlzUGxheWluZykge1xuICAgICAgdGhpcy5hdWRpby5zdG9wKCk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBsb29waW5nICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5sb29wID0gbG9vcGluZztcbiAgICB9XG5cbiAgICB0aGlzLmF1ZGlvLnBsYXkoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdG9wIHBsYXlpbmcgdGhlIGF1ZGlvIGlmIGl0IGlzIGN1cnJlbnRseSBwbGF5aW5nLlxuICAgKiBPdGhlcndpc2UsIHRoaXMgbWV0aG9kIGhhcyBubyBlZmZlY3QuXG4gICAqL1xuICBwdWJsaWMgc3RvcCgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5hdWRpby5pc1BsYXlpbmcpIHtcbiAgICAgIHRoaXMuYXVkaW8uc3RvcCgpO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgR2FtZSB9IGZyb20gJ2VuZ2luZS9nYW1lJztcbmltcG9ydCB7IEVudGl0eSwgRW50aXR5U3RhdGUgfSBmcm9tICdlbmdpbmUvZW50aXR5JztcbmltcG9ydCB7IFRpbWVyRW50cnkgfSBmcm9tICcuL3RpbWVyRW50cnknO1xuaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuaW1wb3J0IHsgQXVkaW9XcmFwcGVyIH0gZnJvbSAnLi9hdWRpbyc7XG5pbXBvcnQgeyBQb3NpdGlvbmFsQXVkaW8gfSBmcm9tICd0aHJlZSc7XG5cbi8qKlxuICogTWV0aG9kcyByZXF1aXJlZCB0byBlbmNhcHN1bGF0ZSBhbiBhcmVhIGluIHRoZSBnYW1lXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQXJlYVN0YXRlIHtcbiAgLy8vIFJldHVybnMgdGhlIG5ld2x5IGNyZWF0ZWQgYXJlYSBvYmplY3QgZm9yIHRoZSBBcmVhU3RhdGUgdG8gc3RvcmVcbiAgb25DcmVhdGUoYXJlYTogQXJlYTx0aGlzPik6IHZvaWQ7XG5cbiAgb25UaW1lcih0aW1lckluZGV4OiBudW1iZXIpOiB2b2lkO1xuICBvblN0ZXAoKTogdm9pZDtcbiAgb25EcmF3KGcyZDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTogdm9pZDtcbn1cblxuLyoqXG4gKiBSZXByZXNlbnRzIGEgY29sbGVjdGlvbiBvZiAzRCBvYmplY3RzIGluIGEgc2luZ2xlIFwiU2NlbmVcIi5cbiAqXG4gKiBUaGlzIGNsYXNzIGlzIGNvbnN0cnVjdGVkIGJ5IHRoZSBnYW1lIGVuZ2luZSxcbiAqICBzbyB5b3UgZG9uJ3QgbmVlZCB0byB3b3JyeSBhYm91dCBjcmVhdGluZyB0aGlzIG1hbnVhbGx5LlxuICovXG5leHBvcnQgY2xhc3MgQXJlYTxTdGF0ZSBleHRlbmRzIEFyZWFTdGF0ZSA9IEFyZWFTdGF0ZT4ge1xuICBwdWJsaWMgcmVhZG9ubHkgZ2FtZTogR2FtZTtcbiAgcHVibGljIHJlYWRvbmx5IHN0YXRlOiBTdGF0ZTtcbiAgcHVibGljIHJlYWRvbmx5IHNjZW5lOiBUSFJFRS5TY2VuZTtcblxuICAvKiBIYW5kbGUgYXVkaW8gaW4gdGhlIHNjZW5lICovXG4gIHB1YmxpYyByZWFkb25seSBhdWRpb0xpc3RlbmVyOiBUSFJFRS5BdWRpb0xpc3RlbmVyO1xuXG4gIC8vIEhhcyBjdXN0b20gZ2V0L3NldCBtZXRob2RzIHRvIHVwZGF0ZSB0aGUgYXVkaW8gbGlzdGVuZXJcbiAgcHJpdmF0ZSBfY2FtZXJhOiBUSFJFRS5DYW1lcmE7XG5cbiAgLyogTGlzdCBvZiBhbGwgZW50aXRpZXMgaW4gdGhlIHNjZW5lICovXG4gIHByaXZhdGUgcmVhZG9ubHkgYWxsRW50aXRpZXMgPSBuZXcgU2V0PEVudGl0eT4oKTtcbiAgcHJpdmF0ZSByZWFkb25seSB0YWdnZWRFbnRpdGllcyA9IG5ldyBNYXA8c3RyaW5nLCBTZXQ8RW50aXR5Pj4oKTtcblxuICAvKiBMaXN0IG9mIGVudGl0aWVzIHRvIGNyZWF0ZSBhZnRlciB0aGUgbmV4dCBnYW1lIFwidGlja1wiICovXG4gIHByaXZhdGUgdG9DcmVhdGUgPSBuZXcgU2V0PEVudGl0eT4oKTtcblxuICAvKiBIYW5kbGUgdGltZXJzICovXG4gIHByaXZhdGUgcmVhZG9ubHkgdGltZXJzID0gbmV3IE1hcDxudW1iZXIsIFRpbWVyRW50cnk+KCk7XG5cbiAgLyogT3ZlcmxheSBkcmF3aW5nIChEZWZhdWx0IHJlc29sdXRpb24gaXMgMTY6OSkgKi9cbiAgcHVibGljIG92ZXJsYXlXaWR0aCA9IDc2ODtcbiAgcHVibGljIG92ZXJsYXlIZWlnaHQgPSA0MzI7XG5cbiAgLyoqXG4gICAqIFRoaXMgY2xhc3MgaXMgY29uc3RydWN0ZWQgYnkgdGhlIGdhbWUgZW5naW5lLFxuICAgKiAgc28geW91IGRvbid0IG5lZWQgdG8gd29ycnkgYWJvdXQgY3JlYXRpbmcgdGhpcyBtYW51YWxseS5cbiAgICovXG4gIGNvbnN0cnVjdG9yKGdhbWU6IEdhbWUsIHN0YXRlOiBTdGF0ZSkge1xuICAgIHRoaXMuZ2FtZSA9IGdhbWU7XG4gICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuXG4gICAgdGhpcy5zY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpO1xuICAgIHRoaXMuYXVkaW9MaXN0ZW5lciA9IG5ldyBUSFJFRS5BdWRpb0xpc3RlbmVyKCk7XG4gICAgdGhpcy5fY2FtZXJhID0gbmV3IFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhKCk7XG4gICAgdGhpcy5fY2FtZXJhLmFkZCh0aGlzLmF1ZGlvTGlzdGVuZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbWFpbiBjYW1lcmEgdXNlZCBieSB0aGUgc2NlbmVcbiAgICovXG4gIHB1YmxpYyBnZXQgY2FtZXJhKCk6IFRIUkVFLkNhbWVyYSB7XG4gICAgcmV0dXJuIHRoaXMuX2NhbWVyYTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgdGhlIG1haW4gY2FtZXJhIHVzZWQgYnkgdGhlIHNjZW5lLlxuICAgKiBBbHNvIHVwZGF0ZXMgdGhlIEF1ZGlvTWFuYWdlciBmb3IgdGhpcyBzY2VuZS5cbiAgICovXG4gIHB1YmxpYyBzZXQgY2FtZXJhKG5ld0NhbWVyYTogVEhSRUUuQ2FtZXJhKSB7XG4gICAgdGhpcy5fY2FtZXJhLnJlbW92ZSh0aGlzLmF1ZGlvTGlzdGVuZXIpO1xuICAgIG5ld0NhbWVyYS5hZGQodGhpcy5hdWRpb0xpc3RlbmVyKTtcbiAgICB0aGlzLl9jYW1lcmEgPSBuZXdDYW1lcmE7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IGVudGl0eSBvbiB0aGUgbmV4dCBnYW1lIHRpY2suXG4gICAqXG4gICAqIEFsdGhvdWdoIGl0IHJldHVybnMgYW4gZW50aXR5IG9iamVjdCwgdGhpcyBlbnRpdHkgd2lsbCBub3QgYWN0dWFsbHlcbiAgICogIGJlIGluIHRoZSByb29tIHVudGlsIHRoZSBuZXh0IGdhbWUgdGljay5cbiAgICpcbiAgICogQHBhcmFtIGVudGl0eSBFbnRpdHkgdG8gY3JlYXRlXG4gICAqIEByZXR1cm5zIFRoZSBuZXdseSBjcmVhdGVkIGVudGl0eSBvYmplY3RcbiAgICovXG4gIHB1YmxpYyBjcmVhdGVFbnRpdHk8VCBleHRlbmRzIEVudGl0eVN0YXRlPihlbnRpdHk6IFQpOiBFbnRpdHk8VD4ge1xuICAgIGNvbnN0IG5ld0VudGl0eSA9IG5ldyBFbnRpdHkodGhpcywgZW50aXR5KTtcbiAgICB0aGlzLnRvQ3JlYXRlLmFkZChuZXdFbnRpdHkpO1xuICAgIHJldHVybiBuZXdFbnRpdHk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBsaXN0IG9mIGFsbCBlbnRpdGllcyBpbiB0aGUgc2NlbmVcbiAgICogQHJldHVybnMgQXJyYXkgb2YgYWxsIGVudGl0aWVzXG4gICAqL1xuICBwdWJsaWMgZ2V0QWxsRW50aXRpZXMoKTogRW50aXR5W10ge1xuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuYWxsRW50aXRpZXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEZpbmQgYWxsIGVudGl0aWVzIHRoYXQgaGF2ZSB0aGUgZ2l2ZW4gc3RyaW5nIHRhZ1xuICAgKlxuICAgKiBAcGFyYW0gdGFnIFN0cmluZyB0YWcgdG8gc2VhcmNoIGZvclxuICAgKiBAcmV0dXJucyBMaXN0IG9mIGFsbCBlbnRpdGllcyB0aGF0IGhhdmUgdGhpcyB0YWdcbiAgICovXG4gIHB1YmxpYyBmaW5kRW50aXRpZXModGFnOiBzdHJpbmcpOiBFbnRpdHlbXSB7XG4gICAgaWYgKCF0aGlzLnRhZ2dlZEVudGl0aWVzLmhhcyh0YWcpKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMudGFnZ2VkRW50aXRpZXMuZ2V0KHRhZykpO1xuICB9XG5cbiAgLyoqXG4gICAqIEZpbmQgdGhlIGZpcnN0IGluc3RhbmNlIG9mIHRoZSBlbnRpdHksIG9yIG51bGwgaWYgdGhlcmUgYXJlIG5vIGluc3RhbmNlc1xuICAgKlxuICAgKiBAcGFyYW0gdGFnIFN0cmluZyB0YWcgdG8gc2VhcmNoIGZvclxuICAgKiBAcmV0dXJuICAgIEZpcnN0IGZvdW5kIGVudGl0eSB0aGF0IG1hdGNoIHRoZSB0YWcsIG9yIG51bGxcbiAgICovXG4gIHB1YmxpYyBmaW5kRmlyc3RFbnRpdHkodGFnOiBzdHJpbmcpOiBFbnRpdHkgfCBudWxsIHtcbiAgICBpZiAoIXRoaXMudGFnZ2VkRW50aXRpZXMuaGFzKHRhZykpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGNvbnN0IGVudGl0aWVzID0gdGhpcy50YWdnZWRFbnRpdGllcy5nZXQodGFnKTtcbiAgICBjb25zdCBmaXJzdEVudHJ5ID0gZW50aXRpZXMudmFsdWVzKCkubmV4dCgpO1xuICAgIGlmIChmaXJzdEVudHJ5LmRvbmUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmlyc3RFbnRyeS52YWx1ZTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0IGEgdGltZXIgdG8gZmlyZSBhZnRlciBhIGNlcnRhaW4gbnVtYmVyIG9mIGdhbWUgdGlja3MuXG4gICAqICBTYWZlIHRvIGNhbGwgZnJvbSB3aXRoaW4gdGhlIHRpbWVyRmlyZWQoKSBldmVudCBoYW5kbGVyLlxuICAgKlxuICAgKiBAcGFyYW0gaW5kZXggICAgVW5pcXVlIGluZGV4IGZvciB0aGUgdGltZXJcbiAgICogQHBhcmFtIHRpY2tzICAgIE51bWJlciBvZiB0aWNrcyB0byB3YWl0LiBNaW5pbXVtIGlzIDEuXG4gICAqIEBwYXJhbSBsb29waW5nICBTaG91bGQgdGltZXIgbG9vcCBmb3JldmVyP1xuICAgKi9cbiAgcHVibGljIHNldFRpbWVyKGluZGV4OiBudW1iZXIsIHRpY2tzOiBudW1iZXIsIGxvb3Bpbmc6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICBpZiAodGlja3MgPCAxKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMudGltZXJzLnNldChpbmRleCwgbmV3IFRpbWVyRW50cnkodGlja3MsIGxvb3BpbmcpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhciBhbmQgcmVtb3ZlIHRoZSB0aW1lci5cbiAgICogIFNhZmUgdG8gY2FsbCBmcm9tIHdpdGhpbiB0aGUgdGltZXJGaXJlZCgpIG1ldGhvZC5cbiAgICpcbiAgICogQHBhcmFtIGluZGV4ICAgVW5pcXVlIGluZGV4IGZvciB0aGUgdGltZXJcbiAgICovXG4gIHB1YmxpYyBjbGVhclRpbWVyKGluZGV4OiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLnRpbWVycy5kZWxldGUoaW5kZXgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEhlbHBlciBtZXRob2QgdG8gY29uc3RydWN0IGEgbmV3IGF1ZGlvIGZyb20gYW4gQXVkaW9CdWZmZXIgb3IgYXNzZXQgbmFtZS5cbiAgICogVXNlcyB0aGUgY2FtZXJhIGFzIHRoZSBsaXN0ZW5lciBmb3IgdGhpcyBhdWRpby5cbiAgICpcbiAgICogQHBhcmFtIGJ1ZmZlciBBdWRpbyBidWZmZXIgb3IgYXVkaW8gYXNzZXQgbmFtZVxuICAgKiBAcmV0dXJucyBOZXdseSBjb25zdHJ1Y3RlZCBhdWRpb1xuICAgKi9cbiAgcHVibGljIGNyZWF0ZUF1ZGlvKGJ1ZmZlcjogQXVkaW9CdWZmZXIgfCBzdHJpbmcpOiBBdWRpb1dyYXBwZXI8VEhSRUUuQXVkaW8+IHtcbiAgICBjb25zdCBhdWRpbyA9IG5ldyBUSFJFRS5BdWRpbyh0aGlzLmF1ZGlvTGlzdGVuZXIpO1xuICAgIGlmIChidWZmZXIgaW5zdGFuY2VvZiBBdWRpb0J1ZmZlcikge1xuICAgICAgYXVkaW8uYnVmZmVyID0gYnVmZmVyO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGJ1ZmZlciA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGF1ZGlvLmJ1ZmZlciA9IHRoaXMuZ2FtZS5hc3NldHMuZ2V0QXVkaW8oYnVmZmVyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IEF1ZGlvV3JhcHBlcihhdWRpbyk7XG4gIH1cblxuICAvKipcbiAgICogSGVscGVyIG1ldGhvZCB0byBjb25zdHJ1Y3QgYSBuZXcgcG9zaXRpb25hbCBhdWRpbyBmcm9tIGFuIEF1ZGlvQnVmZmVyIG9yIGFuIGFzc2V0IG5hbWUuXG4gICAqIFVzZXMgdGhlIGNhbWVyYSBhcyB0aGUgbGlzdGVuZXIgZm9yIHRoaXMgYXVkaW8uXG4gICAqXG4gICAqIEBwYXJhbSBidWZmZXIgQXVkaW8gYnVmZmVyIG9yIGF1ZGlvIGFzc2V0IG5hbWVcbiAgICogQHJldHVybnMgTmV3bHkgY29uc3RydWN0ZWQgYXVkaW9cbiAgICovXG4gIHB1YmxpYyBjcmVhdGVQb3NpdGlvbmFsQXVkaW8oYnVmZmVyOiBBdWRpb0J1ZmZlciB8IHN0cmluZyk6IEF1ZGlvV3JhcHBlcjxQb3NpdGlvbmFsQXVkaW8+IHtcbiAgICBjb25zdCBhdWRpbyA9IG5ldyBUSFJFRS5Qb3NpdGlvbmFsQXVkaW8odGhpcy5hdWRpb0xpc3RlbmVyKTtcbiAgICBpZiAoYnVmZmVyIGluc3RhbmNlb2YgQXVkaW9CdWZmZXIpIHtcbiAgICAgIGF1ZGlvLmJ1ZmZlciA9IGJ1ZmZlcjtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBidWZmZXIgPT09ICdzdHJpbmcnKSB7XG4gICAgICBhdWRpby5idWZmZXIgPSB0aGlzLmdhbWUuYXNzZXRzLmdldEF1ZGlvKGJ1ZmZlcik7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBBdWRpb1dyYXBwZXIoYXVkaW8pO1xuICB9XG5cbiAgLy8gPT09PSBJbnRlcm5hbCBNZXRob2RzIExpc3RlZCBCZWxvdyA9PT09XG5cbiAgLyoqXG4gICAqIFJ1biB0aGUgb25UaW1lcigpIGV2ZW50IGhhbmRsZXJzIGZvciB0aGlzIGFyZWEuXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIGlzIHVzZWQgaW50ZXJuYWxseSBieSB0aGUgZ2FtZSBlbmdpbmUgYW5kXG4gICAqICBzaG91bGQgTk9UIGJlIGNhbGxlZCBkaXJlY3RseSFcbiAgICovXG4gIF90aWNrVGltZXJzKCk6IHZvaWQge1xuICAgIGNvbnN0IHRpbWVyc0ZpcmVkID0gW107XG4gICAgZm9yIChjb25zdCBbaW5kZXgsIHRpbWVyXSBvZiB0aGlzLnRpbWVycykge1xuICAgICAgaWYgKHRpbWVyLmlzUnVubmluZygpKSB7XG4gICAgICAgIGlmICh0aW1lci50aWNrKCkpIHtcbiAgICAgICAgICB0aW1lcnNGaXJlZC5wdXNoKGluZGV4KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAoY29uc3QgaW5kZXggb2YgdGltZXJzRmlyZWQpIHtcbiAgICAgIHRoaXMuc3RhdGUub25UaW1lcihpbmRleCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhbGwgZW50aXRpZXMgaW5zaWRlIHRoZSBidWZmZXJcbiAgICpcbiAgICogVGhpcyBtZXRob2QgaXMgdXNlZCBpbnRlcm5hbGx5IGJ5IHRoZSBnYW1lIGVuZ2luZSBhbmRcbiAgICogIHNob3VsZCBOT1QgYmUgY2FsbGVkIGRpcmVjdGx5IVxuICAgKi9cbiAgX2NyZWF0ZUVudGl0aWVzKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLnRvQ3JlYXRlLnNpemUgPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBBZGQgZXZlcnkgZW50aXR5IHRvIHRoZSBtYXBcbiAgICBmb3IgKGNvbnN0IGVudGl0eSBvZiB0aGlzLnRvQ3JlYXRlKSB7XG4gICAgICB0aGlzLmFkZEVudGl0eVRvQXJlYShlbnRpdHkpO1xuICAgIH1cblxuICAgIC8vIENsZWFyIHRoZSBsaXN0IG9mIGNyZWF0ZWQgZW50aXRpZXNcbiAgICBjb25zdCBjcmVhdGVkID0gdGhpcy50b0NyZWF0ZTtcbiAgICB0aGlzLnRvQ3JlYXRlID0gbmV3IFNldCgpO1xuXG4gICAgLy8gQ2FsbCB0aGUgXCJvbkNyZWF0ZVwiIGhhbmRsZXIgZm9yIGVhY2ggbmV3IGVudGl0eVxuICAgIGZvciAoY29uc3QgZW50aXR5IG9mIGNyZWF0ZWQpIHtcbiAgICAgIGVudGl0eS5fY3JlYXRlKCk7XG4gICAgfVxuICB9XG5cbiAgLy8vIFVwZGF0ZSB0aGUgaW50ZXJuYWwgbWFwcyBhbmQgc2V0cyB3aXRoIHRoZSBuZXcgZW50aXR5XG4gIHByaXZhdGUgYWRkRW50aXR5VG9BcmVhKGVudGl0eTogRW50aXR5KTogdm9pZCB7XG4gICAgdGhpcy5hbGxFbnRpdGllcy5hZGQoZW50aXR5KTtcblxuICAgIGZvciAoY29uc3QgdGFnIG9mIGVudGl0eS5zdGF0ZS50YWdzKSB7XG4gICAgICB0aGlzLmFkZFRhZ2dlZEVudGl0eVRvTWFwKGVudGl0eSwgdGFnKTtcbiAgICB9XG4gIH1cblxuICAvLy8gQWRkIHRoZSBlbnRpdHkgdG8gb25lIG9mIHRoZSBjb3JyZXNwb25kaW5nIHNldCB0YWdzXG4gIHByaXZhdGUgYWRkVGFnZ2VkRW50aXR5VG9NYXAoZW50aXR5OiBFbnRpdHksIHRhZzogc3RyaW5nKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLnRhZ2dlZEVudGl0aWVzLmhhcyh0YWcpKSB7XG4gICAgICB0aGlzLnRhZ2dlZEVudGl0aWVzLnNldCh0YWcsIG5ldyBTZXQoKSk7XG4gICAgfVxuXG4gICAgY29uc3Qgc2V0ID0gdGhpcy50YWdnZWRFbnRpdGllcy5nZXQodGFnKTtcbiAgICBzZXQuYWRkKGVudGl0eSk7XG4gIH1cblxuICAvKipcbiAgICogRGVzdHJveSBhbGwgZW50aXRpZXMgbWFya2VkIGZvciBkZWxldGlvbi5cbiAgICpcbiAgICogVGhpcyBtZXRob2QgaXMgdXNlZCBpbnRlcm5hbGx5IGJ5IHRoZSBnYW1lIGVuZ2luZSBhbmRcbiAgICogIHNob3VsZCBOT1QgYmUgY2FsbGVkIGRpcmVjdGx5IVxuICAgKi9cbiAgX2Rlc3Ryb3lFbnRpdGllcygpOiB2b2lkIHtcbiAgICAvLyBHZXQgYWxsIGVudGl0aWVzIG1hcmtlZCBmb3IgZGVsZXRpb25cbiAgICBjb25zdCB0b0Rlc3Ryb3kgPSBbXTtcbiAgICBmb3IgKGNvbnN0IGVudGl0eSBvZiB0aGlzLmFsbEVudGl0aWVzKSB7XG4gICAgICBpZiAoZW50aXR5LmlzRGVzdHJveWVkKSB7XG4gICAgICAgIHRvRGVzdHJveS5wdXNoKGVudGl0eSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQWN0dWFsbHkgcmVtb3ZlIHRoZSBlbnRpdGllc1xuICAgIGZvciAoY29uc3QgZW50aXR5IG9mIHRvRGVzdHJveSkge1xuICAgICAgdGhpcy5yZW1vdmVFbnRpdHlGcm9tQXJlYShlbnRpdHkpO1xuICAgIH1cblxuICAgIC8vIENhbGwgdGhlIFwib25EZXN0cm95XCIgZXZlbnQgaGFuZGxlciBmb3IgZWFjaCBlbnRpdHlcbiAgICBmb3IgKGNvbnN0IGVudGl0eSBvZiB0b0Rlc3Ryb3kpIHtcbiAgICAgIGVudGl0eS5fZGVzdHJveSgpO1xuICAgIH1cbiAgfVxuXG4gIC8vLyBVcGRhdGUgdGhlIGludGVybmFsIG1hcHMgYW5kIHNldHMgdG8gbm8gbG9uZ2VyIHN0b3JlIHRoZSBlbnRpdHlcbiAgcHJpdmF0ZSByZW1vdmVFbnRpdHlGcm9tQXJlYShlbnRpdHk6IEVudGl0eSk6IHZvaWQge1xuICAgIHRoaXMuYWxsRW50aXRpZXMuZGVsZXRlKGVudGl0eSk7XG5cbiAgICBmb3IgKGNvbnN0IHRhZyBvZiBlbnRpdHkuc3RhdGUudGFncykge1xuICAgICAgdGhpcy5yZW1vdmVUYWdnZWRFbnRpdHlGcm9tTWFwKGVudGl0eSwgdGFnKTtcbiAgICB9XG4gIH1cblxuICAvLy8gUmVtb3ZlIHRoZSBlbnRpdHkgdG8gb25lIG9mIHRoZSBjb3JyZXNwb25kaW5nIHNldCB0YWdzXG4gIHByaXZhdGUgcmVtb3ZlVGFnZ2VkRW50aXR5RnJvbU1hcChlbnRpdHk6IEVudGl0eSwgdGFnOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMudGFnZ2VkRW50aXRpZXMuaGFzKHRhZykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBzZXQgPSB0aGlzLnRhZ2dlZEVudGl0aWVzLmdldCh0YWcpO1xuICAgIHNldC5kZWxldGUoZW50aXR5KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSdW4gdGhlIG9uVGltZXIoKSBldmVudCBoYW5kbGVyIGZvciBhbGwgZW50aXRpZXMuXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIGlzIHVzZWQgaW50ZXJuYWxseSBieSB0aGUgZ2FtZSBlbmdpbmUgYW5kXG4gICAqICBzaG91bGQgTk9UIGJlIGNhbGxlZCBkaXJlY3RseSFcbiAgICovXG4gIF90aWNrRW50aXR5VGltZXJzKCk6IHZvaWQge1xuICAgIGZvciAoY29uc3QgZW50aXR5IG9mIHRoaXMuYWxsRW50aXRpZXMpIHtcbiAgICAgIGVudGl0eS5fdGlja1RpbWVycygpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSdW4gdGhlIG9uU3RlcCgpIGV2ZW50IGhhbmRsZXIgZm9yIGFsbCBlbnRpdGllcy5cbiAgICpcbiAgICogVGhpcyBtZXRob2QgaXMgdXNlZCBpbnRlcm5hbGx5IGJ5IHRoZSBnYW1lIGVuZ2luZSBhbmRcbiAgICogIHNob3VsZCBOT1QgYmUgY2FsbGVkIGRpcmVjdGx5IVxuICAgKi9cbiAgX3N0ZXBFbnRpdGllcygpOiB2b2lkIHtcbiAgICBmb3IgKGNvbnN0IGVudGl0eSBvZiB0aGlzLmFsbEVudGl0aWVzKSB7XG4gICAgICBlbnRpdHkuX3N0ZXAoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUnVuIHRoZSBzY2VuZSBpbiBUSFJFRS5qcywgdGhlbiBkcmF3IG92ZXIgYW55IG90aGVyIGVsZW1lbnRzXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIGlzIHVzZWQgaW50ZXJuYWxseSBieSB0aGUgZ2FtZSBlbmdpbmUgYW5kXG4gICAqICBzaG91bGQgTk9UIGJlIGNhbGxlZCBkaXJlY3RseSFcbiAgICovXG4gIF9kcmF3U2NlbmUocmVuZGVyZXI6IFRIUkVFLlJlbmRlcmVyLCBvdmVybGF5OiBIVE1MQ2FudmFzRWxlbWVudCk6IHZvaWQge1xuICAgIC8vIEFkZCBhbGwgb2YgdGhlIGNvbGxpc2lvbiBtYXNrcyB0byB0aGUgc2NlbmVcbiAgICBmb3IgKGNvbnN0IGVudGl0eSBvZiB0aGlzLmFsbEVudGl0aWVzKSB7XG4gICAgICBlbnRpdHkubWFzay5fZHJhd01hc2sodGhpcy5zY2VuZSk7XG4gICAgfVxuXG4gICAgLy8gUmVuZGVyIHRoZSBzY2VuZSBpdHNlbGZcbiAgICByZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEpO1xuXG4gICAgLy8gQ2xlYXIgdGhlIG92ZXJsYXkgYmVmb3JlIGRyYXdpbmdcbiAgICBjb25zdCBnMmQgPSBvdmVybGF5LmdldENvbnRleHQoJzJkJyk7XG4gICAgb3ZlcmxheS53aWR0aCA9IHRoaXMub3ZlcmxheVdpZHRoO1xuICAgIG92ZXJsYXkuaGVpZ2h0ID0gdGhpcy5vdmVybGF5SGVpZ2h0O1xuICAgIGcyZC5jbGVhclJlY3QoMCwgMCwgdGhpcy5vdmVybGF5V2lkdGgsIHRoaXMub3ZlcmxheUhlaWdodCk7XG5cbiAgICAvLyBEcmF3IGFueSBvdmVybGF5c1xuICAgIHRoaXMuc3RhdGUub25EcmF3KGcyZCk7XG4gICAgZm9yIChjb25zdCBlbnRpdHkgb2YgdGhpcy5hbGxFbnRpdGllcykge1xuICAgICAgZW50aXR5Ll9kcmF3KGcyZCk7XG4gICAgfVxuICB9XG59XG4iLCIvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5hbWVzcGFjZVxuZXhwb3J0IG5hbWVzcGFjZSBMb2NhbFN0b3JhZ2Uge1xuICAvKipcbiAgICogU2F2ZSBhbiBvYmplY3QgaW50byB0aGUgYnJvd3NlciBsb2NhbCBzdG9yYWdlLlxuICAgKiBBdXRvbWF0aWNhbGx5IHNlcmlhbGl6YWVzIHRoZSBKU09OIHRvIGEgc3RyaW5nLlxuICAgKlxuICAgKiBAcGFyYW0ga2V5IFRoZSBrZXkgdG8gc2F2ZSB0aGUgb2JqZWN0IGluXG4gICAqIEBwYXJhbSB2YWx1ZSBWYWx1ZSBmb3IgdGhlIG9iamVjdFxuICAgKi9cbiAgZXhwb3J0IGZ1bmN0aW9uIHNhdmVPYmplY3Q8VD4oa2V5OiBzdHJpbmcsIHZhbHVlOiBUKTogdm9pZCB7XG4gICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgSlNPTi5zdHJpbmdpZnkodmFsdWUpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMb2FkIGFuIG9iamVjdCBmcm9tIHRoZSBicm93c2VyIGxvY2FsIHN0b3JhZ2UuXG4gICAqIEF1dG9tYXRpY2FsbHkgdW5kZXJpYWxpemVzIHRoZSBvYmplY3QgZnJvbSBhIHN0cmluZy5cbiAgICpcbiAgICogVGhyb3dzIGFuIGV4Y2VwdGlvbiBpZiBUIGlzIG5vdCBpbiB0aGUgZGF0YWJhc2UgYW5kIG5vIGRlZmF1bHQgdmFsdWUgaXMgcHJvdmlkZWQuXG4gICAqIFRoZXJlIGlzIG5vIGNoZWNrIHRvIG1ha2Ugc3VyZSB0aGUgcmV0dXJuZWQgVCBpcyBhY3R1YWxseSB2YWxpZCEhIVxuICAgKlxuICAgKiBAcGFyYW0ga2V5IFRoZSBrZXkgb2YgdGhlIG9iamVjdCB0byBsb2FkXG4gICAqIEBwYXJhbSBkZWYgT3B0aW9uYWxseSBzcGVjaWZ5IHRoZSBkZWZhdWx0IHZhbHVlIHRvIGxvYWRcbiAgICovXG4gIGV4cG9ydCBmdW5jdGlvbiBsb2FkT2JqZWN0PFQ+KGtleTogc3RyaW5nLCBkZWY/OiBUKTogVCB7XG4gICAgY29uc3QgdmFsdWUgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KTtcbiAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgIGlmICh0eXBlb2YgZGVmICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gZGVmO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBLZXkgJyR7a2V5fScgZG9lcyBub3QgZXhpc3QgaW4gbG9jYWwgc3RvcmFnZWApO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBKU09OLnBhcnNlKHZhbHVlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYW4gb2JqZWN0IGZyb20gdGhlIGxvY2FsIHN0b3JhZ2VcbiAgICpcbiAgICogQHBhcmFtIGtleSBUaGUga2V5IG9mIHRoZSBvYmplY3QgdG8gcmVtb3ZlXG4gICAqL1xuICBleHBvcnQgZnVuY3Rpb24gcmVtb3ZlT2JqZWN0KGtleTogc3RyaW5nKTogdm9pZCB7XG4gICAgd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGtleSk7XG4gIH1cblxuICAvKipcbiAgICogVGVzdCBpZiBhIHZhbHVlIGV4aXN0cyBpbiB0aGUgbG9jYWwgc3RvcmFnZVxuICAgKiBAcGFyYW0ga2V5IFRoZSBrZXkgdG8gdGVzdFxuICAgKi9cbiAgZXhwb3J0IGZ1bmN0aW9uIGV4aXN0cyhrZXk6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KSAhPT0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhciBhbGwgZW50aXJlcyBmcm9tIHRoZSBsb2NhbCBzdG9yYWdlXG4gICAqL1xuICBleHBvcnQgZnVuY3Rpb24gY2xlYXIoKTogdm9pZCB7XG4gICAgd2luZG93LmxvY2FsU3RvcmFnZS5jbGVhcigpO1xuICB9XG59XG5cbi8qKlxuICogQWxsb3dzIHlvdSB0byBzdG9yZSBnbG9iYWwgdmFyaWFibGVzIGFzc29jaWF0ZWQgd2l0aCB0aGUgZ2FtZS5cbiAqIFRoaXMgaXMgY29uc3RydWN0ZWQgaW50ZXJuYWxseSBieSB0aGUgZ2FtZSBlbmdpbmUuXG4gKi9cbmV4cG9ydCBjbGFzcyBSZXNvdXJjZU1hbmFnZXIge1xuICBwcml2YXRlIHJlc291cmNlczogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICAvKipcbiAgICogU2V0IGEgcmVzb3VyY2UgaW4gdGhlIGRhdGFiYXNlXG4gICAqXG4gICAqIEBwYXJhbSBuYW1lIE5hbWUgb2YgdGhlIHJlc291cmNlIHRvIHNldFxuICAgKiBAcGFyYW0gdmFsdWUgVmFsdWUgb2YgdGhlIHJlc291cmNlIHRvIHNldFxuICAgKi9cbiAgcHVibGljIHNldFJlc291cmNlPFQ+KG5hbWU6IHN0cmluZywgdmFsdWU6IFQpOiB2b2lkIHtcbiAgICB0aGlzLnJlc291cmNlc1tuYW1lXSA9IHZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgYSByZXNvdXJjZSBmcm9tIHRoZSBnbG9iYWwgcmVzb3VyY2UgZGF0YWJhc2UuXG4gICAqIFRocm93cyBhbiBleGNlcHRpb24gaWYgdGhlIHJlc291cmNlIGlzIE5PVCBmb3VuZCBhbmQgbm8gZGVmYXVsdCBpcyBzcGVjaWZpZWQuXG4gICAqXG4gICAqIERvZXMgTk9UIGNoZWNrIHRvIG1ha2Ugc3VyZSB0aGUgcmV0dXJuZWQgdHlwZSBpcyBhY3R1YWxseSB2YWxpZC5cbiAgICpcbiAgICogQHBhcmFtIG5hbWUgTmFtZSBvZiB0aGUgcmVzb3VyY2UgdG8gZ2V0XG4gICAqIEBwYXJhbSBkZWYgT3B0aW9uYWxseSBzcGVjaWZ5IGEgZGVmYXVsdCB2YWx1ZVxuICAgKiBAcmV0dXJucyBSZXR1cm5lZCByZXNvdXJjZVxuICAgKi9cbiAgcHVibGljIGdldFJlc291cmNlPFQ+KG5hbWU6IHN0cmluZywgZGVmPzogVCk6IFQge1xuICAgIGNvbnN0IHJlc291cmNlID0gdGhpcy5yZXNvdXJjZXNbbmFtZV07XG4gICAgaWYgKHR5cGVvZiByZXNvdXJjZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGlmICh0eXBlb2YgZGVmICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gZGVmO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBObyBzdWNoIHJlc291cmNlICcke25hbWV9J2ApO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXNvdXJjZSBhcyBUO1xuICB9XG5cbiAgLyoqXG4gICAqIERlbGV0ZSBhIHJlc291cmNlIGZyb20gdGhlIGdhbWUuXG4gICAqIEBwYXJhbSBuYW1lIFJlc291cmNlIHRvIGRlbGV0ZVxuICAgKi9cbiAgcHVibGljIGRlbGV0ZVJlc291cmNlKG5hbWU6IHN0cmluZyk6IHZvaWQge1xuICAgIGRlbGV0ZSB0aGlzLnJlc291cmNlc1tuYW1lXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUZXN0IGlmIGEgcmVzb3VyY2UgZXhpc3RzXG4gICAqIEBwYXJhbSBrZXkgUmVzb3VyY2UgdG8gZ2V0XG4gICAqL1xuICBwdWJsaWMgZXhpc3RzKGtleTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHR5cGVvZiB0aGlzLnJlc291cmNlc1trZXldICE9PSAndW5kZWZpbmVkJztcbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhciBhbGwgcmVzb3VyY2VzIGZyb20gdGhlIGxpc3RcbiAgICovXG4gIHB1YmxpYyBjbGVhcigpOiB2b2lkIHtcbiAgICB0aGlzLnJlc291cmNlcyA9IHt9O1xuICB9XG59XG4iLCJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XG5pbXBvcnQgeyBHTFRGLCBHTFRGTG9hZGVyIH0gZnJvbSAndGhyZWUvZXhhbXBsZXMvanNtL2xvYWRlcnMvR0xURkxvYWRlci5qcyc7XG5pbXBvcnQgcHJldHR5U2l6ZSBmcm9tICdwcmV0dHlzaXplJztcblxuLyoqXG4gKiBBbGwgZmlsZXMgbmVlZGVkIHRvIGxvYWQgYSBjdWJlIHRleHR1cmVcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDdWJlVGV4dHVyZUZpbGVzIHtcbiAgcG9zaXRpdmVYOiBzdHJpbmc7XG4gIG5lZ2F0aXZlWDogc3RyaW5nO1xuICBwb3NpdGl2ZVk6IHN0cmluZztcbiAgbmVnYXRpdmVZOiBzdHJpbmc7XG4gIHBvc2l0aXZlWjogc3RyaW5nO1xuICBuZWdhdGl2ZVo6IHN0cmluZztcbn1cblxuLyoqXG4gKiBNYW5hZ2UgYWxsIGFzc2V0cyBpbiB0aGUgZ2FtZVxuICovXG5leHBvcnQgY2xhc3MgQXNzZXRzTWFuYWdlciB7XG4gIHByaXZhdGUgYXVkaW9Mb2FkZXI6IFRIUkVFLkF1ZGlvTG9hZGVyO1xuICBwcml2YXRlIGltYWdlTG9hZGVyOiBUSFJFRS5JbWFnZUxvYWRlcjtcbiAgcHJpdmF0ZSB0ZXh0dXJlTG9hZGVyOiBUSFJFRS5UZXh0dXJlTG9hZGVyO1xuICBwcml2YXRlIGN1YmVUZXh0dXJlTG9hZGVyOiBUSFJFRS5DdWJlVGV4dHVyZUxvYWRlcjtcbiAgcHJpdmF0ZSBvYmplY3RMb2FkZXI6IFRIUkVFLk9iamVjdExvYWRlcjtcbiAgcHJpdmF0ZSBtYXRlcmlhbExvYWRlcjogVEhSRUUuTWF0ZXJpYWxMb2FkZXI7XG4gIHByaXZhdGUgYW5pbWF0aW9uTG9hZGVyOiBUSFJFRS5BbmltYXRpb25Mb2FkZXI7XG4gIHByaXZhdGUgZ2x0ZkxvYWRlcjogR0xURkxvYWRlcjtcblxuICBwcml2YXRlIHRleHR1cmVzOiBSZWNvcmQ8c3RyaW5nLCBUSFJFRS5UZXh0dXJlPiA9IHt9O1xuICBwcml2YXRlIHNvdW5kczogUmVjb3JkPHN0cmluZywgQXVkaW9CdWZmZXI+ID0ge307XG4gIHByaXZhdGUgaW1hZ2VzOiBSZWNvcmQ8c3RyaW5nLCBIVE1MSW1hZ2VFbGVtZW50PiA9IHt9O1xuICBwcml2YXRlIG9iamVjdHM6IFJlY29yZDxzdHJpbmcsIFRIUkVFLk9iamVjdDNEPiA9IHt9O1xuICBwcml2YXRlIG1hdGVyaWFsczogUmVjb3JkPHN0cmluZywgVEhSRUUuTWF0ZXJpYWw+ID0ge307XG4gIHByaXZhdGUgYW5pbWF0aW9uczogUmVjb3JkPHN0cmluZywgVEhSRUUuQW5pbWF0aW9uQ2xpcD4gPSB7fTtcblxuICAvKipcbiAgICogQ29uc3RydWN0ZWQgaW50ZXJuYWxseSBieSB0aGUgZ2FtZSBlbnRpbmVcbiAgICovXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuYXVkaW9Mb2FkZXIgPSBuZXcgVEhSRUUuQXVkaW9Mb2FkZXIoKTtcbiAgICB0aGlzLmltYWdlTG9hZGVyID0gbmV3IFRIUkVFLkltYWdlTG9hZGVyKCk7XG4gICAgdGhpcy50ZXh0dXJlTG9hZGVyID0gbmV3IFRIUkVFLlRleHR1cmVMb2FkZXIoKTtcbiAgICB0aGlzLmN1YmVUZXh0dXJlTG9hZGVyID0gbmV3IFRIUkVFLkN1YmVUZXh0dXJlTG9hZGVyKCk7XG4gICAgdGhpcy5vYmplY3RMb2FkZXIgPSBuZXcgVEhSRUUuT2JqZWN0TG9hZGVyKCk7XG4gICAgdGhpcy5tYXRlcmlhbExvYWRlciA9IG5ldyBUSFJFRS5NYXRlcmlhbExvYWRlcigpO1xuICAgIHRoaXMuYW5pbWF0aW9uTG9hZGVyID0gbmV3IFRIUkVFLkFuaW1hdGlvbkxvYWRlcigpO1xuICAgIHRoaXMuZ2x0ZkxvYWRlciA9IG5ldyBHTFRGTG9hZGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogTG9hZCBhIHRleHR1cmUgZnJvbSBhIGZpbGUuIFRoZSB0ZXh0dXJlIGNhbiBiZSB1c2VkIGltbWVkaWF0ZWx5LlxuICAgKiBSZXBsYWNlcyBhbnkgZXhpc3RpbmcgbG9hZGVkIHRleHR1cmUgd2l0aCB0aGUgc2FtZSBuYW1lLlxuICAgKiBUaGUgdGV4dHVyZSBuYW1lc3BhY2UgaXMgc2hhcmVkIHdpdGggdGhlIGN1YmUgdGV4dHVyZSBuYW1lc3BhY2UuXG4gICAqXG4gICAqIFRocm93cyBhbiBleGNlcHRpb24gaWYgaXQgZmFpbHMgdG8gbG9hZCAoZm9yIHdoYXRldmVyIHJlYXNvbikuXG4gICAqXG4gICAqIEBwYXJhbSBuYW1lIE5hbWUgb2YgdGhlIHRleHR1cmUgdG8gc3RvcmVcbiAgICogQHBhcmFtIGZpbGUgRmlsZXBhdGggb2YgdGhlIHRleHR1cmUgb24gdGhlIHdlYiBzZXJ2ZXJcbiAgICogQHJldHVybnMgUHJvbWlzZSB0byB3YWl0IGZvciBhc3NldCB0byBmaW5pc2ggbG9hZGluZ1xuICAgKi9cbiAgcHVibGljIGxvYWRUZXh0dXJlKG5hbWU6IHN0cmluZywgZmlsZTogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIHRoaXMudGV4dHVyZUxvYWRlclxuICAgICAgLmxvYWRBc3luYyhmaWxlLCBBc3NldHNNYW5hZ2VyLm9uUHJvZ3Jlc3MoJ3RleHR1cmUnLCBuYW1lLCBmaWxlKSlcbiAgICAgIC50aGVuKCh0ZXh0dXJlKSA9PiB7XG4gICAgICAgIHRoaXMudGV4dHVyZXNbbmFtZV0gPSB0ZXh0dXJlO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaChBc3NldHNNYW5hZ2VyLm9uRXJyb3IoJ3RleHR1cmUnLCBuYW1lLCBmaWxlKSk7XG4gIH1cblxuICAvKipcbiAgICogTG9hZCBhIGN1YmUgdGV4dHVyZSBmcm9tIGEgZmlsZS5cbiAgICogUmVwbGFjZXMgYW55IGV4aXN0aW5nIGxvYWRlZCB0ZXh0dXJlIHdpdGggdGhlIHNhbWUgbmFtZS5cbiAgICogVGhlIGN1YmUgdGV4dHVyZSBuYW1lc3BhY2UgaXMgc2hhcmVkIHdpdGggdGhlIHRleHR1cmUgbmFtZXNwYWNlLlxuICAgKlxuICAgKiBUaHJvd3MgYW4gZXhjZXB0aW9uIGlmIGl0IGZhaWxzIHRvIGxvYWQgKGZvciB3aGF0ZXZlciByZWFzb24pLlxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSBOYW1lIG9mIHRoZSB0ZXh0dXJlIHRvIHN0b3JlXG4gICAqIEBwYXJhbSBmaWxlcyBUaGUgc2l4IGZpbGVzIHJlcXVpcmVkIHRvIGxvYWQgYSBjdWJlIHRleHR1cmVcbiAgICogQHJldHVybnMgUHJvbWlzZSB0byB3YWl0IGZvciBhc3NldCB0byBmaW5pc2ggbG9hZGluZ1xuICAgKi9cbiAgcHVibGljIGxvYWRDdWJlVGV4dHVyZShuYW1lOiBzdHJpbmcsIGZpbGVzOiBDdWJlVGV4dHVyZUZpbGVzKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICBjb25zdCB7IHBvc2l0aXZlWCwgbmVnYXRpdmVYLCBwb3NpdGl2ZVksIG5lZ2F0aXZlWSwgcG9zaXRpdmVaLCBuZWdhdGl2ZVogfSA9IGZpbGVzO1xuICAgICAgdGhpcy5jdWJlVGV4dHVyZUxvYWRlci5sb2FkKFxuICAgICAgICBbcG9zaXRpdmVYLCBuZWdhdGl2ZVgsIHBvc2l0aXZlWSwgbmVnYXRpdmVZLCBwb3NpdGl2ZVosIG5lZ2F0aXZlWl0sXG4gICAgICAgICh0ZXh0dXJlKSA9PiB7XG4gICAgICAgICAgdGhpcy50ZXh0dXJlc1tuYW1lXSA9IHRleHR1cmU7XG4gICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9LFxuXG4gICAgICAgIEFzc2V0c01hbmFnZXIub25Qcm9ncmVzcygnY3ViZSB0ZXh0dXJlJywgbmFtZSwgZmlsZXMudG9TdHJpbmcoKSksXG4gICAgICAgIEFzc2V0c01hbmFnZXIub25FcnJvcignY3ViZSB0ZXh0dXJlJywgbmFtZSwgZmlsZXMudG9TdHJpbmcoKSksXG4gICAgICApO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFNhdmUgYSB0ZXh0dXJlIGludG8gdGhlIGxpc3Qgb2YgYXNzZXRzXG4gICAqIFJlcGxhY2VzIGFueSBleGlzdGluZyBsb2FkZWQgdGV4dHVyZSB3aXRoIHRoZSBzYW1lIG5hbWUuXG4gICAqIFRoZSB0ZXh0dXJlIG5hbWVzcGFjZSBpcyBzaGFyZWQgd2l0aCB0aGUgY3ViZSB0ZXh0dXJlIG5hbWVzcGFjZS5cbiAgICpcbiAgICogQHBhcmFtIG5hbWUgTmFtZSBvZiB0aGUgdGV4dHVyZSB0byBzYXZlXG4gICAqIEBwYXJhbSB0ZXh0dXJlIFRleHR1cmUgdG8gc2F2ZVxuICAgKi9cbiAgcHVibGljIHNhdmVUZXh0dXJlKG5hbWU6IHN0cmluZywgdGV4dHVyZTogVEhSRUUuVGV4dHVyZSk6IHZvaWQge1xuICAgIHRoaXMudGV4dHVyZXNbbmFtZV0gPSB0ZXh0dXJlO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhIHNhdmVkIHRleHR1cmUgZnJvbSB0aGUgbGlzdCBvZiBhc3NldHMuXG4gICAqIFRocm93cyBhbiBleGNlcHRpb24gaWYgdGhlIHRleHR1cmUgZG9lcyBub3QgZXhpc3QuXG4gICAqXG4gICAqIFNpbmNlIFRleHR1cmUgYW5kIEN1YmVUZXh0dXJlIHNoYXJlIHRoZSBzYW1lIG5hbWVzcGFjZSwgeW91IG1pZ2h0XG4gICAqICBoYXZlIHRvIGRvd25jYXN0IGlmIHRoaXMgaXMgYSBjdWJlIHRleHR1cmUuXG4gICAqXG4gICAqIEBwYXJhbSBuYW1lIE5hbWUgb2YgdGhlIHRleHR1cmUgdG8gZ2V0XG4gICAqIEByZXR1cm5zIFRoZSBzYXZlZCB0ZXh0dXJlXG4gICAqL1xuICBwdWJsaWMgZ2V0VGV4dHVyZShuYW1lOiBzdHJpbmcpOiBUSFJFRS5UZXh0dXJlIHtcbiAgICBjb25zdCB0ZXh0dXJlID0gdGhpcy50ZXh0dXJlc1tuYW1lXTtcbiAgICBpZiAodHlwZW9mIHRleHR1cmUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIHN1Y2ggbG9hZGVkIHRleHR1cmUgJyR7bmFtZX0nYCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRleHR1cmU7XG4gIH1cblxuICAvKipcbiAgICogTG9hZCBzb3VuZCBmcm9tIGFuIGF1ZGlvIGZpbGVcbiAgICogUmVwbGFjZXMgYW55IGV4aXN0aW5nIGxvYWRlZCBhdWRpbyB3aXRoIHRoZSBzYW1lIG5hbWUuXG4gICAqXG4gICAqIFRocm93cyBhbiBleGNlcHRpb24gaWYgaXQgZmFpbHMgdG8gbG9hZCAoZm9yIHdoYXRldmVyIHJlYXNvbikuXG4gICAqXG4gICAqIEBwYXJhbSBuYW1lIE5hbWUgb2YgdGhlIGF1ZGlvIHRvIGxvYWRcbiAgICogQHBhcmFtIGZpbGUgRmlsZXBhdGggb2YgdGhlIGF1ZGlvIGZpbGUgb24gdGhlIHdlYiBzZXJ2ZXJcbiAgICogQHJldHVybnMgUHJvbWlzZSB0byB3YWl0IGZvciBhc3NldCB0byBmaW5pc2ggbG9hZGluZ1xuICAgKi9cbiAgcHVibGljIGxvYWRBdWRpb0ZpbGUobmFtZTogc3RyaW5nLCBmaWxlOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gdGhpcy5hdWRpb0xvYWRlclxuICAgICAgLmxvYWRBc3luYyhmaWxlLCBBc3NldHNNYW5hZ2VyLm9uUHJvZ3Jlc3MoJ2F1ZGlvJywgbmFtZSwgZmlsZSkpXG4gICAgICAudGhlbigoYnVmZmVyOiBBdWRpb0J1ZmZlcikgPT4ge1xuICAgICAgICB0aGlzLnNvdW5kc1tuYW1lXSA9IGJ1ZmZlcjtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goQXNzZXRzTWFuYWdlci5vbkVycm9yKCdhdWRpbycsIG5hbWUsIGZpbGUpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTYXZlIGEgYXVkaW8gaW50byB0aGUgbGlzdCBvZiBhc3NldHNcbiAgICogUmVwbGFjZXMgYW55IGV4aXN0aW5nIGxvYWRlZCBhdWRpbyB3aXRoIHRoZSBzYW1lIG5hbWUuXG4gICAqXG4gICAqIEBwYXJhbSBuYW1lIE5hbWUgb2YgdGhlIGF1ZGlvIHRvIHNhdmVcbiAgICogQHBhcmFtIGF1ZGlvIEF1ZGlvIHRvIHNhdmVcbiAgICovXG4gIHB1YmxpYyBzYXZlQXVkaW8obmFtZTogc3RyaW5nLCBhdWRpbzogQXVkaW9CdWZmZXIpOiB2b2lkIHtcbiAgICB0aGlzLnNvdW5kc1tuYW1lXSA9IGF1ZGlvO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhIHNhdmVkIGF1ZGlvIGJ1ZmZlciBmcm9tIHRoZSBsaXN0IG9mIGFzc2V0cy5cbiAgICogVGhyb3dzIGFuIGV4Y2VwdGlvbiBpZiB0aGUgYXVkaW8gZG9lcyBub3QgZXhpc3QuXG4gICAqXG4gICAqIEBwYXJhbSBuYW1lIE5hbWUgb2YgdGhlIGF1ZGlvIGJ1ZmZlciB0byBnZXRcbiAgICogQHJldHVybnMgVGhlIHNhdmVkIGF1ZGlvIGJ1ZmZlclxuICAgKi9cbiAgcHVibGljIGdldEF1ZGlvKG5hbWU6IHN0cmluZyk6IEF1ZGlvQnVmZmVyIHtcbiAgICBjb25zdCBhdWRpbyA9IHRoaXMuc291bmRzW25hbWVdO1xuICAgIGlmICh0eXBlb2YgYXVkaW8gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIHN1Y2ggbG9hZGVkIGF1ZGlvIGJ1ZmZlciAnJHtuYW1lfSdgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYXVkaW87XG4gIH1cblxuICAvKipcbiAgICogTG9hZCBpbWFnZXMgZnJvbSBhIGZpbGVcbiAgICogUmVwbGFjZXMgYW55IGV4aXN0aW5nIGxvYWRlZCBpbWFnZSB3aXRoIHRoZSBzYW1lIG5hbWUuXG4gICAqXG4gICAqIFRocm93cyBhbiBleGNlcHRpb24gaWYgaXQgZmFpbHMgdG8gbG9hZCAoZm9yIHdoYXRldmVyIHJlYXNvbikuXG4gICAqXG4gICAqIEBwYXJhbSBuYW1lIE5hbWUgb2YgdGhlIGltYWdlIHRvIGxvYWRcbiAgICogQHBhcmFtIGZpbGUgRmlsZXBhdGggb2YgdGhlIGltYWdlIG9uIHRoZSB3ZWIgc2VydmVyXG4gICAqIEByZXR1cm5zIFByb21pc2UgdG8gd2FpdCBmb3IgYXNzZXQgdG8gZmluaXNoIGxvYWRpbmdcbiAgICovXG4gIHB1YmxpYyBsb2FkSW1hZ2UobmFtZTogc3RyaW5nLCBmaWxlOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gdGhpcy5pbWFnZUxvYWRlclxuICAgICAgLmxvYWRBc3luYyhmaWxlLCBBc3NldHNNYW5hZ2VyLm9uUHJvZ3Jlc3MoJ2ltYWdlJywgbmFtZSwgZmlsZSkpXG4gICAgICAudGhlbigoaW1hZ2U6IEhUTUxJbWFnZUVsZW1lbnQpID0+IHtcbiAgICAgICAgdGhpcy5pbWFnZXNbbmFtZV0gPSBpbWFnZTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goQXNzZXRzTWFuYWdlci5vbkVycm9yKCdhdWRpbycsIG5hbWUsIGZpbGUpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTYXZlIGEgaW1hZ2UgaW50byB0aGUgbGlzdCBvZiBhc3NldHNcbiAgICogUmVwbGFjZXMgYW55IGV4aXN0aW5nIGxvYWRlZCBpbWFnZSB3aXRoIHRoZSBzYW1lIG5hbWUuXG4gICAqXG4gICAqIEBwYXJhbSBuYW1lIE5hbWUgb2YgdGhlIGltYWdlIHRvIHNhdmVcbiAgICogQHBhcmFtIGF1ZGlvIEltYWdlIHRvIHNhdmVcbiAgICovXG4gIHB1YmxpYyBzYXZlSW1hZ2UobmFtZTogc3RyaW5nLCBpbWFnZTogSFRNTEltYWdlRWxlbWVudCk6IHZvaWQge1xuICAgIHRoaXMuaW1hZ2VzW25hbWVdID0gaW1hZ2U7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGEgc2F2ZWQgaW1hZ2UgZnJvbSB0aGUgbGlzdCBvZiBhc3NldHMuXG4gICAqIFRocm93cyBhbiBleGNlcHRpb24gaWYgdGhlIGltYWdlIGRvZXMgbm90IGV4aXN0LlxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSBOYW1lIG9mIHRoZSBpbWFnZSB0byBnZXRcbiAgICogQHJldHVybnMgVGhlIHNhdmVkIGltYWdlXG4gICAqL1xuICBwdWJsaWMgZ2V0SW1hZ2UobmFtZTogc3RyaW5nKTogSFRNTEltYWdlRWxlbWVudCB7XG4gICAgY29uc3QgaW1hZ2UgPSB0aGlzLmltYWdlc1tuYW1lXTtcbiAgICBpZiAodHlwZW9mIGltYWdlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBObyBzdWNoIGxvYWRlZCBpbWFnZSAnJHtuYW1lfSdgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gaW1hZ2U7XG4gIH1cblxuICAvKipcbiAgICogTG9hZCBhbiBPYmplY3QzRCBmcm9tIGEgSlNPTiBmaWxlXG4gICAqIFJlcGxhY2VzIGFueSBleGlzdGluZyBsb2FkZWQgT2JqZWN0M0Qgd2l0aCB0aGUgc2FtZSBuYW1lLlxuICAgKlxuICAgKiBUaHJvd3MgYW4gZXhjZXB0aW9uIGlmIGl0IGZhaWxzIHRvIGxvYWQgKGZvciB3aGF0ZXZlciByZWFzb24pLlxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSBOYW1lIG9mIHRoZSBvYmplY3QgdG8gbG9hZFxuICAgKiBAcGFyYW0gZmlsZSBGaWxlcGF0aCBvZiB0aGUgb2JqZWN0IHRvIGxvYWRcbiAgICogQHJldHVybnMgUHJvbWlzZSB0byB3YWl0IGZvciBhc3NldCB0byBmaW5pc2ggbG9hZGluZ1xuICAgKi9cbiAgcHVibGljIGxvYWRPYmplY3QobmFtZTogc3RyaW5nLCBmaWxlOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gdGhpcy5vYmplY3RMb2FkZXJcbiAgICAgIC5sb2FkQXN5bmMoZmlsZSwgQXNzZXRzTWFuYWdlci5vblByb2dyZXNzKCdvYmplY3QnLCBuYW1lLCBmaWxlKSlcbiAgICAgIC50aGVuKChvYmplY3QpID0+IHtcbiAgICAgICAgdGhpcy5vYmplY3RzW25hbWVdID0gb2JqZWN0O1xuICAgICAgfSlcbiAgICAgIC5jYXRjaChBc3NldHNNYW5hZ2VyLm9uRXJyb3IoJ29iamVjdCcsIG5hbWUsIGZpbGUpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTYXZlIGFuIE9iamVjdDNEIGludG8gdGhlIGxpc3Qgb2YgYXNzZXRzXG4gICAqIFJlcGxhY2VzIGFueSBleGlzdGluZyBsb2FkZWQgT2JqZWN0M0Qgd2l0aCB0aGUgc2FtZSBuYW1lLlxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSBOYW1lIG9mIHRoZSBvYmplY3QgdG8gc2F2ZVxuICAgKiBAcGFyYW0gb2JqZWN0IE9iamVjdDNEIHRvIHNhdmVcbiAgICovXG4gIHB1YmxpYyBzYXZlT2JqZWN0KG5hbWU6IHN0cmluZywgb2JqZWN0OiBUSFJFRS5PYmplY3QzRCk6IHZvaWQge1xuICAgIHRoaXMub2JqZWN0c1tuYW1lXSA9IG9iamVjdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYSBzYXZlZCBPYmplY3QzRCBmcm9tIHRoZSBsaXN0IG9mIGFzc2V0cy5cbiAgICogVGhyb3dzIGFuIGV4Y2VwdGlvbiBpZiB0aGUgb2JqZWN0IGRvZXMgbm90IGV4aXN0LlxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSBOYW1lIG9mIHRoZSBvYmplY3QgdG8gZ2V0XG4gICAqIEByZXR1cm5zIE9iamVjdDNEXG4gICAqL1xuICBwdWJsaWMgZ2V0T2JqZWN0KG5hbWU6IHN0cmluZyk6IFRIUkVFLk9iamVjdDNEIHtcbiAgICBjb25zdCBvYmplY3QgPSB0aGlzLm9iamVjdHNbbmFtZV07XG4gICAgaWYgKHR5cGVvZiBvYmplY3QgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIHN1Y2ggbG9hZGVkIG9iamVjdCAnJHtuYW1lfSdgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gb2JqZWN0O1xuICB9XG5cbiAgLyoqXG4gICAqIExvYWQgYSBtYXRlcmlhbCBmcm9tIGEgSlNPTiBmaWxlXG4gICAqIFJlcGxhY2VzIGFueSBleGlzdGluZyBsb2FkZWQgbWF0ZXJpYWwgd2l0aCB0aGUgc2FtZSBuYW1lLlxuICAgKlxuICAgKiBUaHJvd3MgYW4gZXhjZXB0aW9uIGlmIGl0IGZhaWxzIHRvIGxvYWQgKGZvciB3aGF0ZXZlciByZWFzb24pLlxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSBOYW1lIG9mIHRoZSBtYXRlcmlhbCB0byBsb2FkXG4gICAqIEBwYXJhbSBmaWxlIEZpbGVwYXRoIG9mIHRoZSBvYmplY3QgdG8gbG9hZFxuICAgKiBAcmV0dXJucyBQcm9taXNlIHRvIHdhaXQgZm9yIGFzc2V0IHRvIGZpbmlzaCBsb2FkaW5nXG4gICAqL1xuICBwdWJsaWMgbG9hZE1hdGVyaWFsKG5hbWU6IHN0cmluZywgZmlsZTogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIHRoaXMubWF0ZXJpYWxMb2FkZXJcbiAgICAgIC5sb2FkQXN5bmMoZmlsZSwgQXNzZXRzTWFuYWdlci5vblByb2dyZXNzKCdhbmltYXRpb24nLCBuYW1lLCBmaWxlKSlcbiAgICAgIC50aGVuKChtYXRlcmlhbCkgPT4ge1xuICAgICAgICB0aGlzLm1hdGVyaWFsc1tuYW1lXSA9IG1hdGVyaWFsO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaChBc3NldHNNYW5hZ2VyLm9uRXJyb3IoJ2FuaW1hdGlvbicsIG5hbWUsIGZpbGUpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTYXZlIGEgbWF0ZXJpYWwgdG8gdGhlIGxpc3Qgb2YgYXNzZXRzLlxuICAgKiBSZXBsYWNlcyBhbnkgZXhpc3RpbmcgbG9hZGVkIG1hdGVyaWFsIHdpdGggdGhlIHNhbWUgbmFtZS5cbiAgICpcbiAgICogQHBhcmFtIG5hbWUgTmFtZSBvZiB0aGUgbWF0ZXJpYWwgdG8gc2F2ZVxuICAgKiBAcGFyYW0gbWF0ZXJpYWwgTWF0ZXJpYWwgdG8gc2F2ZVxuICAgKi9cbiAgcHVibGljIHNhdmVNYXRlcmlhbChuYW1lOiBzdHJpbmcsIG1hdGVyaWFsOiBUSFJFRS5NYXRlcmlhbCk6IHZvaWQge1xuICAgIHRoaXMubWF0ZXJpYWxzW25hbWVdID0gbWF0ZXJpYWw7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGEgc2F2ZWQgbWF0ZXJpYWwgZnJvbSB0aGUgbGlzdCBvZiBhc3NldHMuXG4gICAqIFRocm93cyBhbiBleGNlcHRpb24gaWYgdGhlIG1hdGVyaWFsIGRvZXMgbm90IGV4aXN0LlxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSBOYW1lIG9mIHRoZSBtYXRlcmlhbCB0byBnZXRcbiAgICogQHJldHVybnMgTWF0ZXJpYWxcbiAgICovXG4gIHB1YmxpYyBnZXRNYXRlcmlhbChuYW1lOiBzdHJpbmcpOiBUSFJFRS5NYXRlcmlhbCB7XG4gICAgY29uc3QgbWF0ZXJpYWwgPSB0aGlzLm1hdGVyaWFsc1tuYW1lXTtcbiAgICBpZiAodHlwZW9mIG1hdGVyaWFsID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBObyBzdWNoIGxvYWRlZCBtYXRlcmlhbCAnJHtuYW1lfSdgKTtcbiAgICB9XG4gICAgcmV0dXJuIG1hdGVyaWFsO1xuICB9XG5cbiAgLyoqXG4gICAqIExvYWQgYSBjb2xsZWN0aW9uIG9mIGFuaW1hdGlvbnMgZnJvbSBhIEpTT04gZmlsZS5cbiAgICogVGhyb3dzIGFuIGV4Y2VwdGlvbiBpZiBpdCBmYWlscyB0byBsb2FkIChmb3Igd2hhdGV2ZXIgcmVhc29uKS5cbiAgICpcbiAgICogU2luY2Ugb25lIGZpbGUgY2FuIGNvbnRhaW4gbXVsdGlwbGUgYW5pbWF0aW9uIGNsaXBzLCB5b3UgbXVzdCBwcm92aWRlIGEgY3VzdG9tIGNhbGxiYWNrXG4gICAqIHRvIGluZGl2aWR1YWxseSBuYW1lIGFuZCBzdG9yZSB0aGUgYW5pbWF0aW9ucy5cbiAgICogVGhlIGNhbGxiYWNrIGlzIGFsc28gcGFzc2VkIGFuIGluc3RhbmNlIG9mIHRoaXMgYXNzZXQgbWFuYWdlci5cbiAgICpcbiAgICogQHBhcmFtIGZpbGUgSlNPTiBmaWxlIHRvIGxvYWRcbiAgICogQHBhcmFtIG9uTG9hZCBDYWxsYmFjayB0byBoYW5kbGUgdGhlIGxvYWRlZCBhbmltYXRpb24gY2xpcHMuXG4gICAqIEByZXR1cm5zIFByb21pc2UgdG8gd2FpdCBmb3IgYXNzZXQgdG8gZmluaXNoIGxvYWRpbmdcbiAgICovXG4gIHB1YmxpYyBsb2FkQW5pbWF0aW9ucyhcbiAgICBmaWxlOiBzdHJpbmcsXG4gICAgb25Mb2FkOiAoYW5pbWF0aW9uOiBUSFJFRS5BbmltYXRpb25DbGlwW10sIG1hbmFnZXI6IHRoaXMpID0+IHZvaWQsXG4gICk6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybiB0aGlzLmFuaW1hdGlvbkxvYWRlclxuICAgICAgLmxvYWRBc3luYyhmaWxlLCBBc3NldHNNYW5hZ2VyLm9uUHJvZ3Jlc3MoJ2FuaW1hdGlvbicsIG51bGwsIGZpbGUpKVxuICAgICAgLnRoZW4oKGFuaW1hdGlvbnMpID0+IG9uTG9hZChhbmltYXRpb25zLCB0aGlzKSlcbiAgICAgIC5jYXRjaChBc3NldHNNYW5hZ2VyLm9uRXJyb3IoJ2FuaW1hdGlvbicsIG51bGwsIGZpbGUpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTYXZlIGFuIGFuaW1hdGlvbiB0byB0aGUgbGlzdCBvZiBhc3NldHMuXG4gICAqIFJlcGxhY2VzIGFueSBleGlzdGluZyBsb2FkZWQgYW5pbWF0aW9uIHdpdGggdGhlIHNhbWUgbmFtZS5cbiAgICpcbiAgICogQHBhcmFtIG5hbWUgTmFtZSBvZiB0aGUgYW5pbWF0aW9uIHRvIHNhdmVcbiAgICogQHBhcmFtIGFuaW1hdGlvbiBBbmltYXRpb24gdG8gc2F2ZVxuICAgKi9cbiAgcHVibGljIHNhdmVBbmltYXRpb24obmFtZTogc3RyaW5nLCBhbmltYXRpb246IFRIUkVFLkFuaW1hdGlvbkNsaXApOiB2b2lkIHtcbiAgICB0aGlzLmFuaW1hdGlvbnNbbmFtZV0gPSBhbmltYXRpb247XG4gIH1cblxuICAvKipcbiAgICogR2V0IGEgc2F2ZWQgYW5pbWF0aW9uIGZyb20gdGhlIGxpc3Qgb2YgYXNzZXRzLlxuICAgKiBUaHJvd3MgYW4gZXhjZXB0aW9uIGlmIHRoZSBhbmltYXRpb24gZG9lcyBub3QgZXhpc3QuXG4gICAqXG4gICAqIEBwYXJhbSBuYW1lIE5hbWUgb2YgdGhlIGFuaW1hdGlvbiB0byBnZXRcbiAgICogQHJldHVybnMgQW5pbWF0aW9uXG4gICAqL1xuICBwdWJsaWMgZ2V0QW5pbWF0aW9uKG5hbWU6IHN0cmluZyk6IFRIUkVFLkFuaW1hdGlvbkNsaXAge1xuICAgIGNvbnN0IGFuaW1hdGlvbiA9IHRoaXMuYW5pbWF0aW9uc1tuYW1lXTtcbiAgICBpZiAodHlwZW9mIGFuaW1hdGlvbiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gc3VjaCBsb2FkZWQgYW5pbWF0aW9uICcke25hbWV9J2ApO1xuICAgIH1cblxuICAgIHJldHVybiBhbmltYXRpb247XG4gIH1cblxuICAvKipcbiAgICogTG9hZCBhIEdMVEYgZmlsZSBmcm9tIGEgd2ViIHNlcnZlci5cbiAgICpcbiAgICogWW91IG11c3QgcHJvdmlkZSBhIGN1c3RvbSBjYWxsYmFjayB0byBkZWNpZGUgaG93IHRvIGhhbmRsZSB0aGUgbG9hZGVkIG9iamVjdCBkYXRhLlxuICAgKiBUaGUgY2FsbGJhY2sgYWxzbyBpbmNsdWRlcyBhIHJlZmVyZW5jZSB0byB0aGUgY3VycmVudCBBc3NldE1hbmFnZXIuXG4gICAqIFlvdSBjYW4gdXNlIHRoZSB2YXJpb3VzIHNhdmUqKCkgbWV0aG9kcyB0byBzYXZlIHRoZSBpbmNsdWRlZCBhc3NldHNcbiAgICpcbiAgICogVGhyb3dzIGFuIGV4Y2VwdGlvbiBpZiBpdCBmYWlscyB0byBsb2FkIChmb3Igd2hhdGV2ZXIgcmVhc29uKS5cbiAgICpcbiAgICogQHBhcmFtIGZpbGUgRmlsZSB0byBsb2FkXG4gICAqIEBwYXJhbSBvbkxvYWQgQ2FsbGJhY2sgdGhhdCBkaWN0YXRlcyBob3cgdG8gaGFuZGxlIHRoZSBsb2FkZWQgZGF0YS5cbiAgICogQHJldHVybnMgUHJvbWlzZSB0byB3YWl0IGZvciBhc3NldCB0byBmaW5pc2ggbG9hZGluZ1xuICAgKi9cbiAgcHVibGljIGxvYWRHTFRGRmlsZShmaWxlOiBzdHJpbmcsIG9uTG9hZDogKGdsdGY6IEdMVEYsIG1hbmFnZXI6IHRoaXMpID0+IHZvaWQpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gdGhpcy5nbHRmTG9hZGVyXG4gICAgICAubG9hZEFzeW5jKGZpbGUsIEFzc2V0c01hbmFnZXIub25Qcm9ncmVzcygnZ2x0ZicsIG51bGwsIGZpbGUpKVxuICAgICAgLnRoZW4oKGdsdGYpID0+IG9uTG9hZChnbHRmLCB0aGlzKSlcbiAgICAgIC5jYXRjaChBc3NldHNNYW5hZ2VyLm9uRXJyb3IoJ2dsdGYnLCBudWxsLCBmaWxlKSk7XG4gIH1cblxuICAvKipcbiAgICogRGlzcGxheSBhIHByb2dyZXNzIGxvZyBtZXNzYWdlIGFzIGZpbGVzIGFyZSBkb3dubG9hZGVkXG4gICAqL1xuICBwcml2YXRlIHN0YXRpYyBvblByb2dyZXNzKFxuICAgIGZpbGV0eXBlOiBzdHJpbmcsXG4gICAgbmFtZTogc3RyaW5nIHwgbnVsbCxcbiAgICBmaWxlOiBzdHJpbmcsXG4gICk6IChldmVudDogUHJvZ3Jlc3NFdmVudDxFdmVudFRhcmdldD4pID0+IHZvaWQge1xuICAgIHJldHVybiAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IG5hbWVTdHJpbmcgPSBuYW1lICE9PSBudWxsID8gYCcke25hbWV9JyBgIDogJyc7XG4gICAgICBjb25zdCBwcmVmaXggPSBgTG9hZGluZyAke2ZpbGV0eXBlfSAke25hbWVTdHJpbmd9ZnJvbSAnJHtmaWxlfSc6ICR7cHJldHR5U2l6ZShldmVudC5sb2FkZWQpfWA7XG5cbiAgICAgIC8vIE9ubHkgc2hvdyBhIHBlcmNlbnQgaWYgdGhlIGxlbmd0aCBpcyBjb21wdXRhYmxlXG4gICAgICBpZiAoZXZlbnQubGVuZ3RoQ29tcHV0YWJsZSkge1xuICAgICAgICBjb25zdCBwZXJjZW50TG9hZGVkID0gKGV2ZW50LmxvYWRlZCAqIDEwMCkgLyBldmVudC50b3RhbDtcbiAgICAgICAgY29uc29sZS5sb2coYCR7cHJlZml4fSAvICR7cHJldHR5U2l6ZShldmVudC50b3RhbCl9ICgke3BlcmNlbnRMb2FkZWQudG9GaXhlZCgwKX0lKWApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5sb2coYCR7cHJlZml4fSBMb2FkZWRgKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFRocm93IGFuIGV4Y2VwdGlvbiBpZiBhbiBlcnJvciBvY2N1cnNcbiAgICovXG4gIHByaXZhdGUgc3RhdGljIG9uRXJyb3IoZmlsZXR5cGU6IHN0cmluZywgbmFtZTogc3RyaW5nIHwgbnVsbCwgZmlsZTogc3RyaW5nKTogKGVycm9yOiBFcnJvckV2ZW50KSA9PiB2b2lkIHtcbiAgICBjb25zdCBuYW1lU3RyaW5nID0gbmFtZSAhPT0gbnVsbCA/IGAnJHtuYW1lfScgYCA6ICcnO1xuICAgIHJldHVybiAoZXJyb3IpID0+IHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRXJyb3IgbG9hZGluZyAke2ZpbGV0eXBlfSAke25hbWVTdHJpbmd9ZnJvbSAnJHtmaWxlfSc6ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgICB9O1xuICB9XG59XG4iLCJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XG5pbXBvcnQgeyBBcmVhLCBBcmVhU3RhdGUgfSBmcm9tICdlbmdpbmUvYXJlYSc7XG5pbXBvcnQgeyBJbnB1dE1hbmFnZXIgfSBmcm9tICcuL2lucHV0JztcbmltcG9ydCB7IEFzc2V0c01hbmFnZXIgfSBmcm9tICcuL2Fzc2V0cyc7XG5pbXBvcnQgeyBSZXNvdXJjZU1hbmFnZXIgfSBmcm9tICcuL3N0b3JhZ2UnO1xuXG4vKipcbiAqIFJlcHJlc2VudHMgdGhlIG1haW4gaW50ZXJmYWNlIGZvciBpbnRlcmFjdGluZyB3aXRoIHRoZSBnYW1lXG4gKi9cbmV4cG9ydCBjbGFzcyBHYW1lIHtcbiAgLyogSGFuZGxlIGlucHV0IGV2ZW50cyAqL1xuICBwdWJsaWMgcmVhZG9ubHkgaW5wdXQ6IElucHV0TWFuYWdlcjtcblxuICAvKiBIYW5kbGUgZ2FtZSBhc3NldHMgKi9cbiAgcHVibGljIHJlYWRvbmx5IGFzc2V0czogQXNzZXRzTWFuYWdlcjtcblxuICAvKiBHbG9iYWwgdmFyaWFibGVzICovXG4gIHB1YmxpYyByZWFkb25seSByZXNvdXJjZXM6IFJlc291cmNlTWFuYWdlcjtcblxuICAvKiBQb3NzaWJseSBzcGVjaWZ5IGEgZml4ZWQgc2l6ZSBmb3IgdGhlIHJlbmRlciBvdXRwdXQgKi9cbiAgcHVibGljIHNjcmVlblNpemU6IFtudW1iZXIsIG51bWJlcl0gfCBudWxsID0gbnVsbDtcblxuICAvKiBFdmVyeSBnYW1lIG11c3Qgc3RvcmUgYW4gYWN0aXZhdGUgYXJlYSAqL1xuICBwcml2YXRlIF9jdXJyZW50QXJlYTogQXJlYTtcbiAgcHJpdmF0ZSBuZXh0QXJlYTogQXJlYVN0YXRlIHwgbnVsbCA9IG51bGw7XG5cbiAgLyogT2JqZWN0cyByZXF1aXJlZCBmb3IgZHJhd2luZyAqL1xuICBwdWJsaWMgcmVhZG9ubHkgcmVuZGVyZXI6IFRIUkVFLldlYkdMUmVuZGVyZXI7XG4gIHByaXZhdGUgcmVhZG9ubHkgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudDtcbiAgcHJpdmF0ZSByZWFkb25seSBvdmVybGF5Q2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudDtcblxuICBwcml2YXRlIHJ1bm5pbmcgPSBmYWxzZTtcblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IGdhbWUgb2JqZWN0LlxuICAgKlxuICAgKiBUaGUgZ2FtZSBleHBlY3RzIHRoZSBvdmVybGF5IGNhbnZhcyB0byBiZSBkaXJlY3RseSBvbiB0b3Agb2YgdGhlIGdhbWUgY2FudmFzLlxuICAgKiBUaHVzLCB1c2VyIGlucHV0IGlzIGFjdHVhbGx5IGhhbmRsZWQgYnkgdGhlIG92ZXJsYXkgY2FudmFzLCBOT1QgdGhlIGdhbWUgY2FudmFzLlxuICAgKlxuICAgKiBAcGFyYW0gZ2FtZUNhbnZhcyBDYW52YXMgdG8gdXNlIGZvciBkcmF3aW5nIHRoZSBnYW1lXG4gICAqIEBwYXJhbSBvdmVybGF5Q2FudmFzIENhbnZhcyB0byB1c2UgZm9yIHRoZSBvdmVybGF5IGRyYXdpbmdcbiAgICogQHBhcmFtIGFyZWFcbiAgICovXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihnYW1lQ2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCwgb3ZlcmxheUNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQpIHtcbiAgICB0aGlzLmlucHV0ID0gbmV3IElucHV0TWFuYWdlcihvdmVybGF5Q2FudmFzKTtcbiAgICB0aGlzLmFzc2V0cyA9IG5ldyBBc3NldHNNYW5hZ2VyKCk7XG4gICAgdGhpcy5yZXNvdXJjZXMgPSBuZXcgUmVzb3VyY2VNYW5hZ2VyKCk7XG5cbiAgICB0aGlzLnJlbmRlcmVyID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoeyBjYW52YXM6IGdhbWVDYW52YXMgfSk7XG4gICAgdGhpcy5jYW52YXMgPSBnYW1lQ2FudmFzO1xuICAgIHRoaXMub3ZlcmxheUNhbnZhcyA9IG92ZXJsYXlDYW52YXM7XG4gIH1cblxuICAvKipcbiAgICogU3RhcnQgcnVubmluZyB0aGUgZ2FtZSBlbmdpbmVcbiAgICovXG4gIHB1YmxpYyBzdGFydChhcmVhOiBBcmVhU3RhdGUpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5ydW5uaW5nID09PSBmYWxzZSkge1xuICAgICAgdGhpcy5ydW5uaW5nID0gdHJ1ZTtcblxuICAgICAgdGhpcy5fY3VycmVudEFyZWEgPSBuZXcgQXJlYSh0aGlzLCBhcmVhKTtcbiAgICAgIHRoaXMuX2N1cnJlbnRBcmVhLnN0YXRlLm9uQ3JlYXRlKHRoaXMuX2N1cnJlbnRBcmVhKTtcbiAgICAgIHRoaXMub3ZlcmxheUNhbnZhcy5mb2N1cygpO1xuXG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy50aWNrLmJpbmQodGhpcykpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTdG9wIHJ1bm5pbmcgdGhlIGdhbWUgZW5naW5lXG4gICAqL1xuICBwdWJsaWMgc3RvcCgpOiB2b2lkIHtcbiAgICB0aGlzLnJ1bm5pbmcgPSBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGN1cnJlbnQgYXJlYSBpbiB0aGUgZ2FtZVxuICAgKi9cbiAgcHVibGljIGdldCBjdXJyZW50QXJlYSgpOiBBcmVhIHtcbiAgICByZXR1cm4gdGhpcy5fY3VycmVudEFyZWE7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBuZXh0IGFyZWEgdG8gZGlzcGxheSBmb3IgdGhlIGdhbWUgZW5naW5lXG4gICAqXG4gICAqIEBwYXJhbSBuZXh0QXJlYSBOZXh0IGFyZWEgdG8gZGlzcGxheVxuICAgKi9cbiAgcHVibGljIHNldEFyZWEobmV4dEFyZWE6IEFyZWFTdGF0ZSk6IHZvaWQge1xuICAgIGlmICh0aGlzLm5leHRBcmVhID09PSBudWxsKSB7XG4gICAgICB0aGlzLm5leHRBcmVhID0gbmV4dEFyZWE7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgYWJzb2x1dGUgd2lkdGggb2YgdGhlIGNhbnZhcyBpbiB0aGUgYnJvd3NlclxuICAgKi9cbiAgcHVibGljIGdldCBjYW52YXNXaWR0aCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmNhbnZhcy53aWR0aDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGFic29sdXRlIGhlaWdodCBvZiB0aGUgY2FudmFzIGluIHRoZSBicm93c2VyXG4gICAqL1xuICBwdWJsaWMgZ2V0IGNhbnZhc0hlaWdodCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmNhbnZhcy5oZWlnaHQ7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBhYnNvbHV0ZSB3aWR0aCBvZiB0aGUgb3ZlcmxheSBjYW52YXMgaW4gdGhlIGJyb3dzZXJcbiAgICovXG4gIHB1YmxpYyBnZXQgb3ZlcmxheVdpZHRoKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMub3ZlcmxheUNhbnZhcy53aWR0aDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGFic29sdXRlIGhlaWdodCBvZiB0aGUgb3ZlcmxheSBjYW52YXMgaW4gdGhlIGJyb3dzZXJcbiAgICovXG4gIHB1YmxpYyBnZXQgb3ZlcmxheUhlaWdodCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLm92ZXJsYXlDYW52YXMuaGVpZ2h0O1xuICB9XG5cbiAgLyoqXG4gICAqIFJ1biBhIHNpbmdsZSBnYW1lIHRpY2sgaW4gdGhlIGVuZ2luZVxuICAgKi9cbiAgcHJpdmF0ZSB0aWNrKCk6IHZvaWQge1xuICAgIHRoaXMucmVzaXplQ2FudmFzKCk7XG5cbiAgICAvLyBCdWlsZCB0aGUgbmV4dCBhcmVhXG4gICAgaWYgKHRoaXMubmV4dEFyZWEgIT09IG51bGwpIHtcbiAgICAgIHRoaXMuX2N1cnJlbnRBcmVhID0gbmV3IEFyZWEodGhpcywgdGhpcy5uZXh0QXJlYSk7XG4gICAgICB0aGlzLm5leHRBcmVhID0gbnVsbDtcbiAgICAgIHRoaXMuY3VycmVudEFyZWEuc3RhdGUub25DcmVhdGUodGhpcy5jdXJyZW50QXJlYSk7XG4gICAgfVxuXG4gICAgLy8gQXJlYSBhY3Rpb25zXG4gICAgdGhpcy5jdXJyZW50QXJlYS5fdGlja1RpbWVycygpO1xuICAgIHRoaXMuY3VycmVudEFyZWEuc3RhdGUub25TdGVwKCk7XG5cbiAgICAvLyBFbnRpdHkgYWN0aW9uc1xuICAgIHRoaXMuY3VycmVudEFyZWEuX2NyZWF0ZUVudGl0aWVzKCk7XG4gICAgdGhpcy5jdXJyZW50QXJlYS5fZGVzdHJveUVudGl0aWVzKCk7XG4gICAgdGhpcy5jdXJyZW50QXJlYS5fdGlja0VudGl0eVRpbWVycygpO1xuICAgIHRoaXMuY3VycmVudEFyZWEuX3N0ZXBFbnRpdGllcygpO1xuXG4gICAgLy8gRHJhdyBzY2VuZVxuICAgIHRoaXMuY3VycmVudEFyZWEuX2RyYXdTY2VuZSh0aGlzLnJlbmRlcmVyLCB0aGlzLm92ZXJsYXlDYW52YXMpO1xuXG4gICAgLy8gVXBkYXRlIGlucHV0XG4gICAgdGhpcy5pbnB1dC5fY2xlYXJLZXlUaWNrKCk7XG4gICAgdGhpcy5pbnB1dC5fdXBkYXRlR2FtZXBhZCgpO1xuICAgIHRoaXMuaW5wdXQuX2NsZWFyTW91c2VUaWNrKCk7XG5cbiAgICAvLyBLZWVwIHJ1bm5pbmc/XG4gICAgaWYgKHRoaXMucnVubmluZyA9PT0gdHJ1ZSkge1xuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMudGljay5iaW5kKHRoaXMpKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQXV0b21hdGljYWxseSByZXNpemUgdGhlIGNhbnZhcyBhbmQgdGhlIHJlbmRlcmVyIHRvIG1hdGNoIHRoZSBjb3JyZWN0IHNpemVcbiAgICovXG4gIHByaXZhdGUgcmVzaXplQ2FudmFzKCk6IHZvaWQge1xuICAgIGNvbnN0IFtkaXNwbGF5V2lkdGgsIGRpc3BsYXlIZWlnaHRdID1cbiAgICAgIHRoaXMuc2NyZWVuU2l6ZSA9PT0gbnVsbCA/IFt0aGlzLmNhbnZhcy5jbGllbnRXaWR0aCwgdGhpcy5jYW52YXMuY2xpZW50SGVpZ2h0XSA6IHRoaXMuc2NyZWVuU2l6ZTtcblxuICAgIC8vIE5vIG5lZWQgdG8gdXBkYXRlXG4gICAgaWYgKHRoaXMuY2FudmFzLndpZHRoID09PSBkaXNwbGF5V2lkdGggJiYgdGhpcy5jYW52YXMuaGVpZ2h0ID09PSBkaXNwbGF5SGVpZ2h0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5jYW52YXMud2lkdGggPSBkaXNwbGF5V2lkdGg7XG4gICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gZGlzcGxheUhlaWdodDtcbiAgICB0aGlzLnJlbmRlcmVyLnNldFNpemUoZGlzcGxheVdpZHRoLCBkaXNwbGF5SGVpZ2h0LCBmYWxzZSk7XG4gIH1cbn1cbiIsImltcG9ydCBhcGkgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIjtcbiAgICAgICAgICAgIGltcG9ydCBjb250ZW50IGZyb20gXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGVzLmNzc1wiO1xuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLmluc2VydCA9IFwiaGVhZFwiO1xub3B0aW9ucy5zaW5nbGV0b24gPSBmYWxzZTtcblxudmFyIHVwZGF0ZSA9IGFwaShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbmV4cG9ydCBkZWZhdWx0IGNvbnRlbnQubG9jYWxzIHx8IHt9OyIsImltcG9ydCB7IFRpdGxlQXJlYSB9IGZyb20gJ2FyZWFzL1RpdGxlQXJlYSc7XG5pbXBvcnQgeyBHYW1lIH0gZnJvbSAnZW5naW5lL2dhbWUnO1xuaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuaW1wb3J0ICcuL3N0eWxlcy5jc3MnO1xuXG4vLyBUZXh0dXJlc1xuaW1wb3J0IFNreWJveFBvc1ggZnJvbSAnYXNzZXRzL3NreWJveC9wb3N4LmpwZyc7XG5pbXBvcnQgU2t5Ym94TmVnWCBmcm9tICdhc3NldHMvc2t5Ym94L25lZ3guanBnJztcbmltcG9ydCBTa3lib3hQb3NZIGZyb20gJ2Fzc2V0cy9za3lib3gvcG9zeS5qcGcnO1xuaW1wb3J0IFNreWJveE5lZ1kgZnJvbSAnYXNzZXRzL3NreWJveC9uZWd5LmpwZyc7XG5pbXBvcnQgU2t5Ym94UG9zWiBmcm9tICdhc3NldHMvc2t5Ym94L3Bvc3ouanBnJztcbmltcG9ydCBTa3lib3hOZWdaIGZyb20gJ2Fzc2V0cy9za3lib3gvbmVnei5qcGcnO1xuaW1wb3J0IEdyYXNzQ29sb3IgZnJvbSAnYXNzZXRzL3RleHR1cmVzL2dyYXNzLWNvbG9yLnBuZyc7XG5pbXBvcnQgR3Jhc3NOcm0gZnJvbSAnYXNzZXRzL3RleHR1cmVzL2dyYXNzLW5vcm1hbC5wbmcnO1xuaW1wb3J0IEdyYXNzT2NjIGZyb20gJ2Fzc2V0cy90ZXh0dXJlcy9ncmFzcy1vY2MucG5nJztcbmltcG9ydCBCcmlja0NvbG9yIGZyb20gJ2Fzc2V0cy90ZXh0dXJlcy9icmljay1jb2xvci5qcGcnO1xuaW1wb3J0IEJyaWNrTnJtIGZyb20gJ2Fzc2V0cy90ZXh0dXJlcy9icmljay1ub3JtYWwuanBnJztcbmltcG9ydCBCcmlja09jYyBmcm9tICdhc3NldHMvdGV4dHVyZXMvYnJpY2stb2NjLmpwZyc7XG5cbi8vIE9iamVjdHNcbmltcG9ydCBXYWxsIGZyb20gJ2Fzc2V0cy9vYmplY3RzL1dhbGwuZ2xiJztcbmltcG9ydCBEb29yIGZyb20gJ2Fzc2V0cy9vYmplY3RzL0Rvb3IuZ2xiJztcbmltcG9ydCBUb2dnbGVEb29yIGZyb20gJ2Fzc2V0cy9vYmplY3RzL1RvZ2dsZURvb3IuZ2xiJztcbmltcG9ydCBFbGVjdHJpY0Rvb3IgZnJvbSAnYXNzZXRzL29iamVjdHMvRWxlY3RyaWNEb29yLmdsYic7XG5pbXBvcnQgS2V5IGZyb20gJ2Fzc2V0cy9vYmplY3RzL0tleS5nbGInO1xuaW1wb3J0IEJhdHRlcnkgZnJvbSAnYXNzZXRzL29iamVjdHMvQmF0dGVyeS5nbGInO1xuaW1wb3J0IExldmVyIGZyb20gJ2Fzc2V0cy9vYmplY3RzL0xldmVyLmdsYic7XG5pbXBvcnQgRWxlY3RyaWNCb3ggZnJvbSAnYXNzZXRzL29iamVjdHMvRWxlY3RyaWNCb3guZ2xiJztcbmltcG9ydCBSb2NrIGZyb20gJ2Fzc2V0cy9vYmplY3RzL1JvY2suZ2xiJztcbmltcG9ydCBEcm9uZSBmcm9tICdhc3NldHMvb2JqZWN0cy9Ecm9uZS5nbGInO1xuaW1wb3J0IEd1biBmcm9tICdhc3NldHMvb2JqZWN0cy9HdW4uZ2xiJztcbmltcG9ydCBNYXplTWFwIGZyb20gJ2Fzc2V0cy9vYmplY3RzL01hcC5nbGInO1xuaW1wb3J0IEV4cGxvc2lvbiBmcm9tICdhc3NldHMvb2JqZWN0cy9FeHBsb3Npb24uZ2xiJztcbmltcG9ydCBQb3J0YWwgZnJvbSAnYXNzZXRzL29iamVjdHMvUG9ydGFsLmdsYic7XG5cbi8vIEltYWdlc1xuaW1wb3J0IFJlZEtleSBmcm9tICdhc3NldHMvaW1hZ2VzL1JlZEtleS5wbmcnO1xuaW1wb3J0IFllbGxvd0tleSBmcm9tICdhc3NldHMvaW1hZ2VzL1llbGxvd0tleS5wbmcnO1xuaW1wb3J0IEdyZWVuS2V5IGZyb20gJ2Fzc2V0cy9pbWFnZXMvR3JlZW5LZXkucG5nJztcbmltcG9ydCBCbHVlS2V5IGZyb20gJ2Fzc2V0cy9pbWFnZXMvQmx1ZUtleS5wbmcnO1xuaW1wb3J0IEVuZXJneSBmcm9tICdhc3NldHMvaW1hZ2VzL0VuZXJneS5wbmcnO1xuaW1wb3J0IEJhdHRlcnlJY29uIGZyb20gJ2Fzc2V0cy9pbWFnZXMvQmF0dGVyeS5wbmcnO1xuaW1wb3J0IExldmVySWNvbiBmcm9tICdhc3NldHMvaW1hZ2VzL0xldmVyLnBuZyc7XG5pbXBvcnQgTGV2ZXJSZXZlcnNlSWNvbiBmcm9tICdhc3NldHMvaW1hZ2VzL0xldmVyUmV2ZXJzZS5wbmcnO1xuaW1wb3J0IEVsZWN0cmljQm94SWNvbiBmcm9tICdhc3NldHMvaW1hZ2VzL0VsZWN0cmljQm94LnBuZyc7XG5pbXBvcnQgR3VuSWNvbiBmcm9tICdhc3NldHMvaW1hZ2VzL0d1bi5wbmcnO1xuaW1wb3J0IE1hcEljb24gZnJvbSAnYXNzZXRzL2ltYWdlcy9NYXAucG5nJztcblxuLy8gU291bmRzXG5pbXBvcnQgUGxheWVyU2hvb3QgZnJvbSAnYXNzZXRzL3NvdW5kcy9wbGF5ZXItc2hvb3Qud2F2JztcbmltcG9ydCBEcm9uZVNob290IGZyb20gJ2Fzc2V0cy9zb3VuZHMvZHJvbmUtc2hvb3Qud2F2JztcbmltcG9ydCBIaXRPYmplY3QgZnJvbSAnYXNzZXRzL3NvdW5kcy9oaXQtb2JqZWN0Lndhdic7XG5pbXBvcnQgT29mIGZyb20gJ2Fzc2V0cy9zb3VuZHMvb29mLndhdic7XG5pbXBvcnQgQ29sbGVjdEl0ZW0gZnJvbSAnYXNzZXRzL3NvdW5kcy9jb2xsZWN0LWl0ZW0ud2F2JztcbmltcG9ydCBPcGVuRG9vciBmcm9tICdhc3NldHMvc291bmRzL29wZW4tZG9vci53YXYnO1xuaW1wb3J0IE9wZW5CaWdEb29yIGZyb20gJ2Fzc2V0cy9zb3VuZHMvb3Blbi1iaWctZG9vci53YXYnO1xuaW1wb3J0IFRvZ2dsZUxldmVyIGZyb20gJ2Fzc2V0cy9zb3VuZHMvdG9nZ2xlLWxldmVyLndhdic7XG5pbXBvcnQgRWxlY3RyaWNCb3hTb3VuZCBmcm9tICdhc3NldHMvc291bmRzL2VsZWN0cmljLWJveC53YXYnO1xuaW1wb3J0IEV4cGxvc2lvblNvdW5kIGZyb20gJ2Fzc2V0cy9zb3VuZHMvZXhwbG9zaW9uLndhdic7XG5pbXBvcnQgQWN0aXZhdGVQb3J0YWwgZnJvbSAnYXNzZXRzL3NvdW5kcy9hY3RpdmF0ZS1wb3J0YWwud2F2JztcbmltcG9ydCBFbnRlclBvcnRhbCBmcm9tICdhc3NldHMvc291bmRzL2VudGVyLXBvcnRhbC53YXYnO1xuXG4vLyBNdXNpY1xuaW1wb3J0IFRpdGxlTXVzaWMgZnJvbSAnYXNzZXRzL211c2ljL3RpdGxlLndhdic7XG5pbXBvcnQgSW50cm9NdXNpYyBmcm9tICdhc3NldHMvbXVzaWMvaW50cm8ud2F2JztcbmltcG9ydCBGb3Jlc3RBbWJpZW5jZSBmcm9tICdhc3NldHMvbXVzaWMvZm9yZXN0LWFtYmllbmNlLndhdic7XG5pbXBvcnQgSGVhcnRNb25pdG9yIGZyb20gJ2Fzc2V0cy9tdXNpYy9oZWFydC1tb25pdG9yLndhdic7XG5cbi8vIEJ1aWxkIHRoZSBjYW52YXMgb2JqZWN0c1xuY29uc3QgZ2FtZUNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChnYW1lQ2FudmFzKTtcblxuY29uc3Qgb3ZlcmxheUNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xub3ZlcmxheUNhbnZhcy5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgJzAnKTtcbm92ZXJsYXlDYW52YXMuY2xhc3NMaXN0LmFkZCgnb3ZlcmxheScpO1xuZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChvdmVybGF5Q2FudmFzKTtcblxuLy8gRHJhdyB0aGUgXCJsb2FkaW5nXCIgdGV4dFxub3ZlcmxheUNhbnZhcy53aWR0aCA9IG92ZXJsYXlDYW52YXMuY2xpZW50V2lkdGg7XG5vdmVybGF5Q2FudmFzLmhlaWdodCA9IG92ZXJsYXlDYW52YXMuY2xpZW50SGVpZ2h0O1xuY29uc3QgZzJkID0gb3ZlcmxheUNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuZzJkLmZvbnQgPSAnMTJwdCBzYW5zLXNlcmlmJztcbmcyZC5maWxsU3R5bGUgPSAnd2hpdGUnO1xuZzJkLnRleHRBbGlnbiA9ICdjZW50ZXInO1xuZzJkLnRleHRCYXNlbGluZSA9ICdtaWRkbGUnO1xuZzJkLmZpbGxUZXh0KCdMb2FkaW5nIGdhbWUuLi4nLCBvdmVybGF5Q2FudmFzLndpZHRoIC8gMiwgb3ZlcmxheUNhbnZhcy5oZWlnaHQgLyAyKTtcblxuY29uc3QgZ2FtZSA9IG5ldyBHYW1lKGdhbWVDYW52YXMsIG92ZXJsYXlDYW52YXMpO1xubG9hZEFsbEFzc2V0cyhnYW1lKVxuICAudGhlbigoZ2FtZSkgPT4ge1xuICAgIGdhbWUuc3RhcnQobmV3IFRpdGxlQXJlYSgpKTtcbiAgfSlcbiAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdGYWlsZWQgdG8gbG9hZCBhc3NldHM6ICcgKyBlcnJvciwgZXJyb3Iuc3RhY2spO1xuICB9KTtcblxuLyoqXG4gKiBMb2FkIGFsbCBvZiB0aGUgZ2FtZSBhc3NldHMgYXN5bmNocm9ub3VzbHlcbiAqL1xuYXN5bmMgZnVuY3Rpb24gbG9hZEFsbEFzc2V0cyhnYW1lOiBHYW1lKTogUHJvbWlzZTxHYW1lPiB7XG4gIGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICBnYW1lLmFzc2V0cy5sb2FkVGV4dHVyZSgnR3Jhc3NDb2xvcicsIEdyYXNzQ29sb3IpLFxuICAgIGdhbWUuYXNzZXRzLmxvYWRUZXh0dXJlKCdHcmFzc05vcm1hbCcsIEdyYXNzTnJtKSxcbiAgICBnYW1lLmFzc2V0cy5sb2FkVGV4dHVyZSgnR3Jhc3NPY2NsdXNpb24nLCBHcmFzc09jYyksXG4gICAgZ2FtZS5hc3NldHMubG9hZFRleHR1cmUoJ0JyaWNrQ29sb3InLCBCcmlja0NvbG9yKSxcbiAgICBnYW1lLmFzc2V0cy5sb2FkVGV4dHVyZSgnQnJpY2tOb3JtYWwnLCBCcmlja05ybSksXG4gICAgZ2FtZS5hc3NldHMubG9hZFRleHR1cmUoJ0JyaWNrT2NjbHVzaW9uJywgQnJpY2tPY2MpLFxuXG4gICAgZ2FtZS5hc3NldHMubG9hZEN1YmVUZXh0dXJlKCdTa3lib3hCRycsIHtcbiAgICAgIHBvc2l0aXZlWDogU2t5Ym94UG9zWCxcbiAgICAgIG5lZ2F0aXZlWDogU2t5Ym94TmVnWCxcbiAgICAgIHBvc2l0aXZlWTogU2t5Ym94UG9zWSxcbiAgICAgIG5lZ2F0aXZlWTogU2t5Ym94TmVnWSxcbiAgICAgIHBvc2l0aXZlWjogU2t5Ym94UG9zWixcbiAgICAgIG5lZ2F0aXZlWjogU2t5Ym94TmVnWixcbiAgICB9KSxcblxuICAgIGdhbWUuYXNzZXRzLmxvYWRHTFRGRmlsZShXYWxsLCAoZ2xiLCBtYW5hZ2VyKSA9PiB7XG4gICAgICBtYW5hZ2VyLnNhdmVPYmplY3QoJ1dhbGwnLCBnbGIuc2NlbmUuY2hpbGRyZW5bMF0pO1xuICAgIH0pLFxuICAgIGdhbWUuYXNzZXRzLmxvYWRHTFRGRmlsZShEb29yLCAoZ2xiLCBtYW5hZ2VyKSA9PiB7XG4gICAgICBtYW5hZ2VyLnNhdmVPYmplY3QoJ0Rvb3InLCBnbGIuc2NlbmUpO1xuICAgICAgZm9yIChjb25zdCBhbmltYXRpb24gb2YgZ2xiLmFuaW1hdGlvbnMpIHtcbiAgICAgICAgbWFuYWdlci5zYXZlQW5pbWF0aW9uKGFuaW1hdGlvbi5uYW1lLCBhbmltYXRpb24pO1xuICAgICAgfVxuXG4gICAgICAvLyBGaXggdGhlIG1hdGVyaWFsXG4gICAgICBhZGp1c3RFbWlzc2lvbihnbGIuc2NlbmUuY2hpbGRyZW5bMF0uY2hpbGRyZW5bMF0gYXMgVEhSRUUuTWVzaCwgMHg3MzczNzMsIDAuMjUpO1xuICAgICAgYWRqdXN0RW1pc3Npb24oZ2xiLnNjZW5lLmNoaWxkcmVuWzFdIGFzIFRIUkVFLk1lc2gsIDB4N2E2YzZjLCAwLjI1KTtcbiAgICAgIGFkanVzdEVtaXNzaW9uKGdsYi5zY2VuZS5jaGlsZHJlblsyXSBhcyBUSFJFRS5NZXNoLCAweDdhNmM2YywgMC4yNSk7XG4gICAgfSksXG4gICAgZ2FtZS5hc3NldHMubG9hZEdMVEZGaWxlKFRvZ2dsZURvb3IsIChnbGIsIG1hbmFnZXIpID0+IHtcbiAgICAgIG1hbmFnZXIuc2F2ZU9iamVjdCgnVG9nZ2xlRG9vcicsIGdsYi5zY2VuZSk7XG5cbiAgICAgIC8vIEZpeCB0aGUgbWF0ZXJpYWxcbiAgICAgIGFkanVzdEVtaXNzaW9uKGdsYi5zY2VuZS5jaGlsZHJlblswXS5jaGlsZHJlblswXSBhcyBUSFJFRS5NZXNoLCAweDczNzM3MywgMC4yNSk7XG4gICAgICBhZGp1c3RFbWlzc2lvbihnbGIuc2NlbmUuY2hpbGRyZW5bMF0uY2hpbGRyZW5bMV0gYXMgVEhSRUUuTWVzaCwgMHg2OTAwY2MsIDAuMjUpO1xuICAgICAgYWRqdXN0RW1pc3Npb24oZ2xiLnNjZW5lLmNoaWxkcmVuWzFdIGFzIFRIUkVFLk1lc2gsIDB4N2E2YzZjLCAwLjE1KTtcbiAgICAgIGFkanVzdEVtaXNzaW9uKGdsYi5zY2VuZS5jaGlsZHJlblsyXSBhcyBUSFJFRS5NZXNoLCAweDdhNmM2YywgMC4xNSk7XG4gICAgfSksXG4gICAgZ2FtZS5hc3NldHMubG9hZEdMVEZGaWxlKEVsZWN0cmljRG9vciwgKGdsYiwgbWFuYWdlcikgPT4ge1xuICAgICAgbWFuYWdlci5zYXZlT2JqZWN0KCdFbGVjdHJpY0Rvb3InLCBnbGIuc2NlbmUpO1xuXG4gICAgICAvLyBGaXggdGhlIG1hdGVyaWFsXG4gICAgICBhZGp1c3RFbWlzc2lvbihnbGIuc2NlbmUuY2hpbGRyZW5bMF0uY2hpbGRyZW5bMF0gYXMgVEhSRUUuTWVzaCwgMHhmZmZmMDAsIDAuMjUpO1xuICAgICAgYWRqdXN0RW1pc3Npb24oZ2xiLnNjZW5lLmNoaWxkcmVuWzFdIGFzIFRIUkVFLk1lc2gsIDB4ZmZmZmZmLCAwLjMpO1xuICAgICAgYWRqdXN0RW1pc3Npb24oZ2xiLnNjZW5lLmNoaWxkcmVuWzJdIGFzIFRIUkVFLk1lc2gsIDB4ZmZmZmZmLCAwLjMpO1xuICAgIH0pLFxuICAgIGdhbWUuYXNzZXRzLmxvYWRHTFRGRmlsZShMZXZlciwgKGdsYiwgbWFuYWdlcikgPT4ge1xuICAgICAgbWFuYWdlci5zYXZlT2JqZWN0KCdMZXZlcicsIGdsYi5zY2VuZS5jaGlsZHJlblswXSk7XG5cbiAgICAgIGZvciAoY29uc3QgYW5pbWF0aW9uIG9mIGdsYi5hbmltYXRpb25zKSB7XG4gICAgICAgIG1hbmFnZXIuc2F2ZUFuaW1hdGlvbihhbmltYXRpb24ubmFtZSwgYW5pbWF0aW9uKTtcbiAgICAgIH1cbiAgICB9KSxcbiAgICBnYW1lLmFzc2V0cy5sb2FkR0xURkZpbGUoS2V5LCAoZ2xiLCBtYW5hZ2VyKSA9PiB7XG4gICAgICBtYW5hZ2VyLnNhdmVPYmplY3QoJ0tleScsIGdsYi5zY2VuZS5jaGlsZHJlblswXSk7XG4gICAgfSksXG4gICAgZ2FtZS5hc3NldHMubG9hZEdMVEZGaWxlKEJhdHRlcnksIChnbGIsIG1hbmFnZXIpID0+IHtcbiAgICAgIG1hbmFnZXIuc2F2ZU9iamVjdCgnQmF0dGVyeScsIGdsYi5zY2VuZS5jaGlsZHJlblswXSk7XG4gICAgfSksXG4gICAgZ2FtZS5hc3NldHMubG9hZEdMVEZGaWxlKERyb25lLCAoZ2xiLCBtYW5hZ2VyKSA9PiB7XG4gICAgICBjb25zdCBkcm9uZSA9IGdsYi5zY2VuZS5jaGlsZHJlblswXTtcbiAgICAgIG1hbmFnZXIuc2F2ZU9iamVjdCgnRHJvbmUnLCBkcm9uZSk7XG5cbiAgICAgIGFkanVzdEVtaXNzaW9uKGRyb25lLmNoaWxkcmVuWzBdIGFzIFRIUkVFLk1lc2gsIDB4NzM3MzczLCAwLjUpO1xuICAgICAgYWRqdXN0RW1pc3Npb24oZHJvbmUuY2hpbGRyZW5bMl0gYXMgVEhSRUUuTWVzaCwgMHgyNzYwZjIsIDAuMjUpO1xuICAgIH0pLFxuICAgIGdhbWUuYXNzZXRzLmxvYWRHTFRGRmlsZShFbGVjdHJpY0JveCwgKGdsYiwgbWFuYWdlcikgPT4ge1xuICAgICAgY29uc3QgYm94ID0gZ2xiLnNjZW5lLmNoaWxkcmVuWzBdO1xuICAgICAgbWFuYWdlci5zYXZlT2JqZWN0KCdFbGVjdHJpY0JveCcsIGJveCk7XG5cbiAgICAgIGFkanVzdEVtaXNzaW9uKGJveC5jaGlsZHJlblswXSBhcyBUSFJFRS5NZXNoLCAweDg3ODc4NywgMC41KTtcblxuICAgICAgZm9yIChjb25zdCBhbmltYXRpb24gb2YgZ2xiLmFuaW1hdGlvbnMpIHtcbiAgICAgICAgbWFuYWdlci5zYXZlQW5pbWF0aW9uKGFuaW1hdGlvbi5uYW1lLCBhbmltYXRpb24pO1xuICAgICAgfVxuICAgIH0pLFxuICAgIGdhbWUuYXNzZXRzLmxvYWRHTFRGRmlsZShSb2NrLCAoZ2xiLCBtYW5hZ2VyKSA9PiB7XG4gICAgICBtYW5hZ2VyLnNhdmVPYmplY3QoJ1JvY2snLCBnbGIuc2NlbmUuY2hpbGRyZW5bMF0pO1xuICAgIH0pLFxuICAgIGdhbWUuYXNzZXRzLmxvYWRHTFRGRmlsZShHdW4sIChnbGIsIG1hbmFnZXIpID0+IHtcbiAgICAgIG1hbmFnZXIuc2F2ZU9iamVjdCgnR3VuJywgZ2xiLnNjZW5lKTtcbiAgICB9KSxcbiAgICBnYW1lLmFzc2V0cy5sb2FkR0xURkZpbGUoTWF6ZU1hcCwgKGdsYiwgbWFuYWdlcikgPT4ge1xuICAgICAgbWFuYWdlci5zYXZlT2JqZWN0KCdNYXAnLCBnbGIuc2NlbmUuY2hpbGRyZW5bMF0pO1xuICAgIH0pLFxuICAgIGdhbWUuYXNzZXRzLmxvYWRHTFRGRmlsZShFeHBsb3Npb24sIChnbGIsIG1hbmFnZXIpID0+IHtcbiAgICAgIGNvbnN0IGV4cGxvc2lvbiA9IGdsYi5zY2VuZS5jaGlsZHJlblswXSBhcyBUSFJFRS5NZXNoO1xuICAgICAgbWFuYWdlci5zYXZlT2JqZWN0KCdFeHBsb3Npb24nLCBleHBsb3Npb24pO1xuXG4gICAgICBjb25zdCBtYXRlcmlhbCA9IGV4cGxvc2lvbi5tYXRlcmlhbCBhcyBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbDtcbiAgICAgIG1hdGVyaWFsLnRyYW5zcGFyZW50ID0gdHJ1ZTtcbiAgICAgIG1hdGVyaWFsLm9wYWNpdHkgPSAwLjc1O1xuICAgIH0pLFxuICAgIGdhbWUuYXNzZXRzLmxvYWRHTFRGRmlsZShQb3J0YWwsIChnbGIsIG1hbmFnZXIpID0+IHtcbiAgICAgIG1hbmFnZXIuc2F2ZU9iamVjdCgnUG9ydGFsJywgZ2xiLnNjZW5lKTtcbiAgICAgIGZvciAoY29uc3QgYW5pbWF0aW9uIG9mIGdsYi5hbmltYXRpb25zKSB7XG4gICAgICAgIG1hbmFnZXIuc2F2ZUFuaW1hdGlvbihhbmltYXRpb24ubmFtZSwgYW5pbWF0aW9uKTtcbiAgICAgIH1cblxuICAgICAgLy8gRml4IHRoZSBwb3J0YWwgbWF0ZXJpYWxzXG4gICAgICBhZGp1c3RFbWlzc2lvbihnbGIuc2NlbmUuY2hpbGRyZW5bMV0gYXMgVEhSRUUuTWVzaCwgMHg1MTFmMWYsIDAuMjUpO1xuICAgICAgY29uc3QgbWF0ZXJpYWwgPSAoZ2xiLnNjZW5lLmNoaWxkcmVuWzJdIGFzIFRIUkVFLk1lc2gpLm1hdGVyaWFsIGFzIFRIUkVFLk1lc2hTdGFuZGFyZE1hdGVyaWFsO1xuICAgICAgbWF0ZXJpYWwudHJhbnNwYXJlbnQgPSB0cnVlO1xuICAgICAgbWF0ZXJpYWwub3BhY2l0eSA9IDAuODtcbiAgICB9KSxcblxuICAgIGdhbWUuYXNzZXRzLmxvYWRJbWFnZSgnUmVkS2V5JywgUmVkS2V5KSxcbiAgICBnYW1lLmFzc2V0cy5sb2FkSW1hZ2UoJ1llbGxvd0tleScsIFllbGxvd0tleSksXG4gICAgZ2FtZS5hc3NldHMubG9hZEltYWdlKCdHcmVlbktleScsIEdyZWVuS2V5KSxcbiAgICBnYW1lLmFzc2V0cy5sb2FkSW1hZ2UoJ0JsdWVLZXknLCBCbHVlS2V5KSxcbiAgICBnYW1lLmFzc2V0cy5sb2FkSW1hZ2UoJ0VuZXJneScsIEVuZXJneSksXG4gICAgZ2FtZS5hc3NldHMubG9hZEltYWdlKCdCYXR0ZXJ5JywgQmF0dGVyeUljb24pLFxuICAgIGdhbWUuYXNzZXRzLmxvYWRJbWFnZSgnTGV2ZXInLCBMZXZlckljb24pLFxuICAgIGdhbWUuYXNzZXRzLmxvYWRJbWFnZSgnTGV2ZXJSZXZlcnNlJywgTGV2ZXJSZXZlcnNlSWNvbiksXG4gICAgZ2FtZS5hc3NldHMubG9hZEltYWdlKCdFbGVjdHJpY0JveCcsIEVsZWN0cmljQm94SWNvbiksXG4gICAgZ2FtZS5hc3NldHMubG9hZEltYWdlKCdHdW4nLCBHdW5JY29uKSxcbiAgICBnYW1lLmFzc2V0cy5sb2FkSW1hZ2UoJ01hcCcsIE1hcEljb24pLFxuXG4gICAgZ2FtZS5hc3NldHMubG9hZEF1ZGlvRmlsZSgnUGxheWVyU2hvb3QnLCBQbGF5ZXJTaG9vdCksXG4gICAgZ2FtZS5hc3NldHMubG9hZEF1ZGlvRmlsZSgnRHJvbmVTaG9vdCcsIERyb25lU2hvb3QpLFxuICAgIGdhbWUuYXNzZXRzLmxvYWRBdWRpb0ZpbGUoJ0hpdE9iamVjdCcsIEhpdE9iamVjdCksXG4gICAgZ2FtZS5hc3NldHMubG9hZEF1ZGlvRmlsZSgnT29mJywgT29mKSxcbiAgICBnYW1lLmFzc2V0cy5sb2FkQXVkaW9GaWxlKCdDb2xsZWN0SXRlbScsIENvbGxlY3RJdGVtKSxcbiAgICBnYW1lLmFzc2V0cy5sb2FkQXVkaW9GaWxlKCdPcGVuRG9vcicsIE9wZW5Eb29yKSxcbiAgICBnYW1lLmFzc2V0cy5sb2FkQXVkaW9GaWxlKCdPcGVuQmlnRG9vcicsIE9wZW5CaWdEb29yKSxcbiAgICBnYW1lLmFzc2V0cy5sb2FkQXVkaW9GaWxlKCdUb2dnbGVMZXZlcicsIFRvZ2dsZUxldmVyKSxcbiAgICBnYW1lLmFzc2V0cy5sb2FkQXVkaW9GaWxlKCdFbGVjdHJpY0JveCcsIEVsZWN0cmljQm94U291bmQpLFxuICAgIGdhbWUuYXNzZXRzLmxvYWRBdWRpb0ZpbGUoJ0V4cGxvc2lvbicsIEV4cGxvc2lvblNvdW5kKSxcbiAgICBnYW1lLmFzc2V0cy5sb2FkQXVkaW9GaWxlKCdBY3RpdmF0ZVBvcnRhbCcsIEFjdGl2YXRlUG9ydGFsKSxcbiAgICBnYW1lLmFzc2V0cy5sb2FkQXVkaW9GaWxlKCdFbnRlclBvcnRhbCcsIEVudGVyUG9ydGFsKSxcblxuICAgIGdhbWUuYXNzZXRzLmxvYWRBdWRpb0ZpbGUoJ1RpdGxlJywgVGl0bGVNdXNpYyksXG4gICAgZ2FtZS5hc3NldHMubG9hZEF1ZGlvRmlsZSgnSW50cm8nLCBJbnRyb011c2ljKSxcbiAgICBnYW1lLmFzc2V0cy5sb2FkQXVkaW9GaWxlKCdGb3Jlc3RBbWJpZW5jZScsIEZvcmVzdEFtYmllbmNlKSxcbiAgICBnYW1lLmFzc2V0cy5sb2FkQXVkaW9GaWxlKCdIZWFydE1vbml0b3InLCBIZWFydE1vbml0b3IpLFxuICBdKTtcblxuICByZXR1cm4gZ2FtZTtcbn1cblxuZnVuY3Rpb24gYWRqdXN0RW1pc3Npb24obWVzaDogVEhSRUUuTWVzaCwgY29sb3I6IHN0cmluZyB8IG51bWJlciB8IFRIUkVFLkNvbG9yLCBpbnRlbnNpdHk6IG51bWJlcikge1xuICBjb25zdCBtYXRlcmlhbCA9IG1lc2gubWF0ZXJpYWwgYXMgVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWw7XG4gIG1hdGVyaWFsLmVtaXNzaXZlLnNldChjb2xvcik7XG4gIG1hdGVyaWFsLmVtaXNzaXZlSW50ZW5zaXR5ID0gaW50ZW5zaXR5O1xufVxuIiwiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9jc3NXaXRoTWFwcGluZ1RvU3RyaW5nLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgXCIqIHtcXG4gIG1hcmdpbjogMDtcXG4gIHBhZGRpbmc6IDA7XFxufVxcblxcbmJvZHksXFxuaHRtbCB7XFxuICBoZWlnaHQ6IDEwMCU7XFxufVxcblxcbmNhbnZhcyB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB3aWR0aDogMTAwJTtcXG4gIGhlaWdodDogMTAwJTtcXG59XFxuXFxuY2FudmFzLm92ZXJsYXkge1xcbiAgei1pbmRleDogMTA7XFxufVxcblwiLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL3NyYy9zdHlsZXMuY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUFBO0VBQ0UsU0FBUztFQUNULFVBQVU7QUFDWjs7QUFFQTs7RUFFRSxZQUFZO0FBQ2Q7O0FBRUE7RUFDRSxrQkFBa0I7RUFDbEIsV0FBVztFQUNYLFlBQVk7QUFDZDs7QUFFQTtFQUNFLFdBQVc7QUFDYlwiLFwic291cmNlc0NvbnRlbnRcIjpbXCIqIHtcXG4gIG1hcmdpbjogMDtcXG4gIHBhZGRpbmc6IDA7XFxufVxcblxcbmJvZHksXFxuaHRtbCB7XFxuICBoZWlnaHQ6IDEwMCU7XFxufVxcblxcbmNhbnZhcyB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB3aWR0aDogMTAwJTtcXG4gIGhlaWdodDogMTAwJTtcXG59XFxuXFxuY2FudmFzLm92ZXJsYXkge1xcbiAgei1pbmRleDogMTA7XFxufVxcblwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdGlkOiBtb2R1bGVJZCxcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuLy8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbl9fd2VicGFja19yZXF1aXJlX18ubSA9IF9fd2VicGFja19tb2R1bGVzX187XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIl9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiL1RyYXBwZWRJbnNpZGUvXCI7IiwiLy8gbm8gYmFzZVVSSVxuXG4vLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIGFuZCBsb2FkaW5nIGNodW5rc1xuLy8gdW5kZWZpbmVkID0gY2h1bmsgbm90IGxvYWRlZCwgbnVsbCA9IGNodW5rIHByZWxvYWRlZC9wcmVmZXRjaGVkXG4vLyBbcmVzb2x2ZSwgcmVqZWN0LCBQcm9taXNlXSA9IGNodW5rIGxvYWRpbmcsIDAgPSBjaHVuayBsb2FkZWRcbnZhciBpbnN0YWxsZWRDaHVua3MgPSB7XG5cdDE3OTogMFxufTtcblxuLy8gbm8gY2h1bmsgb24gZGVtYW5kIGxvYWRpbmdcblxuLy8gbm8gcHJlZmV0Y2hpbmdcblxuLy8gbm8gcHJlbG9hZGVkXG5cbi8vIG5vIEhNUlxuXG4vLyBubyBITVIgbWFuaWZlc3RcblxuX193ZWJwYWNrX3JlcXVpcmVfXy5PLmogPSAoY2h1bmtJZCkgPT4gKGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA9PT0gMCk7XG5cbi8vIGluc3RhbGwgYSBKU09OUCBjYWxsYmFjayBmb3IgY2h1bmsgbG9hZGluZ1xudmFyIHdlYnBhY2tKc29ucENhbGxiYWNrID0gKHBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uLCBkYXRhKSA9PiB7XG5cdHZhciBbY2h1bmtJZHMsIG1vcmVNb2R1bGVzLCBydW50aW1lXSA9IGRhdGE7XG5cdC8vIGFkZCBcIm1vcmVNb2R1bGVzXCIgdG8gdGhlIG1vZHVsZXMgb2JqZWN0LFxuXHQvLyB0aGVuIGZsYWcgYWxsIFwiY2h1bmtJZHNcIiBhcyBsb2FkZWQgYW5kIGZpcmUgY2FsbGJhY2tcblx0dmFyIG1vZHVsZUlkLCBjaHVua0lkLCBpID0gMDtcblx0Zm9yKG1vZHVsZUlkIGluIG1vcmVNb2R1bGVzKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcblx0XHRcdF9fd2VicGFja19yZXF1aXJlX18ubVttb2R1bGVJZF0gPSBtb3JlTW9kdWxlc1ttb2R1bGVJZF07XG5cdFx0fVxuXHR9XG5cdGlmKHJ1bnRpbWUpIHJ1bnRpbWUoX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cdGlmKHBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uKSBwYXJlbnRDaHVua0xvYWRpbmdGdW5jdGlvbihkYXRhKTtcblx0Zm9yKDtpIDwgY2h1bmtJZHMubGVuZ3RoOyBpKyspIHtcblx0XHRjaHVua0lkID0gY2h1bmtJZHNbaV07XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGluc3RhbGxlZENodW5rcywgY2h1bmtJZCkgJiYgaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdKSB7XG5cdFx0XHRpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF1bMF0oKTtcblx0XHR9XG5cdFx0aW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRzW2ldXSA9IDA7XG5cdH1cblx0X193ZWJwYWNrX3JlcXVpcmVfXy5PKCk7XG59XG5cbnZhciBjaHVua0xvYWRpbmdHbG9iYWwgPSBzZWxmW1wid2VicGFja0NodW5rZ2FtZV9lbmdpbmVcIl0gPSBzZWxmW1wid2VicGFja0NodW5rZ2FtZV9lbmdpbmVcIl0gfHwgW107XG5jaHVua0xvYWRpbmdHbG9iYWwuZm9yRWFjaCh3ZWJwYWNrSnNvbnBDYWxsYmFjay5iaW5kKG51bGwsIDApKTtcbmNodW5rTG9hZGluZ0dsb2JhbC5wdXNoID0gd2VicGFja0pzb25wQ2FsbGJhY2suYmluZChudWxsLCBjaHVua0xvYWRpbmdHbG9iYWwucHVzaC5iaW5kKGNodW5rTG9hZGluZ0dsb2JhbCkpOyIsIi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLy8gVGhpcyBlbnRyeSBtb2R1bGUgZGVwZW5kcyBvbiBvdGhlciBsb2FkZWQgY2h1bmtzIGFuZCBleGVjdXRpb24gbmVlZCB0byBiZSBkZWxheWVkXG52YXIgX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18uTyh1bmRlZmluZWQsIFs4MjZdLCAoKSA9PiAoX193ZWJwYWNrX3JlcXVpcmVfXyg1Mzk2KSkpXG5fX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXy5PKF9fd2VicGFja19leHBvcnRzX18pO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==